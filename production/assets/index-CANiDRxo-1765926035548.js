var w8=Object.defineProperty;var E8=(t,e,n)=>e in t?w8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Lb=(t,e,n)=>E8(t,typeof e!="symbol"?e+"":e,n);function x8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Sa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jb={exports:{}},Eh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RR;function T8(){if(RR)return Eh;RR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:a}}return Eh.Fragment=e,Eh.jsx=n,Eh.jsxs=n,Eh}var NR;function S8(){return NR||(NR=1,jb.exports=T8()),jb.exports}var A=S8(),Vb={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OR;function A8(){if(OR)return De;OR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=y&&z[y]||z["@@iterator"],typeof z=="function"?z:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,C={};function R(z,Y,le){this.props=z,this.context=Y,this.refs=C,this.updater=le||w}R.prototype.isReactComponent={},R.prototype.setState=function(z,Y){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Y,"setState")},R.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function M(){}M.prototype=R.prototype;function P(z,Y,le){this.props=z,this.context=Y,this.refs=C,this.updater=le||w}var q=P.prototype=new M;q.constructor=P,x(q,R.prototype),q.isPureReactComponent=!0;var F=Array.isArray;function $(){}var O={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function k(z,Y,le){var de=le.ref;return{$$typeof:t,type:z,key:Y,ref:de!==void 0?de:null,props:le}}function V(z,Y){return k(z.type,Y,z.props)}function D(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function B(z){var Y={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(le){return Y[le]})}var U=/\/+/g;function ye(z,Y){return typeof z=="object"&&z!==null&&z.key!=null?B(""+z.key):Y.toString(36)}function Te(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then($,$):(z.status="pending",z.then(function(Y){z.status==="pending"&&(z.status="fulfilled",z.value=Y)},function(Y){z.status==="pending"&&(z.status="rejected",z.reason=Y)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Z(z,Y,le,de,_e){var Ie=typeof z;(Ie==="undefined"||Ie==="boolean")&&(z=null);var je=!1;if(z===null)je=!0;else switch(Ie){case"bigint":case"string":case"number":je=!0;break;case"object":switch(z.$$typeof){case t:case e:je=!0;break;case m:return je=z._init,Z(je(z._payload),Y,le,de,_e)}}if(je)return _e=_e(z),je=de===""?"."+ye(z,0):de,F(_e)?(le="",je!=null&&(le=je.replace(U,"$&/")+"/"),Z(_e,Y,le,"",function(ke){return ke})):_e!=null&&(D(_e)&&(_e=V(_e,le+(_e.key==null||z&&z.key===_e.key?"":(""+_e.key).replace(U,"$&/")+"/")+je)),Y.push(_e)),1;je=0;var Ct=de===""?".":de+":";if(F(z))for(var ae=0;ae<z.length;ae++)de=z[ae],Ie=Ct+ye(de,ae),je+=Z(de,Y,le,Ie,_e);else if(ae=b(z),typeof ae=="function")for(z=ae.call(z),ae=0;!(de=z.next()).done;)de=de.value,Ie=Ct+ye(de,ae++),je+=Z(de,Y,le,Ie,_e);else if(Ie==="object"){if(typeof z.then=="function")return Z(Te(z),Y,le,de,_e);throw Y=String(z),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return je}function oe(z,Y,le){if(z==null)return z;var de=[],_e=0;return Z(z,de,"","",function(Ie){return Y.call(le,Ie,_e++)}),de}function ie(z){if(z._status===-1){var Y=z._result;Y=Y(),Y.then(function(le){(z._status===0||z._status===-1)&&(z._status=1,z._result=le)},function(le){(z._status===0||z._status===-1)&&(z._status=2,z._result=le)}),z._status===-1&&(z._status=0,z._result=Y)}if(z._status===1)return z._result.default;throw z._result}var J=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},me={map:oe,forEach:function(z,Y,le){oe(z,function(){Y.apply(this,arguments)},le)},count:function(z){var Y=0;return oe(z,function(){Y++}),Y},toArray:function(z){return oe(z,function(Y){return Y})||[]},only:function(z){if(!D(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return De.Activity=p,De.Children=me,De.Component=R,De.Fragment=n,De.Profiler=i,De.PureComponent=P,De.StrictMode=r,De.Suspense=f,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,De.__COMPILER_RUNTIME={__proto__:null,c:function(z){return O.H.useMemoCache(z)}},De.cache=function(z){return function(){return z.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(z,Y,le){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var de=x({},z.props),_e=z.key;if(Y!=null)for(Ie in Y.key!==void 0&&(_e=""+Y.key),Y)!L.call(Y,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&Y.ref===void 0||(de[Ie]=Y[Ie]);var Ie=arguments.length-2;if(Ie===1)de.children=le;else if(1<Ie){for(var je=Array(Ie),Ct=0;Ct<Ie;Ct++)je[Ct]=arguments[Ct+2];de.children=je}return k(z.type,_e,de)},De.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:a,_context:z},z},De.createElement=function(z,Y,le){var de,_e={},Ie=null;if(Y!=null)for(de in Y.key!==void 0&&(Ie=""+Y.key),Y)L.call(Y,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(_e[de]=Y[de]);var je=arguments.length-2;if(je===1)_e.children=le;else if(1<je){for(var Ct=Array(je),ae=0;ae<je;ae++)Ct[ae]=arguments[ae+2];_e.children=Ct}if(z&&z.defaultProps)for(de in je=z.defaultProps,je)_e[de]===void 0&&(_e[de]=je[de]);return k(z,Ie,_e)},De.createRef=function(){return{current:null}},De.forwardRef=function(z){return{$$typeof:c,render:z}},De.isValidElement=D,De.lazy=function(z){return{$$typeof:m,_payload:{_status:-1,_result:z},_init:ie}},De.memo=function(z,Y){return{$$typeof:h,type:z,compare:Y===void 0?null:Y}},De.startTransition=function(z){var Y=O.T,le={};O.T=le;try{var de=z(),_e=O.S;_e!==null&&_e(le,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then($,J)}catch(Ie){J(Ie)}finally{Y!==null&&le.types!==null&&(Y.types=le.types),O.T=Y}},De.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},De.use=function(z){return O.H.use(z)},De.useActionState=function(z,Y,le){return O.H.useActionState(z,Y,le)},De.useCallback=function(z,Y){return O.H.useCallback(z,Y)},De.useContext=function(z){return O.H.useContext(z)},De.useDebugValue=function(){},De.useDeferredValue=function(z,Y){return O.H.useDeferredValue(z,Y)},De.useEffect=function(z,Y){return O.H.useEffect(z,Y)},De.useEffectEvent=function(z){return O.H.useEffectEvent(z)},De.useId=function(){return O.H.useId()},De.useImperativeHandle=function(z,Y,le){return O.H.useImperativeHandle(z,Y,le)},De.useInsertionEffect=function(z,Y){return O.H.useInsertionEffect(z,Y)},De.useLayoutEffect=function(z,Y){return O.H.useLayoutEffect(z,Y)},De.useMemo=function(z,Y){return O.H.useMemo(z,Y)},De.useOptimistic=function(z,Y){return O.H.useOptimistic(z,Y)},De.useReducer=function(z,Y,le){return O.H.useReducer(z,Y,le)},De.useRef=function(z){return O.H.useRef(z)},De.useState=function(z){return O.H.useState(z)},De.useSyncExternalStore=function(z,Y,le){return O.H.useSyncExternalStore(z,Y,le)},De.useTransition=function(){return O.H.useTransition()},De.version="19.2.1",De}var PR;function Zc(){return PR||(PR=1,Vb.exports=A8()),Vb.exports}var T=Zc();const Rt=Sa(T),C8=x8({__proto__:null,default:Rt},[T]);var Ub={exports:{}},xh={},zb={exports:{}},Bb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kR;function I8(){return kR||(kR=1,(function(t){function e(Z,oe){var ie=Z.length;Z.push(oe);e:for(;0<ie;){var J=ie-1>>>1,me=Z[J];if(0<i(me,oe))Z[J]=oe,Z[ie]=me,ie=J;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var oe=Z[0],ie=Z.pop();if(ie!==oe){Z[0]=ie;e:for(var J=0,me=Z.length,z=me>>>1;J<z;){var Y=2*(J+1)-1,le=Z[Y],de=Y+1,_e=Z[de];if(0>i(le,ie))de<me&&0>i(_e,le)?(Z[J]=_e,Z[de]=ie,J=de):(Z[J]=le,Z[Y]=ie,J=Y);else if(de<me&&0>i(_e,ie))Z[J]=_e,Z[de]=ie,J=de;else break e}}return oe}function i(Z,oe){var ie=Z.sortIndex-oe.sortIndex;return ie!==0?ie:Z.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],h=[],m=1,p=null,y=3,b=!1,w=!1,x=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function q(Z){for(var oe=n(h);oe!==null;){if(oe.callback===null)r(h);else if(oe.startTime<=Z)r(h),oe.sortIndex=oe.expirationTime,e(f,oe);else break;oe=n(h)}}function F(Z){if(x=!1,q(Z),!w)if(n(f)!==null)w=!0,$||($=!0,B());else{var oe=n(h);oe!==null&&Te(F,oe.startTime-Z)}}var $=!1,O=-1,L=5,k=-1;function V(){return C?!0:!(t.unstable_now()-k<L)}function D(){if(C=!1,$){var Z=t.unstable_now();k=Z;var oe=!0;try{e:{w=!1,x&&(x=!1,M(O),O=-1),b=!0;var ie=y;try{t:{for(q(Z),p=n(f);p!==null&&!(p.expirationTime>Z&&V());){var J=p.callback;if(typeof J=="function"){p.callback=null,y=p.priorityLevel;var me=J(p.expirationTime<=Z);if(Z=t.unstable_now(),typeof me=="function"){p.callback=me,q(Z),oe=!0;break t}p===n(f)&&r(f),q(Z)}else r(f);p=n(f)}if(p!==null)oe=!0;else{var z=n(h);z!==null&&Te(F,z.startTime-Z),oe=!1}}break e}finally{p=null,y=ie,b=!1}oe=void 0}}finally{oe?B():$=!1}}}var B;if(typeof P=="function")B=function(){P(D)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ye=U.port2;U.port1.onmessage=D,B=function(){ye.postMessage(null)}}else B=function(){R(D,0)};function Te(Z,oe){O=R(function(){Z(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(Z){switch(y){case 1:case 2:case 3:var oe=3;break;default:oe=y}var ie=y;y=oe;try{return Z()}finally{y=ie}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(Z,oe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ie=y;y=Z;try{return oe()}finally{y=ie}},t.unstable_scheduleCallback=function(Z,oe,ie){var J=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?J+ie:J):ie=J,Z){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=ie+me,Z={id:m++,callback:oe,priorityLevel:Z,startTime:ie,expirationTime:me,sortIndex:-1},ie>J?(Z.sortIndex=ie,e(h,Z),n(f)===null&&Z===n(h)&&(x?(M(O),O=-1):x=!0,Te(F,ie-J))):(Z.sortIndex=me,e(f,Z),w||b||(w=!0,$||($=!0,B()))),Z},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(Z){var oe=y;return function(){var ie=y;y=oe;try{return Z.apply(this,arguments)}finally{y=ie}}}})(Bb)),Bb}var MR;function R8(){return MR||(MR=1,zb.exports=I8()),zb.exports}var Fb={exports:{}},Jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DR;function N8(){if(DR)return Jn;DR=1;var t=Zc();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(f,h,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:f,containerInfo:h,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Jn.createPortal=function(f,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(f,h,null,m)},Jn.flushSync=function(f){var h=l.T,m=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=m,r.d.f()}},Jn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},Jn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Jn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var m=h.as,p=c(m,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:b}):m==="script"&&r.d.X(f,{crossOrigin:p,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Jn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},Jn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,p=c(m,h.crossOrigin);r.d.L(f,m,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Jn.preloadModule=function(f,h){if(typeof f=="string")if(h){var m=c(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},Jn.requestFormReset=function(f){r.d.r(f)},Jn.unstable_batchedUpdates=function(f,h){return f(h)},Jn.useFormState=function(f,h,m){return l.H.useFormState(f,h,m)},Jn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Jn.version="19.2.1",Jn}var LR;function VM(){if(LR)return Fb.exports;LR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fb.exports=N8(),Fb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jR;function O8(){if(jR)return xh;jR=1;var t=R8(),e=Zc(),n=VM();function r(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function c(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function f(s){if(a(s)!==s)throw Error(r(188))}function h(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(r(188));return o!==s?null:s}for(var u=s,d=o;;){var v=u.return;if(v===null)break;var _=v.alternate;if(_===null){if(d=v.return,d!==null){u=d;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===u)return f(v),s;if(_===d)return f(v),o;_=_.sibling}throw Error(r(188))}if(u.return!==d.return)u=v,d=_;else{for(var S=!1,N=v.child;N;){if(N===u){S=!0,u=v,d=_;break}if(N===d){S=!0,d=v,u=_;break}N=N.sibling}if(!S){for(N=_.child;N;){if(N===u){S=!0,u=_,d=v;break}if(N===d){S=!0,d=_,u=v;break}N=N.sibling}if(!S)throw Error(r(189))}}if(u.alternate!==d)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:o}function m(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=m(s),o!==null)return o;s=s.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),P=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function B(s){return s===null||typeof s!="object"?null:(s=D&&s[D]||s["@@iterator"],typeof s=="function"?s:null)}var U=Symbol.for("react.client.reference");function ye(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===U?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case x:return"Fragment";case R:return"Profiler";case C:return"StrictMode";case F:return"Suspense";case $:return"SuspenseList";case k:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case P:return s.displayName||"Context";case M:return(s._context.displayName||"Context")+".Consumer";case q:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case O:return o=s.displayName||null,o!==null?o:ye(s.type)||"Memo";case L:o=s._payload,s=s._init;try{return ye(s(o))}catch{}}return null}var Te=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},J=[],me=-1;function z(s){return{current:s}}function Y(s){0>me||(s.current=J[me],J[me]=null,me--)}function le(s,o){me++,J[me]=s.current,s.current=o}var de=z(null),_e=z(null),Ie=z(null),je=z(null);function Ct(s,o){switch(le(Ie,o),le(_e,s),le(de,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?ZI(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=ZI(o),s=JI(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Y(de),le(de,s)}function ae(){Y(de),Y(_e),Y(Ie)}function ke(s){s.memoizedState!==null&&le(je,s);var o=de.current,u=JI(o,s.type);o!==u&&(le(_e,s),le(de,u))}function ze(s){_e.current===s&&(Y(de),Y(_e)),je.current===s&&(Y(je),yh._currentValue=ie)}var pe,Gt;function $e(s){if(pe===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);pe=o&&o[1]||"",Gt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+s+Gt}var vn=!1;function Kt(s,o){if(!s||vn)return"";vn=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ne){var ee=ne}Reflect.construct(s,[],ce)}else{try{ce.call()}catch(ne){ee=ne}s.call(ce.prototype)}}else{try{throw Error()}catch(ne){ee=ne}(ce=s())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ne){if(ne&&ee&&typeof ne.stack=="string")return[ne.stack,ee.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=d.DetermineComponentFrameRoot(),S=_[0],N=_[1];if(S&&N){var H=S.split(`
`),X=N.split(`
`);for(v=d=0;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;for(;v<X.length&&!X[v].includes("DetermineComponentFrameRoot");)v++;if(d===H.length||v===X.length)for(d=H.length-1,v=X.length-1;1<=d&&0<=v&&H[d]!==X[v];)v--;for(;1<=d&&0<=v;d--,v--)if(H[d]!==X[v]){if(d!==1||v!==1)do if(d--,v--,0>v||H[d]!==X[v]){var se=`
`+H[d].replace(" at new "," at ");return s.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",s.displayName)),se}while(1<=d&&0<=v);break}}}finally{vn=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?$e(u):""}function Rr(s,o){switch(s.tag){case 26:case 27:case 5:return $e(s.type);case 16:return $e("Lazy");case 13:return s.child!==o&&o!==null?$e("Suspense Fallback"):$e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return Kt(s.type,!1);case 11:return Kt(s.type.render,!1);case 1:return Kt(s.type,!0);case 31:return $e("Activity");default:return""}}function Ma(s){try{var o="",u=null;do o+=Rr(s,u),u=s,s=s.return;while(s);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var nn=Object.prototype.hasOwnProperty,yn=t.unstable_scheduleCallback,Da=t.unstable_cancelCallback,V_=t.unstable_shouldYield,Im=t.unstable_requestPaint,or=t.unstable_now,tl=t.unstable_getCurrentPriorityLevel,wf=t.unstable_ImmediatePriority,Ef=t.unstable_UserBlockingPriority,La=t.unstable_NormalPriority,U_=t.unstable_LowPriority,Rm=t.unstable_IdlePriority,Nm=t.log,Om=t.unstable_setDisableYieldValue,_i=null,zn=null;function Kr(s){if(typeof Nm=="function"&&Om(s),zn&&typeof zn.setStrictMode=="function")try{zn.setStrictMode(_i,s)}catch{}}var Yt=Math.clz32?Math.clz32:km,Pm=Math.log,vu=Math.LN2;function km(s){return s>>>=0,s===0?32:31-(Pm(s)/vu|0)|0}var Yi=256,nl=262144,rn=4194304;function Wi(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Qi(s,o,u){var d=s.pendingLanes;if(d===0)return 0;var v=0,_=s.suspendedLanes,S=s.pingedLanes;s=s.warmLanes;var N=d&134217727;return N!==0?(d=N&~_,d!==0?v=Wi(d):(S&=N,S!==0?v=Wi(S):u||(u=N&~s,u!==0&&(v=Wi(u))))):(N=d&~_,N!==0?v=Wi(N):S!==0?v=Wi(S):u||(u=d&~s,u!==0&&(v=Wi(u)))),v===0?0:o!==0&&o!==v&&(o&_)===0&&(_=v&-v,u=o&-o,_>=u||_===32&&(u&4194048)!==0)?o:v}function bi(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function z_(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mm(){var s=rn;return rn<<=1,(rn&62914560)===0&&(rn=4194304),s}function Xi(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function rl(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function B_(s,o,u,d,v,_){var S=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var N=s.entanglements,H=s.expirationTimes,X=s.hiddenUpdates;for(u=S&~u;0<u;){var se=31-Yt(u),ce=1<<se;N[se]=0,H[se]=-1;var ee=X[se];if(ee!==null)for(X[se]=null,se=0;se<ee.length;se++){var ne=ee[se];ne!==null&&(ne.lane&=-536870913)}u&=~ce}d!==0&&il(s,d,0),_!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=_&~(S&~o))}function il(s,o,u){s.pendingLanes|=o,s.suspendedLanes&=~o;var d=31-Yt(o);s.entangledLanes|=o,s.entanglements[d]=s.entanglements[d]|1073741824|u&261930}function xf(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var d=31-Yt(u),v=1<<d;v&o|s[d]&o&&(s[d]|=o),u&=~v}}function Tf(s,o){var u=o&-o;return u=(u&42)!==0?1:sl(u),(u&(s.suspendedLanes|o))!==0?0:u}function sl(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ds(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Dm(){var s=oe.p;return s!==0?s:(s=window.event,s===void 0?32:ER(s.type))}function wi(s,o){var u=oe.p;try{return oe.p=s,o()}finally{oe.p=u}}var Ei=Math.random().toString(36).slice(2),sn="__reactFiber$"+Ei,Rn="__reactProps$"+Ei,Zi="__reactContainer$"+Ei,yu="__reactEvents$"+Ei,F_="__reactListeners$"+Ei,Lm="__reactHandles$"+Ei,jm="__reactResources$"+Ei,Ji="__reactMarker$"+Ei;function _u(s){delete s[sn],delete s[Rn],delete s[yu],delete s[F_],delete s[Lm]}function es(s){var o=s[sn];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Zi]||u[sn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=aR(s);s!==null;){if(u=s[sn])return u;s=aR(s)}return o}s=u,u=s.parentNode}return null}function Yr(s){if(s=s[sn]||s[Zi]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function Nr(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(r(33))}function ts(s){var o=s[jm];return o||(o=s[jm]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function an(s){s[Ji]=!0}var Sf=new Set,Af={};function ns(s,o){rs(s,o),rs(s+"Capture",o)}function rs(s,o){for(Af[s]=o,s=0;s<o.length;s++)Sf.add(o[s])}var Cf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),If={},Rf={};function Vm(s){return nn.call(Rf,s)?!0:nn.call(If,s)?!1:Cf.test(s)?Rf[s]=!0:(If[s]=!0,!1)}function bu(s,o,u){if(Vm(o))if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+u)}}function Or(s,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+u)}}function on(s,o,u,d){if(d===null)s.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(o,u,""+d)}}function Nn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ja(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Nf(s,o,u){var d=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,_=d.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return v.call(this)},set:function(S){u=""+S,_.call(this,S)}}),Object.defineProperty(s,o,{enumerable:d.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function dt(s){if(!s._valueTracker){var o=ja(s)?"checked":"value";s._valueTracker=Nf(s,o,""+s[o])}}function al(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return s&&(d=ja(s)?s.checked?"true":"false":s.value),s=d,s!==u?(o.setValue(s),!0):!1}function is(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ol=/[\n"\\]/g;function gr(s){return s.replace(ol,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function wu(s,o,u,d,v,_,S,N){s.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.type=S:s.removeAttribute("type"),o!=null?S==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Nn(o)):s.value!==""+Nn(o)&&(s.value=""+Nn(o)):S!=="submit"&&S!=="reset"||s.removeAttribute("value"),o!=null?Of(s,S,Nn(o)):u!=null?Of(s,S,Nn(u)):d!=null&&s.removeAttribute("value"),v==null&&_!=null&&(s.defaultChecked=!!_),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?s.name=""+Nn(N):s.removeAttribute("name")}function Um(s,o,u,d,v,_,S,N){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),o!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||o!=null)){dt(s);return}u=u!=null?""+Nn(u):"",o=o!=null?""+Nn(o):u,N||o===s.value||(s.value=o),s.defaultValue=o}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=N?s.checked:!!d,s.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.name=S),dt(s)}function Of(s,o,u){o==="number"&&is(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Va(s,o,u,d){if(s=s.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<s.length;u++)v=o.hasOwnProperty("$"+s[u].value),s[u].selected!==v&&(s[u].selected=v),v&&d&&(s[u].defaultSelected=!0)}else{for(u=""+Nn(u),o=null,v=0;v<s.length;v++){if(s[v].value===u){s[v].selected=!0,d&&(s[v].defaultSelected=!0);return}o!==null||s[v].disabled||(o=s[v])}o!==null&&(o.selected=!0)}}function zm(s,o,u){if(o!=null&&(o=""+Nn(o),o!==s.value&&(s.value=o),u==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=u!=null?""+Nn(u):""}function Ua(s,o,u,d){if(o==null){if(d!=null){if(u!=null)throw Error(r(92));if(Te(d)){if(1<d.length)throw Error(r(93));d=d[0]}u=d}u==null&&(u=""),o=u}u=Nn(o),s.defaultValue=u,d=s.textContent,d===u&&d!==""&&d!==null&&(s.value=d),dt(s)}function vr(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var Bm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pf(s,o,u){var d=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":d?s.setProperty(o,u):typeof u!="number"||u===0||Bm.has(o)?o==="float"?s.cssFloat=u:s[o]=(""+u).trim():s[o]=u+"px"}function kf(s,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(s=s.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var v in o)d=o[v],o.hasOwnProperty(v)&&u[v]!==d&&Pf(s,v,d)}else for(var _ in o)o.hasOwnProperty(_)&&Pf(s,_,o[_])}function Eu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),za=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xu(s){return za.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function xi(){}var Mf=null;function Wr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ba=null,ss=null;function ll(s){var o=Yr(s);if(o&&(s=o.stateNode)){var u=s[Rn]||null;e:switch(s=o.stateNode,o.type){case"input":if(wu(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+gr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==s&&d.form===s.form){var v=d[Rn]||null;if(!v)throw Error(r(90));wu(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)d=u[o],d.form===s.form&&al(d)}break e;case"textarea":zm(s,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Va(s,!!u.multiple,o,!1)}}}var Tu=!1;function Fa(s,o,u){if(Tu)return s(o,u);Tu=!0;try{var d=s(o);return d}finally{if(Tu=!1,(Ba!==null||ss!==null)&&(Dp(),Ba&&(o=Ba,s=ss,ss=Ba=null,ll(o),s)))for(o=0;o<s.length;o++)ll(s[o])}}function Ti(s,o){var u=s.stateNode;if(u===null)return null;var d=u[Rn]||null;if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ul=!1;if(Qr)try{var _t={};Object.defineProperty(_t,"passive",{get:function(){ul=!0}}),window.addEventListener("test",_t,_t),window.removeEventListener("test",_t,_t)}catch{ul=!1}var as=null,Df=null,cl=null;function Lf(){if(cl)return cl;var s,o=Df,u=o.length,d,v="value"in as?as.value:as.textContent,_=v.length;for(s=0;s<u&&o[s]===v[s];s++);var S=u-s;for(d=1;d<=S&&o[u-d]===v[_-d];d++);return cl=v.slice(s,1<d?1-d:void 0)}function fl(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Ls(){return!0}function Si(){return!1}function Bn(s){function o(u,d,v,_,S){this._reactName=u,this._targetInst=v,this.type=d,this.nativeEvent=_,this.target=S,this.currentTarget=null;for(var N in s)s.hasOwnProperty(N)&&(u=s[N],this[N]=u?u(_):_[N]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ls:Si,this.isPropagationStopped=Si,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ls)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ls)},persist:function(){},isPersistent:Ls}),o}var js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},os=Bn(js),qa=p({},js,{view:0,detail:0}),jf=Bn(qa),Ha,Su,ls,Au=p({},qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$a,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ls&&(ls&&s.type==="mousemove"?(Ha=s.screenX-ls.screenX,Su=s.screenY-ls.screenY):Su=Ha=0,ls=s),Ha)},movementY:function(s){return"movementY"in s?s.movementY:Su}}),Vf=Bn(Au),hl=p({},Au,{dataTransfer:0}),qm=Bn(hl),Hm=p({},qa,{relatedTarget:0}),dl=Bn(Hm),Uf=p({},js,{animationName:0,elapsedTime:0,pseudoElement:0}),$m=Bn(Uf),Cu=p({},js,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Gm=Bn(Cu),Km=p({},js,{data:0}),us=Bn(Km),Ym={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xm(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Qm[s])?!!o[s]:!1}function $a(){return Xm}var lr=p({},qa,{key:function(s){if(s.key){var o=Ym[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=fl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Wm[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$a,charCode:function(s){return s.type==="keypress"?fl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?fl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Zm=Bn(lr),Jm=p({},Au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vs=Bn(Jm),g=p({},qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$a}),E=Bn(g),I=p({},js,{propertyName:0,elapsedTime:0,pseudoElement:0}),j=Bn(I),W=p({},Au,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),te=Bn(W),ve=p({},js,{newState:0,oldState:0}),Ve=Bn(ve),Wt=[9,13,27,32],ct=Qr&&"CompositionEvent"in window,Lt=null;Qr&&"documentMode"in document&&(Lt=document.documentMode);var Xr=Qr&&"TextEvent"in window&&!Lt,cs=Qr&&(!ct||Lt&&8<Lt&&11>=Lt),Ai=" ",Ci=!1;function ml(s,o){switch(s){case"keyup":return Wt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Iu(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ru=!1;function $U(s,o){switch(s){case"compositionend":return Iu(o);case"keypress":return o.which!==32?null:(Ci=!0,Ai);case"textInput":return s=o.data,s===Ai&&Ci?null:s;default:return null}}function GU(s,o){if(Ru)return s==="compositionend"||!ct&&ml(s,o)?(s=Lf(),cl=Df=as=null,Ru=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return cs&&o.locale!=="ko"?null:o.data;default:return null}}var KU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uA(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!KU[s.type]:o==="textarea"}function cA(s,o,u,d){Ba?ss?ss.push(d):ss=[d]:Ba=d,o=Fp(o,"onChange"),0<o.length&&(u=new os("onChange","change",null,u,d),s.push({event:u,listeners:o}))}var zf=null,Bf=null;function YU(s){GI(s,0)}function ep(s){var o=Nr(s);if(al(o))return s}function fA(s,o){if(s==="change")return o}var hA=!1;if(Qr){var q_;if(Qr){var H_="oninput"in document;if(!H_){var dA=document.createElement("div");dA.setAttribute("oninput","return;"),H_=typeof dA.oninput=="function"}q_=H_}else q_=!1;hA=q_&&(!document.documentMode||9<document.documentMode)}function mA(){zf&&(zf.detachEvent("onpropertychange",pA),Bf=zf=null)}function pA(s){if(s.propertyName==="value"&&ep(Bf)){var o=[];cA(o,Bf,s,Wr(s)),Fa(YU,o)}}function WU(s,o,u){s==="focusin"?(mA(),zf=o,Bf=u,zf.attachEvent("onpropertychange",pA)):s==="focusout"&&mA()}function QU(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ep(Bf)}function XU(s,o){if(s==="click")return ep(o)}function ZU(s,o){if(s==="input"||s==="change")return ep(o)}function JU(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Pr=typeof Object.is=="function"?Object.is:JU;function Ff(s,o){if(Pr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var v=u[d];if(!nn.call(o,v)||!Pr(s[v],o[v]))return!1}return!0}function gA(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function vA(s,o){var u=gA(s);s=0;for(var d;u;){if(u.nodeType===3){if(d=s+u.textContent.length,s<=o&&d>=o)return{node:u,offset:o-s};s=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=gA(u)}}function yA(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?yA(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function _A(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=is(s.document);o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=is(s.document)}return o}function $_(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var ez=Qr&&"documentMode"in document&&11>=document.documentMode,Nu=null,G_=null,qf=null,K_=!1;function bA(s,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;K_||Nu==null||Nu!==is(d)||(d=Nu,"selectionStart"in d&&$_(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),qf&&Ff(qf,d)||(qf=d,d=Fp(G_,"onSelect"),0<d.length&&(o=new os("onSelect","select",null,o,u),s.push({event:o,listeners:d}),o.target=Nu)))}function pl(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Ou={animationend:pl("Animation","AnimationEnd"),animationiteration:pl("Animation","AnimationIteration"),animationstart:pl("Animation","AnimationStart"),transitionrun:pl("Transition","TransitionRun"),transitionstart:pl("Transition","TransitionStart"),transitioncancel:pl("Transition","TransitionCancel"),transitionend:pl("Transition","TransitionEnd")},Y_={},wA={};Qr&&(wA=document.createElement("div").style,"AnimationEvent"in window||(delete Ou.animationend.animation,delete Ou.animationiteration.animation,delete Ou.animationstart.animation),"TransitionEvent"in window||delete Ou.transitionend.transition);function gl(s){if(Y_[s])return Y_[s];if(!Ou[s])return s;var o=Ou[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in wA)return Y_[s]=o[u];return s}var EA=gl("animationend"),xA=gl("animationiteration"),TA=gl("animationstart"),tz=gl("transitionrun"),nz=gl("transitionstart"),rz=gl("transitioncancel"),SA=gl("transitionend"),AA=new Map,W_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");W_.push("scrollEnd");function Ii(s,o){AA.set(s,o),ns(o,[s])}var tp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Zr=[],Pu=0,Q_=0;function np(){for(var s=Pu,o=Q_=Pu=0;o<s;){var u=Zr[o];Zr[o++]=null;var d=Zr[o];Zr[o++]=null;var v=Zr[o];Zr[o++]=null;var _=Zr[o];if(Zr[o++]=null,d!==null&&v!==null){var S=d.pending;S===null?v.next=v:(v.next=S.next,S.next=v),d.pending=v}_!==0&&CA(u,v,_)}}function rp(s,o,u,d){Zr[Pu++]=s,Zr[Pu++]=o,Zr[Pu++]=u,Zr[Pu++]=d,Q_|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function X_(s,o,u,d){return rp(s,o,u,d),ip(s)}function vl(s,o){return rp(s,null,null,o),ip(s)}function CA(s,o,u){s.lanes|=u;var d=s.alternate;d!==null&&(d.lanes|=u);for(var v=!1,_=s.return;_!==null;)_.childLanes|=u,d=_.alternate,d!==null&&(d.childLanes|=u),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(v=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,v&&o!==null&&(v=31-Yt(u),s=_.hiddenUpdates,d=s[v],d===null?s[v]=[o]:d.push(o),o.lane=u|536870912),_):null}function ip(s){if(50<fh)throw fh=0,ab=null,Error(r(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var ku={};function iz(s,o,u,d){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kr(s,o,u,d){return new iz(s,o,u,d)}function Z_(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Us(s,o){var u=s.alternate;return u===null?(u=kr(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function IA(s,o){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,o=u.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function sp(s,o,u,d,v,_){var S=0;if(d=s,typeof s=="function")Z_(s)&&(S=1);else if(typeof s=="string")S=u8(s,u,de.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case k:return s=kr(31,u,o,v),s.elementType=k,s.lanes=_,s;case x:return yl(u.children,v,_,o);case C:S=8,v|=24;break;case R:return s=kr(12,u,o,v|2),s.elementType=R,s.lanes=_,s;case F:return s=kr(13,u,o,v),s.elementType=F,s.lanes=_,s;case $:return s=kr(19,u,o,v),s.elementType=$,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case P:S=10;break e;case M:S=9;break e;case q:S=11;break e;case O:S=14;break e;case L:S=16,d=null;break e}S=29,u=Error(r(130,s===null?"null":typeof s,"")),d=null}return o=kr(S,u,o,v),o.elementType=s,o.type=d,o.lanes=_,o}function yl(s,o,u,d){return s=kr(7,s,d,o),s.lanes=u,s}function J_(s,o,u){return s=kr(6,s,null,o),s.lanes=u,s}function RA(s){var o=kr(18,null,null,0);return o.stateNode=s,o}function e0(s,o,u){return o=kr(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var NA=new WeakMap;function Jr(s,o){if(typeof s=="object"&&s!==null){var u=NA.get(s);return u!==void 0?u:(o={value:s,source:o,stack:Ma(o)},NA.set(s,o),o)}return{value:s,source:o,stack:Ma(o)}}var Mu=[],Du=0,ap=null,Hf=0,ei=[],ti=0,Ga=null,fs=1,hs="";function zs(s,o){Mu[Du++]=Hf,Mu[Du++]=ap,ap=s,Hf=o}function OA(s,o,u){ei[ti++]=fs,ei[ti++]=hs,ei[ti++]=Ga,Ga=s;var d=fs;s=hs;var v=32-Yt(d)-1;d&=~(1<<v),u+=1;var _=32-Yt(o)+v;if(30<_){var S=v-v%5;_=(d&(1<<S)-1).toString(32),d>>=S,v-=S,fs=1<<32-Yt(o)+v|u<<v|d,hs=_+s}else fs=1<<_|u<<v|d,hs=s}function t0(s){s.return!==null&&(zs(s,1),OA(s,1,0))}function n0(s){for(;s===ap;)ap=Mu[--Du],Mu[Du]=null,Hf=Mu[--Du],Mu[Du]=null;for(;s===Ga;)Ga=ei[--ti],ei[ti]=null,hs=ei[--ti],ei[ti]=null,fs=ei[--ti],ei[ti]=null}function PA(s,o){ei[ti++]=fs,ei[ti++]=hs,ei[ti++]=Ga,fs=o.id,hs=o.overflow,Ga=s}var Fn=null,Pt=null,rt=!1,Ka=null,ni=!1,r0=Error(r(519));function Ya(s){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $f(Jr(o,s)),r0}function kA(s){var o=s.stateNode,u=s.type,d=s.memoizedProps;switch(o[sn]=s,o[Rn]=d,u){case"dialog":Ke("cancel",o),Ke("close",o);break;case"iframe":case"object":case"embed":Ke("load",o);break;case"video":case"audio":for(u=0;u<dh.length;u++)Ke(dh[u],o);break;case"source":Ke("error",o);break;case"img":case"image":case"link":Ke("error",o),Ke("load",o);break;case"details":Ke("toggle",o);break;case"input":Ke("invalid",o),Um(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Ke("invalid",o);break;case"textarea":Ke("invalid",o),Ua(o,d.value,d.defaultValue,d.children)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||d.suppressHydrationWarning===!0||QI(o.textContent,u)?(d.popover!=null&&(Ke("beforetoggle",o),Ke("toggle",o)),d.onScroll!=null&&Ke("scroll",o),d.onScrollEnd!=null&&Ke("scrollend",o),d.onClick!=null&&(o.onclick=xi),o=!0):o=!1,o||Ya(s,!0)}function MA(s){for(Fn=s.return;Fn;)switch(Fn.tag){case 5:case 31:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:Fn=Fn.return}}function Lu(s){if(s!==Fn)return!1;if(!rt)return MA(s),rt=!0,!1;var o=s.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||wb(s.type,s.memoizedProps)),u=!u),u&&Pt&&Ya(s),MA(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Pt=sR(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Pt=sR(s)}else o===27?(o=Pt,lo(s.type)?(s=Ab,Ab=null,Pt=s):Pt=o):Pt=Fn?ii(s.stateNode.nextSibling):null;return!0}function _l(){Pt=Fn=null,rt=!1}function i0(){var s=Ka;return s!==null&&(wr===null?wr=s:wr.push.apply(wr,s),Ka=null),s}function $f(s){Ka===null?Ka=[s]:Ka.push(s)}var s0=z(null),bl=null,Bs=null;function Wa(s,o,u){le(s0,o._currentValue),o._currentValue=u}function Fs(s){s._currentValue=s0.current,Y(s0)}function a0(s,o,u){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===u)break;s=s.return}}function o0(s,o,u,d){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var _=v.dependencies;if(_!==null){var S=v.child;_=_.firstContext;e:for(;_!==null;){var N=_;_=v;for(var H=0;H<o.length;H++)if(N.context===o[H]){_.lanes|=u,N=_.alternate,N!==null&&(N.lanes|=u),a0(_.return,u,s),d||(S=null);break e}_=N.next}}else if(v.tag===18){if(S=v.return,S===null)throw Error(r(341));S.lanes|=u,_=S.alternate,_!==null&&(_.lanes|=u),a0(S,u,s),S=null}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===s){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}}function ju(s,o,u,d){s=null;for(var v=o,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var S=v.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var N=v.type;Pr(v.pendingProps.value,S.value)||(s!==null?s.push(N):s=[N])}}else if(v===je.current){if(S=v.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(yh):s=[yh])}v=v.return}s!==null&&o0(o,s,u,d),o.flags|=262144}function op(s){for(s=s.firstContext;s!==null;){if(!Pr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function wl(s){bl=s,Bs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function qn(s){return DA(bl,s)}function lp(s,o){return bl===null&&wl(s),DA(s,o)}function DA(s,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Bs===null){if(s===null)throw Error(r(308));Bs=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Bs=Bs.next=o;return u}var sz=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(u,d){s.push(d)}};this.abort=function(){o.aborted=!0,s.forEach(function(u){return u()})}},az=t.unstable_scheduleCallback,oz=t.unstable_NormalPriority,ln={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function l0(){return{controller:new sz,data:new Map,refCount:0}}function Gf(s){s.refCount--,s.refCount===0&&az(oz,function(){s.controller.abort()})}var Kf=null,u0=0,Vu=0,Uu=null;function lz(s,o){if(Kf===null){var u=Kf=[];u0=0,Vu=hb(),Uu={status:"pending",value:void 0,then:function(d){u.push(d)}}}return u0++,o.then(LA,LA),o}function LA(){if(--u0===0&&Kf!==null){Uu!==null&&(Uu.status="fulfilled");var s=Kf;Kf=null,Vu=0,Uu=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function uz(s,o){var u=[],d={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return s.then(function(){d.status="fulfilled",d.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(d.status="rejected",d.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),d}var jA=Z.S;Z.S=function(s,o){bI=or(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&lz(s,o),jA!==null&&jA(s,o)};var El=z(null);function c0(){var s=El.current;return s!==null?s:Tt.pooledCache}function up(s,o){o===null?le(El,El.current):le(El,o.pool)}function VA(){var s=c0();return s===null?null:{parent:ln._currentValue,pool:s}}var zu=Error(r(460)),f0=Error(r(474)),cp=Error(r(542)),fp={then:function(){}};function UA(s){return s=s.status,s==="fulfilled"||s==="rejected"}function zA(s,o,u){switch(u=s[u],u===void 0?s.push(o):u!==o&&(o.then(xi,xi),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,FA(s),s;default:if(typeof o.status=="string")o.then(xi,xi);else{if(s=Tt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=o,s.status="pending",s.then(function(d){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=d}},function(d){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,FA(s),s}throw Tl=o,zu}}function xl(s){try{var o=s._init;return o(s._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Tl=u,zu):u}}var Tl=null;function BA(){if(Tl===null)throw Error(r(459));var s=Tl;return Tl=null,s}function FA(s){if(s===zu||s===cp)throw Error(r(483))}var Bu=null,Yf=0;function hp(s){var o=Yf;return Yf+=1,Bu===null&&(Bu=[]),zA(Bu,s,o)}function Wf(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function dp(s,o){throw o.$$typeof===y?Error(r(525)):(s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function qA(s){function o(K,G){if(s){var Q=K.deletions;Q===null?(K.deletions=[G],K.flags|=16):Q.push(G)}}function u(K,G){if(!s)return null;for(;G!==null;)o(K,G),G=G.sibling;return null}function d(K){for(var G=new Map;K!==null;)K.key!==null?G.set(K.key,K):G.set(K.index,K),K=K.sibling;return G}function v(K,G){return K=Us(K,G),K.index=0,K.sibling=null,K}function _(K,G,Q){return K.index=Q,s?(Q=K.alternate,Q!==null?(Q=Q.index,Q<G?(K.flags|=67108866,G):Q):(K.flags|=67108866,G)):(K.flags|=1048576,G)}function S(K){return s&&K.alternate===null&&(K.flags|=67108866),K}function N(K,G,Q,ue){return G===null||G.tag!==6?(G=J_(Q,K.mode,ue),G.return=K,G):(G=v(G,Q),G.return=K,G)}function H(K,G,Q,ue){var Ae=Q.type;return Ae===x?se(K,G,Q.props.children,ue,Q.key):G!==null&&(G.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===L&&xl(Ae)===G.type)?(G=v(G,Q.props),Wf(G,Q),G.return=K,G):(G=sp(Q.type,Q.key,Q.props,null,K.mode,ue),Wf(G,Q),G.return=K,G)}function X(K,G,Q,ue){return G===null||G.tag!==4||G.stateNode.containerInfo!==Q.containerInfo||G.stateNode.implementation!==Q.implementation?(G=e0(Q,K.mode,ue),G.return=K,G):(G=v(G,Q.children||[]),G.return=K,G)}function se(K,G,Q,ue,Ae){return G===null||G.tag!==7?(G=yl(Q,K.mode,ue,Ae),G.return=K,G):(G=v(G,Q),G.return=K,G)}function ce(K,G,Q){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=J_(""+G,K.mode,Q),G.return=K,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return Q=sp(G.type,G.key,G.props,null,K.mode,Q),Wf(Q,G),Q.return=K,Q;case w:return G=e0(G,K.mode,Q),G.return=K,G;case L:return G=xl(G),ce(K,G,Q)}if(Te(G)||B(G))return G=yl(G,K.mode,Q,null),G.return=K,G;if(typeof G.then=="function")return ce(K,hp(G),Q);if(G.$$typeof===P)return ce(K,lp(K,G),Q);dp(K,G)}return null}function ee(K,G,Q,ue){var Ae=G!==null?G.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ae!==null?null:N(K,G,""+Q,ue);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return Q.key===Ae?H(K,G,Q,ue):null;case w:return Q.key===Ae?X(K,G,Q,ue):null;case L:return Q=xl(Q),ee(K,G,Q,ue)}if(Te(Q)||B(Q))return Ae!==null?null:se(K,G,Q,ue,null);if(typeof Q.then=="function")return ee(K,G,hp(Q),ue);if(Q.$$typeof===P)return ee(K,G,lp(K,Q),ue);dp(K,Q)}return null}function ne(K,G,Q,ue,Ae){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return K=K.get(Q)||null,N(G,K,""+ue,Ae);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case b:return K=K.get(ue.key===null?Q:ue.key)||null,H(G,K,ue,Ae);case w:return K=K.get(ue.key===null?Q:ue.key)||null,X(G,K,ue,Ae);case L:return ue=xl(ue),ne(K,G,Q,ue,Ae)}if(Te(ue)||B(ue))return K=K.get(Q)||null,se(G,K,ue,Ae,null);if(typeof ue.then=="function")return ne(K,G,Q,hp(ue),Ae);if(ue.$$typeof===P)return ne(K,G,Q,lp(G,ue),Ae);dp(G,ue)}return null}function xe(K,G,Q,ue){for(var Ae=null,st=null,Se=G,Be=G=0,Je=null;Se!==null&&Be<Q.length;Be++){Se.index>Be?(Je=Se,Se=null):Je=Se.sibling;var at=ee(K,Se,Q[Be],ue);if(at===null){Se===null&&(Se=Je);break}s&&Se&&at.alternate===null&&o(K,Se),G=_(at,G,Be),st===null?Ae=at:st.sibling=at,st=at,Se=Je}if(Be===Q.length)return u(K,Se),rt&&zs(K,Be),Ae;if(Se===null){for(;Be<Q.length;Be++)Se=ce(K,Q[Be],ue),Se!==null&&(G=_(Se,G,Be),st===null?Ae=Se:st.sibling=Se,st=Se);return rt&&zs(K,Be),Ae}for(Se=d(Se);Be<Q.length;Be++)Je=ne(Se,K,Be,Q[Be],ue),Je!==null&&(s&&Je.alternate!==null&&Se.delete(Je.key===null?Be:Je.key),G=_(Je,G,Be),st===null?Ae=Je:st.sibling=Je,st=Je);return s&&Se.forEach(function(mo){return o(K,mo)}),rt&&zs(K,Be),Ae}function Re(K,G,Q,ue){if(Q==null)throw Error(r(151));for(var Ae=null,st=null,Se=G,Be=G=0,Je=null,at=Q.next();Se!==null&&!at.done;Be++,at=Q.next()){Se.index>Be?(Je=Se,Se=null):Je=Se.sibling;var mo=ee(K,Se,at.value,ue);if(mo===null){Se===null&&(Se=Je);break}s&&Se&&mo.alternate===null&&o(K,Se),G=_(mo,G,Be),st===null?Ae=mo:st.sibling=mo,st=mo,Se=Je}if(at.done)return u(K,Se),rt&&zs(K,Be),Ae;if(Se===null){for(;!at.done;Be++,at=Q.next())at=ce(K,at.value,ue),at!==null&&(G=_(at,G,Be),st===null?Ae=at:st.sibling=at,st=at);return rt&&zs(K,Be),Ae}for(Se=d(Se);!at.done;Be++,at=Q.next())at=ne(Se,K,Be,at.value,ue),at!==null&&(s&&at.alternate!==null&&Se.delete(at.key===null?Be:at.key),G=_(at,G,Be),st===null?Ae=at:st.sibling=at,st=at);return s&&Se.forEach(function(b8){return o(K,b8)}),rt&&zs(K,Be),Ae}function Et(K,G,Q,ue){if(typeof Q=="object"&&Q!==null&&Q.type===x&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:e:{for(var Ae=Q.key;G!==null;){if(G.key===Ae){if(Ae=Q.type,Ae===x){if(G.tag===7){u(K,G.sibling),ue=v(G,Q.props.children),ue.return=K,K=ue;break e}}else if(G.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===L&&xl(Ae)===G.type){u(K,G.sibling),ue=v(G,Q.props),Wf(ue,Q),ue.return=K,K=ue;break e}u(K,G);break}else o(K,G);G=G.sibling}Q.type===x?(ue=yl(Q.props.children,K.mode,ue,Q.key),ue.return=K,K=ue):(ue=sp(Q.type,Q.key,Q.props,null,K.mode,ue),Wf(ue,Q),ue.return=K,K=ue)}return S(K);case w:e:{for(Ae=Q.key;G!==null;){if(G.key===Ae)if(G.tag===4&&G.stateNode.containerInfo===Q.containerInfo&&G.stateNode.implementation===Q.implementation){u(K,G.sibling),ue=v(G,Q.children||[]),ue.return=K,K=ue;break e}else{u(K,G);break}else o(K,G);G=G.sibling}ue=e0(Q,K.mode,ue),ue.return=K,K=ue}return S(K);case L:return Q=xl(Q),Et(K,G,Q,ue)}if(Te(Q))return xe(K,G,Q,ue);if(B(Q)){if(Ae=B(Q),typeof Ae!="function")throw Error(r(150));return Q=Ae.call(Q),Re(K,G,Q,ue)}if(typeof Q.then=="function")return Et(K,G,hp(Q),ue);if(Q.$$typeof===P)return Et(K,G,lp(K,Q),ue);dp(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,G!==null&&G.tag===6?(u(K,G.sibling),ue=v(G,Q),ue.return=K,K=ue):(u(K,G),ue=J_(Q,K.mode,ue),ue.return=K,K=ue),S(K)):u(K,G)}return function(K,G,Q,ue){try{Yf=0;var Ae=Et(K,G,Q,ue);return Bu=null,Ae}catch(Se){if(Se===zu||Se===cp)throw Se;var st=kr(29,Se,null,K.mode);return st.lanes=ue,st.return=K,st}finally{}}}var Sl=qA(!0),HA=qA(!1),Qa=!1;function h0(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function d0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Xa(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Za(s,o,u){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(ft&2)!==0){var v=d.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),d.pending=o,o=ip(s),CA(s,null,u),o}return rp(s,d,o,u),ip(s)}function Qf(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var d=o.lanes;d&=s.pendingLanes,u|=d,o.lanes=u,xf(s,u)}}function m0(s,o){var u=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var v=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var S={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?v=_=S:_=_.next=S,u=u.next}while(u!==null);_===null?v=_=o:_=_.next=o}else v=_=o;u={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:d.shared,callbacks:d.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}var p0=!1;function Xf(){if(p0){var s=Uu;if(s!==null)throw s}}function Zf(s,o,u,d){p0=!1;var v=s.updateQueue;Qa=!1;var _=v.firstBaseUpdate,S=v.lastBaseUpdate,N=v.shared.pending;if(N!==null){v.shared.pending=null;var H=N,X=H.next;H.next=null,S===null?_=X:S.next=X,S=H;var se=s.alternate;se!==null&&(se=se.updateQueue,N=se.lastBaseUpdate,N!==S&&(N===null?se.firstBaseUpdate=X:N.next=X,se.lastBaseUpdate=H))}if(_!==null){var ce=v.baseState;S=0,se=X=H=null,N=_;do{var ee=N.lane&-536870913,ne=ee!==N.lane;if(ne?(Ze&ee)===ee:(d&ee)===ee){ee!==0&&ee===Vu&&(p0=!0),se!==null&&(se=se.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var xe=s,Re=N;ee=o;var Et=u;switch(Re.tag){case 1:if(xe=Re.payload,typeof xe=="function"){ce=xe.call(Et,ce,ee);break e}ce=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Re.payload,ee=typeof xe=="function"?xe.call(Et,ce,ee):xe,ee==null)break e;ce=p({},ce,ee);break e;case 2:Qa=!0}}ee=N.callback,ee!==null&&(s.flags|=64,ne&&(s.flags|=8192),ne=v.callbacks,ne===null?v.callbacks=[ee]:ne.push(ee))}else ne={lane:ee,tag:N.tag,payload:N.payload,callback:N.callback,next:null},se===null?(X=se=ne,H=ce):se=se.next=ne,S|=ee;if(N=N.next,N===null){if(N=v.shared.pending,N===null)break;ne=N,N=ne.next,ne.next=null,v.lastBaseUpdate=ne,v.shared.pending=null}}while(!0);se===null&&(H=ce),v.baseState=H,v.firstBaseUpdate=X,v.lastBaseUpdate=se,_===null&&(v.shared.lanes=0),ro|=S,s.lanes=S,s.memoizedState=ce}}function $A(s,o){if(typeof s!="function")throw Error(r(191,s));s.call(o)}function GA(s,o){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)$A(u[s],o)}var Fu=z(null),mp=z(0);function KA(s,o){s=Xs,le(mp,s),le(Fu,o),Xs=s|o.baseLanes}function g0(){le(mp,Xs),le(Fu,Fu.current)}function v0(){Xs=mp.current,Y(Fu),Y(mp)}var Mr=z(null),ri=null;function Ja(s){var o=s.alternate;le(Qt,Qt.current&1),le(Mr,s),ri===null&&(o===null||Fu.current!==null||o.memoizedState!==null)&&(ri=s)}function y0(s){le(Qt,Qt.current),le(Mr,s),ri===null&&(ri=s)}function YA(s){s.tag===22?(le(Qt,Qt.current),le(Mr,s),ri===null&&(ri=s)):eo()}function eo(){le(Qt,Qt.current),le(Mr,Mr.current)}function Dr(s){Y(Mr),ri===s&&(ri=null),Y(Qt)}var Qt=z(0);function pp(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Tb(u)||Sb(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var qs=0,Ue=null,bt=null,un=null,gp=!1,qu=!1,Al=!1,vp=0,Jf=0,Hu=null,cz=0;function Ft(){throw Error(r(321))}function _0(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!Pr(s[u],o[u]))return!1;return!0}function b0(s,o,u,d,v,_){return qs=_,Ue=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Z.H=s===null||s.memoizedState===null?OC:D0,Al=!1,_=u(d,v),Al=!1,qu&&(_=QA(o,u,d,v)),WA(s),_}function WA(s){Z.H=nh;var o=bt!==null&&bt.next!==null;if(qs=0,un=bt=Ue=null,gp=!1,Jf=0,Hu=null,o)throw Error(r(300));s===null||cn||(s=s.dependencies,s!==null&&op(s)&&(cn=!0))}function QA(s,o,u,d){Ue=s;var v=0;do{if(qu&&(Hu=null),Jf=0,qu=!1,25<=v)throw Error(r(301));if(v+=1,un=bt=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}Z.H=PC,_=o(u,d)}while(qu);return _}function fz(){var s=Z.H,o=s.useState()[0];return o=typeof o.then=="function"?eh(o):o,s=s.useState()[0],(bt!==null?bt.memoizedState:null)!==s&&(Ue.flags|=1024),o}function w0(){var s=vp!==0;return vp=0,s}function E0(s,o,u){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~u}function x0(s){if(gp){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}gp=!1}qs=0,un=bt=Ue=null,qu=!1,Jf=vp=0,Hu=null}function ur(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?Ue.memoizedState=un=s:un=un.next=s,un}function Xt(){if(bt===null){var s=Ue.alternate;s=s!==null?s.memoizedState:null}else s=bt.next;var o=un===null?Ue.memoizedState:un.next;if(o!==null)un=o,bt=s;else{if(s===null)throw Ue.alternate===null?Error(r(467)):Error(r(310));bt=s,s={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},un===null?Ue.memoizedState=un=s:un=un.next=s}return un}function yp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eh(s){var o=Jf;return Jf+=1,Hu===null&&(Hu=[]),s=zA(Hu,s,o),o=Ue,(un===null?o.memoizedState:un.next)===null&&(o=o.alternate,Z.H=o===null||o.memoizedState===null?OC:D0),s}function _p(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return eh(s);if(s.$$typeof===P)return qn(s)}throw Error(r(438,String(s)))}function T0(s){var o=null,u=Ue.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var d=Ue.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=yp(),Ue.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(s),d=0;d<s;d++)u[d]=V;return o.index++,u}function Hs(s,o){return typeof o=="function"?o(s):o}function bp(s){var o=Xt();return S0(o,bt,s)}function S0(s,o,u){var d=s.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=u;var v=s.baseQueue,_=d.pending;if(_!==null){if(v!==null){var S=v.next;v.next=_.next,_.next=S}o.baseQueue=v=_,d.pending=null}if(_=s.baseState,v===null)s.memoizedState=_;else{o=v.next;var N=S=null,H=null,X=o,se=!1;do{var ce=X.lane&-536870913;if(ce!==X.lane?(Ze&ce)===ce:(qs&ce)===ce){var ee=X.revertLane;if(ee===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ce===Vu&&(se=!0);else if((qs&ee)===ee){X=X.next,ee===Vu&&(se=!0);continue}else ce={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},H===null?(N=H=ce,S=_):H=H.next=ce,Ue.lanes|=ee,ro|=ee;ce=X.action,Al&&u(_,ce),_=X.hasEagerState?X.eagerState:u(_,ce)}else ee={lane:ce,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},H===null?(N=H=ee,S=_):H=H.next=ee,Ue.lanes|=ce,ro|=ce;X=X.next}while(X!==null&&X!==o);if(H===null?S=_:H.next=N,!Pr(_,s.memoizedState)&&(cn=!0,se&&(u=Uu,u!==null)))throw u;s.memoizedState=_,s.baseState=S,s.baseQueue=H,d.lastRenderedState=_}return v===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function A0(s){var o=Xt(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var d=u.dispatch,v=u.pending,_=o.memoizedState;if(v!==null){u.pending=null;var S=v=v.next;do _=s(_,S.action),S=S.next;while(S!==v);Pr(_,o.memoizedState)||(cn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,d]}function XA(s,o,u){var d=Ue,v=Xt(),_=rt;if(_){if(u===void 0)throw Error(r(407));u=u()}else u=o();var S=!Pr((bt||v).memoizedState,u);if(S&&(v.memoizedState=u,cn=!0),v=v.queue,R0(eC.bind(null,d,v,s),[s]),v.getSnapshot!==o||S||un!==null&&un.memoizedState.tag&1){if(d.flags|=2048,$u(9,{destroy:void 0},JA.bind(null,d,v,u,o),null),Tt===null)throw Error(r(349));_||(qs&127)!==0||ZA(d,o,u)}return u}function ZA(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=Ue.updateQueue,o===null?(o=yp(),Ue.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function JA(s,o,u,d){o.value=u,o.getSnapshot=d,tC(o)&&nC(s)}function eC(s,o,u){return u(function(){tC(o)&&nC(s)})}function tC(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!Pr(s,u)}catch{return!0}}function nC(s){var o=vl(s,2);o!==null&&Er(o,s,2)}function C0(s){var o=ur();if(typeof s=="function"){var u=s;if(s=u(),Al){Kr(!0);try{u()}finally{Kr(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:s},o}function rC(s,o,u,d){return s.baseState=u,S0(s,bt,typeof d=="function"?d:Hs)}function hz(s,o,u,d,v){if(xp(s))throw Error(r(485));if(s=o.action,s!==null){var _={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){_.listeners.push(S)}};Z.T!==null?u(!0):_.isTransition=!1,d(_),u=o.pending,u===null?(_.next=o.pending=_,iC(o,_)):(_.next=u.next,o.pending=u.next=_)}}function iC(s,o){var u=o.action,d=o.payload,v=s.state;if(o.isTransition){var _=Z.T,S={};Z.T=S;try{var N=u(v,d),H=Z.S;H!==null&&H(S,N),sC(s,o,N)}catch(X){I0(s,o,X)}finally{_!==null&&S.types!==null&&(_.types=S.types),Z.T=_}}else try{_=u(v,d),sC(s,o,_)}catch(X){I0(s,o,X)}}function sC(s,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){aC(s,o,d)},function(d){return I0(s,o,d)}):aC(s,o,u)}function aC(s,o,u){o.status="fulfilled",o.value=u,oC(o),s.state=u,o=s.pending,o!==null&&(u=o.next,u===o?s.pending=null:(u=u.next,o.next=u,iC(s,u)))}function I0(s,o,u){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=u,oC(o),o=o.next;while(o!==d)}s.action=null}function oC(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function lC(s,o){return o}function uC(s,o){if(rt){var u=Tt.formState;if(u!==null){e:{var d=Ue;if(rt){if(Pt){t:{for(var v=Pt,_=ni;v.nodeType!==8;){if(!_){v=null;break t}if(v=ii(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){Pt=ii(v.nextSibling),d=v.data==="F!";break e}}Ya(d)}d=!1}d&&(o=u[0])}}return u=ur(),u.memoizedState=u.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lC,lastRenderedState:o},u.queue=d,u=IC.bind(null,Ue,d),d.dispatch=u,d=C0(!1),_=M0.bind(null,Ue,!1,d.queue),d=ur(),v={state:o,dispatch:null,action:s,pending:null},d.queue=v,u=hz.bind(null,Ue,v,_,u),v.dispatch=u,d.memoizedState=s,[o,u,!1]}function cC(s){var o=Xt();return fC(o,bt,s)}function fC(s,o,u){if(o=S0(s,o,lC)[0],s=bp(Hs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=eh(o)}catch(S){throw S===zu?cp:S}else d=o;o=Xt();var v=o.queue,_=v.dispatch;return u!==o.memoizedState&&(Ue.flags|=2048,$u(9,{destroy:void 0},dz.bind(null,v,u),null)),[d,_,s]}function dz(s,o){s.action=o}function hC(s){var o=Xt(),u=bt;if(u!==null)return fC(o,u,s);Xt(),o=o.memoizedState,u=Xt();var d=u.queue.dispatch;return u.memoizedState=s,[o,d,!1]}function $u(s,o,u,d){return s={tag:s,create:u,deps:d,inst:o,next:null},o=Ue.updateQueue,o===null&&(o=yp(),Ue.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=s.next=s:(d=u.next,u.next=s,s.next=d,o.lastEffect=s),s}function dC(){return Xt().memoizedState}function wp(s,o,u,d){var v=ur();Ue.flags|=s,v.memoizedState=$u(1|o,{destroy:void 0},u,d===void 0?null:d)}function Ep(s,o,u,d){var v=Xt();d=d===void 0?null:d;var _=v.memoizedState.inst;bt!==null&&d!==null&&_0(d,bt.memoizedState.deps)?v.memoizedState=$u(o,_,u,d):(Ue.flags|=s,v.memoizedState=$u(1|o,_,u,d))}function mC(s,o){wp(8390656,8,s,o)}function R0(s,o){Ep(2048,8,s,o)}function mz(s){Ue.flags|=4;var o=Ue.updateQueue;if(o===null)o=yp(),Ue.updateQueue=o,o.events=[s];else{var u=o.events;u===null?o.events=[s]:u.push(s)}}function pC(s){var o=Xt().memoizedState;return mz({ref:o,nextImpl:s}),function(){if((ft&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function gC(s,o){return Ep(4,2,s,o)}function vC(s,o){return Ep(4,4,s,o)}function yC(s,o){if(typeof o=="function"){s=s();var u=o(s);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function _C(s,o,u){u=u!=null?u.concat([s]):null,Ep(4,4,yC.bind(null,o,s),u)}function N0(){}function bC(s,o){var u=Xt();o=o===void 0?null:o;var d=u.memoizedState;return o!==null&&_0(o,d[1])?d[0]:(u.memoizedState=[s,o],s)}function wC(s,o){var u=Xt();o=o===void 0?null:o;var d=u.memoizedState;if(o!==null&&_0(o,d[1]))return d[0];if(d=s(),Al){Kr(!0);try{s()}finally{Kr(!1)}}return u.memoizedState=[d,o],d}function O0(s,o,u){return u===void 0||(qs&1073741824)!==0&&(Ze&261930)===0?s.memoizedState=o:(s.memoizedState=u,s=EI(),Ue.lanes|=s,ro|=s,u)}function EC(s,o,u,d){return Pr(u,o)?u:Fu.current!==null?(s=O0(s,u,d),Pr(s,o)||(cn=!0),s):(qs&42)===0||(qs&1073741824)!==0&&(Ze&261930)===0?(cn=!0,s.memoizedState=u):(s=EI(),Ue.lanes|=s,ro|=s,o)}function xC(s,o,u,d,v){var _=oe.p;oe.p=_!==0&&8>_?_:8;var S=Z.T,N={};Z.T=N,M0(s,!1,o,u);try{var H=v(),X=Z.S;if(X!==null&&X(N,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var se=uz(H,d);th(s,o,se,Vr(s))}else th(s,o,d,Vr(s))}catch(ce){th(s,o,{then:function(){},status:"rejected",reason:ce},Vr())}finally{oe.p=_,S!==null&&N.types!==null&&(S.types=N.types),Z.T=S}}function pz(){}function P0(s,o,u,d){if(s.tag!==5)throw Error(r(476));var v=TC(s).queue;xC(s,v,o,ie,u===null?pz:function(){return SC(s),u(d)})}function TC(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:ie},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:u},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function SC(s){var o=TC(s);o.next===null&&(o=s.alternate.memoizedState),th(s,o.next.queue,{},Vr())}function k0(){return qn(yh)}function AC(){return Xt().memoizedState}function CC(){return Xt().memoizedState}function gz(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var u=Vr();s=Xa(u);var d=Za(o,s,u);d!==null&&(Er(d,o,u),Qf(d,o,u)),o={cache:l0()},s.payload=o;return}o=o.return}}function vz(s,o,u){var d=Vr();u={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},xp(s)?RC(o,u):(u=X_(s,o,u,d),u!==null&&(Er(u,s,d),NC(u,o,d)))}function IC(s,o,u){var d=Vr();th(s,o,u,d)}function th(s,o,u,d){var v={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(xp(s))RC(o,v);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var S=o.lastRenderedState,N=_(S,u);if(v.hasEagerState=!0,v.eagerState=N,Pr(N,S))return rp(s,o,v,0),Tt===null&&np(),!1}catch{}finally{}if(u=X_(s,o,v,d),u!==null)return Er(u,s,d),NC(u,o,d),!0}return!1}function M0(s,o,u,d){if(d={lane:2,revertLane:hb(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},xp(s)){if(o)throw Error(r(479))}else o=X_(s,u,d,2),o!==null&&Er(o,s,2)}function xp(s){var o=s.alternate;return s===Ue||o!==null&&o===Ue}function RC(s,o){qu=gp=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function NC(s,o,u){if((u&4194048)!==0){var d=o.lanes;d&=s.pendingLanes,u|=d,o.lanes=u,xf(s,u)}}var nh={readContext:qn,use:_p,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft};nh.useEffectEvent=Ft;var OC={readContext:qn,use:_p,useCallback:function(s,o){return ur().memoizedState=[s,o===void 0?null:o],s},useContext:qn,useEffect:mC,useImperativeHandle:function(s,o,u){u=u!=null?u.concat([s]):null,wp(4194308,4,yC.bind(null,o,s),u)},useLayoutEffect:function(s,o){return wp(4194308,4,s,o)},useInsertionEffect:function(s,o){wp(4,2,s,o)},useMemo:function(s,o){var u=ur();o=o===void 0?null:o;var d=s();if(Al){Kr(!0);try{s()}finally{Kr(!1)}}return u.memoizedState=[d,o],d},useReducer:function(s,o,u){var d=ur();if(u!==void 0){var v=u(o);if(Al){Kr(!0);try{u(o)}finally{Kr(!1)}}}else v=o;return d.memoizedState=d.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},d.queue=s,s=s.dispatch=vz.bind(null,Ue,s),[d.memoizedState,s]},useRef:function(s){var o=ur();return s={current:s},o.memoizedState=s},useState:function(s){s=C0(s);var o=s.queue,u=IC.bind(null,Ue,o);return o.dispatch=u,[s.memoizedState,u]},useDebugValue:N0,useDeferredValue:function(s,o){var u=ur();return O0(u,s,o)},useTransition:function(){var s=C0(!1);return s=xC.bind(null,Ue,s.queue,!0,!1),ur().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,u){var d=Ue,v=ur();if(rt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Tt===null)throw Error(r(349));(Ze&127)!==0||ZA(d,o,u)}v.memoizedState=u;var _={value:u,getSnapshot:o};return v.queue=_,mC(eC.bind(null,d,_,s),[s]),d.flags|=2048,$u(9,{destroy:void 0},JA.bind(null,d,_,u,o),null),u},useId:function(){var s=ur(),o=Tt.identifierPrefix;if(rt){var u=hs,d=fs;u=(d&~(1<<32-Yt(d)-1)).toString(32)+u,o="_"+o+"R_"+u,u=vp++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=cz++,o="_"+o+"r_"+u.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:k0,useFormState:uC,useActionState:uC,useOptimistic:function(s){var o=ur();o.memoizedState=o.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=M0.bind(null,Ue,!0,u),u.dispatch=o,[s,o]},useMemoCache:T0,useCacheRefresh:function(){return ur().memoizedState=gz.bind(null,Ue)},useEffectEvent:function(s){var o=ur(),u={impl:s};return o.memoizedState=u,function(){if((ft&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},D0={readContext:qn,use:_p,useCallback:bC,useContext:qn,useEffect:R0,useImperativeHandle:_C,useInsertionEffect:gC,useLayoutEffect:vC,useMemo:wC,useReducer:bp,useRef:dC,useState:function(){return bp(Hs)},useDebugValue:N0,useDeferredValue:function(s,o){var u=Xt();return EC(u,bt.memoizedState,s,o)},useTransition:function(){var s=bp(Hs)[0],o=Xt().memoizedState;return[typeof s=="boolean"?s:eh(s),o]},useSyncExternalStore:XA,useId:AC,useHostTransitionStatus:k0,useFormState:cC,useActionState:cC,useOptimistic:function(s,o){var u=Xt();return rC(u,bt,s,o)},useMemoCache:T0,useCacheRefresh:CC};D0.useEffectEvent=pC;var PC={readContext:qn,use:_p,useCallback:bC,useContext:qn,useEffect:R0,useImperativeHandle:_C,useInsertionEffect:gC,useLayoutEffect:vC,useMemo:wC,useReducer:A0,useRef:dC,useState:function(){return A0(Hs)},useDebugValue:N0,useDeferredValue:function(s,o){var u=Xt();return bt===null?O0(u,s,o):EC(u,bt.memoizedState,s,o)},useTransition:function(){var s=A0(Hs)[0],o=Xt().memoizedState;return[typeof s=="boolean"?s:eh(s),o]},useSyncExternalStore:XA,useId:AC,useHostTransitionStatus:k0,useFormState:hC,useActionState:hC,useOptimistic:function(s,o){var u=Xt();return bt!==null?rC(u,bt,s,o):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:T0,useCacheRefresh:CC};PC.useEffectEvent=pC;function L0(s,o,u,d){o=s.memoizedState,u=u(d,o),u=u==null?o:p({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var j0={enqueueSetState:function(s,o,u){s=s._reactInternals;var d=Vr(),v=Xa(d);v.payload=o,u!=null&&(v.callback=u),o=Za(s,v,d),o!==null&&(Er(o,s,d),Qf(o,s,d))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var d=Vr(),v=Xa(d);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Za(s,v,d),o!==null&&(Er(o,s,d),Qf(o,s,d))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=Vr(),d=Xa(u);d.tag=2,o!=null&&(d.callback=o),o=Za(s,d,u),o!==null&&(Er(o,s,u),Qf(o,s,u))}};function kC(s,o,u,d,v,_,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,_,S):o.prototype&&o.prototype.isPureReactComponent?!Ff(u,d)||!Ff(v,_):!0}function MC(s,o,u,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==s&&j0.enqueueReplaceState(o,o.state,null)}function Cl(s,o){var u=o;if("ref"in o){u={};for(var d in o)d!=="ref"&&(u[d]=o[d])}if(s=s.defaultProps){u===o&&(u=p({},u));for(var v in s)u[v]===void 0&&(u[v]=s[v])}return u}function DC(s){tp(s)}function LC(s){console.error(s)}function jC(s){tp(s)}function Tp(s,o){try{var u=s.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function VC(s,o,u){try{var d=s.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function V0(s,o,u){return u=Xa(u),u.tag=3,u.payload={element:null},u.callback=function(){Tp(s,o)},u}function UC(s){return s=Xa(s),s.tag=3,s}function zC(s,o,u,d){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var _=d.value;s.payload=function(){return v(_)},s.callback=function(){VC(o,u,d)}}var S=u.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(s.callback=function(){VC(o,u,d),typeof v!="function"&&(io===null?io=new Set([this]):io.add(this));var N=d.stack;this.componentDidCatch(d.value,{componentStack:N!==null?N:""})})}function yz(s,o,u,d,v){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=u.alternate,o!==null&&ju(o,u,v,!0),u=Mr.current,u!==null){switch(u.tag){case 31:case 13:return ri===null?Lp():u.alternate===null&&qt===0&&(qt=3),u.flags&=-257,u.flags|=65536,u.lanes=v,d===fp?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([d]):o.add(d),ub(s,d,v)),!1;case 22:return u.flags|=65536,d===fp?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([d]):u.add(d)),ub(s,d,v)),!1}throw Error(r(435,u.tag))}return ub(s,d,v),Lp(),!1}if(rt)return o=Mr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,d!==r0&&(s=Error(r(422),{cause:d}),$f(Jr(s,u)))):(d!==r0&&(o=Error(r(423),{cause:d}),$f(Jr(o,u))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,d=Jr(d,u),v=V0(s.stateNode,d,v),m0(s,v),qt!==4&&(qt=2)),!1;var _=Error(r(520),{cause:d});if(_=Jr(_,u),ch===null?ch=[_]:ch.push(_),qt!==4&&(qt=2),o===null)return!0;d=Jr(d,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,s=v&-v,u.lanes|=s,s=V0(u.stateNode,d,s),m0(u,s),!1;case 1:if(o=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(io===null||!io.has(_))))return u.flags|=65536,v&=-v,u.lanes|=v,v=UC(v),zC(v,s,u,d),m0(u,v),!1}u=u.return}while(u!==null);return!1}var U0=Error(r(461)),cn=!1;function Hn(s,o,u,d){o.child=s===null?HA(o,null,u,d):Sl(o,s.child,u,d)}function BC(s,o,u,d,v){u=u.render;var _=o.ref;if("ref"in d){var S={};for(var N in d)N!=="ref"&&(S[N]=d[N])}else S=d;return wl(o),d=b0(s,o,u,S,_,v),N=w0(),s!==null&&!cn?(E0(s,o,v),$s(s,o,v)):(rt&&N&&t0(o),o.flags|=1,Hn(s,o,d,v),o.child)}function FC(s,o,u,d,v){if(s===null){var _=u.type;return typeof _=="function"&&!Z_(_)&&_.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=_,qC(s,o,_,d,v)):(s=sp(u.type,null,d,o,o.mode,v),s.ref=o.ref,s.return=o,o.child=s)}if(_=s.child,!K0(s,v)){var S=_.memoizedProps;if(u=u.compare,u=u!==null?u:Ff,u(S,d)&&s.ref===o.ref)return $s(s,o,v)}return o.flags|=1,s=Us(_,d),s.ref=o.ref,s.return=o,o.child=s}function qC(s,o,u,d,v){if(s!==null){var _=s.memoizedProps;if(Ff(_,d)&&s.ref===o.ref)if(cn=!1,o.pendingProps=d=_,K0(s,v))(s.flags&131072)!==0&&(cn=!0);else return o.lanes=s.lanes,$s(s,o,v)}return z0(s,o,u,d,v)}function HC(s,o,u,d){var v=d.children,_=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((o.flags&128)!==0){if(_=_!==null?_.baseLanes|u:u,s!==null){for(d=o.child=s.child,v=0;d!==null;)v=v|d.lanes|d.childLanes,d=d.sibling;d=v&~_}else d=0,o.child=null;return $C(s,o,_,u,d)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&up(o,_!==null?_.cachePool:null),_!==null?KA(o,_):g0(),YA(o);else return d=o.lanes=536870912,$C(s,o,_!==null?_.baseLanes|u:u,u,d)}else _!==null?(up(o,_.cachePool),KA(o,_),eo(),o.memoizedState=null):(s!==null&&up(o,null),g0(),eo());return Hn(s,o,v,u),o.child}function rh(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function $C(s,o,u,d,v){var _=c0();return _=_===null?null:{parent:ln._currentValue,pool:_},o.memoizedState={baseLanes:u,cachePool:_},s!==null&&up(o,null),g0(),YA(o),s!==null&&ju(s,o,d,!0),o.childLanes=v,null}function Sp(s,o){return o=Cp({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function GC(s,o,u){return Sl(o,s.child,null,u),s=Sp(o,o.pendingProps),s.flags|=2,Dr(o),o.memoizedState=null,s}function _z(s,o,u){var d=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(rt){if(d.mode==="hidden")return s=Sp(o,d),o.lanes=536870912,rh(null,s);if(y0(o),(s=Pt)?(s=iR(s,ni),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:Ga!==null?{id:fs,overflow:hs}:null,retryLane:536870912,hydrationErrors:null},u=RA(s),u.return=o,o.child=u,Fn=o,Pt=null)):s=null,s===null)throw Ya(o);return o.lanes=536870912,null}return Sp(o,d)}var _=s.memoizedState;if(_!==null){var S=_.dehydrated;if(y0(o),v)if(o.flags&256)o.flags&=-257,o=GC(s,o,u);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(r(558));else if(cn||ju(s,o,u,!1),v=(u&s.childLanes)!==0,cn||v){if(d=Tt,d!==null&&(S=Tf(d,u),S!==0&&S!==_.retryLane))throw _.retryLane=S,vl(s,S),Er(d,s,S),U0;Lp(),o=GC(s,o,u)}else s=_.treeContext,Pt=ii(S.nextSibling),Fn=o,rt=!0,Ka=null,ni=!1,s!==null&&PA(o,s),o=Sp(o,d),o.flags|=4096;return o}return s=Us(s.child,{mode:d.mode,children:d.children}),s.ref=o.ref,o.child=s,s.return=o,s}function Ap(s,o){var u=o.ref;if(u===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(s===null||s.ref!==u)&&(o.flags|=4194816)}}function z0(s,o,u,d,v){return wl(o),u=b0(s,o,u,d,void 0,v),d=w0(),s!==null&&!cn?(E0(s,o,v),$s(s,o,v)):(rt&&d&&t0(o),o.flags|=1,Hn(s,o,u,v),o.child)}function KC(s,o,u,d,v,_){return wl(o),o.updateQueue=null,u=QA(o,d,u,v),WA(s),d=w0(),s!==null&&!cn?(E0(s,o,_),$s(s,o,_)):(rt&&d&&t0(o),o.flags|=1,Hn(s,o,u,_),o.child)}function YC(s,o,u,d,v){if(wl(o),o.stateNode===null){var _=ku,S=u.contextType;typeof S=="object"&&S!==null&&(_=qn(S)),_=new u(d,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=j0,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=d,_.state=o.memoizedState,_.refs={},h0(o),S=u.contextType,_.context=typeof S=="object"&&S!==null?qn(S):ku,_.state=o.memoizedState,S=u.getDerivedStateFromProps,typeof S=="function"&&(L0(o,u,S,d),_.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(S=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),S!==_.state&&j0.enqueueReplaceState(_,_.state,null),Zf(o,d,_,v),Xf(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(s===null){_=o.stateNode;var N=o.memoizedProps,H=Cl(u,N);_.props=H;var X=_.context,se=u.contextType;S=ku,typeof se=="object"&&se!==null&&(S=qn(se));var ce=u.getDerivedStateFromProps;se=typeof ce=="function"||typeof _.getSnapshotBeforeUpdate=="function",N=o.pendingProps!==N,se||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(N||X!==S)&&MC(o,_,d,S),Qa=!1;var ee=o.memoizedState;_.state=ee,Zf(o,d,_,v),Xf(),X=o.memoizedState,N||ee!==X||Qa?(typeof ce=="function"&&(L0(o,u,ce,d),X=o.memoizedState),(H=Qa||kC(o,u,H,d,ee,X,S))?(se||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=X),_.props=d,_.state=X,_.context=S,d=H):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{_=o.stateNode,d0(s,o),S=o.memoizedProps,se=Cl(u,S),_.props=se,ce=o.pendingProps,ee=_.context,X=u.contextType,H=ku,typeof X=="object"&&X!==null&&(H=qn(X)),N=u.getDerivedStateFromProps,(X=typeof N=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==ce||ee!==H)&&MC(o,_,d,H),Qa=!1,ee=o.memoizedState,_.state=ee,Zf(o,d,_,v),Xf();var ne=o.memoizedState;S!==ce||ee!==ne||Qa||s!==null&&s.dependencies!==null&&op(s.dependencies)?(typeof N=="function"&&(L0(o,u,N,d),ne=o.memoizedState),(se=Qa||kC(o,u,se,d,ee,ne,H)||s!==null&&s.dependencies!==null&&op(s.dependencies))?(X||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(d,ne,H),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(d,ne,H)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||S===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=ne),_.props=d,_.state=ne,_.context=H,d=se):(typeof _.componentDidUpdate!="function"||S===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),d=!1)}return _=d,Ap(s,o),d=(o.flags&128)!==0,_||d?(_=o.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,s!==null&&d?(o.child=Sl(o,s.child,null,v),o.child=Sl(o,null,u,v)):Hn(s,o,u,v),o.memoizedState=_.state,s=o.child):s=$s(s,o,v),s}function WC(s,o,u,d){return _l(),o.flags|=256,Hn(s,o,u,d),o.child}var B0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function F0(s){return{baseLanes:s,cachePool:VA()}}function q0(s,o,u){return s=s!==null?s.childLanes&~u:0,o&&(s|=jr),s}function QC(s,o,u){var d=o.pendingProps,v=!1,_=(o.flags&128)!==0,S;if((S=_)||(S=s!==null&&s.memoizedState===null?!1:(Qt.current&2)!==0),S&&(v=!0,o.flags&=-129),S=(o.flags&32)!==0,o.flags&=-33,s===null){if(rt){if(v?Ja(o):eo(),(s=Pt)?(s=iR(s,ni),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:Ga!==null?{id:fs,overflow:hs}:null,retryLane:536870912,hydrationErrors:null},u=RA(s),u.return=o,o.child=u,Fn=o,Pt=null)):s=null,s===null)throw Ya(o);return Sb(s)?o.lanes=32:o.lanes=536870912,null}var N=d.children;return d=d.fallback,v?(eo(),v=o.mode,N=Cp({mode:"hidden",children:N},v),d=yl(d,v,u,null),N.return=o,d.return=o,N.sibling=d,o.child=N,d=o.child,d.memoizedState=F0(u),d.childLanes=q0(s,S,u),o.memoizedState=B0,rh(null,d)):(Ja(o),H0(o,N))}var H=s.memoizedState;if(H!==null&&(N=H.dehydrated,N!==null)){if(_)o.flags&256?(Ja(o),o.flags&=-257,o=$0(s,o,u)):o.memoizedState!==null?(eo(),o.child=s.child,o.flags|=128,o=null):(eo(),N=d.fallback,v=o.mode,d=Cp({mode:"visible",children:d.children},v),N=yl(N,v,u,null),N.flags|=2,d.return=o,N.return=o,d.sibling=N,o.child=d,Sl(o,s.child,null,u),d=o.child,d.memoizedState=F0(u),d.childLanes=q0(s,S,u),o.memoizedState=B0,o=rh(null,d));else if(Ja(o),Sb(N)){if(S=N.nextSibling&&N.nextSibling.dataset,S)var X=S.dgst;S=X,d=Error(r(419)),d.stack="",d.digest=S,$f({value:d,source:null,stack:null}),o=$0(s,o,u)}else if(cn||ju(s,o,u,!1),S=(u&s.childLanes)!==0,cn||S){if(S=Tt,S!==null&&(d=Tf(S,u),d!==0&&d!==H.retryLane))throw H.retryLane=d,vl(s,d),Er(S,s,d),U0;Tb(N)||Lp(),o=$0(s,o,u)}else Tb(N)?(o.flags|=192,o.child=s.child,o=null):(s=H.treeContext,Pt=ii(N.nextSibling),Fn=o,rt=!0,Ka=null,ni=!1,s!==null&&PA(o,s),o=H0(o,d.children),o.flags|=4096);return o}return v?(eo(),N=d.fallback,v=o.mode,H=s.child,X=H.sibling,d=Us(H,{mode:"hidden",children:d.children}),d.subtreeFlags=H.subtreeFlags&65011712,X!==null?N=Us(X,N):(N=yl(N,v,u,null),N.flags|=2),N.return=o,d.return=o,d.sibling=N,o.child=d,rh(null,d),d=o.child,N=s.child.memoizedState,N===null?N=F0(u):(v=N.cachePool,v!==null?(H=ln._currentValue,v=v.parent!==H?{parent:H,pool:H}:v):v=VA(),N={baseLanes:N.baseLanes|u,cachePool:v}),d.memoizedState=N,d.childLanes=q0(s,S,u),o.memoizedState=B0,rh(s.child,d)):(Ja(o),u=s.child,s=u.sibling,u=Us(u,{mode:"visible",children:d.children}),u.return=o,u.sibling=null,s!==null&&(S=o.deletions,S===null?(o.deletions=[s],o.flags|=16):S.push(s)),o.child=u,o.memoizedState=null,u)}function H0(s,o){return o=Cp({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Cp(s,o){return s=kr(22,s,null,o),s.lanes=0,s}function $0(s,o,u){return Sl(o,s.child,null,u),s=H0(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function XC(s,o,u){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),a0(s.return,o,u)}function G0(s,o,u,d,v,_){var S=s.memoizedState;S===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:v,treeForkCount:_}:(S.isBackwards=o,S.rendering=null,S.renderingStartTime=0,S.last=d,S.tail=u,S.tailMode=v,S.treeForkCount=_)}function ZC(s,o,u){var d=o.pendingProps,v=d.revealOrder,_=d.tail;d=d.children;var S=Qt.current,N=(S&2)!==0;if(N?(S=S&1|2,o.flags|=128):S&=1,le(Qt,S),Hn(s,o,d,u),d=rt?Hf:0,!N&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&XC(s,u,o);else if(s.tag===19)XC(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)s=u.alternate,s!==null&&pp(s)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),G0(o,!1,v,u,_,d);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(s=v.alternate,s!==null&&pp(s)===null){o.child=v;break}s=v.sibling,v.sibling=u,u=v,v=s}G0(o,!0,u,null,_,d);break;case"together":G0(o,!1,null,null,void 0,d);break;default:o.memoizedState=null}return o.child}function $s(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),ro|=o.lanes,(u&o.childLanes)===0)if(s!==null){if(ju(s,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,u=Us(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Us(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function K0(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&op(s)))}function bz(s,o,u){switch(o.tag){case 3:Ct(o,o.stateNode.containerInfo),Wa(o,ln,s.memoizedState.cache),_l();break;case 27:case 5:ke(o);break;case 4:Ct(o,o.stateNode.containerInfo);break;case 10:Wa(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,y0(o),null;break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(Ja(o),o.flags|=128,null):(u&o.child.childLanes)!==0?QC(s,o,u):(Ja(o),s=$s(s,o,u),s!==null?s.sibling:null);Ja(o);break;case 19:var v=(s.flags&128)!==0;if(d=(u&o.childLanes)!==0,d||(ju(s,o,u,!1),d=(u&o.childLanes)!==0),v){if(d)return ZC(s,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),le(Qt,Qt.current),d)break;return null;case 22:return o.lanes=0,HC(s,o,u,o.pendingProps);case 24:Wa(o,ln,s.memoizedState.cache)}return $s(s,o,u)}function JC(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps)cn=!0;else{if(!K0(s,u)&&(o.flags&128)===0)return cn=!1,bz(s,o,u);cn=(s.flags&131072)!==0}else cn=!1,rt&&(o.flags&1048576)!==0&&OA(o,Hf,o.index);switch(o.lanes=0,o.tag){case 16:e:{var d=o.pendingProps;if(s=xl(o.elementType),o.type=s,typeof s=="function")Z_(s)?(d=Cl(s,d),o.tag=1,o=YC(null,o,s,d,u)):(o.tag=0,o=z0(null,o,s,d,u));else{if(s!=null){var v=s.$$typeof;if(v===q){o.tag=11,o=BC(null,o,s,d,u);break e}else if(v===O){o.tag=14,o=FC(null,o,s,d,u);break e}}throw o=ye(s)||s,Error(r(306,o,""))}}return o;case 0:return z0(s,o,o.type,o.pendingProps,u);case 1:return d=o.type,v=Cl(d,o.pendingProps),YC(s,o,d,v,u);case 3:e:{if(Ct(o,o.stateNode.containerInfo),s===null)throw Error(r(387));d=o.pendingProps;var _=o.memoizedState;v=_.element,d0(s,o),Zf(o,d,null,u);var S=o.memoizedState;if(d=S.cache,Wa(o,ln,d),d!==_.cache&&o0(o,[ln],u,!0),Xf(),d=S.element,_.isDehydrated)if(_={element:d,isDehydrated:!1,cache:S.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=WC(s,o,d,u);break e}else if(d!==v){v=Jr(Error(r(424)),o),$f(v),o=WC(s,o,d,u);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Pt=ii(s.firstChild),Fn=o,rt=!0,Ka=null,ni=!0,u=HA(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(_l(),d===v){o=$s(s,o,u);break e}Hn(s,o,d,u)}o=o.child}return o;case 26:return Ap(s,o),s===null?(u=cR(o.type,null,o.pendingProps,null))?o.memoizedState=u:rt||(u=o.type,s=o.pendingProps,d=qp(Ie.current).createElement(u),d[sn]=o,d[Rn]=s,$n(d,u,s),an(d),o.stateNode=d):o.memoizedState=cR(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return ke(o),s===null&&rt&&(d=o.stateNode=oR(o.type,o.pendingProps,Ie.current),Fn=o,ni=!0,v=Pt,lo(o.type)?(Ab=v,Pt=ii(d.firstChild)):Pt=v),Hn(s,o,o.pendingProps.children,u),Ap(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&rt&&((v=d=Pt)&&(d=Qz(d,o.type,o.pendingProps,ni),d!==null?(o.stateNode=d,Fn=o,Pt=ii(d.firstChild),ni=!1,v=!0):v=!1),v||Ya(o)),ke(o),v=o.type,_=o.pendingProps,S=s!==null?s.memoizedProps:null,d=_.children,wb(v,_)?d=null:S!==null&&wb(v,S)&&(o.flags|=32),o.memoizedState!==null&&(v=b0(s,o,fz,null,null,u),yh._currentValue=v),Ap(s,o),Hn(s,o,d,u),o.child;case 6:return s===null&&rt&&((s=u=Pt)&&(u=Xz(u,o.pendingProps,ni),u!==null?(o.stateNode=u,Fn=o,Pt=null,s=!0):s=!1),s||Ya(o)),null;case 13:return QC(s,o,u);case 4:return Ct(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=Sl(o,null,d,u):Hn(s,o,d,u),o.child;case 11:return BC(s,o,o.type,o.pendingProps,u);case 7:return Hn(s,o,o.pendingProps,u),o.child;case 8:return Hn(s,o,o.pendingProps.children,u),o.child;case 12:return Hn(s,o,o.pendingProps.children,u),o.child;case 10:return d=o.pendingProps,Wa(o,o.type,d.value),Hn(s,o,d.children,u),o.child;case 9:return v=o.type._context,d=o.pendingProps.children,wl(o),v=qn(v),d=d(v),o.flags|=1,Hn(s,o,d,u),o.child;case 14:return FC(s,o,o.type,o.pendingProps,u);case 15:return qC(s,o,o.type,o.pendingProps,u);case 19:return ZC(s,o,u);case 31:return _z(s,o,u);case 22:return HC(s,o,u,o.pendingProps);case 24:return wl(o),d=qn(ln),s===null?(v=c0(),v===null&&(v=Tt,_=l0(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=u),v=_),o.memoizedState={parent:d,cache:v},h0(o),Wa(o,ln,v)):((s.lanes&u)!==0&&(d0(s,o),Zf(o,null,null,u),Xf()),v=s.memoizedState,_=o.memoizedState,v.parent!==d?(v={parent:d,cache:d},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),Wa(o,ln,d)):(d=_.cache,Wa(o,ln,d),d!==v.cache&&o0(o,[ln],u,!0))),Hn(s,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Gs(s){s.flags|=4}function Y0(s,o,u,d,v){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(v&335544128)===v)if(s.stateNode.complete)s.flags|=8192;else if(AI())s.flags|=8192;else throw Tl=fp,f0}else s.flags&=-16777217}function eI(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!pR(o))if(AI())s.flags|=8192;else throw Tl=fp,f0}function Ip(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Mm():536870912,s.lanes|=o,Wu|=o)}function ih(s,o){if(!rt)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function kt(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,d=0;if(o)for(var v=s.child;v!==null;)u|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)u|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=d,s.childLanes=u,o}function wz(s,o,u){var d=o.pendingProps;switch(n0(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(o),null;case 1:return kt(o),null;case 3:return u=o.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Fs(ln),ae(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(Lu(o)?Gs(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,i0())),kt(o),null;case 26:var v=o.type,_=o.memoizedState;return s===null?(Gs(o),_!==null?(kt(o),eI(o,_)):(kt(o),Y0(o,v,null,d,u))):_?_!==s.memoizedState?(Gs(o),kt(o),eI(o,_)):(kt(o),o.flags&=-16777217):(s=s.memoizedProps,s!==d&&Gs(o),kt(o),Y0(o,v,s,d,u)),null;case 27:if(ze(o),u=Ie.current,v=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==d&&Gs(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return kt(o),null}s=de.current,Lu(o)?kA(o):(s=oR(v,d,u),o.stateNode=s,Gs(o))}return kt(o),null;case 5:if(ze(o),v=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==d&&Gs(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return kt(o),null}if(_=de.current,Lu(o))kA(o);else{var S=qp(Ie.current);switch(_){case 1:_=S.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:_=S.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":_=S.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":_=S.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":_=S.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof d.is=="string"?S.createElement("select",{is:d.is}):S.createElement("select"),d.multiple?_.multiple=!0:d.size&&(_.size=d.size);break;default:_=typeof d.is=="string"?S.createElement(v,{is:d.is}):S.createElement(v)}}_[sn]=o,_[Rn]=d;e:for(S=o.child;S!==null;){if(S.tag===5||S.tag===6)_.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===o)break e;for(;S.sibling===null;){if(S.return===null||S.return===o)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}o.stateNode=_;e:switch($n(_,v,d),v){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Gs(o)}}return kt(o),Y0(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,u),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==d&&Gs(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(r(166));if(s=Ie.current,Lu(o)){if(s=o.stateNode,u=o.memoizedProps,d=null,v=Fn,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}s[sn]=o,s=!!(s.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||QI(s.nodeValue,u)),s||Ya(o,!0)}else s=qp(s).createTextNode(d),s[sn]=o,o.stateNode=s}return kt(o),null;case 31:if(u=o.memoizedState,s===null||s.memoizedState!==null){if(d=Lu(o),u!==null){if(s===null){if(!d)throw Error(r(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[sn]=o}else _l(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;kt(o),s=!1}else u=i0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=u),s=!0;if(!s)return o.flags&256?(Dr(o),o):(Dr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return kt(o),null;case 13:if(d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=Lu(o),d!==null&&d.dehydrated!==null){if(s===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[sn]=o}else _l(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;kt(o),v=!1}else v=i0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Dr(o),o):(Dr(o),null)}return Dr(o),(o.flags&128)!==0?(o.lanes=u,o):(u=d!==null,s=s!==null&&s.memoizedState!==null,u&&(d=o.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool),_=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(_=d.memoizedState.cachePool.pool),_!==v&&(d.flags|=2048)),u!==s&&u&&(o.child.flags|=8192),Ip(o,o.updateQueue),kt(o),null);case 4:return ae(),s===null&&gb(o.stateNode.containerInfo),kt(o),null;case 10:return Fs(o.type),kt(o),null;case 19:if(Y(Qt),d=o.memoizedState,d===null)return kt(o),null;if(v=(o.flags&128)!==0,_=d.rendering,_===null)if(v)ih(d,!1);else{if(qt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(_=pp(s),_!==null){for(o.flags|=128,ih(d,!1),s=_.updateQueue,o.updateQueue=s,Ip(o,s),o.subtreeFlags=0,s=u,u=o.child;u!==null;)IA(u,s),u=u.sibling;return le(Qt,Qt.current&1|2),rt&&zs(o,d.treeForkCount),o.child}s=s.sibling}d.tail!==null&&or()>kp&&(o.flags|=128,v=!0,ih(d,!1),o.lanes=4194304)}else{if(!v)if(s=pp(_),s!==null){if(o.flags|=128,v=!0,s=s.updateQueue,o.updateQueue=s,Ip(o,s),ih(d,!0),d.tail===null&&d.tailMode==="hidden"&&!_.alternate&&!rt)return kt(o),null}else 2*or()-d.renderingStartTime>kp&&u!==536870912&&(o.flags|=128,v=!0,ih(d,!1),o.lanes=4194304);d.isBackwards?(_.sibling=o.child,o.child=_):(s=d.last,s!==null?s.sibling=_:o.child=_,d.last=_)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=or(),s.sibling=null,u=Qt.current,le(Qt,v?u&1|2:u&1),rt&&zs(o,d.treeForkCount),s):(kt(o),null);case 22:case 23:return Dr(o),v0(),d=o.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(u&536870912)!==0&&(o.flags&128)===0&&(kt(o),o.subtreeFlags&6&&(o.flags|=8192)):kt(o),u=o.updateQueue,u!==null&&Ip(o,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==u&&(o.flags|=2048),s!==null&&Y(El),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Fs(ln),kt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function Ez(s,o){switch(n0(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Fs(ln),ae(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return ze(o),null;case 31:if(o.memoizedState!==null){if(Dr(o),o.alternate===null)throw Error(r(340));_l()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(Dr(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));_l()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Y(Qt),null;case 4:return ae(),null;case 10:return Fs(o.type),null;case 22:case 23:return Dr(o),v0(),s!==null&&Y(El),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Fs(ln),null;case 25:return null;default:return null}}function tI(s,o){switch(n0(o),o.tag){case 3:Fs(ln),ae();break;case 26:case 27:case 5:ze(o);break;case 4:ae();break;case 31:o.memoizedState!==null&&Dr(o);break;case 13:Dr(o);break;case 19:Y(Qt);break;case 10:Fs(o.type);break;case 22:case 23:Dr(o),v0(),s!==null&&Y(El);break;case 24:Fs(ln)}}function sh(s,o){try{var u=o.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var v=d.next;u=v;do{if((u.tag&s)===s){d=void 0;var _=u.create,S=u.inst;d=_(),S.destroy=d}u=u.next}while(u!==v)}}catch(N){pt(o,o.return,N)}}function to(s,o,u){try{var d=o.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var _=v.next;d=_;do{if((d.tag&s)===s){var S=d.inst,N=S.destroy;if(N!==void 0){S.destroy=void 0,v=o;var H=u,X=N;try{X()}catch(se){pt(v,H,se)}}}d=d.next}while(d!==_)}}catch(se){pt(o,o.return,se)}}function nI(s){var o=s.updateQueue;if(o!==null){var u=s.stateNode;try{GA(o,u)}catch(d){pt(s,s.return,d)}}}function rI(s,o,u){u.props=Cl(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(d){pt(s,o,d)}}function ah(s,o){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof u=="function"?s.refCleanup=u(d):u.current=d}}catch(v){pt(s,o,v)}}function ds(s,o){var u=s.ref,d=s.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(v){pt(s,o,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){pt(s,o,v)}else u.current=null}function iI(s){var o=s.type,u=s.memoizedProps,d=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(v){pt(s,s.return,v)}}function W0(s,o,u){try{var d=s.stateNode;Hz(d,s.type,u,o),d[Rn]=o}catch(v){pt(s,s.return,v)}}function sI(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&lo(s.type)||s.tag===4}function Q0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||sI(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&lo(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function X0(s,o,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(s),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=xi));else if(d!==4&&(d===27&&lo(s.type)&&(u=s.stateNode,o=null),s=s.child,s!==null))for(X0(s,o,u),s=s.sibling;s!==null;)X0(s,o,u),s=s.sibling}function Rp(s,o,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(d!==4&&(d===27&&lo(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(Rp(s,o,u),s=s.sibling;s!==null;)Rp(s,o,u),s=s.sibling}function aI(s){var o=s.stateNode,u=s.memoizedProps;try{for(var d=s.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);$n(o,d,u),o[sn]=s,o[Rn]=u}catch(_){pt(s,s.return,_)}}var Ks=!1,fn=!1,Z0=!1,oI=typeof WeakSet=="function"?WeakSet:Set,On=null;function xz(s,o){if(s=s.containerInfo,_b=Qp,s=_A(s),$_(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var v=d.anchorOffset,_=d.focusNode;d=d.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var S=0,N=-1,H=-1,X=0,se=0,ce=s,ee=null;t:for(;;){for(var ne;ce!==u||v!==0&&ce.nodeType!==3||(N=S+v),ce!==_||d!==0&&ce.nodeType!==3||(H=S+d),ce.nodeType===3&&(S+=ce.nodeValue.length),(ne=ce.firstChild)!==null;)ee=ce,ce=ne;for(;;){if(ce===s)break t;if(ee===u&&++X===v&&(N=S),ee===_&&++se===d&&(H=S),(ne=ce.nextSibling)!==null)break;ce=ee,ee=ce.parentNode}ce=ne}u=N===-1||H===-1?null:{start:N,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(bb={focusedElem:s,selectionRange:u},Qp=!1,On=o;On!==null;)if(o=On,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,On=s;else for(;On!==null;){switch(o=On,_=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(u=0;u<s.length;u++)v=s[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,u=o,v=_.memoizedProps,_=_.memoizedState,d=u.stateNode;try{var xe=Cl(u.type,v);s=d.getSnapshotBeforeUpdate(xe,_),d.__reactInternalSnapshotBeforeUpdate=s}catch(Re){pt(u,u.return,Re)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,u=s.nodeType,u===9)xb(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":xb(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=o.sibling,s!==null){s.return=o.return,On=s;break}On=o.return}}function lI(s,o,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Ws(s,u),d&4&&sh(5,u);break;case 1:if(Ws(s,u),d&4)if(s=u.stateNode,o===null)try{s.componentDidMount()}catch(S){pt(u,u.return,S)}else{var v=Cl(u.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(v,o,s.__reactInternalSnapshotBeforeUpdate)}catch(S){pt(u,u.return,S)}}d&64&&nI(u),d&512&&ah(u,u.return);break;case 3:if(Ws(s,u),d&64&&(s=u.updateQueue,s!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{GA(s,o)}catch(S){pt(u,u.return,S)}}break;case 27:o===null&&d&4&&aI(u);case 26:case 5:Ws(s,u),o===null&&d&4&&iI(u),d&512&&ah(u,u.return);break;case 12:Ws(s,u);break;case 31:Ws(s,u),d&4&&fI(s,u);break;case 13:Ws(s,u),d&4&&hI(s,u),d&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=Pz.bind(null,u),Zz(s,u))));break;case 22:if(d=u.memoizedState!==null||Ks,!d){o=o!==null&&o.memoizedState!==null||fn,v=Ks;var _=fn;Ks=d,(fn=o)&&!_?Qs(s,u,(u.subtreeFlags&8772)!==0):Ws(s,u),Ks=v,fn=_}break;case 30:break;default:Ws(s,u)}}function uI(s){var o=s.alternate;o!==null&&(s.alternate=null,uI(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&_u(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var jt=null,yr=!1;function Ys(s,o,u){for(u=u.child;u!==null;)cI(s,o,u),u=u.sibling}function cI(s,o,u){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(_i,u)}catch{}switch(u.tag){case 26:fn||ds(u,o),Ys(s,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:fn||ds(u,o);var d=jt,v=yr;lo(u.type)&&(jt=u.stateNode,yr=!1),Ys(s,o,u),ph(u.stateNode),jt=d,yr=v;break;case 5:fn||ds(u,o);case 6:if(d=jt,v=yr,jt=null,Ys(s,o,u),jt=d,yr=v,jt!==null)if(yr)try{(jt.nodeType===9?jt.body:jt.nodeName==="HTML"?jt.ownerDocument.body:jt).removeChild(u.stateNode)}catch(_){pt(u,o,_)}else try{jt.removeChild(u.stateNode)}catch(_){pt(u,o,_)}break;case 18:jt!==null&&(yr?(s=jt,nR(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),rc(s)):nR(jt,u.stateNode));break;case 4:d=jt,v=yr,jt=u.stateNode.containerInfo,yr=!0,Ys(s,o,u),jt=d,yr=v;break;case 0:case 11:case 14:case 15:to(2,u,o),fn||to(4,u,o),Ys(s,o,u);break;case 1:fn||(ds(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"&&rI(u,o,d)),Ys(s,o,u);break;case 21:Ys(s,o,u);break;case 22:fn=(d=fn)||u.memoizedState!==null,Ys(s,o,u),fn=d;break;default:Ys(s,o,u)}}function fI(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{rc(s)}catch(u){pt(o,o.return,u)}}}function hI(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{rc(s)}catch(u){pt(o,o.return,u)}}function Tz(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new oI),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new oI),o;default:throw Error(r(435,s.tag))}}function Np(s,o){var u=Tz(s);o.forEach(function(d){if(!u.has(d)){u.add(d);var v=kz.bind(null,s,d);d.then(v,v)}})}function _r(s,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var v=u[d],_=s,S=o,N=S;e:for(;N!==null;){switch(N.tag){case 27:if(lo(N.type)){jt=N.stateNode,yr=!1;break e}break;case 5:jt=N.stateNode,yr=!1;break e;case 3:case 4:jt=N.stateNode.containerInfo,yr=!0;break e}N=N.return}if(jt===null)throw Error(r(160));cI(_,S,v),jt=null,yr=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)dI(o,s),o=o.sibling}var Ri=null;function dI(s,o){var u=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:_r(o,s),br(s),d&4&&(to(3,s,s.return),sh(3,s),to(5,s,s.return));break;case 1:_r(o,s),br(s),d&512&&(fn||u===null||ds(u,u.return)),d&64&&Ks&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var v=Ri;if(_r(o,s),br(s),d&512&&(fn||u===null||ds(u,u.return)),d&4){var _=u!==null?u.memoizedState:null;if(d=s.memoizedState,u===null)if(d===null)if(s.stateNode===null){e:{d=s.type,u=s.memoizedProps,v=v.ownerDocument||v;t:switch(d){case"title":_=v.getElementsByTagName("title")[0],(!_||_[Ji]||_[sn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(d),v.head.insertBefore(_,v.querySelector("head > title"))),$n(_,d,u),_[sn]=s,an(_),d=_;break e;case"link":var S=dR("link","href",v).get(d+(u.href||""));if(S){for(var N=0;N<S.length;N++)if(_=S[N],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){S.splice(N,1);break t}}_=v.createElement(d),$n(_,d,u),v.head.appendChild(_);break;case"meta":if(S=dR("meta","content",v).get(d+(u.content||""))){for(N=0;N<S.length;N++)if(_=S[N],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){S.splice(N,1);break t}}_=v.createElement(d),$n(_,d,u),v.head.appendChild(_);break;default:throw Error(r(468,d))}_[sn]=s,an(_),d=_}s.stateNode=d}else mR(v,s.type,s.stateNode);else s.stateNode=hR(v,d,s.memoizedProps);else _!==d?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,d===null?mR(v,s.type,s.stateNode):hR(v,d,s.memoizedProps)):d===null&&s.stateNode!==null&&W0(s,s.memoizedProps,u.memoizedProps)}break;case 27:_r(o,s),br(s),d&512&&(fn||u===null||ds(u,u.return)),u!==null&&d&4&&W0(s,s.memoizedProps,u.memoizedProps);break;case 5:if(_r(o,s),br(s),d&512&&(fn||u===null||ds(u,u.return)),s.flags&32){v=s.stateNode;try{vr(v,"")}catch(xe){pt(s,s.return,xe)}}d&4&&s.stateNode!=null&&(v=s.memoizedProps,W0(s,v,u!==null?u.memoizedProps:v)),d&1024&&(Z0=!0);break;case 6:if(_r(o,s),br(s),d&4){if(s.stateNode===null)throw Error(r(162));d=s.memoizedProps,u=s.stateNode;try{u.nodeValue=d}catch(xe){pt(s,s.return,xe)}}break;case 3:if(Gp=null,v=Ri,Ri=Hp(o.containerInfo),_r(o,s),Ri=v,br(s),d&4&&u!==null&&u.memoizedState.isDehydrated)try{rc(o.containerInfo)}catch(xe){pt(s,s.return,xe)}Z0&&(Z0=!1,mI(s));break;case 4:d=Ri,Ri=Hp(s.stateNode.containerInfo),_r(o,s),br(s),Ri=d;break;case 12:_r(o,s),br(s);break;case 31:_r(o,s),br(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Np(s,d)));break;case 13:_r(o,s),br(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Pp=or()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Np(s,d)));break;case 22:v=s.memoizedState!==null;var H=u!==null&&u.memoizedState!==null,X=Ks,se=fn;if(Ks=X||v,fn=se||H,_r(o,s),fn=se,Ks=X,br(s),d&8192)e:for(o=s.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||H||Ks||fn||Il(s)),u=null,o=s;;){if(o.tag===5||o.tag===26){if(u===null){H=u=o;try{if(_=H.stateNode,v)S=_.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{N=H.stateNode;var ce=H.memoizedProps.style,ee=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;N.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(xe){pt(H,H.return,xe)}}}else if(o.tag===6){if(u===null){H=o;try{H.stateNode.nodeValue=v?"":H.memoizedProps}catch(xe){pt(H,H.return,xe)}}}else if(o.tag===18){if(u===null){H=o;try{var ne=H.stateNode;v?rR(ne,!0):rR(H.stateNode,!1)}catch(xe){pt(H,H.return,xe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=s.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,Np(s,u))));break;case 19:_r(o,s),br(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Np(s,d)));break;case 30:break;case 21:break;default:_r(o,s),br(s)}}function br(s){var o=s.flags;if(o&2){try{for(var u,d=s.return;d!==null;){if(sI(d)){u=d;break}d=d.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,_=Q0(s);Rp(s,_,v);break;case 5:var S=u.stateNode;u.flags&32&&(vr(S,""),u.flags&=-33);var N=Q0(s);Rp(s,N,S);break;case 3:case 4:var H=u.stateNode.containerInfo,X=Q0(s);X0(s,X,H);break;default:throw Error(r(161))}}catch(se){pt(s,s.return,se)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function mI(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;mI(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Ws(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)lI(s,o.alternate,o),o=o.sibling}function Il(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:to(4,o,o.return),Il(o);break;case 1:ds(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&rI(o,o.return,u),Il(o);break;case 27:ph(o.stateNode);case 26:case 5:ds(o,o.return),Il(o);break;case 22:o.memoizedState===null&&Il(o);break;case 30:Il(o);break;default:Il(o)}s=s.sibling}}function Qs(s,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,v=s,_=o,S=_.flags;switch(_.tag){case 0:case 11:case 15:Qs(v,_,u),sh(4,_);break;case 1:if(Qs(v,_,u),d=_,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(X){pt(d,d.return,X)}if(d=_,v=d.updateQueue,v!==null){var N=d.stateNode;try{var H=v.shared.hiddenCallbacks;if(H!==null)for(v.shared.hiddenCallbacks=null,v=0;v<H.length;v++)$A(H[v],N)}catch(X){pt(d,d.return,X)}}u&&S&64&&nI(_),ah(_,_.return);break;case 27:aI(_);case 26:case 5:Qs(v,_,u),u&&d===null&&S&4&&iI(_),ah(_,_.return);break;case 12:Qs(v,_,u);break;case 31:Qs(v,_,u),u&&S&4&&fI(v,_);break;case 13:Qs(v,_,u),u&&S&4&&hI(v,_);break;case 22:_.memoizedState===null&&Qs(v,_,u),ah(_,_.return);break;case 30:break;default:Qs(v,_,u)}o=o.sibling}}function J0(s,o){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&Gf(u))}function eb(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Gf(s))}function Ni(s,o,u,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)pI(s,o,u,d),o=o.sibling}function pI(s,o,u,d){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Ni(s,o,u,d),v&2048&&sh(9,o);break;case 1:Ni(s,o,u,d);break;case 3:Ni(s,o,u,d),v&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Gf(s)));break;case 12:if(v&2048){Ni(s,o,u,d),s=o.stateNode;try{var _=o.memoizedProps,S=_.id,N=_.onPostCommit;typeof N=="function"&&N(S,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(H){pt(o,o.return,H)}}else Ni(s,o,u,d);break;case 31:Ni(s,o,u,d);break;case 13:Ni(s,o,u,d);break;case 23:break;case 22:_=o.stateNode,S=o.alternate,o.memoizedState!==null?_._visibility&2?Ni(s,o,u,d):oh(s,o):_._visibility&2?Ni(s,o,u,d):(_._visibility|=2,Gu(s,o,u,d,(o.subtreeFlags&10256)!==0||!1)),v&2048&&J0(S,o);break;case 24:Ni(s,o,u,d),v&2048&&eb(o.alternate,o);break;default:Ni(s,o,u,d)}}function Gu(s,o,u,d,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var _=s,S=o,N=u,H=d,X=S.flags;switch(S.tag){case 0:case 11:case 15:Gu(_,S,N,H,v),sh(8,S);break;case 23:break;case 22:var se=S.stateNode;S.memoizedState!==null?se._visibility&2?Gu(_,S,N,H,v):oh(_,S):(se._visibility|=2,Gu(_,S,N,H,v)),v&&X&2048&&J0(S.alternate,S);break;case 24:Gu(_,S,N,H,v),v&&X&2048&&eb(S.alternate,S);break;default:Gu(_,S,N,H,v)}o=o.sibling}}function oh(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=s,d=o,v=d.flags;switch(d.tag){case 22:oh(u,d),v&2048&&J0(d.alternate,d);break;case 24:oh(u,d),v&2048&&eb(d.alternate,d);break;default:oh(u,d)}o=o.sibling}}var lh=8192;function Ku(s,o,u){if(s.subtreeFlags&lh)for(s=s.child;s!==null;)gI(s,o,u),s=s.sibling}function gI(s,o,u){switch(s.tag){case 26:Ku(s,o,u),s.flags&lh&&s.memoizedState!==null&&c8(u,Ri,s.memoizedState,s.memoizedProps);break;case 5:Ku(s,o,u);break;case 3:case 4:var d=Ri;Ri=Hp(s.stateNode.containerInfo),Ku(s,o,u),Ri=d;break;case 22:s.memoizedState===null&&(d=s.alternate,d!==null&&d.memoizedState!==null?(d=lh,lh=16777216,Ku(s,o,u),lh=d):Ku(s,o,u));break;default:Ku(s,o,u)}}function vI(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function uh(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];On=d,_I(d,s)}vI(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)yI(s),s=s.sibling}function yI(s){switch(s.tag){case 0:case 11:case 15:uh(s),s.flags&2048&&to(9,s,s.return);break;case 3:uh(s);break;case 12:uh(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Op(s)):uh(s);break;default:uh(s)}}function Op(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];On=d,_I(d,s)}vI(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:to(8,o,o.return),Op(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Op(o));break;default:Op(o)}s=s.sibling}}function _I(s,o){for(;On!==null;){var u=On;switch(u.tag){case 0:case 11:case 15:to(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Gf(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,On=d;else e:for(u=s;On!==null;){d=On;var v=d.sibling,_=d.return;if(uI(d),d===u){On=null;break e}if(v!==null){v.return=_,On=v;break e}On=_}}}var Sz={getCacheForType:function(s){var o=qn(ln),u=o.data.get(s);return u===void 0&&(u=s(),o.data.set(s,u)),u},cacheSignal:function(){return qn(ln).controller.signal}},Az=typeof WeakMap=="function"?WeakMap:Map,ft=0,Tt=null,Ge=null,Ze=0,mt=0,Lr=null,no=!1,Yu=!1,tb=!1,Xs=0,qt=0,ro=0,Rl=0,nb=0,jr=0,Wu=0,ch=null,wr=null,rb=!1,Pp=0,bI=0,kp=1/0,Mp=null,io=null,_n=0,so=null,Qu=null,Zs=0,ib=0,sb=null,wI=null,fh=0,ab=null;function Vr(){return(ft&2)!==0&&Ze!==0?Ze&-Ze:Z.T!==null?hb():Dm()}function EI(){if(jr===0)if((Ze&536870912)===0||rt){var s=nl;nl<<=1,(nl&3932160)===0&&(nl=262144),jr=s}else jr=536870912;return s=Mr.current,s!==null&&(s.flags|=32),jr}function Er(s,o,u){(s===Tt&&(mt===2||mt===9)||s.cancelPendingCommit!==null)&&(Xu(s,0),ao(s,Ze,jr,!1)),rl(s,u),((ft&2)===0||s!==Tt)&&(s===Tt&&((ft&2)===0&&(Rl|=u),qt===4&&ao(s,Ze,jr,!1)),ms(s))}function xI(s,o,u){if((ft&6)!==0)throw Error(r(327));var d=!u&&(o&127)===0&&(o&s.expiredLanes)===0||bi(s,o),v=d?Rz(s,o):lb(s,o,!0),_=d;do{if(v===0){Yu&&!d&&ao(s,o,0,!1);break}else{if(u=s.current.alternate,_&&!Cz(u)){v=lb(s,o,!1),_=!1;continue}if(v===2){if(_=o,s.errorRecoveryDisabledLanes&_)var S=0;else S=s.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){o=S;e:{var N=s;v=ch;var H=N.current.memoizedState.isDehydrated;if(H&&(Xu(N,S).flags|=256),S=lb(N,S,!1),S!==2){if(tb&&!H){N.errorRecoveryDisabledLanes|=_,Rl|=_,v=4;break e}_=wr,wr=v,_!==null&&(wr===null?wr=_:wr.push.apply(wr,_))}v=S}if(_=!1,v!==2)continue}}if(v===1){Xu(s,0),ao(s,o,0,!0);break}e:{switch(d=s,_=v,_){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:ao(d,o,jr,!no);break e;case 2:wr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=Pp+300-or(),10<v)){if(ao(d,o,jr,!no),Qi(d,0,!0)!==0)break e;Zs=o,d.timeoutHandle=eR(TI.bind(null,d,u,wr,Mp,rb,o,jr,Rl,Wu,no,_,"Throttled",-0,0),v);break e}TI(d,u,wr,Mp,rb,o,jr,Rl,Wu,no,_,null,-0,0)}}break}while(!0);ms(s)}function TI(s,o,u,d,v,_,S,N,H,X,se,ce,ee,ne){if(s.timeoutHandle=-1,ce=o.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xi},gI(o,_,ce);var xe=(_&62914560)===_?Pp-or():(_&4194048)===_?bI-or():0;if(xe=f8(ce,xe),xe!==null){Zs=_,s.cancelPendingCommit=xe(PI.bind(null,s,o,_,u,d,v,S,N,H,se,ce,null,ee,ne)),ao(s,_,S,!X);return}}PI(s,o,_,u,d,v,S,N,H)}function Cz(s){for(var o=s;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var v=u[d],_=v.getSnapshot;v=v.value;try{if(!Pr(_(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ao(s,o,u,d){o&=~nb,o&=~Rl,s.suspendedLanes|=o,s.pingedLanes&=~o,d&&(s.warmLanes|=o),d=s.expirationTimes;for(var v=o;0<v;){var _=31-Yt(v),S=1<<_;d[_]=-1,v&=~S}u!==0&&il(s,u,o)}function Dp(){return(ft&6)===0?(hh(0),!1):!0}function ob(){if(Ge!==null){if(mt===0)var s=Ge.return;else s=Ge,Bs=bl=null,x0(s),Bu=null,Yf=0,s=Ge;for(;s!==null;)tI(s.alternate,s),s=s.return;Ge=null}}function Xu(s,o){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,Kz(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),Zs=0,ob(),Tt=s,Ge=u=Us(s.current,null),Ze=o,mt=0,Lr=null,no=!1,Yu=bi(s,o),tb=!1,Wu=jr=nb=Rl=ro=qt=0,wr=ch=null,rb=!1,(o&8)!==0&&(o|=o&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=o;0<d;){var v=31-Yt(d),_=1<<v;o|=s[v],d&=~_}return Xs=o,np(),u}function SI(s,o){Ue=null,Z.H=nh,o===zu||o===cp?(o=BA(),mt=3):o===f0?(o=BA(),mt=4):mt=o===U0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Lr=o,Ge===null&&(qt=1,Tp(s,Jr(o,s.current)))}function AI(){var s=Mr.current;return s===null?!0:(Ze&4194048)===Ze?ri===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?s===ri:!1}function CI(){var s=Z.H;return Z.H=nh,s===null?nh:s}function II(){var s=Z.A;return Z.A=Sz,s}function Lp(){qt=4,no||(Ze&4194048)!==Ze&&Mr.current!==null||(Yu=!0),(ro&134217727)===0&&(Rl&134217727)===0||Tt===null||ao(Tt,Ze,jr,!1)}function lb(s,o,u){var d=ft;ft|=2;var v=CI(),_=II();(Tt!==s||Ze!==o)&&(Mp=null,Xu(s,o)),o=!1;var S=qt;e:do try{if(mt!==0&&Ge!==null){var N=Ge,H=Lr;switch(mt){case 8:ob(),S=6;break e;case 3:case 2:case 9:case 6:Mr.current===null&&(o=!0);var X=mt;if(mt=0,Lr=null,Zu(s,N,H,X),u&&Yu){S=0;break e}break;default:X=mt,mt=0,Lr=null,Zu(s,N,H,X)}}Iz(),S=qt;break}catch(se){SI(s,se)}while(!0);return o&&s.shellSuspendCounter++,Bs=bl=null,ft=d,Z.H=v,Z.A=_,Ge===null&&(Tt=null,Ze=0,np()),S}function Iz(){for(;Ge!==null;)RI(Ge)}function Rz(s,o){var u=ft;ft|=2;var d=CI(),v=II();Tt!==s||Ze!==o?(Mp=null,kp=or()+500,Xu(s,o)):Yu=bi(s,o);e:do try{if(mt!==0&&Ge!==null){o=Ge;var _=Lr;t:switch(mt){case 1:mt=0,Lr=null,Zu(s,o,_,1);break;case 2:case 9:if(UA(_)){mt=0,Lr=null,NI(o);break}o=function(){mt!==2&&mt!==9||Tt!==s||(mt=7),ms(s)},_.then(o,o);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:UA(_)?(mt=0,Lr=null,NI(o)):(mt=0,Lr=null,Zu(s,o,_,7));break;case 5:var S=null;switch(Ge.tag){case 26:S=Ge.memoizedState;case 5:case 27:var N=Ge;if(S?pR(S):N.stateNode.complete){mt=0,Lr=null;var H=N.sibling;if(H!==null)Ge=H;else{var X=N.return;X!==null?(Ge=X,jp(X)):Ge=null}break t}}mt=0,Lr=null,Zu(s,o,_,5);break;case 6:mt=0,Lr=null,Zu(s,o,_,6);break;case 8:ob(),qt=6;break e;default:throw Error(r(462))}}Nz();break}catch(se){SI(s,se)}while(!0);return Bs=bl=null,Z.H=d,Z.A=v,ft=u,Ge!==null?0:(Tt=null,Ze=0,np(),qt)}function Nz(){for(;Ge!==null&&!V_();)RI(Ge)}function RI(s){var o=JC(s.alternate,s,Xs);s.memoizedProps=s.pendingProps,o===null?jp(s):Ge=o}function NI(s){var o=s,u=o.alternate;switch(o.tag){case 15:case 0:o=KC(u,o,o.pendingProps,o.type,void 0,Ze);break;case 11:o=KC(u,o,o.pendingProps,o.type.render,o.ref,Ze);break;case 5:x0(o);default:tI(u,o),o=Ge=IA(o,Xs),o=JC(u,o,Xs)}s.memoizedProps=s.pendingProps,o===null?jp(s):Ge=o}function Zu(s,o,u,d){Bs=bl=null,x0(o),Bu=null,Yf=0;var v=o.return;try{if(yz(s,v,o,u,Ze)){qt=1,Tp(s,Jr(u,s.current)),Ge=null;return}}catch(_){if(v!==null)throw Ge=v,_;qt=1,Tp(s,Jr(u,s.current)),Ge=null;return}o.flags&32768?(rt||d===1?s=!0:Yu||(Ze&536870912)!==0?s=!1:(no=s=!0,(d===2||d===9||d===3||d===6)&&(d=Mr.current,d!==null&&d.tag===13&&(d.flags|=16384))),OI(o,s)):jp(o)}function jp(s){var o=s;do{if((o.flags&32768)!==0){OI(o,no);return}s=o.return;var u=wz(o.alternate,o,Xs);if(u!==null){Ge=u;return}if(o=o.sibling,o!==null){Ge=o;return}Ge=o=s}while(o!==null);qt===0&&(qt=5)}function OI(s,o){do{var u=Ez(s.alternate,s);if(u!==null){u.flags&=32767,Ge=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(s=s.sibling,s!==null)){Ge=s;return}Ge=s=u}while(s!==null);qt=6,Ge=null}function PI(s,o,u,d,v,_,S,N,H){s.cancelPendingCommit=null;do Vp();while(_n!==0);if((ft&6)!==0)throw Error(r(327));if(o!==null){if(o===s.current)throw Error(r(177));if(_=o.lanes|o.childLanes,_|=Q_,B_(s,u,_,S,N,H),s===Tt&&(Ge=Tt=null,Ze=0),Qu=o,so=s,Zs=u,ib=_,sb=v,wI=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Mz(La,function(){return jI(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=Z.T,Z.T=null,v=oe.p,oe.p=2,S=ft,ft|=4;try{xz(s,o,u)}finally{ft=S,oe.p=v,Z.T=d}}_n=1,kI(),MI(),DI()}}function kI(){if(_n===1){_n=0;var s=so,o=Qu,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null;var d=oe.p;oe.p=2;var v=ft;ft|=4;try{dI(o,s);var _=bb,S=_A(s.containerInfo),N=_.focusedElem,H=_.selectionRange;if(S!==N&&N&&N.ownerDocument&&yA(N.ownerDocument.documentElement,N)){if(H!==null&&$_(N)){var X=H.start,se=H.end;if(se===void 0&&(se=X),"selectionStart"in N)N.selectionStart=X,N.selectionEnd=Math.min(se,N.value.length);else{var ce=N.ownerDocument||document,ee=ce&&ce.defaultView||window;if(ee.getSelection){var ne=ee.getSelection(),xe=N.textContent.length,Re=Math.min(H.start,xe),Et=H.end===void 0?Re:Math.min(H.end,xe);!ne.extend&&Re>Et&&(S=Et,Et=Re,Re=S);var K=vA(N,Re),G=vA(N,Et);if(K&&G&&(ne.rangeCount!==1||ne.anchorNode!==K.node||ne.anchorOffset!==K.offset||ne.focusNode!==G.node||ne.focusOffset!==G.offset)){var Q=ce.createRange();Q.setStart(K.node,K.offset),ne.removeAllRanges(),Re>Et?(ne.addRange(Q),ne.extend(G.node,G.offset)):(Q.setEnd(G.node,G.offset),ne.addRange(Q))}}}}for(ce=[],ne=N;ne=ne.parentNode;)ne.nodeType===1&&ce.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ce.length;N++){var ue=ce[N];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Qp=!!_b,bb=_b=null}finally{ft=v,oe.p=d,Z.T=u}}s.current=o,_n=2}}function MI(){if(_n===2){_n=0;var s=so,o=Qu,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=Z.T,Z.T=null;var d=oe.p;oe.p=2;var v=ft;ft|=4;try{lI(s,o.alternate,o)}finally{ft=v,oe.p=d,Z.T=u}}_n=3}}function DI(){if(_n===4||_n===3){_n=0,Im();var s=so,o=Qu,u=Zs,d=wI;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?_n=5:(_n=0,Qu=so=null,LI(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(io=null),Ds(u),o=o.stateNode,zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(_i,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=Z.T,v=oe.p,oe.p=2,Z.T=null;try{for(var _=s.onRecoverableError,S=0;S<d.length;S++){var N=d[S];_(N.value,{componentStack:N.stack})}}finally{Z.T=o,oe.p=v}}(Zs&3)!==0&&Vp(),ms(s),v=s.pendingLanes,(u&261930)!==0&&(v&42)!==0?s===ab?fh++:(fh=0,ab=s):fh=0,hh(0)}}function LI(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Gf(o)))}function Vp(){return kI(),MI(),DI(),jI()}function jI(){if(_n!==5)return!1;var s=so,o=ib;ib=0;var u=Ds(Zs),d=Z.T,v=oe.p;try{oe.p=32>u?32:u,Z.T=null,u=sb,sb=null;var _=so,S=Zs;if(_n=0,Qu=so=null,Zs=0,(ft&6)!==0)throw Error(r(331));var N=ft;if(ft|=4,yI(_.current),pI(_,_.current,S,u),ft=N,hh(0,!1),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(_i,_)}catch{}return!0}finally{oe.p=v,Z.T=d,LI(s,o)}}function VI(s,o,u){o=Jr(u,o),o=V0(s.stateNode,o,2),s=Za(s,o,2),s!==null&&(rl(s,2),ms(s))}function pt(s,o,u){if(s.tag===3)VI(s,s,u);else for(;o!==null;){if(o.tag===3){VI(o,s,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(io===null||!io.has(d))){s=Jr(u,s),u=UC(2),d=Za(o,u,2),d!==null&&(zC(u,d,o,s),rl(d,2),ms(d));break}}o=o.return}}function ub(s,o,u){var d=s.pingCache;if(d===null){d=s.pingCache=new Az;var v=new Set;d.set(o,v)}else v=d.get(o),v===void 0&&(v=new Set,d.set(o,v));v.has(u)||(tb=!0,v.add(u),s=Oz.bind(null,s,o,u),o.then(s,s))}function Oz(s,o,u){var d=s.pingCache;d!==null&&d.delete(o),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,Tt===s&&(Ze&u)===u&&(qt===4||qt===3&&(Ze&62914560)===Ze&&300>or()-Pp?(ft&2)===0&&Xu(s,0):nb|=u,Wu===Ze&&(Wu=0)),ms(s)}function UI(s,o){o===0&&(o=Mm()),s=vl(s,o),s!==null&&(rl(s,o),ms(s))}function Pz(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),UI(s,u)}function kz(s,o){var u=0;switch(s.tag){case 31:case 13:var d=s.stateNode,v=s.memoizedState;v!==null&&(u=v.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(o),UI(s,u)}function Mz(s,o){return yn(s,o)}var Up=null,Ju=null,cb=!1,zp=!1,fb=!1,oo=0;function ms(s){s!==Ju&&s.next===null&&(Ju===null?Up=Ju=s:Ju=Ju.next=s),zp=!0,cb||(cb=!0,Lz())}function hh(s,o){if(!fb&&zp){fb=!0;do for(var u=!1,d=Up;d!==null;){if(s!==0){var v=d.pendingLanes;if(v===0)var _=0;else{var S=d.suspendedLanes,N=d.pingedLanes;_=(1<<31-Yt(42|s)+1)-1,_&=v&~(S&~N),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,qI(d,_))}else _=Ze,_=Qi(d,d===Tt?_:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(_&3)===0||bi(d,_)||(u=!0,qI(d,_));d=d.next}while(u);fb=!1}}function Dz(){zI()}function zI(){zp=cb=!1;var s=0;oo!==0&&Gz()&&(s=oo);for(var o=or(),u=null,d=Up;d!==null;){var v=d.next,_=BI(d,o);_===0?(d.next=null,u===null?Up=v:u.next=v,v===null&&(Ju=u)):(u=d,(s!==0||(_&3)!==0)&&(zp=!0)),d=v}_n!==0&&_n!==5||hh(s),oo!==0&&(oo=0)}function BI(s,o){for(var u=s.suspendedLanes,d=s.pingedLanes,v=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var S=31-Yt(_),N=1<<S,H=v[S];H===-1?((N&u)===0||(N&d)!==0)&&(v[S]=z_(N,o)):H<=o&&(s.expiredLanes|=N),_&=~N}if(o=Tt,u=Ze,u=Qi(s,s===o?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,u===0||s===o&&(mt===2||mt===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&Da(d),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||bi(s,u)){if(o=u&-u,o===s.callbackPriority)return o;switch(d!==null&&Da(d),Ds(u)){case 2:case 8:u=Ef;break;case 32:u=La;break;case 268435456:u=Rm;break;default:u=La}return d=FI.bind(null,s),u=yn(u,d),s.callbackPriority=o,s.callbackNode=u,o}return d!==null&&d!==null&&Da(d),s.callbackPriority=2,s.callbackNode=null,2}function FI(s,o){if(_n!==0&&_n!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(Vp()&&s.callbackNode!==u)return null;var d=Ze;return d=Qi(s,s===Tt?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(xI(s,d,o),BI(s,or()),s.callbackNode!=null&&s.callbackNode===u?FI.bind(null,s):null)}function qI(s,o){if(Vp())return null;xI(s,o,!0)}function Lz(){Yz(function(){(ft&6)!==0?yn(wf,Dz):zI()})}function hb(){if(oo===0){var s=Vu;s===0&&(s=Yi,Yi<<=1,(Yi&261888)===0&&(Yi=256)),oo=s}return oo}function HI(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:xu(""+s)}function $I(s,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,s.id&&u.setAttribute("form",s.id),o.parentNode.insertBefore(u,o),s=new FormData(s),u.parentNode.removeChild(u),s}function jz(s,o,u,d,v){if(o==="submit"&&u&&u.stateNode===v){var _=HI((v[Rn]||null).action),S=d.submitter;S&&(o=(o=S[Rn]||null)?HI(o.formAction):S.getAttribute("formAction"),o!==null&&(_=o,S=null));var N=new os("action","action",null,d,v);s.push({event:N,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(oo!==0){var H=S?$I(v,S):new FormData(v);P0(u,{pending:!0,data:H,method:v.method,action:_},null,H)}}else typeof _=="function"&&(N.preventDefault(),H=S?$I(v,S):new FormData(v),P0(u,{pending:!0,data:H,method:v.method,action:_},_,H))},currentTarget:v}]})}}for(var db=0;db<W_.length;db++){var mb=W_[db],Vz=mb.toLowerCase(),Uz=mb[0].toUpperCase()+mb.slice(1);Ii(Vz,"on"+Uz)}Ii(EA,"onAnimationEnd"),Ii(xA,"onAnimationIteration"),Ii(TA,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(tz,"onTransitionRun"),Ii(nz,"onTransitionStart"),Ii(rz,"onTransitionCancel"),Ii(SA,"onTransitionEnd"),rs("onMouseEnter",["mouseout","mouseover"]),rs("onMouseLeave",["mouseout","mouseover"]),rs("onPointerEnter",["pointerout","pointerover"]),rs("onPointerLeave",["pointerout","pointerover"]),ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ns("onBeforeInput",["compositionend","keypress","textInput","paste"]),ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dh));function GI(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var d=s[u],v=d.event;d=d.listeners;e:{var _=void 0;if(o)for(var S=d.length-1;0<=S;S--){var N=d[S],H=N.instance,X=N.currentTarget;if(N=N.listener,H!==_&&v.isPropagationStopped())break e;_=N,v.currentTarget=X;try{_(v)}catch(se){tp(se)}v.currentTarget=null,_=H}else for(S=0;S<d.length;S++){if(N=d[S],H=N.instance,X=N.currentTarget,N=N.listener,H!==_&&v.isPropagationStopped())break e;_=N,v.currentTarget=X;try{_(v)}catch(se){tp(se)}v.currentTarget=null,_=H}}}}function Ke(s,o){var u=o[yu];u===void 0&&(u=o[yu]=new Set);var d=s+"__bubble";u.has(d)||(KI(o,s,2,!1),u.add(d))}function pb(s,o,u){var d=0;o&&(d|=4),KI(u,s,d,o)}var Bp="_reactListening"+Math.random().toString(36).slice(2);function gb(s){if(!s[Bp]){s[Bp]=!0,Sf.forEach(function(u){u!=="selectionchange"&&(zz.has(u)||pb(u,!1,s),pb(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Bp]||(o[Bp]=!0,pb("selectionchange",!1,o))}}function KI(s,o,u,d){switch(ER(o)){case 2:var v=m8;break;case 8:v=p8;break;default:v=Ob}u=v.bind(null,o,u,s),v=void 0,!ul||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),d?v!==void 0?s.addEventListener(o,u,{capture:!0,passive:v}):s.addEventListener(o,u,!0):v!==void 0?s.addEventListener(o,u,{passive:v}):s.addEventListener(o,u,!1)}function vb(s,o,u,d,v){var _=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var N=d.stateNode.containerInfo;if(N===v)break;if(S===4)for(S=d.return;S!==null;){var H=S.tag;if((H===3||H===4)&&S.stateNode.containerInfo===v)return;S=S.return}for(;N!==null;){if(S=es(N),S===null)return;if(H=S.tag,H===5||H===6||H===26||H===27){d=_=S;continue e}N=N.parentNode}}d=d.return}Fa(function(){var X=_,se=Wr(u),ce=[];e:{var ee=AA.get(s);if(ee!==void 0){var ne=os,xe=s;switch(s){case"keypress":if(fl(u)===0)break e;case"keydown":case"keyup":ne=Zm;break;case"focusin":xe="focus",ne=dl;break;case"focusout":xe="blur",ne=dl;break;case"beforeblur":case"afterblur":ne=dl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Vf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=qm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=E;break;case EA:case xA:case TA:ne=$m;break;case SA:ne=j;break;case"scroll":case"scrollend":ne=jf;break;case"wheel":ne=te;break;case"copy":case"cut":case"paste":ne=Gm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Vs;break;case"toggle":case"beforetoggle":ne=Ve}var Re=(o&4)!==0,Et=!Re&&(s==="scroll"||s==="scrollend"),K=Re?ee!==null?ee+"Capture":null:ee;Re=[];for(var G=X,Q;G!==null;){var ue=G;if(Q=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Q===null||K===null||(ue=Ti(G,K),ue!=null&&Re.push(mh(G,ue,Q))),Et)break;G=G.return}0<Re.length&&(ee=new ne(ee,xe,null,u,se),ce.push({event:ee,listeners:Re}))}}if((o&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",ne=s==="mouseout"||s==="pointerout",ee&&u!==Mf&&(xe=u.relatedTarget||u.fromElement)&&(es(xe)||xe[Zi]))break e;if((ne||ee)&&(ee=se.window===se?se:(ee=se.ownerDocument)?ee.defaultView||ee.parentWindow:window,ne?(xe=u.relatedTarget||u.toElement,ne=X,xe=xe?es(xe):null,xe!==null&&(Et=a(xe),Re=xe.tag,xe!==Et||Re!==5&&Re!==27&&Re!==6)&&(xe=null)):(ne=null,xe=X),ne!==xe)){if(Re=Vf,ue="onMouseLeave",K="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(Re=Vs,ue="onPointerLeave",K="onPointerEnter",G="pointer"),Et=ne==null?ee:Nr(ne),Q=xe==null?ee:Nr(xe),ee=new Re(ue,G+"leave",ne,u,se),ee.target=Et,ee.relatedTarget=Q,ue=null,es(se)===X&&(Re=new Re(K,G+"enter",xe,u,se),Re.target=Q,Re.relatedTarget=Et,ue=Re),Et=ue,ne&&xe)t:{for(Re=Bz,K=ne,G=xe,Q=0,ue=K;ue;ue=Re(ue))Q++;ue=0;for(var Ae=G;Ae;Ae=Re(Ae))ue++;for(;0<Q-ue;)K=Re(K),Q--;for(;0<ue-Q;)G=Re(G),ue--;for(;Q--;){if(K===G||G!==null&&K===G.alternate){Re=K;break t}K=Re(K),G=Re(G)}Re=null}else Re=null;ne!==null&&YI(ce,ee,ne,Re,!1),xe!==null&&Et!==null&&YI(ce,Et,xe,Re,!0)}}e:{if(ee=X?Nr(X):window,ne=ee.nodeName&&ee.nodeName.toLowerCase(),ne==="select"||ne==="input"&&ee.type==="file")var st=fA;else if(uA(ee))if(hA)st=ZU;else{st=QU;var Se=WU}else ne=ee.nodeName,!ne||ne.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?X&&Eu(X.elementType)&&(st=fA):st=XU;if(st&&(st=st(s,X))){cA(ce,st,u,se);break e}Se&&Se(s,ee,X),s==="focusout"&&X&&ee.type==="number"&&X.memoizedProps.value!=null&&Of(ee,"number",ee.value)}switch(Se=X?Nr(X):window,s){case"focusin":(uA(Se)||Se.contentEditable==="true")&&(Nu=Se,G_=X,qf=null);break;case"focusout":qf=G_=Nu=null;break;case"mousedown":K_=!0;break;case"contextmenu":case"mouseup":case"dragend":K_=!1,bA(ce,u,se);break;case"selectionchange":if(ez)break;case"keydown":case"keyup":bA(ce,u,se)}var Be;if(ct)e:{switch(s){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Ru?ml(s,u)&&(Je="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Je="onCompositionStart");Je&&(cs&&u.locale!=="ko"&&(Ru||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Ru&&(Be=Lf()):(as=se,Df="value"in as?as.value:as.textContent,Ru=!0)),Se=Fp(X,Je),0<Se.length&&(Je=new us(Je,s,null,u,se),ce.push({event:Je,listeners:Se}),Be?Je.data=Be:(Be=Iu(u),Be!==null&&(Je.data=Be)))),(Be=Xr?$U(s,u):GU(s,u))&&(Je=Fp(X,"onBeforeInput"),0<Je.length&&(Se=new us("onBeforeInput","beforeinput",null,u,se),ce.push({event:Se,listeners:Je}),Se.data=Be)),jz(ce,s,X,u,se)}GI(ce,o)})}function mh(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Fp(s,o){for(var u=o+"Capture",d=[];s!==null;){var v=s,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=Ti(s,u),v!=null&&d.unshift(mh(s,v,_)),v=Ti(s,o),v!=null&&d.push(mh(s,v,_))),s.tag===3)return d;s=s.return}return[]}function Bz(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function YI(s,o,u,d,v){for(var _=o._reactName,S=[];u!==null&&u!==d;){var N=u,H=N.alternate,X=N.stateNode;if(N=N.tag,H!==null&&H===d)break;N!==5&&N!==26&&N!==27||X===null||(H=X,v?(X=Ti(u,_),X!=null&&S.unshift(mh(u,X,H))):v||(X=Ti(u,_),X!=null&&S.push(mh(u,X,H)))),u=u.return}S.length!==0&&s.push({event:o,listeners:S})}var Fz=/\r\n?/g,qz=/\u0000|\uFFFD/g;function WI(s){return(typeof s=="string"?s:""+s).replace(Fz,`
`).replace(qz,"")}function QI(s,o){return o=WI(o),WI(s)===o}function wt(s,o,u,d,v,_){switch(u){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||vr(s,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&vr(s,""+d);break;case"className":Or(s,"class",d);break;case"tabIndex":Or(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Or(s,u,d);break;case"style":kf(s,d,_);break;case"data":if(o!=="object"){Or(s,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||u!=="href")){s.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(u);break}d=xu(""+d),s.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(o!=="input"&&wt(s,o,"name",v.name,v,null),wt(s,o,"formEncType",v.formEncType,v,null),wt(s,o,"formMethod",v.formMethod,v,null),wt(s,o,"formTarget",v.formTarget,v,null)):(wt(s,o,"encType",v.encType,v,null),wt(s,o,"method",v.method,v,null),wt(s,o,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(u);break}d=xu(""+d),s.setAttribute(u,d);break;case"onClick":d!=null&&(s.onclick=xi);break;case"onScroll":d!=null&&Ke("scroll",s);break;case"onScrollEnd":d!=null&&Ke("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}u=xu(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(u,""+d):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":d===!0?s.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(u,d):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(u,d):s.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(u):s.setAttribute(u,d);break;case"popover":Ke("beforetoggle",s),Ke("toggle",s),bu(s,"popover",d);break;case"xlinkActuate":on(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":on(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":on(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":on(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":on(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":on(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":on(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":on(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":on(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":bu(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Fm.get(u)||u,bu(s,u,d))}}function yb(s,o,u,d,v,_){switch(u){case"style":kf(s,d,_);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"children":typeof d=="string"?vr(s,d):(typeof d=="number"||typeof d=="bigint")&&vr(s,""+d);break;case"onScroll":d!=null&&Ke("scroll",s);break;case"onScrollEnd":d!=null&&Ke("scrollend",s);break;case"onClick":d!=null&&(s.onclick=xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Af.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),_=s[Rn]||null,_=_!=null?_[u]:null,typeof _=="function"&&s.removeEventListener(o,_,v),typeof d=="function")){typeof _!="function"&&_!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(o,d,v);break e}u in s?s[u]=d:d===!0?s.setAttribute(u,""):bu(s,u,d)}}}function $n(s,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",s),Ke("load",s);var d=!1,v=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var S=u[_];if(S!=null)switch(_){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:wt(s,o,_,S,u,null)}}v&&wt(s,o,"srcSet",u.srcSet,u,null),d&&wt(s,o,"src",u.src,u,null);return;case"input":Ke("invalid",s);var N=_=S=v=null,H=null,X=null;for(d in u)if(u.hasOwnProperty(d)){var se=u[d];if(se!=null)switch(d){case"name":v=se;break;case"type":S=se;break;case"checked":H=se;break;case"defaultChecked":X=se;break;case"value":_=se;break;case"defaultValue":N=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,o));break;default:wt(s,o,d,se,u,null)}}Um(s,_,N,H,X,S,v,!1);return;case"select":Ke("invalid",s),d=S=_=null;for(v in u)if(u.hasOwnProperty(v)&&(N=u[v],N!=null))switch(v){case"value":_=N;break;case"defaultValue":S=N;break;case"multiple":d=N;default:wt(s,o,v,N,u,null)}o=_,u=S,s.multiple=!!d,o!=null?Va(s,!!d,o,!1):u!=null&&Va(s,!!d,u,!0);return;case"textarea":Ke("invalid",s),_=v=d=null;for(S in u)if(u.hasOwnProperty(S)&&(N=u[S],N!=null))switch(S){case"value":d=N;break;case"defaultValue":v=N;break;case"children":_=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:wt(s,o,S,N,u,null)}Ua(s,d,v,_);return;case"option":for(H in u)if(u.hasOwnProperty(H)&&(d=u[H],d!=null))switch(H){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:wt(s,o,H,d,u,null)}return;case"dialog":Ke("beforetoggle",s),Ke("toggle",s),Ke("cancel",s),Ke("close",s);break;case"iframe":case"object":Ke("load",s);break;case"video":case"audio":for(d=0;d<dh.length;d++)Ke(dh[d],s);break;case"image":Ke("error",s),Ke("load",s);break;case"details":Ke("toggle",s);break;case"embed":case"source":case"link":Ke("error",s),Ke("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in u)if(u.hasOwnProperty(X)&&(d=u[X],d!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:wt(s,o,X,d,u,null)}return;default:if(Eu(o)){for(se in u)u.hasOwnProperty(se)&&(d=u[se],d!==void 0&&yb(s,o,se,d,u,void 0));return}}for(N in u)u.hasOwnProperty(N)&&(d=u[N],d!=null&&wt(s,o,N,d,u,null))}function Hz(s,o,u,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,S=null,N=null,H=null,X=null,se=null;for(ne in u){var ce=u[ne];if(u.hasOwnProperty(ne)&&ce!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":H=ce;default:d.hasOwnProperty(ne)||wt(s,o,ne,null,d,ce)}}for(var ee in d){var ne=d[ee];if(ce=u[ee],d.hasOwnProperty(ee)&&(ne!=null||ce!=null))switch(ee){case"type":_=ne;break;case"name":v=ne;break;case"checked":X=ne;break;case"defaultChecked":se=ne;break;case"value":S=ne;break;case"defaultValue":N=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,o));break;default:ne!==ce&&wt(s,o,ee,ne,d,ce)}}wu(s,S,N,H,X,se,_,v);return;case"select":ne=S=N=ee=null;for(_ in u)if(H=u[_],u.hasOwnProperty(_)&&H!=null)switch(_){case"value":break;case"multiple":ne=H;default:d.hasOwnProperty(_)||wt(s,o,_,null,d,H)}for(v in d)if(_=d[v],H=u[v],d.hasOwnProperty(v)&&(_!=null||H!=null))switch(v){case"value":ee=_;break;case"defaultValue":N=_;break;case"multiple":S=_;default:_!==H&&wt(s,o,v,_,d,H)}o=N,u=S,d=ne,ee!=null?Va(s,!!u,ee,!1):!!d!=!!u&&(o!=null?Va(s,!!u,o,!0):Va(s,!!u,u?[]:"",!1));return;case"textarea":ne=ee=null;for(N in u)if(v=u[N],u.hasOwnProperty(N)&&v!=null&&!d.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:wt(s,o,N,null,d,v)}for(S in d)if(v=d[S],_=u[S],d.hasOwnProperty(S)&&(v!=null||_!=null))switch(S){case"value":ee=v;break;case"defaultValue":ne=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==_&&wt(s,o,S,v,d,_)}zm(s,ee,ne);return;case"option":for(var xe in u)if(ee=u[xe],u.hasOwnProperty(xe)&&ee!=null&&!d.hasOwnProperty(xe))switch(xe){case"selected":s.selected=!1;break;default:wt(s,o,xe,null,d,ee)}for(H in d)if(ee=d[H],ne=u[H],d.hasOwnProperty(H)&&ee!==ne&&(ee!=null||ne!=null))switch(H){case"selected":s.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:wt(s,o,H,ee,d,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in u)ee=u[Re],u.hasOwnProperty(Re)&&ee!=null&&!d.hasOwnProperty(Re)&&wt(s,o,Re,null,d,ee);for(X in d)if(ee=d[X],ne=u[X],d.hasOwnProperty(X)&&ee!==ne&&(ee!=null||ne!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,o));break;default:wt(s,o,X,ee,d,ne)}return;default:if(Eu(o)){for(var Et in u)ee=u[Et],u.hasOwnProperty(Et)&&ee!==void 0&&!d.hasOwnProperty(Et)&&yb(s,o,Et,void 0,d,ee);for(se in d)ee=d[se],ne=u[se],!d.hasOwnProperty(se)||ee===ne||ee===void 0&&ne===void 0||yb(s,o,se,ee,d,ne);return}}for(var K in u)ee=u[K],u.hasOwnProperty(K)&&ee!=null&&!d.hasOwnProperty(K)&&wt(s,o,K,null,d,ee);for(ce in d)ee=d[ce],ne=u[ce],!d.hasOwnProperty(ce)||ee===ne||ee==null&&ne==null||wt(s,o,ce,ee,d,ne)}function XI(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $z(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,u=performance.getEntriesByType("resource"),d=0;d<u.length;d++){var v=u[d],_=v.transferSize,S=v.initiatorType,N=v.duration;if(_&&N&&XI(S)){for(S=0,N=v.responseEnd,d+=1;d<u.length;d++){var H=u[d],X=H.startTime;if(X>N)break;var se=H.transferSize,ce=H.initiatorType;se&&XI(ce)&&(H=H.responseEnd,S+=se*(H<N?1:(N-X)/(H-X)))}if(--d,o+=8*(_+S)/(v.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var _b=null,bb=null;function qp(s){return s.nodeType===9?s:s.ownerDocument}function ZI(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function JI(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function wb(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Eb=null;function Gz(){var s=window.event;return s&&s.type==="popstate"?s===Eb?!1:(Eb=s,!0):(Eb=null,!1)}var eR=typeof setTimeout=="function"?setTimeout:void 0,Kz=typeof clearTimeout=="function"?clearTimeout:void 0,tR=typeof Promise=="function"?Promise:void 0,Yz=typeof queueMicrotask=="function"?queueMicrotask:typeof tR<"u"?function(s){return tR.resolve(null).then(s).catch(Wz)}:eR;function Wz(s){setTimeout(function(){throw s})}function lo(s){return s==="head"}function nR(s,o){var u=o,d=0;do{var v=u.nextSibling;if(s.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(d===0){s.removeChild(v),rc(o);return}d--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")d++;else if(u==="html")ph(s.ownerDocument.documentElement);else if(u==="head"){u=s.ownerDocument.head,ph(u);for(var _=u.firstChild;_;){var S=_.nextSibling,N=_.nodeName;_[Ji]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&_.rel.toLowerCase()==="stylesheet"||u.removeChild(_),_=S}}else u==="body"&&ph(s.ownerDocument.body);u=v}while(u);rc(o)}function rR(s,o){var u=s;s=0;do{var d=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),d&&d.nodeType===8)if(u=d.data,u==="/$"){if(s===0)break;s--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||s++;u=d}while(u)}function xb(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":xb(u),_u(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function Qz(s,o,u,d){for(;s.nodeType===1;){var v=u;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[Ji])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=ii(s.nextSibling),s===null)break}return null}function Xz(s,o,u){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=ii(s.nextSibling),s===null))return null;return s}function iR(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=ii(s.nextSibling),s===null))return null;return s}function Tb(s){return s.data==="$?"||s.data==="$~"}function Sb(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function Zz(s,o){var u=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||u.readyState!=="loading")o();else{var d=function(){o(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function ii(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var Ab=null;function sR(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"||u==="/&"){if(o===0)return ii(s.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}s=s.nextSibling}return null}function aR(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return s;o--}else u!=="/$"&&u!=="/&"||o++}s=s.previousSibling}return null}function oR(s,o,u){switch(o=qp(u),s){case"html":if(s=o.documentElement,!s)throw Error(r(452));return s;case"head":if(s=o.head,!s)throw Error(r(453));return s;case"body":if(s=o.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function ph(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);_u(s)}var si=new Map,lR=new Set;function Hp(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Js=oe.d;oe.d={f:Jz,r:e8,D:t8,C:n8,L:r8,m:i8,X:a8,S:s8,M:o8};function Jz(){var s=Js.f(),o=Dp();return s||o}function e8(s){var o=Yr(s);o!==null&&o.tag===5&&o.type==="form"?SC(o):Js.r(s)}var ec=typeof document>"u"?null:document;function uR(s,o,u){var d=ec;if(d&&typeof o=="string"&&o){var v=gr(o);v='link[rel="'+s+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),lR.has(v)||(lR.add(v),s={rel:s,crossOrigin:u,href:o},d.querySelector(v)===null&&(o=d.createElement("link"),$n(o,"link",s),an(o),d.head.appendChild(o)))}}function t8(s){Js.D(s),uR("dns-prefetch",s,null)}function n8(s,o){Js.C(s,o),uR("preconnect",s,o)}function r8(s,o,u){Js.L(s,o,u);var d=ec;if(d&&s&&o){var v='link[rel="preload"][as="'+gr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+gr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+gr(u.imageSizes)+'"]')):v+='[href="'+gr(s)+'"]';var _=v;switch(o){case"style":_=tc(s);break;case"script":_=nc(s)}si.has(_)||(s=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:s,as:o},u),si.set(_,s),d.querySelector(v)!==null||o==="style"&&d.querySelector(gh(_))||o==="script"&&d.querySelector(vh(_))||(o=d.createElement("link"),$n(o,"link",s),an(o),d.head.appendChild(o)))}}function i8(s,o){Js.m(s,o);var u=ec;if(u&&s){var d=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+gr(d)+'"][href="'+gr(s)+'"]',_=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=nc(s)}if(!si.has(_)&&(s=p({rel:"modulepreload",href:s},o),si.set(_,s),u.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(vh(_)))return}d=u.createElement("link"),$n(d,"link",s),an(d),u.head.appendChild(d)}}}function s8(s,o,u){Js.S(s,o,u);var d=ec;if(d&&s){var v=ts(d).hoistableStyles,_=tc(s);o=o||"default";var S=v.get(_);if(!S){var N={loading:0,preload:null};if(S=d.querySelector(gh(_)))N.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":o},u),(u=si.get(_))&&Cb(s,u);var H=S=d.createElement("link");an(H),$n(H,"link",s),H._p=new Promise(function(X,se){H.onload=X,H.onerror=se}),H.addEventListener("load",function(){N.loading|=1}),H.addEventListener("error",function(){N.loading|=2}),N.loading|=4,$p(S,o,d)}S={type:"stylesheet",instance:S,count:1,state:N},v.set(_,S)}}}function a8(s,o){Js.X(s,o);var u=ec;if(u&&s){var d=ts(u).hoistableScripts,v=nc(s),_=d.get(v);_||(_=u.querySelector(vh(v)),_||(s=p({src:s,async:!0},o),(o=si.get(v))&&Ib(s,o),_=u.createElement("script"),an(_),$n(_,"link",s),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(v,_))}}function o8(s,o){Js.M(s,o);var u=ec;if(u&&s){var d=ts(u).hoistableScripts,v=nc(s),_=d.get(v);_||(_=u.querySelector(vh(v)),_||(s=p({src:s,async:!0,type:"module"},o),(o=si.get(v))&&Ib(s,o),_=u.createElement("script"),an(_),$n(_,"link",s),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(v,_))}}function cR(s,o,u,d){var v=(v=Ie.current)?Hp(v):null;if(!v)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=tc(u.href),u=ts(v).hoistableStyles,d=u.get(o),d||(d={type:"style",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=tc(u.href);var _=ts(v).hoistableStyles,S=_.get(s);if(S||(v=v.ownerDocument||v,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,S),(_=v.querySelector(gh(s)))&&!_._p&&(S.instance=_,S.state.loading=5),si.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},si.set(s,u),_||l8(v,s,u,S.state))),o&&d===null)throw Error(r(528,""));return S}if(o&&d!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=nc(u),u=ts(v).hoistableScripts,d=u.get(o),d||(d={type:"script",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function tc(s){return'href="'+gr(s)+'"'}function gh(s){return'link[rel="stylesheet"]['+s+"]"}function fR(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function l8(s,o,u,d){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=s.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),$n(o,"link",u),an(o),s.head.appendChild(o))}function nc(s){return'[src="'+gr(s)+'"]'}function vh(s){return"script[async]"+s}function hR(s,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var d=s.querySelector('style[data-href~="'+gr(u.href)+'"]');if(d)return o.instance=d,an(d),d;var v=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),an(d),$n(d,"style",v),$p(d,u.precedence,s),o.instance=d;case"stylesheet":v=tc(u.href);var _=s.querySelector(gh(v));if(_)return o.state.loading|=4,o.instance=_,an(_),_;d=fR(u),(v=si.get(v))&&Cb(d,v),_=(s.ownerDocument||s).createElement("link"),an(_);var S=_;return S._p=new Promise(function(N,H){S.onload=N,S.onerror=H}),$n(_,"link",d),o.state.loading|=4,$p(_,u.precedence,s),o.instance=_;case"script":return _=nc(u.src),(v=s.querySelector(vh(_)))?(o.instance=v,an(v),v):(d=u,(v=si.get(_))&&(d=p({},u),Ib(d,v)),s=s.ownerDocument||s,v=s.createElement("script"),an(v),$n(v,"link",d),s.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,$p(d,u.precedence,s));return o.instance}function $p(s,o,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,_=v,S=0;S<d.length;S++){var N=d[S];if(N.dataset.precedence===o)_=N;else if(_!==v)break}_?_.parentNode.insertBefore(s,_.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(s,o.firstChild))}function Cb(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Ib(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Gp=null;function dR(s,o,u){if(Gp===null){var d=new Map,v=Gp=new Map;v.set(u,d)}else v=Gp,d=v.get(u),d||(d=new Map,v.set(u,d));if(d.has(s))return d;for(d.set(s,null),u=u.getElementsByTagName(s),v=0;v<u.length;v++){var _=u[v];if(!(_[Ji]||_[sn]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var S=_.getAttribute(o)||"";S=s+S;var N=d.get(S);N?N.push(_):d.set(S,[_])}}return d}function mR(s,o,u){s=s.ownerDocument||s,s.head.insertBefore(u,o==="title"?s.querySelector("head > title"):null)}function u8(s,o,u){if(u===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function pR(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function c8(s,o,u,d){if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=tc(d.href),_=o.querySelector(gh(v));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=Kp.bind(s),o.then(s,s)),u.state.loading|=4,u.instance=_,an(_);return}_=o.ownerDocument||o,d=fR(d),(v=si.get(v))&&Cb(d,v),_=_.createElement("link"),an(_);var S=_;S._p=new Promise(function(N,H){S.onload=N,S.onerror=H}),$n(_,"link",d),u.instance=_}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(s.count++,u=Kp.bind(s),o.addEventListener("load",u),o.addEventListener("error",u))}}var Rb=0;function f8(s,o){return s.stylesheets&&s.count===0&&Wp(s,s.stylesheets),0<s.count||0<s.imgCount?function(u){var d=setTimeout(function(){if(s.stylesheets&&Wp(s,s.stylesheets),s.unsuspend){var _=s.unsuspend;s.unsuspend=null,_()}},6e4+o);0<s.imgBytes&&Rb===0&&(Rb=62500*$z());var v=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Wp(s,s.stylesheets),s.unsuspend)){var _=s.unsuspend;s.unsuspend=null,_()}},(s.imgBytes>Rb?50:800)+o);return s.unsuspend=u,function(){s.unsuspend=null,clearTimeout(d),clearTimeout(v)}}:null}function Kp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wp(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Yp=null;function Wp(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Yp=new Map,o.forEach(h8,s),Yp=null,Kp.call(s))}function h8(s,o){if(!(o.state.loading&4)){var u=Yp.get(s);if(u)var d=u.get(null);else{u=new Map,Yp.set(s,u);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var S=v[_];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(u.set(S.dataset.precedence,S),d=S)}d&&u.set(null,d)}v=o.instance,S=v.getAttribute("data-precedence"),_=u.get(S)||d,_===d&&u.set(null,v),u.set(S,v),this.count++,d=Kp.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),_?_.parentNode.insertBefore(v,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),o.state.loading|=4}}var yh={$$typeof:P,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function d8(s,o,u,d,v,_,S,N,H){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.hiddenUpdates=Xi(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function gR(s,o,u,d,v,_,S,N,H,X,se,ce){return s=new d8(s,o,u,S,H,X,se,ce,N),o=1,_===!0&&(o|=24),_=kr(3,null,null,o),s.current=_,_.stateNode=s,o=l0(),o.refCount++,s.pooledCache=o,o.refCount++,_.memoizedState={element:d,isDehydrated:u,cache:o},h0(_),s}function vR(s){return s?(s=ku,s):ku}function yR(s,o,u,d,v,_){v=vR(v),d.context===null?d.context=v:d.pendingContext=v,d=Xa(o),d.payload={element:u},_=_===void 0?null:_,_!==null&&(d.callback=_),u=Za(s,d,o),u!==null&&(Er(u,s,o),Qf(u,s,o))}function _R(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Nb(s,o){_R(s,o),(s=s.alternate)&&_R(s,o)}function bR(s){if(s.tag===13||s.tag===31){var o=vl(s,67108864);o!==null&&Er(o,s,67108864),Nb(s,67108864)}}function wR(s){if(s.tag===13||s.tag===31){var o=Vr();o=sl(o);var u=vl(s,o);u!==null&&Er(u,s,o),Nb(s,o)}}var Qp=!0;function m8(s,o,u,d){var v=Z.T;Z.T=null;var _=oe.p;try{oe.p=2,Ob(s,o,u,d)}finally{oe.p=_,Z.T=v}}function p8(s,o,u,d){var v=Z.T;Z.T=null;var _=oe.p;try{oe.p=8,Ob(s,o,u,d)}finally{oe.p=_,Z.T=v}}function Ob(s,o,u,d){if(Qp){var v=Pb(d);if(v===null)vb(s,o,d,Xp,u),xR(s,d);else if(v8(v,s,o,u,d))d.stopPropagation();else if(xR(s,d),o&4&&-1<g8.indexOf(s)){for(;v!==null;){var _=Yr(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var S=Wi(_.pendingLanes);if(S!==0){var N=_;for(N.pendingLanes|=2,N.entangledLanes|=2;S;){var H=1<<31-Yt(S);N.entanglements[1]|=H,S&=~H}ms(_),(ft&6)===0&&(kp=or()+500,hh(0))}}break;case 31:case 13:N=vl(_,2),N!==null&&Er(N,_,2),Dp(),Nb(_,2)}if(_=Pb(d),_===null&&vb(s,o,d,Xp,u),_===v)break;v=_}v!==null&&d.stopPropagation()}else vb(s,o,d,null,u)}}function Pb(s){return s=Wr(s),kb(s)}var Xp=null;function kb(s){if(Xp=null,s=es(s),s!==null){var o=a(s);if(o===null)s=null;else{var u=o.tag;if(u===13){if(s=l(o),s!==null)return s;s=null}else if(u===31){if(s=c(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return Xp=s,null}function ER(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tl()){case wf:return 2;case Ef:return 8;case La:case U_:return 32;case Rm:return 268435456;default:return 32}default:return 32}}var Mb=!1,uo=null,co=null,fo=null,_h=new Map,bh=new Map,ho=[],g8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xR(s,o){switch(s){case"focusin":case"focusout":uo=null;break;case"dragenter":case"dragleave":co=null;break;case"mouseover":case"mouseout":fo=null;break;case"pointerover":case"pointerout":_h.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":bh.delete(o.pointerId)}}function wh(s,o,u,d,v,_){return s===null||s.nativeEvent!==_?(s={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:_,targetContainers:[v]},o!==null&&(o=Yr(o),o!==null&&bR(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),s)}function v8(s,o,u,d,v){switch(o){case"focusin":return uo=wh(uo,s,o,u,d,v),!0;case"dragenter":return co=wh(co,s,o,u,d,v),!0;case"mouseover":return fo=wh(fo,s,o,u,d,v),!0;case"pointerover":var _=v.pointerId;return _h.set(_,wh(_h.get(_)||null,s,o,u,d,v)),!0;case"gotpointercapture":return _=v.pointerId,bh.set(_,wh(bh.get(_)||null,s,o,u,d,v)),!0}return!1}function TR(s){var o=es(s.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){s.blockedOn=o,wi(s.priority,function(){wR(u)});return}}else if(o===31){if(o=c(u),o!==null){s.blockedOn=o,wi(s.priority,function(){wR(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Zp(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=Pb(s.nativeEvent);if(u===null){u=s.nativeEvent;var d=new u.constructor(u.type,u);Mf=d,u.target.dispatchEvent(d),Mf=null}else return o=Yr(u),o!==null&&bR(o),s.blockedOn=u,!1;o.shift()}return!0}function SR(s,o,u){Zp(s)&&u.delete(o)}function y8(){Mb=!1,uo!==null&&Zp(uo)&&(uo=null),co!==null&&Zp(co)&&(co=null),fo!==null&&Zp(fo)&&(fo=null),_h.forEach(SR),bh.forEach(SR)}function Jp(s,o){s.blockedOn===o&&(s.blockedOn=null,Mb||(Mb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,y8)))}var eg=null;function AR(s){eg!==s&&(eg=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){eg===s&&(eg=null);for(var o=0;o<s.length;o+=3){var u=s[o],d=s[o+1],v=s[o+2];if(typeof d!="function"){if(kb(d||u)===null)continue;break}var _=Yr(u);_!==null&&(s.splice(o,3),o-=3,P0(_,{pending:!0,data:v,method:u.method,action:d},d,v))}}))}function rc(s){function o(H){return Jp(H,s)}uo!==null&&Jp(uo,s),co!==null&&Jp(co,s),fo!==null&&Jp(fo,s),_h.forEach(o),bh.forEach(o);for(var u=0;u<ho.length;u++){var d=ho[u];d.blockedOn===s&&(d.blockedOn=null)}for(;0<ho.length&&(u=ho[0],u.blockedOn===null);)TR(u),u.blockedOn===null&&ho.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var v=u[d],_=u[d+1],S=v[Rn]||null;if(typeof _=="function")S||AR(u);else if(S){var N=null;if(_&&_.hasAttribute("formAction")){if(v=_,S=_[Rn]||null)N=S.formAction;else if(kb(v)!==null)continue}else N=S.action;typeof N=="function"?u[d+1]=N:(u.splice(d,3),d-=3),AR(u)}}}function CR(){function s(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(S){return v=S})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),d||setTimeout(u,20)}function u(){if(!d&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,v=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){d=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function Db(s){this._internalRoot=s}tg.prototype.render=Db.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,d=Vr();yR(u,d,s,o,null,null)},tg.prototype.unmount=Db.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;yR(s.current,2,null,s,null,null),Dp(),o[Zi]=null}};function tg(s){this._internalRoot=s}tg.prototype.unstable_scheduleHydration=function(s){if(s){var o=Dm();s={blockedOn:null,target:s,priority:o};for(var u=0;u<ho.length&&o!==0&&o<ho[u].priority;u++);ho.splice(u,0,s),u===0&&TR(s)}};var IR=e.version;if(IR!=="19.2.1")throw Error(r(527,IR,"19.2.1"));oe.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=h(o),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var _8={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ng=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ng.isDisabled&&ng.supportsFiber)try{_i=ng.inject(_8),zn=ng}catch{}}return xh.createRoot=function(s,o){if(!i(s))throw Error(r(299));var u=!1,d="",v=DC,_=LC,S=jC;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError)),o=gR(s,1,!1,null,null,u,d,null,v,_,S,CR),s[Zi]=o.current,gb(s),new Db(o)},xh.hydrateRoot=function(s,o,u){if(!i(s))throw Error(r(299));var d=!1,v="",_=DC,S=LC,N=jC,H=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(S=u.onCaughtError),u.onRecoverableError!==void 0&&(N=u.onRecoverableError),u.formState!==void 0&&(H=u.formState)),o=gR(s,1,!0,o,u??null,d,v,H,_,S,N,CR),o.context=vR(null),u=o.current,d=Vr(),d=sl(d),v=Xa(d),v.callback=null,Za(u,v,d),u=d,o.current.lanes=u,rl(o,u),ms(o),s[Zi]=o.current,gb(s),new tg(o)},xh.version="19.2.1",xh}var VR;function P8(){if(VR)return Ub.exports;VR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ub.exports=O8(),Ub.exports}var k8=P8();const M8=Sa(k8);/**
 * react-router v7.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var UR="popstate";function D8(t={}){function e(r,i){let{pathname:a,search:l,hash:c}=r.location;return wE("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:rd(i)}return j8(e,n,null,t)}function zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function di(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L8(){return Math.random().toString(36).substring(2,10)}function zR(t,e){return{usr:t.state,key:t.key,idx:e}}function wE(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Jc(e):e,state:n,key:e&&e.key||r||L8()}}function rd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Jc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function j8(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c="POP",f=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function p(){c="POP";let C=m(),R=C==null?null:C-h;h=C,f&&f({action:c,location:x.location,delta:R})}function y(C,R){c="PUSH";let M=wE(x.location,C,R);h=m()+1;let P=zR(M,h),q=x.createHref(M);try{l.pushState(P,"",q)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(q)}a&&f&&f({action:c,location:x.location,delta:1})}function b(C,R){c="REPLACE";let M=wE(x.location,C,R);h=m();let P=zR(M,h),q=x.createHref(M);l.replaceState(P,"",q),a&&f&&f({action:c,location:x.location,delta:0})}function w(C){return V8(C)}let x={get action(){return c},get location(){return t(i,l)},listen(C){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(UR,p),f=C,()=>{i.removeEventListener(UR,p),f=null}},createHref(C){return e(i,C)},createURL:w,encodeLocation(C){let R=w(C);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:y,replace:b,go(C){return l.go(C)}};return x}function V8(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),zt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:rd(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function UM(t,e,n="/"){return U8(t,e,n,!1)}function U8(t,e,n,r){let i=typeof e=="string"?Jc(e):e,a=fa(i.pathname||"/",n);if(a==null)return null;let l=zM(t);z8(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let h=X8(a);c=W8(l[f],h,r)}return c}function zM(t,e=[],n=[],r="",i=!1){let a=(l,c,f=i,h)=>{let m={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&f)return;zt(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let p=la([r,m.relativePath]),y=n.concat(m);l.children&&l.children.length>0&&(zt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),zM(l.children,e,y,p,f)),!(l.path==null&&!l.index)&&e.push({path:p,score:K8(p,l.index),routesMeta:y})};return t.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,c);else for(let h of BM(l.path))a(l,c,!0,h)}),e}function BM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=BM(r.join("/")),c=[];return c.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&c.push(...l),c.map(f=>t.startsWith("/")&&f===""?"/":f)}function z8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Y8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var B8=/^:[\w-]+$/,F8=3,q8=2,H8=1,$8=10,G8=-2,BR=t=>t==="*";function K8(t,e){let n=t.split("/"),r=n.length;return n.some(BR)&&(r+=G8),e&&(r+=q8),n.filter(i=>!BR(i)).reduce((i,a)=>i+(B8.test(a)?F8:a===""?H8:$8),r)}function Y8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function W8(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],h=c===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",p=Yg({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),y=f.route;if(!p&&h&&n&&!r[r.length-1].route.index&&(p=Yg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:la([a,p.pathname]),pathnameBase:n9(la([a,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(a=la([a,p.pathnameBase]))}return l}function Yg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Q8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:p},y)=>{if(m==="*"){let w=c[y]||"";l=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const b=c[y];return p&&!b?h[m]=void 0:h[m]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:t}}function Q8(t,e=!1,n=!0){di(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function X8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return di(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function fa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var Z8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,J8=t=>Z8.test(t);function e9(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Jc(t):t,a;if(n)if(J8(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),di(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?a=FR(n.substring(1),"/"):a=FR(n,e)}else a=e;return{pathname:a,search:r9(r),hash:i9(i)}}function FR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function t9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nx(t){let e=t9(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function rx(t,e,n,r=!1){let i;typeof t=="string"?i=Jc(t):(i={...t},zt(!i.pathname||!i.pathname.includes("?"),qb("?","pathname","search",i)),zt(!i.pathname||!i.pathname.includes("#"),qb("#","pathname","hash",i)),zt(!i.search||!i.search.includes("#"),qb("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=n;else{let p=e.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}c=p>=0?e[p]:"/"}let f=e9(i,c),h=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}var la=t=>t.join("/").replace(/\/\/+/g,"/"),n9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),r9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,i9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function s9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function a9(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var FM=["POST","PUT","PATCH","DELETE"];new Set(FM);var o9=["GET",...FM];new Set(o9);var ef=T.createContext(null);ef.displayName="DataRouter";var wy=T.createContext(null);wy.displayName="DataRouterState";T.createContext(!1);var qM=T.createContext({isTransitioning:!1});qM.displayName="ViewTransition";var l9=T.createContext(new Map);l9.displayName="Fetchers";var u9=T.createContext(null);u9.displayName="Await";var gi=T.createContext(null);gi.displayName="Navigation";var Ld=T.createContext(null);Ld.displayName="Location";var Ns=T.createContext({outlet:null,matches:[],isDataRoute:!1});Ns.displayName="Route";var ix=T.createContext(null);ix.displayName="RouteError";function c9(t,{relative:e}={}){zt(tf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(gi),{hash:i,pathname:a,search:l}=Vd(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:la([n,a])),r.createHref({pathname:c,search:l,hash:i})}function tf(){return T.useContext(Ld)!=null}function Yo(){return zt(tf(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Ld).location}var HM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $M(t){T.useContext(gi).static||T.useLayoutEffect(t)}function jd(){let{isDataRoute:t}=T.useContext(Ns);return t?x9():f9()}function f9(){zt(tf(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(ef),{basename:e,navigator:n}=T.useContext(gi),{matches:r}=T.useContext(Ns),{pathname:i}=Yo(),a=JSON.stringify(nx(r)),l=T.useRef(!1);return $M(()=>{l.current=!0}),T.useCallback((f,h={})=>{if(di(l.current,HM),!l.current)return;if(typeof f=="number"){n.go(f);return}let m=rx(f,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:la([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,a,i,t])}T.createContext(null);function Vd(t,{relative:e}={}){let{matches:n}=T.useContext(Ns),{pathname:r}=Yo(),i=JSON.stringify(nx(n));return T.useMemo(()=>rx(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function h9(t,e){return GM(t,e)}function GM(t,e,n,r,i){var M;zt(tf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=T.useContext(gi),{matches:l}=T.useContext(Ns),c=l[l.length-1],f=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",p=c&&c.route;{let P=p&&p.path||"";KM(h,!p||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let y=Yo(),b;if(e){let P=typeof e=="string"?Jc(e):e;zt(m==="/"||((M=P.pathname)==null?void 0:M.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${P.pathname}" was given in the \`location\` prop.`),b=P}else b=y;let w=b.pathname||"/",x=w;if(m!=="/"){let P=m.replace(/^\//,"").split("/");x="/"+w.replace(/^\//,"").split("/").slice(P.length).join("/")}let C=UM(t,{pathname:x});di(p||C!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),di(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=v9(C&&C.map(P=>Object.assign({},P,{params:Object.assign({},f,P.params),pathname:la([m,a.encodeLocation?a.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?m:la([m,a.encodeLocation?a.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),l,n,r,i);return e&&R?T.createElement(Ld.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},R):R}function d9(){let t=E9(),e=s9(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:a},"ErrorBoundary")," or"," ",T.createElement("code",{style:a},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,l)}var m9=T.createElement(d9,null),p9=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?T.createElement(Ns.Provider,{value:this.props.routeContext},T.createElement(ix.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function g9({routeContext:t,match:e,children:n}){let r=T.useContext(ef);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Ns.Provider,{value:t},n)}function v9(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);zt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,f=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:y,errors:b}=n,w=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||w){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}let h=n&&r?(m,p)=>{var y,b;r(m,{location:n.location,params:((b=(y=n.matches)==null?void 0:y[0])==null?void 0:b.params)??{},unstable_pattern:a9(n.matches),errorInfo:p})}:void 0;return a.reduceRight((m,p,y)=>{let b,w=!1,x=null,C=null;n&&(b=l&&p.route.id?l[p.route.id]:void 0,x=p.route.errorElement||m9,c&&(f<0&&y===0?(KM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):f===y&&(w=!0,C=p.route.hydrateFallbackElement||null)));let R=e.concat(a.slice(0,y+1)),M=()=>{let P;return b?P=x:w?P=C:p.route.Component?P=T.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=m,T.createElement(g9,{match:p,routeContext:{outlet:m,matches:R,isDataRoute:n!=null},children:P})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?T.createElement(p9,{location:n.location,revalidation:n.revalidation,component:x,error:b,children:M(),routeContext:{outlet:null,matches:R,isDataRoute:!0},onError:h}):M()},null)}function sx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y9(t){let e=T.useContext(ef);return zt(e,sx(t)),e}function _9(t){let e=T.useContext(wy);return zt(e,sx(t)),e}function b9(t){let e=T.useContext(Ns);return zt(e,sx(t)),e}function ax(t){let e=b9(t),n=e.matches[e.matches.length-1];return zt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function w9(){return ax("useRouteId")}function E9(){var r;let t=T.useContext(ix),e=_9("useRouteError"),n=ax("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function x9(){let{router:t}=y9("useNavigate"),e=ax("useNavigate"),n=T.useRef(!1);return $M(()=>{n.current=!0}),T.useCallback(async(i,a={})=>{di(n.current,HM),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var qR={};function KM(t,e,n){!e&&!qR[t]&&(qR[t]=!0,di(!1,n))}T.memo(T9);function T9({routes:t,future:e,state:n,unstable_onError:r}){return GM(t,void 0,n,r,e)}function YM({to:t,replace:e,state:n,relative:r}){zt(tf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(gi);di(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=T.useContext(Ns),{pathname:l}=Yo(),c=jd(),f=rx(t,nx(a),l,r==="path"),h=JSON.stringify(f);return T.useEffect(()=>{c(JSON.parse(h),{replace:e,state:n,relative:r})},[c,h,r,e,n]),null}function lc(t){zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function S9({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:l}){zt(!tf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=T.useMemo(()=>({basename:c,navigator:i,static:a,unstable_useTransitions:l,future:{}}),[c,i,a,l]);typeof n=="string"&&(n=Jc(n));let{pathname:h="/",search:m="",hash:p="",state:y=null,key:b="default"}=n,w=T.useMemo(()=>{let x=fa(h,c);return x==null?null:{location:{pathname:x,search:m,hash:p,state:y,key:b},navigationType:r}},[c,h,m,p,y,b,r]);return di(w!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:T.createElement(gi.Provider,{value:f},T.createElement(Ld.Provider,{children:e,value:w}))}function A9({children:t,location:e}){return h9(EE(t),e)}function EE(t,e=[]){let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let a=[...e,i];if(r.type===T.Fragment){n.push.apply(n,EE(r.props.children,a));return}zt(r.type===lc,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=EE(r.props.children,a)),n.push(l)}),n}var Cg="get",Ig="application/x-www-form-urlencoded";function Ey(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function C9(t){return Ey(t)&&t.tagName.toLowerCase()==="button"}function I9(t){return Ey(t)&&t.tagName.toLowerCase()==="form"}function R9(t){return Ey(t)&&t.tagName.toLowerCase()==="input"}function N9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function O9(t,e){return t.button===0&&(!e||e==="_self")&&!N9(t)}var rg=null;function P9(){if(rg===null)try{new FormData(document.createElement("form"),0),rg=!1}catch{rg=!0}return rg}var k9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hb(t){return t!=null&&!k9.has(t)?(di(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ig}"`),null):t}function M9(t,e){let n,r,i,a,l;if(I9(t)){let c=t.getAttribute("action");r=c?fa(c,e):null,n=t.getAttribute("method")||Cg,i=Hb(t.getAttribute("enctype"))||Ig,a=new FormData(t)}else if(C9(t)||R9(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||c.getAttribute("action");if(r=f?fa(f,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Cg,i=Hb(t.getAttribute("formenctype"))||Hb(c.getAttribute("enctype"))||Ig,a=new FormData(c,t),!P9()){let{name:h,type:m,value:p}=t;if(m==="image"){let y=h?`${h}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else h&&a.append(h,p)}}else{if(Ey(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Cg,r=null,i=Ig,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ox(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function D9(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&fa(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function L9(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function j9(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function V9(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await L9(a,n);return l.links?l.links():[]}return[]}));return F9(r.flat(1).filter(j9).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function HR(t,e,n,r,i,a){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,c=(f,h)=>{var m;return n[h].pathname!==f.pathname||((m=n[h].route.path)==null?void 0:m.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,h)=>l(f,h)||c(f,h)):a==="data"?e.filter((f,h)=>{var p;let m=r.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(l(f,h)||c(f,h))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function U9(t,e,{includeHydrateFallback:n}={}){return z9(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function z9(t){return[...new Set(t)]}function B9(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function F9(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(B9(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function WM(){let t=T.useContext(ef);return ox(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function q9(){let t=T.useContext(wy);return ox(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var lx=T.createContext(void 0);lx.displayName="FrameworkContext";function QM(){let t=T.useContext(lx);return ox(t,"You must render this element inside a <HydratedRouter> element"),t}function H9(t,e){let n=T.useContext(lx),[r,i]=T.useState(!1),[a,l]=T.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:h,onMouseLeave:m,onTouchStart:p}=e,y=T.useRef(null);T.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let x=R=>{R.forEach(M=>{l(M.isIntersecting)})},C=new IntersectionObserver(x,{threshold:.5});return y.current&&C.observe(y.current),()=>{C.disconnect()}}},[t]),T.useEffect(()=>{if(r){let x=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(x)}}},[r]);let b=()=>{i(!0)},w=()=>{i(!1),l(!1)};return n?t!=="intent"?[a,y,{}]:[a,y,{onFocus:Th(c,b),onBlur:Th(f,w),onMouseEnter:Th(h,b),onMouseLeave:Th(m,w),onTouchStart:Th(p,b)}]:[!1,y,{}]}function Th(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function $9({page:t,...e}){let{router:n}=WM(),r=T.useMemo(()=>UM(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(K9,{page:t,matches:r,...e}):null}function G9(t){let{manifest:e,routeModules:n}=QM(),[r,i]=T.useState([]);return T.useEffect(()=>{let a=!1;return V9(t,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,n]),r}function K9({page:t,matches:e,...n}){let r=Yo(),{manifest:i,routeModules:a}=QM(),{basename:l}=WM(),{loaderData:c,matches:f}=q9(),h=T.useMemo(()=>HR(t,e,f,i,r,"data"),[t,e,f,i,r]),m=T.useMemo(()=>HR(t,e,f,i,r,"assets"),[t,e,f,i,r]),p=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,x=!1;if(e.forEach(R=>{var P;let M=i.routes[R.route.id];!M||!M.hasLoader||(!h.some(q=>q.route.id===R.route.id)&&R.route.id in c&&((P=a[R.route.id])!=null&&P.shouldRevalidate)||M.hasClientLoader?x=!0:w.add(R.route.id))}),w.size===0)return[];let C=D9(t,l,"data");return x&&w.size>0&&C.searchParams.set("_routes",e.filter(R=>w.has(R.route.id)).map(R=>R.route.id).join(",")),[C.pathname+C.search]},[l,c,r,i,h,e,t,a]),y=T.useMemo(()=>U9(m,i),[m,i]),b=G9(m);return T.createElement(T.Fragment,null,p.map(w=>T.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),y.map(w=>T.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),b.map(({key:w,link:x})=>T.createElement("link",{key:w,nonce:n.nonce,...x})))}function Y9(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var XM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XM&&(window.__reactRouterVersion="7.10.0")}catch{}function W9({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=T.useRef();i.current==null&&(i.current=D8({window:r,v5Compat:!0}));let a=i.current,[l,c]=T.useState({action:a.action,location:a.location}),f=T.useCallback(h=>{n===!1?c(h):T.startTransition(()=>c(h))},[n]);return T.useLayoutEffect(()=>a.listen(f),[a,f]),T.createElement(S9,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a,unstable_useTransitions:n===!0})}var ZM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JM=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:c,target:f,to:h,preventScrollReset:m,viewTransition:p,...y},b){let{basename:w,unstable_useTransitions:x}=T.useContext(gi),C=typeof h=="string"&&ZM.test(h),R,M=!1;if(typeof h=="string"&&C&&(R=h,XM))try{let V=new URL(window.location.href),D=h.startsWith("//")?new URL(V.protocol+h):new URL(h),B=fa(D.pathname,w);D.origin===V.origin&&B!=null?h=B+D.search+D.hash:M=!0}catch{di(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=c9(h,{relative:i}),[q,F,$]=H9(r,y),O=J9(h,{replace:l,state:c,target:f,preventScrollReset:m,relative:i,viewTransition:p,unstable_useTransitions:x});function L(V){e&&e(V),V.defaultPrevented||O(V)}let k=T.createElement("a",{...y,...$,href:R||P,onClick:M||a?e:L,ref:Y9(b,F),target:f,"data-discover":!C&&n==="render"?"true":void 0});return q&&!C?T.createElement(T.Fragment,null,k,T.createElement($9,{page:P})):k});JM.displayName="Link";var Q9=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:c,children:f,...h},m){let p=Vd(l,{relative:h.relative}),y=Yo(),b=T.useContext(wy),{navigator:w,basename:x}=T.useContext(gi),C=b!=null&&iB(p)&&c===!0,R=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,M=y.pathname,P=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(M=M.toLowerCase(),P=P?P.toLowerCase():null,R=R.toLowerCase()),P&&x&&(P=fa(P,x)||P);const q=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let F=M===R||!i&&M.startsWith(R)&&M.charAt(q)==="/",$=P!=null&&(P===R||!i&&P.startsWith(R)&&P.charAt(R.length)==="/"),O={isActive:F,isPending:$,isTransitioning:C},L=F?e:void 0,k;typeof r=="function"?k=r(O):k=[r,F?"active":null,$?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(O):a;return T.createElement(JM,{...h,"aria-current":L,className:k,ref:m,style:V,to:l,viewTransition:c},typeof f=="function"?f(O):f)});Q9.displayName="NavLink";var X9=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=Cg,action:c,onSubmit:f,relative:h,preventScrollReset:m,viewTransition:p,...y},b)=>{let{unstable_useTransitions:w}=T.useContext(gi),x=nB(),C=rB(c,{relative:h}),R=l.toLowerCase()==="get"?"get":"post",M=typeof c=="string"&&ZM.test(c),P=q=>{if(f&&f(q),q.defaultPrevented)return;q.preventDefault();let F=q.nativeEvent.submitter,$=(F==null?void 0:F.getAttribute("formmethod"))||l,O=()=>x(F||q.currentTarget,{fetcherKey:e,method:$,navigate:n,replace:i,state:a,relative:h,preventScrollReset:m,viewTransition:p});w&&n!==!1?T.startTransition(()=>O()):O()};return T.createElement("form",{ref:b,method:R,action:C,onSubmit:r?f:P,...y,"data-discover":!M&&t==="render"?"true":void 0})});X9.displayName="Form";function Z9(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eD(t){let e=T.useContext(ef);return zt(e,Z9(t)),e}function J9(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l,unstable_useTransitions:c}={}){let f=jd(),h=Yo(),m=Vd(t,{relative:a});return T.useCallback(p=>{if(O9(p,e)){p.preventDefault();let y=n!==void 0?n:rd(h)===rd(m),b=()=>f(t,{replace:y,state:r,preventScrollReset:i,relative:a,viewTransition:l});c?T.startTransition(()=>b()):b()}},[h,f,m,n,r,e,t,i,a,l,c])}var eB=0,tB=()=>`__${String(++eB)}__`;function nB(){let{router:t}=eD("useSubmit"),{basename:e}=T.useContext(gi),n=w9(),r=t.fetch,i=t.navigate;return T.useCallback(async(a,l={})=>{let{action:c,method:f,encType:h,formData:m,body:p}=M9(a,e);if(l.navigate===!1){let y=l.fetcherKey||tB();await r(y,n,l.action||c,{preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||f,formEncType:l.encType||h,flushSync:l.flushSync})}else await i(l.action||c,{preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||f,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,n])}function rB(t,{relative:e}={}){let{basename:n}=T.useContext(gi),r=T.useContext(Ns);zt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Vd(t||".",{relative:e})},l=Yo();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),f=c.getAll("index");if(f.some(m=>m==="")){c.delete("index"),f.filter(p=>p).forEach(p=>c.append("index",p));let m=c.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:la([n,a.pathname])),rd(a)}function iB(t,{relative:e}={}){let n=T.useContext(qM);zt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=eD("useViewTransitionState"),i=Vd(t,{relative:e});if(!n.isTransitioning)return!1;let a=fa(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=fa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Yg(i.pathname,l)!=null||Yg(i.pathname,a)!=null}var sB=VM();const aB=()=>{};var $R={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge=function(t,e){if(!t)throw nf(e)},nf=function(t){return new Error("Firebase Database ("+tD.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},oB=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],c=t[n++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},ux={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,c=l?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,m=a>>2,p=(a&3)<<4|c>>4;let y=(c&15)<<2|h>>6,b=h&63;f||(b=64,l||(y=64)),r.push(n[m],n[p],n[y],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||c==null||h==null||p==null)throw new lB;const y=a<<2|c>>4;if(r.push(y),h!==64){const b=c<<4&240|h>>2;if(r.push(b),p!==64){const w=h<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rD=function(t){const e=nD(t);return ux.encodeByteArray(e,!0)},Wg=function(t){return rD(t).replace(/\./g,"")},Qg=function(t){try{return ux.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uB(t){return iD(void 0,t)}function iD(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!cB(n)||(t[n]=iD(t[n],e[n]));return t}function cB(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB=()=>fB().__FIREBASE_DEFAULTS__,dB=()=>{if(typeof process>"u"||typeof $R>"u")return;const t=$R.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Qg(t[1]);return e&&JSON.parse(e)},xy=()=>{try{return aB()||hB()||dB()||mB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sD=t=>{var e,n;return(n=(e=xy())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},aD=t=>{const e=sD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},oD=()=>{var t;return(t=xy())==null?void 0:t.config},lD=t=>{var e;return(e=xy())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Wg(JSON.stringify(n)),Wg(JSON.stringify(l)),""].join(".")}const Hh={};function pB(){const t={prod:[],emulator:[]};for(const e of Object.keys(Hh))Hh[e]?t.emulator.push(e):t.prod.push(e);return t}function gB(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let GR=!1;function fx(t,e){if(typeof window>"u"||typeof document>"u"||!Wo(window.location.host)||Hh[t]===e||Hh[t]||GR)return;Hh[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",a=pB().prod.length>0;function l(){const y=document.getElementById(r);y&&y.remove()}function c(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function f(y,b){y.setAttribute("width","24"),y.setAttribute("id",b),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{GR=!0,l()},y}function m(y,b){y.setAttribute("id",b),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=gB(r),b=n("text"),w=document.getElementById(b)||document.createElement("span"),x=n("learnmore"),C=document.getElementById(x)||document.createElement("a"),R=n("preprendIcon"),M=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const P=y.element;c(P),m(C,x);const q=h();f(M,R),P.append(M,w,C,q),document.body.appendChild(P)}a?(w.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ar())}function vB(){var e;const t=(e=xy())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _B(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bB(){const t=ar();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wB(){return tD.NODE_ADMIN===!0}function EB(){return!vB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xB(){try{return typeof indexedDB=="object"}catch{return!1}}function TB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB="FirebaseError";class Aa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=SB,Object.setPrototypeOf(this,Aa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ud.prototype.create)}}class Ud{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?AB(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Aa(i,c,r)}}function AB(t,e){return t.replace(CB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const CB=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(t){return JSON.parse(t)}function wn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=function(t){let e={},n={},r={},i="";try{const a=t.split(".");e=id(Qg(a[0])||""),n=id(Qg(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},IB=function(t){const e=fD(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},RB=function(t){const e=fD(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Rc(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function xE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xg(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Mo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(KR(a)&&KR(l)){if(!Mo(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function KR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Lh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function jh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)r[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)r[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){const y=r[p-3]^r[p-8]^r[p-14]^r[p-16];r[p]=(y<<1|y>>>31)&4294967295}let i=this.chain_[0],a=this.chain_[1],l=this.chain_[2],c=this.chain_[3],f=this.chain_[4],h,m;for(let p=0;p<80;p++){p<40?p<20?(h=c^a&(l^c),m=1518500249):(h=a^l^c,m=1859775393):p<60?(h=a&l|c&(a|l),m=2400959708):(h=a^l^c,m=3395469782);const y=(i<<5|i>>>27)+h+f+m+r[p]&4294967295;f=c,c=l,l=(a<<30|a>>>2)&4294967295,a=i,i=y}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const a=this.buf_;let l=this.inbuf_;for(;i<n;){if(l===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(a[l]=e.charCodeAt(i),++l,++i,l===this.blockSize){this.compress_(a),l=0;break}}else for(;i<n;)if(a[l]=e[i],++l,++i,l===this.blockSize){this.compress_(a),l=0;break}}this.inbuf_=l,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}function OB(t,e){const n=new PB(t,e);return n.subscribe.bind(n)}class PB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");kB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$b),i.error===void 0&&(i.error=$b),i.complete===void 0&&(i.complete=$b);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $b(){}function dx(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const a=i-55296;r++,ge(r<t.length,"Surrogate pair missing trail surrogate.");const l=t.charCodeAt(r)-56320;i=65536+(a<<10)+l}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Sy=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t){return t&&t._delegate?t._delegate:t}class Do{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DB=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ty;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jB(e))try{this.getOrInitializeService({instanceIdentifier:Ol})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Ol){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ol){return this.instances.has(e)}getOptions(e=Ol){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ol){return this.component?this.component.multipleInstances?e:Ol:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function LB(t){return t===Ol?void 0:t}function jB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const UB={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},zB=We.INFO,BB={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},FB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=BB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ay{constructor(e){this.name=e,this._logLevel=zB,this._logHandler=FB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const qB=(t,e)=>e.some(n=>t instanceof n);let YR,WR;function HB(){return YR||(YR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $B(){return WR||(WR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hD=new WeakMap,TE=new WeakMap,dD=new WeakMap,Gb=new WeakMap,mx=new WeakMap;function GB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(So(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&hD.set(n,t)}).catch(()=>{}),mx.set(e,t),e}function KB(t){if(TE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});TE.set(t,e)}let SE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return TE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return So(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YB(t){SE=t(SE)}function WB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kb(this),e,...n);return dD.set(r,e.sort?e.sort():[e]),So(r)}:$B().includes(t)?function(...e){return t.apply(Kb(this),e),So(hD.get(this))}:function(...e){return So(t.apply(Kb(this),e))}}function QB(t){return typeof t=="function"?WB(t):(t instanceof IDBTransaction&&KB(t),qB(t,HB())?new Proxy(t,SE):t)}function So(t){if(t instanceof IDBRequest)return GB(t);if(Gb.has(t))return Gb.get(t);const e=QB(t);return e!==t&&(Gb.set(t,e),mx.set(e,t)),e}const Kb=t=>mx.get(t);function XB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),c=So(l);return r&&l.addEventListener("upgradeneeded",f=>{r(So(l.result),f.oldVersion,f.newVersion,So(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const ZB=["get","getKey","getAll","getAllKeys","count"],JB=["put","add","delete","clear"],Yb=new Map;function QR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yb.get(e))return Yb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=JB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ZB.includes(n)))return;const a=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),i&&f.done]))[0]};return Yb.set(e,a),a}YB(t=>({...t,get:(e,n,r)=>QR(e,n)||t.get(e,n,r),has:(e,n)=>!!QR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const AE="@firebase/app",XR="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new Ay("@firebase/app"),nF="@firebase/app-compat",rF="@firebase/analytics-compat",iF="@firebase/analytics",sF="@firebase/app-check-compat",aF="@firebase/app-check",oF="@firebase/auth",lF="@firebase/auth-compat",uF="@firebase/database",cF="@firebase/data-connect",fF="@firebase/database-compat",hF="@firebase/functions",dF="@firebase/functions-compat",mF="@firebase/installations",pF="@firebase/installations-compat",gF="@firebase/messaging",vF="@firebase/messaging-compat",yF="@firebase/performance",_F="@firebase/performance-compat",bF="@firebase/remote-config",wF="@firebase/remote-config-compat",EF="@firebase/storage",xF="@firebase/storage-compat",TF="@firebase/firestore",SF="@firebase/ai",AF="@firebase/firestore-compat",CF="firebase",IF="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="[DEFAULT]",RF={[AE]:"fire-core",[nF]:"fire-core-compat",[iF]:"fire-analytics",[rF]:"fire-analytics-compat",[aF]:"fire-app-check",[sF]:"fire-app-check-compat",[oF]:"fire-auth",[lF]:"fire-auth-compat",[uF]:"fire-rtdb",[cF]:"fire-data-connect",[fF]:"fire-rtdb-compat",[hF]:"fire-fn",[dF]:"fire-fn-compat",[mF]:"fire-iid",[pF]:"fire-iid-compat",[gF]:"fire-fcm",[vF]:"fire-fcm-compat",[yF]:"fire-perf",[_F]:"fire-perf-compat",[bF]:"fire-rc",[wF]:"fire-rc-compat",[EF]:"fire-gcs",[xF]:"fire-gcs-compat",[TF]:"fire-fst",[AF]:"fire-fst-compat",[SF]:"fire-vertex","fire-js":"fire-js",[CF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg=new Map,NF=new Map,IE=new Map;function ZR(t,e){try{t.container.addComponent(e)}catch(n){ha.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $l(t){const e=t.name;if(IE.has(e))return ha.debug(`There were multiple attempts to register component ${e}.`),!1;IE.set(e,t);for(const n of Zg.values())ZR(n,t);for(const n of NF.values())ZR(n,t);return!0}function Cy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ui(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ao=new Ud("app","Firebase",OF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Do("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ao.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=IF;function mD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:CE,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ao.create("bad-app-name",{appName:String(i)});if(n||(n=oD()),!n)throw Ao.create("no-options");const a=Zg.get(i);if(a){if(Mo(n,a.options)&&Mo(r,a.config))return a;throw Ao.create("duplicate-app",{appName:i})}const l=new VB(i);for(const f of IE.values())l.addComponent(f);const c=new PF(n,r,l);return Zg.set(i,c),c}function px(t=CE){const e=Zg.get(t);if(!e&&t===CE&&oD())return mD();if(!e)throw Ao.create("no-app",{appName:t});return e}function ys(t,e,n){let r=RF[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ha.warn(l.join(" "));return}$l(new Do(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF="firebase-heartbeat-database",MF=1,sd="firebase-heartbeat-store";let Wb=null;function pD(){return Wb||(Wb=XB(kF,MF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ao.create("idb-open",{originalErrorMessage:t.message})})),Wb}async function DF(t){try{const n=(await pD()).transaction(sd),r=await n.objectStore(sd).get(gD(t));return await n.done,r}catch(e){if(e instanceof Aa)ha.warn(e.message);else{const n=Ao.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ha.warn(n.message)}}}async function JR(t,e){try{const r=(await pD()).transaction(sd,"readwrite");await r.objectStore(sd).put(e,gD(t)),await r.done}catch(n){if(n instanceof Aa)ha.warn(n.message);else{const r=Ao.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ha.warn(r.message)}}}function gD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF=1024,jF=30;class VF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=eN();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>jF){const l=BF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ha.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=eN(),{heartbeatsToSend:r,unsentEntries:i}=UF(this._heartbeatsCache.heartbeats),a=Wg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ha.warn(n),""}}}function eN(){return new Date().toISOString().substring(0,10)}function UF(t,e=LF){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),tN(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xB()?TB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return JR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return JR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function tN(t){return Wg(JSON.stringify({version:2,heartbeats:t})).length}function BF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(t){$l(new Do("platform-logger",e=>new eF(e),"PRIVATE")),$l(new Do("heartbeat",e=>new VF(e),"PRIVATE")),ys(AE,XR,t),ys(AE,XR,"esm2020"),ys("fire-js","")}FF("");function vD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qF=vD,yD=new Ud("auth","Firebase",vD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg=new Ay("@firebase/auth");function HF(t,...e){Jg.logLevel<=We.WARN&&Jg.warn(`Auth (${su}): ${t}`,...e)}function Rg(t,...e){Jg.logLevel<=We.ERROR&&Jg.error(`Auth (${su}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(t,...e){throw gx(t,...e)}function _s(t,...e){return gx(t,...e)}function _D(t,e,n){const r={...qF(),[e]:n};return new Ud("auth","Firebase",r).create(e,{appName:t.name})}function Co(t){return _D(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yD.create(t,...e)}function Ne(t,e,...n){if(!t)throw gx(e,...n)}function ra(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rg(e),new Error(e)}function da(t,e){t||ra(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function $F(){return nN()==="http:"||nN()==="https:"}function nN(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($F()||_B()||"connection"in navigator)?navigator.onLine:!0}function KF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n){this.shortDelay=e,this.longDelay=n,da(n>e,"Short delay should be less than long delay!"),this.isMobile=hx()||cD()}get(){return GF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(t,e){da(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ra("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ra("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ra("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QF=new zd(3e4,6e4);function au(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Qo(t,e,n,r,i={}){return wD(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=rf({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...a};return yB()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Wo(t.emulatorConfig.host)&&(h.credentials="include"),bD.fetch()(await ED(t,t.config.apiHost,n,c),h)})}async function wD(t,e,n){t._canInitEmulator=!1;const r={...YF,...e};try{const i=new ZF(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw ig(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[f,h]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw ig(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw ig(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw ig(t,"user-disabled",l);const m=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw _D(t,m,h);Fi(t,m)}}catch(i){if(i instanceof Aa)throw i;Fi(t,"network-request-failed",{message:String(i)})}}async function Iy(t,e,n,r,i={}){const a=await Qo(t,e,n,r,i);return"mfaPendingCredential"in a&&Fi(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function ED(t,e,n,r){const i=`${e}${n}?${r}`,a=t,l=a.config.emulator?vx(t.config,i):`${t.config.apiScheme}://${i}`;return WF.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function XF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_s(this.auth,"network-request-failed")),QF.get())})}}function ig(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_s(t,e,r);return i.customData._tokenResponse=n,i}function rN(t){return t!==void 0&&t.enterprise!==void 0}class JF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return XF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function e7(t,e){return Qo(t,"GET","/v2/recaptchaConfig",au(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t7(t,e){return Qo(t,"POST","/v1/accounts:delete",e)}async function ev(t,e){return Qo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function n7(t,e=!1){const n=en(t),r=await n.getIdToken(e),i=yx(r);Ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:$h(Qb(i.auth_time)),issuedAtTime:$h(Qb(i.iat)),expirationTime:$h(Qb(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Qb(t){return Number(t)*1e3}function yx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Qg(n);return i?JSON.parse(i):(Rg("Failed to decode base64 JWT payload"),null)}catch(i){return Rg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function iN(t){const e=yx(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ad(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Aa&&r7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function r7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$h(this.lastLoginAt),this.creationTime=$h(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tv(t){var p;const e=t.auth,n=await t.getIdToken(),r=await ad(t,ev(e,{idToken:n}));Ne(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(p=i.providerUserInfo)!=null&&p.length?xD(i.providerUserInfo):[],l=a7(t.providerData,a),c=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=c?f:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new NE(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function s7(t){const e=en(t);await tv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function a7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function xD(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o7(t,e){const n=await wD(t,{},async()=>{const r=rf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await ED(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return t.emulatorConfig&&Wo(t.emulatorConfig.host)&&(f.credentials="include"),bD.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function l7(t,e){return Qo(t,"POST","/v2/accounts:revokeToken",au(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=iN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await o7(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new _c;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ne(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ne(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _c,this.toJSON())}_performRefresh(){return ra("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Di{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new i7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new NE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ad(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return n7(this,e)}reload(){return s7(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Di({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await tv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(Co(this.auth));const e=await this.getIdToken();return await ad(this,t7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:p,emailVerified:y,isAnonymous:b,providerData:w,stsTokenManager:x}=n;Ne(p&&x,e,"internal-error");const C=_c.fromJSON(this.name,x);Ne(typeof p=="string",e,"internal-error"),po(r,e.name),po(i,e.name),Ne(typeof y=="boolean",e,"internal-error"),Ne(typeof b=="boolean",e,"internal-error"),po(a,e.name),po(l,e.name),po(c,e.name),po(f,e.name),po(h,e.name),po(m,e.name);const R=new Di({uid:p,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:b,photoURL:l,phoneNumber:a,tenantId:c,stsTokenManager:C,createdAt:h,lastLoginAt:m});return w&&Array.isArray(w)&&(R.providerData=w.map(M=>({...M}))),f&&(R._redirectEventId=f),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new _c;i.updateFromServerResponse(n);const a=new Di({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await tv(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ne(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?xD(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new _c;c.updateFromIdToken(r);const f=new Di({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new NE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=new Map;function ia(t){da(t instanceof Function,"Expected a class definition");let e=sN.get(t);return e?(da(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TD.type="NONE";const aN=TD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(t,e,n){return`firebase:${t}:${e}:${n}`}class bc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Ng(this.userKey,i.apiKey,a),this.fullPersistenceKey=Ng("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ev(this.auth,{idToken:e}).catch(()=>{});return n?Di._fromGetAccountInfoResponse(this.auth,n,e):null}return Di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bc(ia(aN),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||ia(aN);const l=Ng(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const m=await h._get(l);if(m){let p;if(typeof m=="string"){const y=await ev(e,{idToken:m}).catch(()=>{});if(!y)break;p=await Di._fromGetAccountInfoResponse(e,y,m)}else p=Di._fromJSON(e,m);h!==a&&(c=p),a=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new bc(a,e,r):(a=f[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==a)try{await h._remove(l)}catch{}})),new bc(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ID(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ND(e))return"Blackberry";if(OD(e))return"Webos";if(AD(e))return"Safari";if((e.includes("chrome/")||CD(e))&&!e.includes("edge/"))return"Chrome";if(RD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function SD(t=ar()){return/firefox\//i.test(t)}function AD(t=ar()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CD(t=ar()){return/crios\//i.test(t)}function ID(t=ar()){return/iemobile/i.test(t)}function RD(t=ar()){return/android/i.test(t)}function ND(t=ar()){return/blackberry/i.test(t)}function OD(t=ar()){return/webos/i.test(t)}function _x(t=ar()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function u7(t=ar()){var e;return _x(t)&&!!((e=window.navigator)!=null&&e.standalone)}function c7(){return bB()&&document.documentMode===10}function PD(t=ar()){return _x(t)||RD(t)||OD(t)||ND(t)||/windows phone/i.test(t)||ID(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t,e=[]){let n;switch(t){case"Browser":n=oN(ar());break;case"Worker":n=`${oN(ar())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${su}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,c)=>{try{const f=e(a);l(f)}catch(f){c(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h7(t,e={}){return Qo(t,"GET","/v2/passwordPolicy",au(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7=6;class m7{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??d7,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lN(this),this.idTokenSubscription=new lN(this),this.beforeStateQueue=new f7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ia(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await bc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ev(this,{idToken:e}),r=await Di._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(ui(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(a=this.redirectUser)==null?void 0:a._redirectEventId,c=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&(f!=null&&f.user)&&(r=f.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await tv(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ui(this.app))return Promise.reject(Co(this));const n=e?en(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(Co(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ui(this.app)?Promise.reject(Co(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ia(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await h7(this),n=new m7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ud("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await l7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ia(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await bc.create(this,[ia(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&HF(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function sf(t){return en(t)}class lN{constructor(e){this.auth=e,this.observer=null,this.addObserver=OB(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ry={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g7(t){Ry=t}function MD(t){return Ry.loadJS(t)}function v7(){return Ry.recaptchaEnterpriseScript}function y7(){return Ry.gapiScript}function _7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class b7{constructor(){this.enterprise=new w7}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class w7{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const E7="recaptcha-enterprise",DD="NO_RECAPTCHA";class x7{constructor(e){this.type=E7,this.auth=sf(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{e7(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new JF(f);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,l(h.siteKey)}}).catch(f=>{c(f)})})}function i(a,l,c){const f=window.grecaptcha;rN(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(h=>{l(h)}).catch(()=>{l(DD)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new b7().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!n&&rN(window.grecaptcha))i(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=v7();f.length!==0&&(f+=c),MD(f).then(()=>{i(c,a,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function uN(t,e,n,r=!1,i=!1){const a=new x7(t);let l;if(i)l=DD;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function cN(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await uN(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await uN(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T7(t,e){const n=Cy(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Mo(a,e??{}))return i;Fi(i,"already-initialized")}return n.initialize({options:e})}function S7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ia);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function A7(t,e,n){const r=sf(t);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=LD(e),{host:l,port:c}=C7(e),f=c===null?"":`:${c}`,h={url:`${a}//${l}${f}/`},m=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(Mo(h,r.config.emulator)&&Mo(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Wo(l)?(cx(`${a}//${l}${f}`),fx("Auth",!0)):I7()}function LD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function C7(t){const e=LD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:fN(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:fN(l)}}}function fN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function I7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ra("not implemented")}_getIdTokenResponse(e){return ra("not implemented")}_linkToIdToken(e,n){return ra("not implemented")}_getReauthenticationResolver(e){return ra("not implemented")}}async function R7(t,e){return Qo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N7(t,e){return Iy(t,"POST","/v1/accounts:signInWithPassword",au(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O7(t,e){return Iy(t,"POST","/v1/accounts:signInWithEmailLink",au(t,e))}async function P7(t,e){return Iy(t,"POST","/v1/accounts:signInWithEmailLink",au(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od extends bx{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new od(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new od(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cN(e,n,"signInWithPassword",N7);case"emailLink":return O7(e,{email:this._email,oobCode:this._password});default:Fi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cN(e,r,"signUpPassword",R7);case"emailLink":return P7(e,{idToken:n,email:this._email,oobCode:this._password});default:Fi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(t,e){return Iy(t,"POST","/v1/accounts:signInWithIdp",au(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k7="http://localhost";class Gl extends bx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Gl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const l=new Gl(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return wc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wc(e,n)}buildRequest(){const e={requestUri:k7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=rf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function D7(t){const e=Lh(jh(t)).link,n=e?Lh(jh(e)).deep_link_id:null,r=Lh(jh(t)).deep_link_id;return(r?Lh(jh(r)).link:null)||r||n||e||t}class wx{constructor(e){const n=Lh(jh(e)),r=n.apiKey??null,i=n.oobCode??null,a=M7(n.mode??null);Ne(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=D7(e);try{return new wx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(){this.providerId=af.PROVIDER_ID}static credential(e,n){return od._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=wx.parseLink(n);return Ne(r,"argument-error"),od._fromEmailAndCode(e,r.code,r.tenantId)}}af.PROVIDER_ID="password";af.EMAIL_PASSWORD_SIGN_IN_METHOD="password";af.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd extends jD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends Bd{constructor(){super("facebook.com")}static credential(e){return Gl._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _o.credential(e.oauthAccessToken)}catch{return null}}}_o.FACEBOOK_SIGN_IN_METHOD="facebook.com";_o.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends Bd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Gl._fromParams({providerId:bo.PROVIDER_ID,signInMethod:bo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return bo.credentialFromTaggedObject(e)}static credentialFromError(e){return bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return bo.credential(n,r)}catch{return null}}}bo.GOOGLE_SIGN_IN_METHOD="google.com";bo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends Bd{constructor(){super("github.com")}static credential(e){return Gl._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wo.credential(e.oauthAccessToken)}catch{return null}}}wo.GITHUB_SIGN_IN_METHOD="github.com";wo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends Bd{constructor(){super("twitter.com")}static credential(e,n){return Gl._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Eo.credential(n,r)}catch{return null}}}Eo.TWITTER_SIGN_IN_METHOD="twitter.com";Eo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Di._fromIdTokenResponse(e,r,i),l=hN(r);return new Nc({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=hN(r);return new Nc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function hN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv extends Aa{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,nv.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new nv(e,n,r,i)}}function VD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?nv._fromErrorAndOperation(t,a,e,r):a})}async function L7(t,e,n=!1){const r=await ad(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Nc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j7(t,e,n=!1){const{auth:r}=t;if(ui(r.app))return Promise.reject(Co(r));const i="reauthenticate";try{const a=await ad(t,VD(r,i,e,t),n);Ne(a.idToken,r,"internal-error");const l=yx(a.idToken);Ne(l,r,"internal-error");const{sub:c}=l;return Ne(t.uid===c,r,"user-mismatch"),Nc._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Fi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(t,e,n=!1){if(ui(t.app))return Promise.reject(Co(t));const r="signIn",i=await VD(t,r,e),a=await Nc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function V7(t,e){return UD(sf(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U7(t){const e=sf(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function z7(t,e,n){return ui(t.app)?Promise.reject(Co(t)):V7(en(t),af.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&U7(t),r})}function B7(t,e,n,r){return en(t).onIdTokenChanged(e,n,r)}function F7(t,e,n){return en(t).beforeAuthStateChanged(e,n)}function q7(t,e,n,r){return en(t).onAuthStateChanged(e,n,r)}function H7(t){return en(t).signOut()}const rv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rv,"1"),this.storage.removeItem(rv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7=1e3,G7=10;class BD extends zD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);c7()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,G7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},$7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}BD.type="LOCAL";const K7=BD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD extends zD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FD.type="SESSION";const qD=FD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ny(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async h=>h(n.origin,a)),f=await Y7(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ny.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,f)=>{const h=Ex("",20);i.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(p){const y=p;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(y.data.response);break;default:clearTimeout(m),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(){return window}function Q7(t){bs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(){return typeof bs().WorkerGlobalScope<"u"&&typeof bs().importScripts=="function"}async function X7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Z7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function J7(){return HD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="firebaseLocalStorageDb",eq=1,iv="firebaseLocalStorage",GD="fbase_key";class Fd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Oy(t,e){return t.transaction([iv],e?"readwrite":"readonly").objectStore(iv)}function tq(){const t=indexedDB.deleteDatabase($D);return new Fd(t).toPromise()}function OE(){const t=indexedDB.open($D,eq);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(iv,{keyPath:GD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(iv)?e(r):(r.close(),await tq(),e(await OE()))})})}async function dN(t,e,n){const r=Oy(t,!0).put({[GD]:e,value:n});return new Fd(r).toPromise()}async function nq(t,e){const n=Oy(t,!1).get(e),r=await new Fd(n).toPromise();return r===void 0?null:r.value}function mN(t,e){const n=Oy(t,!0).delete(e);return new Fd(n).toPromise()}const rq=800,iq=3;class KD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await OE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>iq)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ny._getInstance(J7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await X7(),!this.activeServiceWorker)return;this.sender=new W7(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Z7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await OE();return await dN(e,rv,"1"),await mN(e,rv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>dN(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>nq(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Oy(i,!1).getAll();return new Fd(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KD.type="LOCAL";const sq=KD;new zd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aq(t,e){return e?ia(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx extends bx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oq(t){return UD(t.auth,new xx(t),t.bypassAuthState)}function lq(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),j7(n,new xx(t),t.bypassAuthState)}async function uq(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),L7(n,new xx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oq;case"linkViaPopup":case"linkViaRedirect":return uq;case"reauthViaPopup":case"reauthViaRedirect":return lq;default:Fi(this.auth,"internal-error")}}resolve(e){da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cq=new zd(2e3,1e4);class mc extends YD{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,mc.currentPopupAction&&mc.currentPopupAction.cancel(),mc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){da(this.filter.length===1,"Popup operations only handle one event");const e=Ex();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_s(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(_s(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_s(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cq.get())};e()}}mc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fq="pendingRedirect",Og=new Map;class hq extends YD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Og.get(this.auth._key());if(!e){try{const r=await dq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Og.set(this.auth._key(),e)}return this.bypassAuthState||Og.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dq(t,e){const n=gq(e),r=pq(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function mq(t,e){Og.set(t._key(),e)}function pq(t){return ia(t._redirectPersistence)}function gq(t){return Ng(fq,t.config.apiKey,t.name)}async function vq(t,e,n=!1){if(ui(t.app))return Promise.reject(Co(t));const r=sf(t),i=aq(r,e),l=await new hq(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yq=600*1e3;class _q{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bq(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!WD(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(_s(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yq&&this.cachedEventUids.clear(),this.cachedEventUids.has(pN(e))}saveEventToCache(e){this.cachedEventUids.add(pN(e)),this.lastProcessedEventTime=Date.now()}}function pN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function WD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wq(t,e={}){return Qo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xq=/^https?/;async function Tq(t){if(t.config.emulator)return;const{authorizedDomains:e}=await wq(t);for(const n of e)try{if(Sq(n))return}catch{}Fi(t,"unauthorized-domain")}function Sq(t){const e=RE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!xq.test(n))return!1;if(Eq.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aq=new zd(3e4,6e4);function gN(){const t=bs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Cq(t){return new Promise((e,n)=>{var i,a,l;function r(){gN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gN(),n(_s(t,"network-request-failed"))},timeout:Aq.get()})}if((a=(i=bs().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((l=bs().gapi)!=null&&l.load)r();else{const c=_7("iframefcb");return bs()[c]=()=>{gapi.load?r():n(_s(t,"network-request-failed"))},MD(`${y7()}?onload=${c}`).catch(f=>n(f))}}).catch(e=>{throw Pg=null,e})}let Pg=null;function Iq(t){return Pg=Pg||Cq(t),Pg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rq=new zd(5e3,15e3),Nq="__/auth/iframe",Oq="emulator/auth/iframe",Pq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mq(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vx(e,Oq):`https://${t.config.authDomain}/${Nq}`,r={apiKey:e.apiKey,appName:t.name,v:su},i=kq.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${rf(r).slice(1)}`}async function Dq(t){const e=await Iq(t),n=bs().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:Mq(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pq,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=_s(t,"network-request-failed"),c=bs().setTimeout(()=>{a(l)},Rq.get());function f(){bs().clearTimeout(c),i(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jq=500,Vq=600,Uq="_blank",zq="http://localhost";class vN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Bq(t,e,n,r=jq,i=Vq){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f={...Lq,width:r.toString(),height:i.toString(),top:a,left:l},h=ar().toLowerCase();n&&(c=CD(h)?Uq:n),SD(h)&&(e=e||zq,f.scrollbars="yes");const m=Object.entries(f).reduce((y,[b,w])=>`${y}${b}=${w},`,"");if(u7(h)&&c!=="_self")return Fq(e||"",c),new vN(null);const p=window.open(e||"",c,m);Ne(p,t,"popup-blocked");try{p.focus()}catch{}return new vN(p)}function Fq(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qq="__/auth/handler",Hq="emulator/auth/handler",$q=encodeURIComponent("fac");async function yN(t,e,n,r,i,a){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:su,eventId:i};if(e instanceof jD){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",xE(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,p]of Object.entries({}))l[m]=p}if(e instanceof Bd){const m=e.getScopes().filter(p=>p!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const f=await t._getAppCheckToken(),h=f?`#${$q}=${encodeURIComponent(f)}`:"";return`${Gq(t)}?${rf(c).slice(1)}${h}`}function Gq({config:t}){return t.emulator?vx(t,Hq):`https://${t.authDomain}/${qq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="webStorageSupport";class Kq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qD,this._completeRedirectFn=vq,this._overrideRedirectResult=mq}async _openPopup(e,n,r,i){var l;da((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const a=await yN(e,n,r,RE(),i);return Bq(e,a,Ex())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await yN(e,n,r,RE(),i);return Q7(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(da(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Dq(e),r=new _q(e);return n.register("authEvent",i=>(Ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xb,{type:Xb},i=>{var l;const a=(l=i==null?void 0:i[0])==null?void 0:l[Xb];a!==void 0&&n(!!a),Fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Tq(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PD()||AD()||_x()}}const Yq=Kq;var _N="@firebase/auth",bN="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Xq(t){$l(new Do("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ne(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kD(t)},h=new p7(r,i,a,f);return S7(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$l(new Do("auth-internal",e=>{const n=sf(e.getProvider("auth").getImmediate());return(r=>new Wq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ys(_N,bN,Qq(t)),ys(_N,bN,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zq=300,Jq=lD("authIdTokenMaxAge")||Zq;let wN=null;const eH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Jq)return;const i=n==null?void 0:n.token;wN!==i&&(wN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function tH(t=px()){const e=Cy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=T7(t,{popupRedirectResolver:Yq,persistence:[sq,K7,qD]}),r=lD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=eH(a.toString());F7(n,l,()=>l(n.currentUser)),B7(n,c=>l(c))}}const i=sD("auth");return i&&A7(n,`http://${i}`),n}function nH(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}g7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=_s("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",nH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Xq("Browser");var rH="firebase",iH="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ys(rH,iH,"app");var EN={};const xN="@firebase/database",TN="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QD="";function sH(t){QD=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),wn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:id(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ca(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new aH(e)}}catch{}return new oH},Ll=XD("localStorage"),lH=XD("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new Ay("@firebase/database"),uH=(function(){let t=1;return function(){return t++}})(),ZD=function(t){const e=MB(t),n=new NB;n.update(e);const r=n.digest();return ux.encodeByteArray(r)},qd=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=qd.apply(null,r):typeof r=="object"?e+=wn(r):e+=r,e+=" "}return e};let Gh=null,SN=!0;const cH=function(t,e){ge(!0,"Can't turn on custom loggers persistently."),Ec.logLevel=We.VERBOSE,Gh=Ec.log.bind(Ec)},rr=function(...t){if(SN===!0&&(SN=!1,Gh===null&&lH.get("logging_enabled")===!0&&cH()),Gh){const e=qd.apply(null,t);Gh(e)}},Hd=function(t){return function(...e){rr(t,...e)}},PE=function(...t){const e="FIREBASE INTERNAL ERROR: "+qd(...t);Ec.error(e)},ma=function(...t){const e=`FIREBASE FATAL ERROR: ${qd(...t)}`;throw Ec.error(e),new Error(e)},Ar=function(...t){const e="FIREBASE WARNING: "+qd(...t);Ec.warn(e)},fH=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ar("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},JD=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},hH=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Oc="[MIN_NAME]",Kl="[MAX_NAME]",of=function(t,e){if(t===e)return 0;if(t===Oc||e===Kl)return-1;if(e===Oc||t===Kl)return 1;{const n=AN(t),r=AN(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},dH=function(t,e){return t===e?0:t<e?-1:1},Sh=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+wn(e))},Tx=function(t){if(typeof t!="object"||t===null)return wn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=wn(e[r]),n+=":",n+=Tx(t[e[r]]);return n+="}",n},eL=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Cr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const tL=function(t){ge(!JD(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,a,l,c,f;t===0?(a=0,l=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),a=c+r,l=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(a=0,l=Math.round(t/Math.pow(2,1-r-n))));const h=[];for(f=n;f;f-=1)h.push(l%2?1:0),l=Math.floor(l/2);for(f=e;f;f-=1)h.push(a%2?1:0),a=Math.floor(a/2);h.push(i?1:0),h.reverse();const m=h.join("");let p="";for(f=0;f<64;f+=8){let y=parseInt(m.substr(f,8),2).toString(16);y.length===1&&(y="0"+y),p=p+y}return p.toLowerCase()},mH=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},pH=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function gH(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const vH=new RegExp("^-?(0*)\\d{1,10}$"),yH=-2147483648,_H=2147483647,AN=function(t){if(vH.test(t)){const e=Number(t);if(e>=yH&&e<=_H)return e}return null},lf=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ar("Exception was thrown by user callback.",n),e},Math.floor(0))}},bH=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Kh=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,ui(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ar(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(rr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ar(e)}}class kg{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}kg.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="5",nL="v",rL="s",iL="r",sL="f",aL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,oL="ls",lL="p",kE="ac",uL="websocket",cL="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e,n,r,i,a=!1,l="",c=!1,f=!1,h=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=l,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=f,this.emulatorOptions=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ll.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ll.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function xH(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function hL(t,e,n){ge(typeof e=="string","typeof type must == string"),ge(typeof n=="object","typeof params must == object");let r;if(e===uL)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===cL)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);xH(t)&&(n.ns=t.namespace);const i=[];return Cr(n,(a,l)=>{i.push(a+"="+l)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(){this.counters_={}}incrementCounter(e,n=1){Ca(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return uB(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb={},Jb={};function Ax(t){const e=t.toString();return Zb[e]||(Zb[e]=new TH),Zb[e]}function SH(t,e){const n=t.toString();return Jb[n]||(Jb[n]=e()),Jb[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&lf(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="start",CH="close",IH="pLPCommand",RH="pRTLPCB",dL="id",mL="pw",pL="ser",NH="cb",OH="seg",PH="ts",kH="d",MH="dframe",gL=1870,vL=30,DH=gL-vL,LH=25e3,jH=3e4;class pc{constructor(e,n,r,i,a,l,c){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=l,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Hd(e),this.stats_=Ax(n),this.urlFn=f=>(this.appCheckToken&&(f[kE]=this.appCheckToken),hL(n,cL,f))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new AH(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(jH)),hH(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Cx((...a)=>{const[l,c,f,h,m]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===CN)this.id=c,this.password=f;else if(l===CH)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...a)=>{const[l,c]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(l,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[CN]="t",r[pL]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[NH]=this.scriptTagHolder.uniqueCallbackIdentifier),r[nL]=Sx,this.transportSessionId&&(r[rL]=this.transportSessionId),this.lastSessionId&&(r[oL]=this.lastSessionId),this.applicationId&&(r[lL]=this.applicationId),this.appCheckToken&&(r[kE]=this.appCheckToken),typeof location<"u"&&location.hostname&&aL.test(location.hostname)&&(r[iL]=sL);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){pc.forceAllow_=!0}static forceDisallow(){pc.forceDisallow_=!0}static isAvailable(){return pc.forceAllow_?!0:!pc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!mH()&&!pH()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=wn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=rD(n),i=eL(r,DH);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[MH]="t",r[dL]=e,r[mL]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=wn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Cx{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=uH(),window[IH+this.uniqueCallbackIdentifier]=e,window[RH+this.uniqueCallbackIdentifier]=n,this.myIFrame=Cx.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){rr("frame writing exception"),c.stack&&rr(c.stack),rr(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||rr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[dL]=this.myID,e[mL]=this.myPW,e[pL]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+vL+r.length<=gL;){const l=this.pendingSegs.shift();r=r+"&"+OH+i+"="+l.seg+"&"+PH+i+"="+l.ts+"&"+kH+i+"="+l.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(LH)),a=()=>{clearTimeout(i),r()};this.addTag(e,a)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{rr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH=16384,UH=45e3;let sv=null;typeof MozWebSocket<"u"?sv=MozWebSocket:typeof WebSocket<"u"&&(sv=WebSocket);class Oi{constructor(e,n,r,i,a,l,c){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Hd(this.connId),this.stats_=Ax(n),this.connURL=Oi.connectionURL_(n,l,c,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,a){const l={};return l[nL]=Sx,typeof location<"u"&&location.hostname&&aL.test(location.hostname)&&(l[iL]=sL),n&&(l[rL]=n),r&&(l[oL]=r),i&&(l[kE]=i),a&&(l[lL]=a),hL(e,uL,l)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ll.set("previous_websocket_failure",!0);try{let r;wB(),this.mySock=new sv(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Oi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&sv!==null&&!Oi.forceDisallow_}static previouslyFailed(){return Ll.isInMemoryStorage||Ll.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ll.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=id(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ge(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=wn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=eL(n,VH);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(UH))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Oi.responsesRequiredToBeHealthy=2;Oi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{static get ALL_TRANSPORTS(){return[pc,Oi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Oi&&Oi.isAvailable();let r=n&&!Oi.previouslyFailed();if(e.webSocketOnly&&(n||Ar("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Oi];else{const i=this.transports_=[];for(const a of ld.ALL_TRANSPORTS)a&&a.isAvailable()&&i.push(a);ld.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ld.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH=6e4,BH=5e3,FH=10*1024,qH=100*1024,ew="t",IN="d",HH="s",RN="r",$H="e",NN="o",ON="a",PN="n",kN="p",GH="h";class KH{constructor(e,n,r,i,a,l,c,f,h,m){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=l,this.onReady_=c,this.onDisconnect_=f,this.onKill_=h,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Hd("c:"+this.id+":"),this.transportManager_=new ld(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Kh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>qH?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>FH?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ew in e){const n=e[ew];n===ON?this.upgradeIfSecondaryHealthy_():n===RN?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===NN&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Sh("t",e),r=Sh("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:kN,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ON,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:PN,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Sh("t",e),r=Sh("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Sh(ew,e);if(IN in e){const r=e[IN];if(n===GH){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===PN){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===HH?this.onConnectionShutdown_(r):n===RN?this.onReset_(r):n===$H?PE("Server Error: "+r):n===NN?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):PE("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Sx!==r&&Ar("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Kh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(zH))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Kh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(BH))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:kN,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ll.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _L=class{constructor(e){this.allowedEvents_=e,this.listeners_={},ge(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let a=0;a<i.length;a++)if(i[a].callback===n&&(!r||r===i[a].context)){i.splice(a,1);return}}validateEventType_(e){ge(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av extends _L{static getInstance(){return new av}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!hx()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ge(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=32,DN=768;let At=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function lt(){return new At("")}function qe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Lo(t){return t.pieces_.length-t.pieceNum_}function Nt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new At(t.pieces_,e)}function bL(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function YH(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function wL(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function EL(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new At(e,0)}function En(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof At)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new At(n,0)}function Qe(t){return t.pieceNum_>=t.pieces_.length}function hr(t,e){const n=qe(t),r=qe(e);if(n===null)return e;if(n===r)return hr(Nt(t),Nt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Ix(t,e){if(Lo(t)!==Lo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Li(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Lo(t)>Lo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class WH{constructor(e,n){this.errorPrefix_=n,this.parts_=wL(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Sy(this.parts_[r]);xL(this)}}function QH(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Sy(e),xL(t)}function XH(t){const e=t.parts_.pop();t.byteLength_-=Sy(e),t.parts_.length>0&&(t.byteLength_-=1)}function xL(t){if(t.byteLength_>DN)throw new Error(t.errorPrefix_+"has a key path longer than "+DN+" bytes ("+t.byteLength_+").");if(t.parts_.length>MN)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+MN+") or object contains a cycle "+Pl(t))}function Pl(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx extends _L{static getInstance(){return new Rx}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ge(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=1e3,ZH=300*1e3,LN=30*1e3,JH=1.3,e$=3e4,t$="server_kill",jN=3;class ua extends yL{constructor(e,n,r,i,a,l,c,f){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=a,this.authTokenProvider_=l,this.appCheckTokenProvider_=c,this.authOverride_=f,this.id=ua.nextPersistentConnectionId_++,this.log_=Hd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ah,this.maxReconnectDelay_=ZH,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Rx.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&av.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,a={r:i,a:e,b:n};this.log_(wn(a)),ge(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Ty,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const c=l.d;l.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(e,n,r,i){this.initConnection_();const a=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),ge(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ge(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");const c={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(l).set(a,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const a={p:r},l="q";e.tag&&(a.q=n._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(l,a,c=>{const f=c.d,h=c.s;ua.warnOnListenWarnings_(f,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",c),h!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(h,f))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ca(e,"w")){const r=Rc(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();Ar(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||RB(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=LN)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=IB(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const a=i.s,l=i.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ge(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const a={p:e},l="n";i&&(a.q=r,a.t=i),this.sendRequest(l,a)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const a={p:n,d:r};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,l=>{i&&setTimeout(()=>{i(l.s,l.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,a){this.initConnection_();const l={p:n,d:r};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:e,request:l,onComplete:i}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(a.s,a.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const a=r.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+wn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):PE("Unrecognized action received from server: "+wn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ge(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ah,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ah,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>e$&&(this.reconnectDelay_=Ah),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*JH)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+ua.nextConnectionId_++,a=this.lastSessionId;let l=!1,c=null;const f=function(){c?c.close():(l=!0,r())},h=function(p){ge(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(p)};this.realtime_={close:f,sendRequest:h};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,y]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);l?rr("getToken() completed but was canceled"):(rr("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=y&&y.token,c=new KH(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,b=>{Ar(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(t$)},a))}catch(p){this.log_("Failed to get token: "+p),l||(this.repoInfo_.nodeAdmin&&Ar(p),f())}}}interrupt(e){rr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){rr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],xE(this.interruptReasons_)&&(this.reconnectDelay_=Ah,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(a=>Tx(a)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new At(e).toString();let i;if(this.listens.has(r)){const a=this.listens.get(r);i=a.get(n),a.delete(n),a.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){rr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=jN&&(this.reconnectDelay_=LN,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){rr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=jN&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+QD.replace(/\./g,"-")]=1,hx()?e["framework.cordova"]=1:cD()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=av.getInstance().currentlyOnline();return xE(this.interruptReasons_)&&e}}ua.nextPersistentConnectionId_=0;ua.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new He(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new He(Oc,e),i=new He(Oc,n);return this.compare(r,i)!==0}minPost(){return He.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sg;class TL extends Py{static get __EMPTY_NODE(){return sg}static set __EMPTY_NODE(e){sg=e}compare(e,n){return of(e.name,n.name)}isDefinedOn(e){throw nf("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return He.MIN}maxPost(){return new He(Kl,sg)}makePost(e,n){return ge(typeof e=="string","KeyIndex indexValue must always be a string."),new He(e,sg)}toString(){return".key"}}const xc=new TL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ag=class{constructor(e,n,r,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=n?r(e.key,n):1,i&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Ur=class Vh{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Vh.RED,this.left=i??gs.EMPTY_NODE,this.right=a??gs.EMPTY_NODE}copy(e,n,r,i,a){return new Vh(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return a<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return gs.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return gs.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Vh.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Vh.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};Ur.RED=!0;Ur.BLACK=!1;class n${copy(e,n,r,i,a){return this}insert(e,n,r){return new Ur(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let gs=class Mg{constructor(e,n=Mg.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Mg(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ur.BLACK,null,null))}remove(e){return new Mg(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ur.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ag(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ag(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ag(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ag(this.root_,null,this.comparator_,!0,e)}};gs.EMPTY_NODE=new n$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r$(t,e){return of(t.name,e.name)}function Nx(t,e){return of(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ME;function i$(t){ME=t}const SL=function(t){return typeof t=="number"?"number:"+tL(t):"string:"+t},AL=function(t){if(t.isLeafNode()){const e=t.val();ge(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ca(e,".sv"),"Priority must be a string or number.")}else ge(t===ME||t.isEmpty(),"priority of unexpected type.");ge(t===ME||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VN;class kn{static set __childrenNodeConstructor(e){VN=e}static get __childrenNodeConstructor(){return VN}constructor(e,n=kn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ge(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),AL(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new kn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:kn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Qe(e)?this:qe(e)===".priority"?this.priorityNode_:kn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:kn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=qe(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ge(r!==".priority"||Lo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,kn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Nt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+SL(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=tL(this.value_):e+=this.value_,this.lazyHash_=ZD(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===kn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof kn.__childrenNodeConstructor?-1:(ge(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=kn.VALUE_TYPE_ORDER.indexOf(n),a=kn.VALUE_TYPE_ORDER.indexOf(r);return ge(i>=0,"Unknown leaf type: "+n),ge(a>=0,"Unknown leaf type: "+r),i===a?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}kn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CL,IL;function s$(t){CL=t}function a$(t){IL=t}class o$ extends Py{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),a=r.compareTo(i);return a===0?of(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return He.MIN}maxPost(){return new He(Kl,new kn("[PRIORITY-POST]",IL))}makePost(e,n){const r=CL(e);return new He(n,new kn("[PRIORITY-POST]",r))}toString(){return".priority"}}const $t=new o$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$=Math.log(2);class u${constructor(e){const n=a=>parseInt(Math.log(a)/l$,10),r=a=>parseInt(Array(a+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ov=function(t,e,n,r){t.sort(e);const i=function(f,h){const m=h-f;let p,y;if(m===0)return null;if(m===1)return p=t[f],y=n?n(p):p,new Ur(y,p.node,Ur.BLACK,null,null);{const b=parseInt(m/2,10)+f,w=i(f,b),x=i(b+1,h);return p=t[b],y=n?n(p):p,new Ur(y,p.node,Ur.BLACK,w,x)}},a=function(f){let h=null,m=null,p=t.length;const y=function(w,x){const C=p-w,R=p;p-=w;const M=i(C+1,R),P=t[C],q=n?n(P):P;b(new Ur(q,P.node,x,null,M))},b=function(w){h?(h.left=w,h=w):(m=w,h=w)};for(let w=0;w<f.count;++w){const x=f.nextBitIsOne(),C=Math.pow(2,f.count-(w+1));x?y(C,Ur.BLACK):(y(C,Ur.BLACK),y(C,Ur.RED))}return m},l=new u$(t.length),c=a(l);return new gs(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tw;const ic={};class sa{static get Default(){return ge(ic&&$t,"ChildrenNode.ts has not been loaded"),tw=tw||new sa({".priority":ic},{".priority":$t}),tw}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Rc(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof gs?n:null}hasIndex(e){return Ca(this.indexSet_,e.toString())}addIndex(e,n){ge(e!==xc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const a=n.getIterator(He.Wrap);let l=a.getNext();for(;l;)i=i||e.isDefinedOn(l.node),r.push(l),l=a.getNext();let c;i?c=ov(r,e.getCompare()):c=ic;const f=e.toString(),h={...this.indexSet_};h[f]=e;const m={...this.indexes_};return m[f]=c,new sa(m,h)}addToIndexes(e,n){const r=Xg(this.indexes_,(i,a)=>{const l=Rc(this.indexSet_,a);if(ge(l,"Missing index implementation for "+a),i===ic)if(l.isDefinedOn(e.node)){const c=[],f=n.getIterator(He.Wrap);let h=f.getNext();for(;h;)h.name!==e.name&&c.push(h),h=f.getNext();return c.push(e),ov(c,l.getCompare())}else return ic;else{const c=n.get(e.name);let f=i;return c&&(f=f.remove(new He(e.name,c))),f.insert(e,e.node)}});return new sa(r,this.indexSet_)}removeFromIndexes(e,n){const r=Xg(this.indexes_,i=>{if(i===ic)return i;{const a=n.get(e.name);return a?i.remove(new He(e.name,a)):i}});return new sa(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch;class Oe{static get EMPTY_NODE(){return Ch||(Ch=new Oe(new gs(Nx),null,sa.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&AL(this.priorityNode_),this.children_.isEmpty()&&ge(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ch}updatePriority(e){return this.children_.isEmpty()?this:new Oe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ch:n}}getChild(e){const n=qe(e);return n===null?this:this.getImmediateChild(n).getChild(Nt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ge(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new He(e,n);let i,a;n.isEmpty()?(i=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_));const l=i.isEmpty()?Ch:this.priorityNode_;return new Oe(i,l,a)}}updateChild(e,n){const r=qe(e);if(r===null)return n;{ge(qe(e)!==".priority"||Lo(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Nt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,a=!0;if(this.forEachChild($t,(l,c)=>{n[l]=c.val(e),r++,a&&Oe.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):a=!1}),!e&&a&&i<2*r){const l=[];for(const c in n)l[c]=n[c];return l}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+SL(this.getPriority().val())+":"),this.forEachChild($t,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":ZD(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const a=i.getPredecessorKey(new He(e,n));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new He(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new He(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,He.Wrap);let a=i.peek();for(;a!=null&&n.compare(a,e)<0;)i.getNext(),a=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,He.Wrap);let a=i.peek();for(;a!=null&&n.compare(a,e)>0;)i.getNext(),a=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===$d?-1:0}withIndex(e){if(e===xc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Oe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===xc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator($t),i=n.getIterator($t);let a=r.getNext(),l=i.getNext();for(;a&&l;){if(a.name!==l.name||!a.node.equals(l.node))return!1;a=r.getNext(),l=i.getNext()}return a===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===xc?null:this.indexMap_.get(e.toString())}}Oe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class c$ extends Oe{constructor(){super(new gs(Nx),Oe.EMPTY_NODE,sa.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Oe.EMPTY_NODE}isEmpty(){return!1}}const $d=new c$;Object.defineProperties(He,{MIN:{value:new He(Oc,Oe.EMPTY_NODE)},MAX:{value:new He(Kl,$d)}});TL.__EMPTY_NODE=Oe.EMPTY_NODE;kn.__childrenNodeConstructor=Oe;i$($d);a$($d);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$=!0;function Ln(t,e=null){if(t===null)return Oe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ge(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new kn(n,Ln(e))}if(!(t instanceof Array)&&f$){const n=[];let r=!1;if(Cr(t,(l,c)=>{if(l.substring(0,1)!=="."){const f=Ln(c);f.isEmpty()||(r=r||!f.getPriority().isEmpty(),n.push(new He(l,f)))}}),n.length===0)return Oe.EMPTY_NODE;const a=ov(n,r$,l=>l.name,Nx);if(r){const l=ov(n,$t.getCompare());return new Oe(a,Ln(e),new sa({".priority":l},{".priority":$t}))}else return new Oe(a,Ln(e),sa.Default)}else{let n=Oe.EMPTY_NODE;return Cr(t,(r,i)=>{if(Ca(t,r)&&r.substring(0,1)!=="."){const a=Ln(i);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(r,a))}}),n.updatePriority(Ln(e))}}s$(Ln);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h$ extends Py{constructor(e){super(),this.indexPath_=e,ge(!Qe(e)&&qe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),a=r.compareTo(i);return a===0?of(e.name,n.name):a}makePost(e,n){const r=Ln(e),i=Oe.EMPTY_NODE.updateChild(this.indexPath_,r);return new He(n,i)}maxPost(){const e=Oe.EMPTY_NODE.updateChild(this.indexPath_,$d);return new He(Kl,e)}toString(){return wL(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d$ extends Py{compare(e,n){const r=e.node.compareTo(n.node);return r===0?of(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return He.MIN}maxPost(){return He.MAX}makePost(e,n){const r=Ln(e);return new He(n,r)}toString(){return".value"}}const m$=new d$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(t){return{type:"value",snapshotNode:t}}function Pc(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ud(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function cd(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function p$(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){this.index_=e}updateChild(e,n,r,i,a,l){ge(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(n);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(l!=null&&(r.isEmpty()?e.hasChild(n)?l.trackChildChange(ud(n,c)):ge(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?l.trackChildChange(Pc(n,r)):l.trackChildChange(cd(n,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild($t,(i,a)=>{n.hasChild(i)||r.trackChildChange(ud(i,a))}),n.isLeafNode()||n.forEachChild($t,(i,a)=>{if(e.hasChild(i)){const l=e.getImmediateChild(i);l.equals(a)||r.trackChildChange(cd(i,a,l))}else r.trackChildChange(Pc(i,a))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Oe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e){this.indexedFilter_=new Ox(e.getIndex()),this.index_=e.getIndex(),this.startPost_=fd.getStartPost_(e),this.endPost_=fd.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,a,l){return this.matches(new He(n,r))||(r=Oe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,a,l)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Oe.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Oe.EMPTY_NODE);const a=this;return n.forEachChild($t,(l,c)=>{a.matches(new He(l,c))||(i=i.updateImmediateChild(l,Oe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new fd(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,a,l){return this.rangedFilter_.matches(new He(n,r))||(r=Oe.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,a,l):this.fullLimitUpdateChild_(e,n,r,a,l)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Oe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Oe.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;a.hasNext()&&l<this.limit_;){const c=a.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))i=i.updateImmediateChild(c.name,c.node),l++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Oe.EMPTY_NODE);let a;this.reverse_?a=i.getReverseIterator(this.index_):a=i.getIterator(this.index_);let l=0;for(;a.hasNext();){const c=a.getNext();l<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?l++:i=i.updateImmediateChild(c.name,Oe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,a){let l;if(this.reverse_){const p=this.index_.getCompare();l=(y,b)=>p(b,y)}else l=this.index_.getCompare();const c=e;ge(c.numChildren()===this.limit_,"");const f=new He(n,r),h=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),m=this.rangedFilter_.matches(f);if(c.hasChild(n)){const p=c.getImmediateChild(n);let y=i.getChildAfterChild(this.index_,h,this.reverse_);for(;y!=null&&(y.name===n||c.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);const b=y==null?1:l(y,f);if(m&&!r.isEmpty()&&b>=0)return a!=null&&a.trackChildChange(cd(n,r,p)),c.updateImmediateChild(n,r);{a!=null&&a.trackChildChange(ud(n,p));const x=c.updateImmediateChild(n,Oe.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(a!=null&&a.trackChildChange(Pc(y.name,y.node)),x.updateImmediateChild(y.name,y.node)):x}}else return r.isEmpty()?e:m&&l(h,f)>=0?(a!=null&&(a.trackChildChange(ud(h.name,h.node)),a.trackChildChange(Pc(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(h.name,Oe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=$t}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ge(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ge(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Oc}hasEnd(){return this.endSet_}getIndexEndValue(){return ge(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ge(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Kl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ge(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===$t}copy(){const e=new Px;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function v$(t){return t.loadsAllData()?new Ox(t.getIndex()):t.hasLimit()?new g$(t):new fd(t)}function UN(t){const e={};if(t.isDefault())return e;let n;if(t.index_===$t?n="$priority":t.index_===m$?n="$value":t.index_===xc?n="$key":(ge(t.index_ instanceof h$,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=wn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=wn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+wn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=wn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+wn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function zN(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==$t&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv extends yL{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ge(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Hd("p:rest:"),this.listens_={}}listen(e,n,r,i){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const l=lv.getListenId_(e,r),c={};this.listens_[l]=c;const f=UN(e._queryParams);this.restRequest_(a+".json",f,(h,m)=>{let p=m;if(h===404&&(p=null,h=null),h===null&&this.onDataUpdate_(a,p,!1,r),Rc(this.listens_,l)===c){let y;h?h===401?y="permission_denied":y="rest_error:"+h:y="ok",i(y,null)}})}unlisten(e,n){const r=lv.getListenId_(e,n);delete this.listens_[r]}get(e){const n=UN(e._queryParams),r=e._path.toString(),i=new Ty;return this.restRequest_(r+".json",n,(a,l)=>{let c=l;a===404&&(c=null,a=null),a===null?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(n.auth=i.accessToken),a&&a.token&&(n.ac=a.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+rf(n);this.log_("Sending REST request for "+l);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);let f=null;if(c.status>=200&&c.status<300){try{f=id(c.responseText)}catch{Ar("Failed to parse JSON response for "+l+": "+c.responseText)}r(null,f)}else c.status!==401&&c.status!==404&&Ar("Got unsuccessful REST response for "+l+" Status: "+c.status),r(c.status);r=null}},c.open("GET",l,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${constructor(){this.rootNode_=Oe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(){return{value:null,children:new Map}}function NL(t,e,n){if(Qe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=qe(e);t.children.has(r)||t.children.set(r,uv());const i=t.children.get(r);e=Nt(e),NL(i,e,n)}}function DE(t,e,n){t.value!==null?n(e,t.value):_$(t,(r,i)=>{const a=new At(e.toString()+"/"+r);DE(i,a,n)})}function _$(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Cr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=10*1e3,w$=30*1e3,E$=300*1e3;class x${constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new b$(e);const r=BN+(w$-BN)*Math.random();Kh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Cr(e,(i,a)=>{a>0&&Ca(this.statsToReport_,i)&&(n[i]=a,r=!0)}),r&&this.server_.reportStats(n),Kh(this.reportStats_.bind(this),Math.floor(Math.random()*2*E$))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ji;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ji||(ji={}));function OL(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function kx(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Mx(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ji.ACK_USER_WRITE,this.source=OL()}operationForChild(e){if(Qe(this.path)){if(this.affectedTree.value!=null)return ge(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new At(e));return new cv(lt(),n,this.revert)}}else return ge(qe(this.path)===e,"operationForChild called for unrelated child."),new cv(Nt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n){this.source=e,this.path=n,this.type=ji.LISTEN_COMPLETE}operationForChild(e){return Qe(this.path)?new hd(this.source,lt()):new hd(this.source,Nt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ji.OVERWRITE}operationForChild(e){return Qe(this.path)?new Yl(this.source,lt(),this.snap.getImmediateChild(e)):new Yl(this.source,Nt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ji.MERGE}operationForChild(e){if(Qe(this.path)){const n=this.children.subtree(new At(e));return n.isEmpty()?null:n.value?new Yl(this.source,lt(),n.value):new dd(this.source,lt(),n)}else return ge(qe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new dd(this.source,Nt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Qe(e))return this.isFullyInitialized()&&!this.filtered_;const n=qe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function S$(t,e,n,r){const i=[],a=[];return e.forEach(l=>{l.type==="child_changed"&&t.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&a.push(p$(l.childName,l.snapshotNode))}),Ih(t,i,"child_removed",e,r,n),Ih(t,i,"child_added",e,r,n),Ih(t,i,"child_moved",a,r,n),Ih(t,i,"child_changed",e,r,n),Ih(t,i,"value",e,r,n),i}function Ih(t,e,n,r,i,a){const l=r.filter(c=>c.type===n);l.sort((c,f)=>C$(t,c,f)),l.forEach(c=>{const f=A$(t,c,a);i.forEach(h=>{h.respondsTo(c.type)&&e.push(h.createEvent(f,t.query_))})})}function A$(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function C$(t,e,n){if(e.childName==null||n.childName==null)throw nf("Should only compare child_ events.");const r=new He(e.childName,e.snapshotNode),i=new He(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(t,e){return{eventCache:t,serverCache:e}}function Yh(t,e,n,r){return ky(new jo(e,n,r),t.serverCache)}function PL(t,e,n,r){return ky(t.eventCache,new jo(e,n,r))}function fv(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Wl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nw;const I$=()=>(nw||(nw=new gs(dH)),nw);class Mt{static fromObject(e){let n=new Mt(null);return Cr(e,(r,i)=>{n=n.set(new At(r),i)}),n}constructor(e,n=I$()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:lt(),value:this.value};if(Qe(e))return null;{const r=qe(e),i=this.children.get(r);if(i!==null){const a=i.findRootMostMatchingPathAndValue(Nt(e),n);return a!=null?{path:En(new At(r),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Qe(e))return this;{const n=qe(e),r=this.children.get(n);return r!==null?r.subtree(Nt(e)):new Mt(null)}}set(e,n){if(Qe(e))return new Mt(n,this.children);{const r=qe(e),a=(this.children.get(r)||new Mt(null)).set(Nt(e),n),l=this.children.insert(r,a);return new Mt(this.value,l)}}remove(e){if(Qe(e))return this.children.isEmpty()?new Mt(null):new Mt(null,this.children);{const n=qe(e),r=this.children.get(n);if(r){const i=r.remove(Nt(e));let a;return i.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,i),this.value===null&&a.isEmpty()?new Mt(null):new Mt(this.value,a)}else return this}}get(e){if(Qe(e))return this.value;{const n=qe(e),r=this.children.get(n);return r?r.get(Nt(e)):null}}setTree(e,n){if(Qe(e))return n;{const r=qe(e),a=(this.children.get(r)||new Mt(null)).setTree(Nt(e),n);let l;return a.isEmpty()?l=this.children.remove(r):l=this.children.insert(r,a),new Mt(this.value,l)}}fold(e){return this.fold_(lt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,a)=>{r[i]=a.fold_(En(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,lt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Qe(e))return null;{const a=qe(e),l=this.children.get(a);return l?l.findOnPath_(Nt(e),En(n,a),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,lt(),n)}foreachOnPath_(e,n,r){if(Qe(e))return this;{this.value&&r(n,this.value);const i=qe(e),a=this.children.get(i);return a?a.foreachOnPath_(Nt(e),En(n,i),r):new Mt(null)}}foreach(e){this.foreach_(lt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(En(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this.writeTree_=e}static empty(){return new Ui(new Mt(null))}}function Wh(t,e,n){if(Qe(e))return new Ui(new Mt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let a=r.value;const l=hr(i,e);return a=a.updateChild(l,n),new Ui(t.writeTree_.set(i,a))}else{const i=new Mt(n),a=t.writeTree_.setTree(e,i);return new Ui(a)}}}function FN(t,e,n){let r=t;return Cr(n,(i,a)=>{r=Wh(r,En(e,i),a)}),r}function qN(t,e){if(Qe(e))return Ui.empty();{const n=t.writeTree_.setTree(e,new Mt(null));return new Ui(n)}}function LE(t,e){return ou(t,e)!=null}function ou(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(hr(n.path,e)):null}function HN(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild($t,(r,i)=>{e.push(new He(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new He(r,i.value))}),e}function Io(t,e){if(Qe(e))return t;{const n=ou(t,e);return n!=null?new Ui(new Mt(n)):new Ui(t.writeTree_.subtree(e))}}function jE(t){return t.writeTree_.isEmpty()}function kc(t,e){return kL(lt(),t.writeTree_,e)}function kL(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,a)=>{i===".priority"?(ge(a.value!==null,"Priority writes must always be leaf nodes"),r=a.value):n=kL(En(t,i),a,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(En(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(t,e){return jL(e,t)}function R$(t,e,n,r,i){ge(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Wh(t.visibleWrites,e,n)),t.lastWriteId=r}function N$(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function O$(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);ge(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,a=!1,l=t.allWrites.length-1;for(;i&&l>=0;){const c=t.allWrites[l];c.visible&&(l>=n&&P$(c,r.path)?i=!1:Li(r.path,c.path)&&(a=!0)),l--}if(i){if(a)return k$(t),!0;if(r.snap)t.visibleWrites=qN(t.visibleWrites,r.path);else{const c=r.children;Cr(c,f=>{t.visibleWrites=qN(t.visibleWrites,En(r.path,f))})}return!0}else return!1}function P$(t,e){if(t.snap)return Li(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Li(En(t.path,n),e))return!0;return!1}function k$(t){t.visibleWrites=ML(t.allWrites,M$,lt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function M$(t){return t.visible}function ML(t,e,n){let r=Ui.empty();for(let i=0;i<t.length;++i){const a=t[i];if(e(a)){const l=a.path;let c;if(a.snap)Li(n,l)?(c=hr(n,l),r=Wh(r,c,a.snap)):Li(l,n)&&(c=hr(l,n),r=Wh(r,lt(),a.snap.getChild(c)));else if(a.children){if(Li(n,l))c=hr(n,l),r=FN(r,c,a.children);else if(Li(l,n))if(c=hr(l,n),Qe(c))r=FN(r,lt(),a.children);else{const f=Rc(a.children,qe(c));if(f){const h=f.getChild(Nt(c));r=Wh(r,lt(),h)}}}else throw nf("WriteRecord should have .snap or .children")}}return r}function DL(t,e,n,r,i){if(!r&&!i){const a=ou(t.visibleWrites,e);if(a!=null)return a;{const l=Io(t.visibleWrites,e);if(jE(l))return n;if(n==null&&!LE(l,lt()))return null;{const c=n||Oe.EMPTY_NODE;return kc(l,c)}}}else{const a=Io(t.visibleWrites,e);if(!i&&jE(a))return n;if(!i&&n==null&&!LE(a,lt()))return null;{const l=function(h){return(h.visible||i)&&(!r||!~r.indexOf(h.writeId))&&(Li(h.path,e)||Li(e,h.path))},c=ML(t.allWrites,l,e),f=n||Oe.EMPTY_NODE;return kc(c,f)}}}function D$(t,e,n){let r=Oe.EMPTY_NODE;const i=ou(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild($t,(a,l)=>{r=r.updateImmediateChild(a,l)}),r;if(n){const a=Io(t.visibleWrites,e);return n.forEachChild($t,(l,c)=>{const f=kc(Io(a,new At(l)),c);r=r.updateImmediateChild(l,f)}),HN(a).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}else{const a=Io(t.visibleWrites,e);return HN(a).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}}function L$(t,e,n,r,i){ge(r||i,"Either existingEventSnap or existingServerSnap must exist");const a=En(e,n);if(LE(t.visibleWrites,a))return null;{const l=Io(t.visibleWrites,a);return jE(l)?i.getChild(n):kc(l,i.getChild(n))}}function j$(t,e,n,r){const i=En(e,n),a=ou(t.visibleWrites,i);if(a!=null)return a;if(r.isCompleteForChild(n)){const l=Io(t.visibleWrites,i);return kc(l,r.getNode().getImmediateChild(n))}else return null}function V$(t,e){return ou(t.visibleWrites,e)}function U$(t,e,n,r,i,a,l){let c;const f=Io(t.visibleWrites,e),h=ou(f,lt());if(h!=null)c=h;else if(n!=null)c=kc(f,n);else return[];if(c=c.withIndex(l),!c.isEmpty()&&!c.isLeafNode()){const m=[],p=l.getCompare(),y=a?c.getReverseIteratorFrom(r,l):c.getIteratorFrom(r,l);let b=y.getNext();for(;b&&m.length<i;)p(b,r)!==0&&m.push(b),b=y.getNext();return m}else return[]}function z$(){return{visibleWrites:Ui.empty(),allWrites:[],lastWriteId:-1}}function hv(t,e,n,r){return DL(t.writeTree,t.treePath,e,n,r)}function Dx(t,e){return D$(t.writeTree,t.treePath,e)}function $N(t,e,n,r){return L$(t.writeTree,t.treePath,e,n,r)}function dv(t,e){return V$(t.writeTree,En(t.treePath,e))}function B$(t,e,n,r,i,a){return U$(t.writeTree,t.treePath,e,n,r,i,a)}function Lx(t,e,n){return j$(t.writeTree,t.treePath,e,n)}function LL(t,e){return jL(En(t.treePath,e),t.writeTree)}function jL(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ge(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ge(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const a=i.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(r,cd(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(r,ud(r,i.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(r,Pc(r,e.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(r,cd(r,e.snapshotNode,i.oldSnap));else throw nf("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const VL=new q$;class jx{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new jo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Lx(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Wl(this.viewCache_),a=B$(this.writes_,i,n,1,r,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(t){return{filter:t}}function $$(t,e){ge(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ge(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function G$(t,e,n,r,i){const a=new F$;let l,c;if(n.type===ji.OVERWRITE){const h=n;h.source.fromUser?l=VE(t,e,h.path,h.snap,r,i,a):(ge(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered()&&!Qe(h.path),l=mv(t,e,h.path,h.snap,r,i,c,a))}else if(n.type===ji.MERGE){const h=n;h.source.fromUser?l=Y$(t,e,h.path,h.children,r,i,a):(ge(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered(),l=UE(t,e,h.path,h.children,r,i,c,a))}else if(n.type===ji.ACK_USER_WRITE){const h=n;h.revert?l=X$(t,e,h.path,r,i,a):l=W$(t,e,h.path,h.affectedTree,r,i,a)}else if(n.type===ji.LISTEN_COMPLETE)l=Q$(t,e,n.path,r,a);else throw nf("Unknown operation type: "+n.type);const f=a.getChanges();return K$(e,l,f),{viewCache:l,changes:f}}function K$(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=fv(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(RL(fv(e)))}}function UL(t,e,n,r,i,a){const l=e.eventCache;if(dv(r,n)!=null)return e;{let c,f;if(Qe(n))if(ge(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=Wl(e),m=h instanceof Oe?h:Oe.EMPTY_NODE,p=Dx(r,m);c=t.filter.updateFullNode(e.eventCache.getNode(),p,a)}else{const h=hv(r,Wl(e));c=t.filter.updateFullNode(e.eventCache.getNode(),h,a)}else{const h=qe(n);if(h===".priority"){ge(Lo(n)===1,"Can't have a priority with additional path components");const m=l.getNode();f=e.serverCache.getNode();const p=$N(r,n,m,f);p!=null?c=t.filter.updatePriority(m,p):c=l.getNode()}else{const m=Nt(n);let p;if(l.isCompleteForChild(h)){f=e.serverCache.getNode();const y=$N(r,n,l.getNode(),f);y!=null?p=l.getNode().getImmediateChild(h).updateChild(m,y):p=l.getNode().getImmediateChild(h)}else p=Lx(r,h,e.serverCache);p!=null?c=t.filter.updateChild(l.getNode(),h,p,m,i,a):c=l.getNode()}}return Yh(e,c,l.isFullyInitialized()||Qe(n),t.filter.filtersNodes())}}function mv(t,e,n,r,i,a,l,c){const f=e.serverCache;let h;const m=l?t.filter:t.filter.getIndexedFilter();if(Qe(n))h=m.updateFullNode(f.getNode(),r,null);else if(m.filtersNodes()&&!f.isFiltered()){const b=f.getNode().updateChild(n,r);h=m.updateFullNode(f.getNode(),b,null)}else{const b=qe(n);if(!f.isCompleteForPath(n)&&Lo(n)>1)return e;const w=Nt(n),C=f.getNode().getImmediateChild(b).updateChild(w,r);b===".priority"?h=m.updatePriority(f.getNode(),C):h=m.updateChild(f.getNode(),b,C,w,VL,null)}const p=PL(e,h,f.isFullyInitialized()||Qe(n),m.filtersNodes()),y=new jx(i,p,a);return UL(t,p,n,i,y,c)}function VE(t,e,n,r,i,a,l){const c=e.eventCache;let f,h;const m=new jx(i,e,a);if(Qe(n))h=t.filter.updateFullNode(e.eventCache.getNode(),r,l),f=Yh(e,h,!0,t.filter.filtersNodes());else{const p=qe(n);if(p===".priority")h=t.filter.updatePriority(e.eventCache.getNode(),r),f=Yh(e,h,c.isFullyInitialized(),c.isFiltered());else{const y=Nt(n),b=c.getNode().getImmediateChild(p);let w;if(Qe(y))w=r;else{const x=m.getCompleteChild(p);x!=null?bL(y)===".priority"&&x.getChild(EL(y)).isEmpty()?w=x:w=x.updateChild(y,r):w=Oe.EMPTY_NODE}if(b.equals(w))f=e;else{const x=t.filter.updateChild(c.getNode(),p,w,y,m,l);f=Yh(e,x,c.isFullyInitialized(),t.filter.filtersNodes())}}}return f}function GN(t,e){return t.eventCache.isCompleteForChild(e)}function Y$(t,e,n,r,i,a,l){let c=e;return r.foreach((f,h)=>{const m=En(n,f);GN(e,qe(m))&&(c=VE(t,c,m,h,i,a,l))}),r.foreach((f,h)=>{const m=En(n,f);GN(e,qe(m))||(c=VE(t,c,m,h,i,a,l))}),c}function KN(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function UE(t,e,n,r,i,a,l,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f=e,h;Qe(n)?h=r:h=new Mt(null).setTree(n,r);const m=e.serverCache.getNode();return h.children.inorderTraversal((p,y)=>{if(m.hasChild(p)){const b=e.serverCache.getNode().getImmediateChild(p),w=KN(t,b,y);f=mv(t,f,new At(p),w,i,a,l,c)}}),h.children.inorderTraversal((p,y)=>{const b=!e.serverCache.isCompleteForChild(p)&&y.value===null;if(!m.hasChild(p)&&!b){const w=e.serverCache.getNode().getImmediateChild(p),x=KN(t,w,y);f=mv(t,f,new At(p),x,i,a,l,c)}}),f}function W$(t,e,n,r,i,a,l){if(dv(i,n)!=null)return e;const c=e.serverCache.isFiltered(),f=e.serverCache;if(r.value!=null){if(Qe(n)&&f.isFullyInitialized()||f.isCompleteForPath(n))return mv(t,e,n,f.getNode().getChild(n),i,a,c,l);if(Qe(n)){let h=new Mt(null);return f.getNode().forEachChild(xc,(m,p)=>{h=h.set(new At(m),p)}),UE(t,e,n,h,i,a,c,l)}else return e}else{let h=new Mt(null);return r.foreach((m,p)=>{const y=En(n,m);f.isCompleteForPath(y)&&(h=h.set(m,f.getNode().getChild(y)))}),UE(t,e,n,h,i,a,c,l)}}function Q$(t,e,n,r,i){const a=e.serverCache,l=PL(e,a.getNode(),a.isFullyInitialized()||Qe(n),a.isFiltered());return UL(t,l,n,r,VL,i)}function X$(t,e,n,r,i,a){let l;if(dv(r,n)!=null)return e;{const c=new jx(r,e,i),f=e.eventCache.getNode();let h;if(Qe(n)||qe(n)===".priority"){let m;if(e.serverCache.isFullyInitialized())m=hv(r,Wl(e));else{const p=e.serverCache.getNode();ge(p instanceof Oe,"serverChildren would be complete if leaf node"),m=Dx(r,p)}m=m,h=t.filter.updateFullNode(f,m,a)}else{const m=qe(n);let p=Lx(r,m,e.serverCache);p==null&&e.serverCache.isCompleteForChild(m)&&(p=f.getImmediateChild(m)),p!=null?h=t.filter.updateChild(f,m,p,Nt(n),c,a):e.eventCache.getNode().hasChild(m)?h=t.filter.updateChild(f,m,Oe.EMPTY_NODE,Nt(n),c,a):h=f,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=hv(r,Wl(e)),l.isLeafNode()&&(h=t.filter.updateFullNode(h,l,a)))}return l=e.serverCache.isFullyInitialized()||dv(r,lt())!=null,Yh(e,h,l,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z${constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Ox(r.getIndex()),a=v$(r);this.processor_=H$(a);const l=n.serverCache,c=n.eventCache,f=i.updateFullNode(Oe.EMPTY_NODE,l.getNode(),null),h=a.updateFullNode(Oe.EMPTY_NODE,c.getNode(),null),m=new jo(f,l.isFullyInitialized(),i.filtersNodes()),p=new jo(h,c.isFullyInitialized(),a.filtersNodes());this.viewCache_=ky(p,m),this.eventGenerator_=new T$(this.query_)}get query(){return this.query_}}function J$(t){return t.viewCache_.serverCache.getNode()}function eG(t){return fv(t.viewCache_)}function tG(t,e){const n=Wl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Qe(e)&&!n.getImmediateChild(qe(e)).isEmpty())?n.getChild(e):null}function YN(t){return t.eventRegistrations_.length===0}function nG(t,e){t.eventRegistrations_.push(e)}function WN(t,e,n){const r=[];if(n){ge(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(a=>{const l=a.createCancelEvent(n,i);l&&r.push(l)})}if(e){let i=[];for(let a=0;a<t.eventRegistrations_.length;++a){const l=t.eventRegistrations_[a];if(!l.matches(e))i.push(l);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function QN(t,e,n,r){e.type===ji.MERGE&&e.source.queryId!==null&&(ge(Wl(t.viewCache_),"We should always have a full cache before handling merges"),ge(fv(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,a=G$(t.processor_,i,e,n,r);return $$(t.processor_,a.viewCache),ge(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,zL(t,a.changes,a.viewCache.eventCache.getNode(),null)}function rG(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild($t,(a,l)=>{r.push(Pc(a,l))}),n.isFullyInitialized()&&r.push(RL(n.getNode())),zL(t,r,n.getNode(),e)}function zL(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return S$(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pv;class BL{constructor(){this.views=new Map}}function iG(t){ge(!pv,"__referenceConstructor has already been defined"),pv=t}function sG(){return ge(pv,"Reference.ts has not been loaded"),pv}function aG(t){return t.views.size===0}function Vx(t,e,n,r){const i=e.source.queryId;if(i!==null){const a=t.views.get(i);return ge(a!=null,"SyncTree gave us an op for an invalid query."),QN(a,e,n,r)}else{let a=[];for(const l of t.views.values())a=a.concat(QN(l,e,n,r));return a}}function FL(t,e,n,r,i){const a=e._queryIdentifier,l=t.views.get(a);if(!l){let c=hv(n,i?r:null),f=!1;c?f=!0:r instanceof Oe?(c=Dx(n,r),f=!1):(c=Oe.EMPTY_NODE,f=!1);const h=ky(new jo(c,f,!1),new jo(r,i,!1));return new Z$(e,h)}return l}function oG(t,e,n,r,i,a){const l=FL(t,e,r,i,a);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,l),nG(l,n),rG(l,n)}function lG(t,e,n,r){const i=e._queryIdentifier,a=[];let l=[];const c=Vo(t);if(i==="default")for(const[f,h]of t.views.entries())l=l.concat(WN(h,n,r)),YN(h)&&(t.views.delete(f),h.query._queryParams.loadsAllData()||a.push(h.query));else{const f=t.views.get(i);f&&(l=l.concat(WN(f,n,r)),YN(f)&&(t.views.delete(i),f.query._queryParams.loadsAllData()||a.push(f.query)))}return c&&!Vo(t)&&a.push(new(sG())(e._repo,e._path)),{removed:a,events:l}}function qL(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ro(t,e){let n=null;for(const r of t.views.values())n=n||tG(r,e);return n}function HL(t,e){if(e._queryParams.loadsAllData())return Dy(t);{const r=e._queryIdentifier;return t.views.get(r)}}function $L(t,e){return HL(t,e)!=null}function Vo(t){return Dy(t)!=null}function Dy(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gv;function uG(t){ge(!gv,"__referenceConstructor has already been defined"),gv=t}function cG(){return ge(gv,"Reference.ts has not been loaded"),gv}let fG=1;class XN{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Mt(null),this.pendingWriteTree_=z$(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function GL(t,e,n,r,i){return R$(t.pendingWriteTree_,e,n,r,i),i?Kd(t,new Yl(OL(),e,n)):[]}function jl(t,e,n=!1){const r=N$(t.pendingWriteTree_,e);if(O$(t.pendingWriteTree_,e)){let a=new Mt(null);return r.snap!=null?a=a.set(lt(),!0):Cr(r.children,l=>{a=a.set(new At(l),!0)}),Kd(t,new cv(r.path,a,n))}else return[]}function Gd(t,e,n){return Kd(t,new Yl(kx(),e,n))}function hG(t,e,n){const r=Mt.fromObject(n);return Kd(t,new dd(kx(),e,r))}function dG(t,e){return Kd(t,new hd(kx(),e))}function mG(t,e,n){const r=zx(t,n);if(r){const i=Bx(r),a=i.path,l=i.queryId,c=hr(a,e),f=new hd(Mx(l),c);return Fx(t,a,f)}else return[]}function vv(t,e,n,r,i=!1){const a=e._path,l=t.syncPointTree_.get(a);let c=[];if(l&&(e._queryIdentifier==="default"||$L(l,e))){const f=lG(l,e,n,r);aG(l)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const h=f.removed;if(c=f.events,!i){const m=h.findIndex(y=>y._queryParams.loadsAllData())!==-1,p=t.syncPointTree_.findOnPath(a,(y,b)=>Vo(b));if(m&&!p){const y=t.syncPointTree_.subtree(a);if(!y.isEmpty()){const b=vG(y);for(let w=0;w<b.length;++w){const x=b[w],C=x.query,R=QL(t,x);t.listenProvider_.startListening(Qh(C),md(t,C),R.hashFn,R.onComplete)}}}!p&&h.length>0&&!r&&(m?t.listenProvider_.stopListening(Qh(e),null):h.forEach(y=>{const b=t.queryToTagMap.get(Ly(y));t.listenProvider_.stopListening(Qh(y),b)}))}yG(t,h)}return c}function KL(t,e,n,r){const i=zx(t,r);if(i!=null){const a=Bx(i),l=a.path,c=a.queryId,f=hr(l,e),h=new Yl(Mx(c),f,n);return Fx(t,l,h)}else return[]}function pG(t,e,n,r){const i=zx(t,r);if(i){const a=Bx(i),l=a.path,c=a.queryId,f=hr(l,e),h=Mt.fromObject(n),m=new dd(Mx(c),f,h);return Fx(t,l,m)}else return[]}function zE(t,e,n,r=!1){const i=e._path;let a=null,l=!1;t.syncPointTree_.foreachOnPath(i,(y,b)=>{const w=hr(y,i);a=a||Ro(b,w),l=l||Vo(b)});let c=t.syncPointTree_.get(i);c?(l=l||Vo(c),a=a||Ro(c,lt())):(c=new BL,t.syncPointTree_=t.syncPointTree_.set(i,c));let f;a!=null?f=!0:(f=!1,a=Oe.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((b,w)=>{const x=Ro(w,lt());x&&(a=a.updateImmediateChild(b,x))}));const h=$L(c,e);if(!h&&!e._queryParams.loadsAllData()){const y=Ly(e);ge(!t.queryToTagMap.has(y),"View does not exist, but we have a tag");const b=_G();t.queryToTagMap.set(y,b),t.tagToQueryMap.set(b,y)}const m=My(t.pendingWriteTree_,i);let p=oG(c,e,n,m,a,f);if(!h&&!l&&!r){const y=HL(c,e);p=p.concat(bG(t,e,y))}return p}function Ux(t,e,n){const i=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(l,c)=>{const f=hr(l,e),h=Ro(c,f);if(h)return h});return DL(i,e,a,n,!0)}function gG(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(h,m)=>{const p=hr(h,n);r=r||Ro(m,p)});let i=t.syncPointTree_.get(n);i?r=r||Ro(i,lt()):(i=new BL,t.syncPointTree_=t.syncPointTree_.set(n,i));const a=r!=null,l=a?new jo(r,!0,!1):null,c=My(t.pendingWriteTree_,e._path),f=FL(i,e,c,a?l.getNode():Oe.EMPTY_NODE,a);return eG(f)}function Kd(t,e){return YL(e,t.syncPointTree_,null,My(t.pendingWriteTree_,lt()))}function YL(t,e,n,r){if(Qe(t.path))return WL(t,e,n,r);{const i=e.get(lt());n==null&&i!=null&&(n=Ro(i,lt()));let a=[];const l=qe(t.path),c=t.operationForChild(l),f=e.children.get(l);if(f&&c){const h=n?n.getImmediateChild(l):null,m=LL(r,l);a=a.concat(YL(c,f,h,m))}return i&&(a=a.concat(Vx(i,t,r,n))),a}}function WL(t,e,n,r){const i=e.get(lt());n==null&&i!=null&&(n=Ro(i,lt()));let a=[];return e.children.inorderTraversal((l,c)=>{const f=n?n.getImmediateChild(l):null,h=LL(r,l),m=t.operationForChild(l);m&&(a=a.concat(WL(m,c,f,h)))}),i&&(a=a.concat(Vx(i,t,r,n))),a}function QL(t,e){const n=e.query,r=md(t,n);return{hashFn:()=>(J$(e)||Oe.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?mG(t,n._path,r):dG(t,n._path);{const a=gH(i,n);return vv(t,n,null,a)}}}}function md(t,e){const n=Ly(e);return t.queryToTagMap.get(n)}function Ly(t){return t._path.toString()+"$"+t._queryIdentifier}function zx(t,e){return t.tagToQueryMap.get(e)}function Bx(t){const e=t.indexOf("$");return ge(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new At(t.substr(0,e))}}function Fx(t,e,n){const r=t.syncPointTree_.get(e);ge(r,"Missing sync point for query tag that we're tracking");const i=My(t.pendingWriteTree_,e);return Vx(r,n,i,null)}function vG(t){return t.fold((e,n,r)=>{if(n&&Vo(n))return[Dy(n)];{let i=[];return n&&(i=qL(n)),Cr(r,(a,l)=>{i=i.concat(l)}),i}})}function Qh(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(cG())(t._repo,t._path):t}function yG(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Ly(r),a=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(a)}}}function _G(){return fG++}function bG(t,e,n){const r=e._path,i=md(t,e),a=QL(t,n),l=t.listenProvider_.startListening(Qh(e),i,a.hashFn,a.onComplete),c=t.syncPointTree_.subtree(r);if(i)ge(!Vo(c.value),"If we're adding a query, it shouldn't be shadowed");else{const f=c.fold((h,m,p)=>{if(!Qe(h)&&m&&Vo(m))return[Dy(m).query];{let y=[];return m&&(y=y.concat(qL(m).map(b=>b.query))),Cr(p,(b,w)=>{y=y.concat(w)}),y}});for(let h=0;h<f.length;++h){const m=f[h];t.listenProvider_.stopListening(Qh(m),md(t,m))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new qx(n)}node(){return this.node_}}class Hx{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=En(this.path_,e);return new Hx(this.syncTree_,n)}node(){return Ux(this.syncTree_,this.path_)}}const wG=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},ZN=function(t,e,n){if(!t||typeof t!="object")return t;if(ge(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return EG(t[".sv"],e,n);if(typeof t[".sv"]=="object")return xG(t[".sv"],e);ge(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},EG=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ge(!1,"Unexpected server value: "+t)}},xG=function(t,e,n){t.hasOwnProperty("increment")||ge(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ge(!1,"Unexpected increment value: "+r);const i=e.node();if(ge(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const l=i.getValue();return typeof l!="number"?r:l+r},TG=function(t,e,n,r){return $x(e,new Hx(n,t),r)},XL=function(t,e,n){return $x(t,new qx(e),n)};function $x(t,e,n){const r=t.getPriority().val(),i=ZN(r,e.getImmediateChild(".priority"),n);let a;if(t.isLeafNode()){const l=t,c=ZN(l.getValue(),e,n);return c!==l.getValue()||i!==l.getPriority().val()?new kn(c,Ln(i)):t}else{const l=t;return a=l,i!==l.getPriority().val()&&(a=a.updatePriority(new kn(i))),l.forEachChild($t,(c,f)=>{const h=$x(f,e.getImmediateChild(c),n);h!==f&&(a=a.updateImmediateChild(c,h))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Kx(t,e){let n=e instanceof At?e:new At(e),r=t,i=qe(n);for(;i!==null;){const a=Rc(r.node.children,i)||{children:{},childCount:0};r=new Gx(i,r,a),n=Nt(n),i=qe(n)}return r}function uf(t){return t.node.value}function ZL(t,e){t.node.value=e,BE(t)}function JL(t){return t.node.childCount>0}function SG(t){return uf(t)===void 0&&!JL(t)}function jy(t,e){Cr(t.node.children,(n,r)=>{e(new Gx(n,t,r))})}function e4(t,e,n,r){n&&e(t),jy(t,i=>{e4(i,e,!0)})}function AG(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Yd(t){return new At(t.parent===null?t.name:Yd(t.parent)+"/"+t.name)}function BE(t){t.parent!==null&&CG(t.parent,t.name,t)}function CG(t,e,n){const r=SG(n),i=Ca(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,BE(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,BE(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IG=/[\[\].#$\/\u0000-\u001F\u007F]/,RG=/[\[\].#$\u0000-\u001F\u007F]/,rw=10*1024*1024,t4=function(t){return typeof t=="string"&&t.length!==0&&!IG.test(t)},n4=function(t){return typeof t=="string"&&t.length!==0&&!RG.test(t)},NG=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),n4(t)},OG=function(t,e,n,r){Yx(dx(t,"value"),e,n)},Yx=function(t,e,n){const r=n instanceof At?new WH(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Pl(r));if(typeof e=="function")throw new Error(t+"contains a function "+Pl(r)+" with contents = "+e.toString());if(JD(e))throw new Error(t+"contains "+e.toString()+" "+Pl(r));if(typeof e=="string"&&e.length>rw/3&&Sy(e)>rw)throw new Error(t+"contains a string greater than "+rw+" utf8 bytes "+Pl(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,a=!1;if(Cr(e,(l,c)=>{if(l===".value")i=!0;else if(l!==".priority"&&l!==".sv"&&(a=!0,!t4(l)))throw new Error(t+" contains an invalid key ("+l+") "+Pl(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);QH(r,l),Yx(t,c,r),XH(r)}),i&&a)throw new Error(t+' contains ".value" child '+Pl(r)+" in addition to actual children.")}},r4=function(t,e,n,r){if(!n4(n))throw new Error(dx(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},PG=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),r4(t,e,n)},i4=function(t,e){if(qe(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},kG=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!t4(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!NG(n))throw new Error(dx(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Wx(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],a=i.getPath();n!==null&&!Ix(a,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(i)}n&&t.eventLists_.push(n)}function s4(t,e,n){Wx(t,n),a4(t,r=>Ix(r,e))}function As(t,e,n){Wx(t,n),a4(t,r=>Li(r,e)||Li(e,r))}function a4(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const a=i.path;e(a)?(DG(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function DG(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Gh&&rr("event: "+n.toString()),lf(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LG="repo_interrupt",jG=25;class VG{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new MG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=uv(),this.transactionQueueTree_=new Gx,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function UG(t,e,n){if(t.stats_=Ax(t.repoInfo_),t.forceRestClient_||bH())t.server_=new lv(t.repoInfo_,(r,i,a,l)=>{JN(t,r,i,a,l)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>e2(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{wn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ua(t.repoInfo_,e,(r,i,a,l)=>{JN(t,r,i,a,l)},r=>{e2(t,r)},r=>{BG(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=SH(t.repoInfo_,()=>new x$(t.stats_,t.server_)),t.infoData_=new y$,t.infoSyncTree_=new XN({startListening:(r,i,a,l)=>{let c=[];const f=t.infoData_.getNode(r._path);return f.isEmpty()||(c=Gd(t.infoSyncTree_,r._path,f),setTimeout(()=>{l("ok")},0)),c},stopListening:()=>{}}),Xx(t,"connected",!1),t.serverSyncTree_=new XN({startListening:(r,i,a,l)=>(t.server_.listen(r,a,i,(c,f)=>{const h=l(c,f);As(t.eventQueue_,r._path,h)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function zG(t){const n=t.infoData_.getNode(new At(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Qx(t){return wG({timestamp:zG(t)})}function JN(t,e,n,r,i){t.dataUpdateCount++;const a=new At(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let l=[];if(i)if(r){const f=Xg(n,h=>Ln(h));l=pG(t.serverSyncTree_,a,f,i)}else{const f=Ln(n);l=KL(t.serverSyncTree_,a,f,i)}else if(r){const f=Xg(n,h=>Ln(h));l=hG(t.serverSyncTree_,a,f)}else{const f=Ln(n);l=Gd(t.serverSyncTree_,a,f)}let c=a;l.length>0&&(c=Uy(t,a)),As(t.eventQueue_,c,l)}function e2(t,e){Xx(t,"connected",e),e===!1&&HG(t)}function BG(t,e){Cr(e,(n,r)=>{Xx(t,n,r)})}function Xx(t,e,n){const r=new At("/.info/"+e),i=Ln(n);t.infoData_.updateSnapshot(r,i);const a=Gd(t.infoSyncTree_,r,i);As(t.eventQueue_,r,a)}function o4(t){return t.nextWriteId_++}function FG(t,e,n){const r=gG(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const a=Ln(i).withIndex(e._queryParams.getIndex());zE(t.serverSyncTree_,e,n,!0);let l;if(e._queryParams.loadsAllData())l=Gd(t.serverSyncTree_,e._path,a);else{const c=md(t.serverSyncTree_,e);l=KL(t.serverSyncTree_,e._path,a,c)}return As(t.eventQueue_,e._path,l),vv(t.serverSyncTree_,e,n,null,!0),a},i=>(Vy(t,"get for query "+wn(e)+" failed: "+i),Promise.reject(new Error(i))))}function qG(t,e,n,r,i){Vy(t,"set",{path:e.toString(),value:n,priority:r});const a=Qx(t),l=Ln(n,r),c=Ux(t.serverSyncTree_,e),f=XL(l,c,a),h=o4(t),m=GL(t.serverSyncTree_,e,f,h,!0);Wx(t.eventQueue_,m),t.server_.put(e.toString(),l.val(!0),(y,b)=>{const w=y==="ok";w||Ar("set at "+e+" failed: "+y);const x=jl(t.serverSyncTree_,h,!w);As(t.eventQueue_,e,x),YG(t,i,y,b)});const p=h4(t,e);Uy(t,p),As(t.eventQueue_,p,[])}function HG(t){Vy(t,"onDisconnectEvents");const e=Qx(t),n=uv();DE(t.onDisconnect_,lt(),(i,a)=>{const l=TG(i,a,t.serverSyncTree_,e);NL(n,i,l)});let r=[];DE(n,lt(),(i,a)=>{r=r.concat(Gd(t.serverSyncTree_,i,a));const l=h4(t,i);Uy(t,l)}),t.onDisconnect_=uv(),As(t.eventQueue_,lt(),r)}function $G(t,e,n){let r;qe(e._path)===".info"?r=zE(t.infoSyncTree_,e,n):r=zE(t.serverSyncTree_,e,n),s4(t.eventQueue_,e._path,r)}function GG(t,e,n){let r;qe(e._path)===".info"?r=vv(t.infoSyncTree_,e,n):r=vv(t.serverSyncTree_,e,n),s4(t.eventQueue_,e._path,r)}function KG(t){t.persistentConnection_&&t.persistentConnection_.interrupt(LG)}function Vy(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),rr(n,...e)}function YG(t,e,n,r){e&&lf(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let a=i;r&&(a+=": "+r);const l=new Error(a);l.code=i,e(l)}})}function l4(t,e,n){return Ux(t.serverSyncTree_,e,n)||Oe.EMPTY_NODE}function Zx(t,e=t.transactionQueueTree_){if(e||zy(t,e),uf(e)){const n=c4(t,e);ge(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&WG(t,Yd(e),n)}else JL(e)&&jy(e,n=>{Zx(t,n)})}function WG(t,e,n){const r=n.map(h=>h.currentWriteId),i=l4(t,e,r);let a=i;const l=i.hash();for(let h=0;h<n.length;h++){const m=n[h];ge(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const p=hr(e,m.path);a=a.updateChild(p,m.currentOutputSnapshotRaw)}const c=a.val(!0),f=e;t.server_.put(f.toString(),c,h=>{Vy(t,"transaction put response",{path:f.toString(),status:h});let m=[];if(h==="ok"){const p=[];for(let y=0;y<n.length;y++)n[y].status=2,m=m.concat(jl(t.serverSyncTree_,n[y].currentWriteId)),n[y].onComplete&&p.push(()=>n[y].onComplete(null,!0,n[y].currentOutputSnapshotResolved)),n[y].unwatcher();zy(t,Kx(t.transactionQueueTree_,e)),Zx(t,t.transactionQueueTree_),As(t.eventQueue_,e,m);for(let y=0;y<p.length;y++)lf(p[y])}else{if(h==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{Ar("transaction at "+f.toString()+" failed: "+h);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=h}Uy(t,e)}},l)}function Uy(t,e){const n=u4(t,e),r=Yd(n),i=c4(t,n);return QG(t,i,r),r}function QG(t,e,n){if(e.length===0)return;const r=[];let i=[];const l=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const f=e[c],h=hr(n,f.path);let m=!1,p;if(ge(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)m=!0,p=f.abortReason,i=i.concat(jl(t.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=jG)m=!0,p="maxretry",i=i.concat(jl(t.serverSyncTree_,f.currentWriteId,!0));else{const y=l4(t,f.path,l);f.currentInputSnapshot=y;const b=e[c].update(y.val());if(b!==void 0){Yx("transaction failed: Data returned ",b,f.path);let w=Ln(b);typeof b=="object"&&b!=null&&Ca(b,".priority")||(w=w.updatePriority(y.getPriority()));const C=f.currentWriteId,R=Qx(t),M=XL(w,y,R);f.currentOutputSnapshotRaw=w,f.currentOutputSnapshotResolved=M,f.currentWriteId=o4(t),l.splice(l.indexOf(C),1),i=i.concat(GL(t.serverSyncTree_,f.path,M,f.currentWriteId,f.applyLocally)),i=i.concat(jl(t.serverSyncTree_,C,!0))}else m=!0,p="nodata",i=i.concat(jl(t.serverSyncTree_,f.currentWriteId,!0))}As(t.eventQueue_,n,i),i=[],m&&(e[c].status=2,(function(y){setTimeout(y,Math.floor(0))})(e[c].unwatcher),e[c].onComplete&&(p==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(p),!1,null))))}zy(t,t.transactionQueueTree_);for(let c=0;c<r.length;c++)lf(r[c]);Zx(t,t.transactionQueueTree_)}function u4(t,e){let n,r=t.transactionQueueTree_;for(n=qe(e);n!==null&&uf(r)===void 0;)r=Kx(r,n),e=Nt(e),n=qe(e);return r}function c4(t,e){const n=[];return f4(t,e,n),n.sort((r,i)=>r.order-i.order),n}function f4(t,e,n){const r=uf(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);jy(e,i=>{f4(t,i,n)})}function zy(t,e){const n=uf(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,ZL(e,n.length>0?n:void 0)}jy(e,r=>{zy(t,r)})}function h4(t,e){const n=Yd(u4(t,e)),r=Kx(t.transactionQueueTree_,e);return AG(r,i=>{iw(t,i)}),iw(t,r),e4(r,i=>{iw(t,i)}),n}function iw(t,e){const n=uf(e);if(n){const r=[];let i=[],a=-1;for(let l=0;l<n.length;l++)n[l].status===3||(n[l].status===1?(ge(a===l-1,"All SENT items should be at beginning of queue."),a=l,n[l].status=3,n[l].abortReason="set"):(ge(n[l].status===0,"Unexpected transaction status in abort"),n[l].unwatcher(),i=i.concat(jl(t.serverSyncTree_,n[l].currentWriteId,!0)),n[l].onComplete&&r.push(n[l].onComplete.bind(null,new Error("set"),!1,null))));a===-1?ZL(e,void 0):n.length=a+1,As(t.eventQueue_,Yd(e),i);for(let l=0;l<r.length;l++)lf(r[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XG(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function ZG(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ar(`Invalid query segment '${n}' in query '${t}'`)}return e}const t2=function(t,e){const n=JG(t),r=n.namespace;n.domain==="firebase.com"&&ma(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ma("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||fH();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new fL(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new At(n.pathString)}},JG=function(t){let e="",n="",r="",i="",a="",l=!0,c="https",f=443;if(typeof t=="string"){let h=t.indexOf("//");h>=0&&(c=t.substring(0,h-1),t=t.substring(h+2));let m=t.indexOf("/");m===-1&&(m=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(m,p)),m<p&&(i=XG(t.substring(m,p)));const y=ZG(t.substring(Math.min(t.length,p)));h=e.indexOf(":"),h>=0?(l=c==="https"||c==="wss",f=parseInt(e.substring(h+1),10)):h=e.length;const b=e.slice(0,h);if(b.toLowerCase()==="localhost")n="localhost";else if(b.split(".").length<=2)n=b;else{const w=e.indexOf(".");r=e.substring(0,w).toLowerCase(),n=e.substring(w+1),a=r}"ns"in y&&(a=y.ns)}return{host:e,port:f,domain:n,subdomain:r,secure:l,scheme:c,pathString:i,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+wn(this.snapshot.exportVal())}}class tK{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ge(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Qe(this._path)?null:bL(this._path)}get ref(){return new Ia(this._repo,this._path)}get _queryIdentifier(){const e=zN(this._queryParams),n=Tx(e);return n==="{}"?"default":n}get _queryObject(){return zN(this._queryParams)}isEqual(e){if(e=en(e),!(e instanceof Jx))return!1;const n=this._repo===e._repo,r=Ix(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+YH(this._path)}}class Ia extends Jx{constructor(e,n){super(e,n,new Px,!1)}get parent(){const e=EL(this._path);return e===null?null:new Ia(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class pd{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new At(e),r=FE(this.ref,e);return new pd(this._node.getChild(n),r,$t)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new pd(i,FE(this.ref,r),$t)))}hasChild(e){const n=new At(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Os(t,e){return t=en(t),t._checkNotDeleted("ref"),e!==void 0?FE(t._root,e):t._root}function FE(t,e){return t=en(t),qe(t._path)===null?PG("child","path",e):r4("child","path",e),new Ia(t._repo,En(t._path,e))}function m4(t){return i4("remove",t._path),Wd(t,null)}function Wd(t,e){t=en(t),i4("set",t._path),OG("set",e,t._path);const n=new Ty;return qG(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function nK(t){t=en(t);const e=new d4(()=>{}),n=new By(e);return FG(t._repo,t,n).then(r=>new pd(r,new Ia(t._repo,t._path),t._queryParams.getIndex()))}class By{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new eK("value",this,new pd(e.snapshotNode,new Ia(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new tK(this,e,n):null}matches(e){return e instanceof By?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function rK(t,e,n,r,i){const a=new d4(n,void 0),l=new By(a);return $G(t._repo,t,l),()=>GG(t._repo,t,l)}function eT(t,e,n,r){return rK(t,"value",e)}iG(Ia);uG(Ia);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iK="FIREBASE_DATABASE_EMULATOR_HOST",qE={};let sK=!1;function aK(t,e,n,r){const i=e.lastIndexOf(":"),a=e.substring(0,i),l=Wo(a);t.repoInfo_=new fL(e,l,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function oK(t,e,n,r,i){let a=r||t.options.databaseURL;a===void 0&&(t.options.projectId||ma("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),rr("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l=t2(a,i),c=l.repoInfo,f;typeof process<"u"&&EN&&(f=EN[iK]),f?(a=`http://${f}?ns=${c.namespace}`,l=t2(a,i),c=l.repoInfo):l.repoInfo.secure;const h=new EH(t.name,t.options,e);kG("Invalid Firebase Database URL",l),Qe(l.path)||ma("Database URL must point to the root of a Firebase Database (not including a child path).");const m=uK(c,t,h,new wH(t,n));return new cK(m,t)}function lK(t,e){const n=qE[e];(!n||n[t.key]!==t)&&ma(`Database ${e}(${t.repoInfo_}) has already been deleted.`),KG(t),delete n[t.key]}function uK(t,e,n,r){let i=qE[e.name];i||(i={},qE[e.name]=i);let a=i[t.toURLString()];return a&&ma("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new VG(t,sK,n,r),i[t.toURLString()]=a,a}let cK=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(UG(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ia(this._repo,lt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(lK(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ma("Cannot call "+e+" on a deleted database.")}};function fK(t=px(),e){const n=Cy(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=aD("database");r&&hK(n,...r)}return n}function hK(t,e,n,r={}){t=en(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,a=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Mo(r,a.repoInfo_.emulatorOptions))return;ma("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let l;if(a.repoInfo_.nodeAdmin)r.mockUserToken&&ma('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new kg(kg.OWNER);else if(r.mockUserToken){const c=typeof r.mockUserToken=="string"?r.mockUserToken:uD(r.mockUserToken,t.app.options.projectId);l=new kg(c)}Wo(e)&&(cx(e),fx("Database",!0)),aK(a,i,r,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dK(t){sH(su),$l(new Do("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return oK(r,i,a,n)},"PUBLIC").setMultipleInstances(!0)),ys(xN,TN,t),ys(xN,TN,"esm2020")}ua.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ua.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};dK();var n2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var No,p4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,L){function k(){}k.prototype=L.prototype,O.F=L.prototype,O.prototype=new k,O.prototype.constructor=O,O.D=function(V,D,B){for(var U=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)U[ye-2]=arguments[ye];return L.prototype[D].apply(V,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,L,k){k||(k=0);const V=Array(16);if(typeof L=="string")for(var D=0;D<16;++D)V[D]=L.charCodeAt(k++)|L.charCodeAt(k++)<<8|L.charCodeAt(k++)<<16|L.charCodeAt(k++)<<24;else for(D=0;D<16;++D)V[D]=L[k++]|L[k++]<<8|L[k++]<<16|L[k++]<<24;L=O.g[0],k=O.g[1],D=O.g[2];let B=O.g[3],U;U=L+(B^k&(D^B))+V[0]+3614090360&4294967295,L=k+(U<<7&4294967295|U>>>25),U=B+(D^L&(k^D))+V[1]+3905402710&4294967295,B=L+(U<<12&4294967295|U>>>20),U=D+(k^B&(L^k))+V[2]+606105819&4294967295,D=B+(U<<17&4294967295|U>>>15),U=k+(L^D&(B^L))+V[3]+3250441966&4294967295,k=D+(U<<22&4294967295|U>>>10),U=L+(B^k&(D^B))+V[4]+4118548399&4294967295,L=k+(U<<7&4294967295|U>>>25),U=B+(D^L&(k^D))+V[5]+1200080426&4294967295,B=L+(U<<12&4294967295|U>>>20),U=D+(k^B&(L^k))+V[6]+2821735955&4294967295,D=B+(U<<17&4294967295|U>>>15),U=k+(L^D&(B^L))+V[7]+4249261313&4294967295,k=D+(U<<22&4294967295|U>>>10),U=L+(B^k&(D^B))+V[8]+1770035416&4294967295,L=k+(U<<7&4294967295|U>>>25),U=B+(D^L&(k^D))+V[9]+2336552879&4294967295,B=L+(U<<12&4294967295|U>>>20),U=D+(k^B&(L^k))+V[10]+4294925233&4294967295,D=B+(U<<17&4294967295|U>>>15),U=k+(L^D&(B^L))+V[11]+2304563134&4294967295,k=D+(U<<22&4294967295|U>>>10),U=L+(B^k&(D^B))+V[12]+1804603682&4294967295,L=k+(U<<7&4294967295|U>>>25),U=B+(D^L&(k^D))+V[13]+4254626195&4294967295,B=L+(U<<12&4294967295|U>>>20),U=D+(k^B&(L^k))+V[14]+2792965006&4294967295,D=B+(U<<17&4294967295|U>>>15),U=k+(L^D&(B^L))+V[15]+1236535329&4294967295,k=D+(U<<22&4294967295|U>>>10),U=L+(D^B&(k^D))+V[1]+4129170786&4294967295,L=k+(U<<5&4294967295|U>>>27),U=B+(k^D&(L^k))+V[6]+3225465664&4294967295,B=L+(U<<9&4294967295|U>>>23),U=D+(L^k&(B^L))+V[11]+643717713&4294967295,D=B+(U<<14&4294967295|U>>>18),U=k+(B^L&(D^B))+V[0]+3921069994&4294967295,k=D+(U<<20&4294967295|U>>>12),U=L+(D^B&(k^D))+V[5]+3593408605&4294967295,L=k+(U<<5&4294967295|U>>>27),U=B+(k^D&(L^k))+V[10]+38016083&4294967295,B=L+(U<<9&4294967295|U>>>23),U=D+(L^k&(B^L))+V[15]+3634488961&4294967295,D=B+(U<<14&4294967295|U>>>18),U=k+(B^L&(D^B))+V[4]+3889429448&4294967295,k=D+(U<<20&4294967295|U>>>12),U=L+(D^B&(k^D))+V[9]+568446438&4294967295,L=k+(U<<5&4294967295|U>>>27),U=B+(k^D&(L^k))+V[14]+3275163606&4294967295,B=L+(U<<9&4294967295|U>>>23),U=D+(L^k&(B^L))+V[3]+4107603335&4294967295,D=B+(U<<14&4294967295|U>>>18),U=k+(B^L&(D^B))+V[8]+1163531501&4294967295,k=D+(U<<20&4294967295|U>>>12),U=L+(D^B&(k^D))+V[13]+2850285829&4294967295,L=k+(U<<5&4294967295|U>>>27),U=B+(k^D&(L^k))+V[2]+4243563512&4294967295,B=L+(U<<9&4294967295|U>>>23),U=D+(L^k&(B^L))+V[7]+1735328473&4294967295,D=B+(U<<14&4294967295|U>>>18),U=k+(B^L&(D^B))+V[12]+2368359562&4294967295,k=D+(U<<20&4294967295|U>>>12),U=L+(k^D^B)+V[5]+4294588738&4294967295,L=k+(U<<4&4294967295|U>>>28),U=B+(L^k^D)+V[8]+2272392833&4294967295,B=L+(U<<11&4294967295|U>>>21),U=D+(B^L^k)+V[11]+1839030562&4294967295,D=B+(U<<16&4294967295|U>>>16),U=k+(D^B^L)+V[14]+4259657740&4294967295,k=D+(U<<23&4294967295|U>>>9),U=L+(k^D^B)+V[1]+2763975236&4294967295,L=k+(U<<4&4294967295|U>>>28),U=B+(L^k^D)+V[4]+1272893353&4294967295,B=L+(U<<11&4294967295|U>>>21),U=D+(B^L^k)+V[7]+4139469664&4294967295,D=B+(U<<16&4294967295|U>>>16),U=k+(D^B^L)+V[10]+3200236656&4294967295,k=D+(U<<23&4294967295|U>>>9),U=L+(k^D^B)+V[13]+681279174&4294967295,L=k+(U<<4&4294967295|U>>>28),U=B+(L^k^D)+V[0]+3936430074&4294967295,B=L+(U<<11&4294967295|U>>>21),U=D+(B^L^k)+V[3]+3572445317&4294967295,D=B+(U<<16&4294967295|U>>>16),U=k+(D^B^L)+V[6]+76029189&4294967295,k=D+(U<<23&4294967295|U>>>9),U=L+(k^D^B)+V[9]+3654602809&4294967295,L=k+(U<<4&4294967295|U>>>28),U=B+(L^k^D)+V[12]+3873151461&4294967295,B=L+(U<<11&4294967295|U>>>21),U=D+(B^L^k)+V[15]+530742520&4294967295,D=B+(U<<16&4294967295|U>>>16),U=k+(D^B^L)+V[2]+3299628645&4294967295,k=D+(U<<23&4294967295|U>>>9),U=L+(D^(k|~B))+V[0]+4096336452&4294967295,L=k+(U<<6&4294967295|U>>>26),U=B+(k^(L|~D))+V[7]+1126891415&4294967295,B=L+(U<<10&4294967295|U>>>22),U=D+(L^(B|~k))+V[14]+2878612391&4294967295,D=B+(U<<15&4294967295|U>>>17),U=k+(B^(D|~L))+V[5]+4237533241&4294967295,k=D+(U<<21&4294967295|U>>>11),U=L+(D^(k|~B))+V[12]+1700485571&4294967295,L=k+(U<<6&4294967295|U>>>26),U=B+(k^(L|~D))+V[3]+2399980690&4294967295,B=L+(U<<10&4294967295|U>>>22),U=D+(L^(B|~k))+V[10]+4293915773&4294967295,D=B+(U<<15&4294967295|U>>>17),U=k+(B^(D|~L))+V[1]+2240044497&4294967295,k=D+(U<<21&4294967295|U>>>11),U=L+(D^(k|~B))+V[8]+1873313359&4294967295,L=k+(U<<6&4294967295|U>>>26),U=B+(k^(L|~D))+V[15]+4264355552&4294967295,B=L+(U<<10&4294967295|U>>>22),U=D+(L^(B|~k))+V[6]+2734768916&4294967295,D=B+(U<<15&4294967295|U>>>17),U=k+(B^(D|~L))+V[13]+1309151649&4294967295,k=D+(U<<21&4294967295|U>>>11),U=L+(D^(k|~B))+V[4]+4149444226&4294967295,L=k+(U<<6&4294967295|U>>>26),U=B+(k^(L|~D))+V[11]+3174756917&4294967295,B=L+(U<<10&4294967295|U>>>22),U=D+(L^(B|~k))+V[2]+718787259&4294967295,D=B+(U<<15&4294967295|U>>>17),U=k+(B^(D|~L))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+L&4294967295,O.g[1]=O.g[1]+(D+(U<<21&4294967295|U>>>11))&4294967295,O.g[2]=O.g[2]+D&4294967295,O.g[3]=O.g[3]+B&4294967295}r.prototype.v=function(O,L){L===void 0&&(L=O.length);const k=L-this.blockSize,V=this.C;let D=this.h,B=0;for(;B<L;){if(D==0)for(;B<=k;)i(this,O,B),B+=this.blockSize;if(typeof O=="string"){for(;B<L;)if(V[D++]=O.charCodeAt(B++),D==this.blockSize){i(this,V),D=0;break}}else for(;B<L;)if(V[D++]=O[B++],D==this.blockSize){i(this,V),D=0;break}}this.h=D,this.o+=L},r.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var L=1;L<O.length-8;++L)O[L]=0;L=this.o*8;for(var k=O.length-8;k<O.length;++k)O[k]=L&255,L/=256;for(this.v(O),O=Array(16),L=0,k=0;k<4;++k)for(let V=0;V<32;V+=8)O[L++]=this.g[k]>>>V&255;return O};function a(O,L){var k=c;return Object.prototype.hasOwnProperty.call(k,O)?k[O]:k[O]=L(O)}function l(O,L){this.h=L;const k=[];let V=!0;for(let D=O.length-1;D>=0;D--){const B=O[D]|0;V&&B==L||(k[D]=B,V=!1)}this.g=k}var c={};function f(O){return-128<=O&&O<128?a(O,function(L){return new l([L|0],L<0?-1:0)}):new l([O|0],O<0?-1:0)}function h(O){if(isNaN(O)||!isFinite(O))return p;if(O<0)return C(h(-O));const L=[];let k=1;for(let V=0;O>=k;V++)L[V]=O/k|0,k*=4294967296;return new l(L,0)}function m(O,L){if(O.length==0)throw Error("number format error: empty string");if(L=L||10,L<2||36<L)throw Error("radix out of range: "+L);if(O.charAt(0)=="-")return C(m(O.substring(1),L));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=h(Math.pow(L,8));let V=p;for(let B=0;B<O.length;B+=8){var D=Math.min(8,O.length-B);const U=parseInt(O.substring(B,B+D),L);D<8?(D=h(Math.pow(L,D)),V=V.j(D).add(h(U))):(V=V.j(k),V=V.add(h(U)))}return V}var p=f(0),y=f(1),b=f(16777216);t=l.prototype,t.m=function(){if(x(this))return-C(this).m();let O=0,L=1;for(let k=0;k<this.g.length;k++){const V=this.i(k);O+=(V>=0?V:4294967296+V)*L,L*=4294967296}return O},t.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(w(this))return"0";if(x(this))return"-"+C(this).toString(O);const L=h(Math.pow(O,6));var k=this;let V="";for(;;){const D=q(k,L).g;k=R(k,D.j(L));let B=((k.g.length>0?k.g[0]:k.h)>>>0).toString(O);if(k=D,w(k))return B+V;for(;B.length<6;)B="0"+B;V=B+V}},t.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function w(O){if(O.h!=0)return!1;for(let L=0;L<O.g.length;L++)if(O.g[L]!=0)return!1;return!0}function x(O){return O.h==-1}t.l=function(O){return O=R(this,O),x(O)?-1:w(O)?0:1};function C(O){const L=O.g.length,k=[];for(let V=0;V<L;V++)k[V]=~O.g[V];return new l(k,~O.h).add(y)}t.abs=function(){return x(this)?C(this):this},t.add=function(O){const L=Math.max(this.g.length,O.g.length),k=[];let V=0;for(let D=0;D<=L;D++){let B=V+(this.i(D)&65535)+(O.i(D)&65535),U=(B>>>16)+(this.i(D)>>>16)+(O.i(D)>>>16);V=U>>>16,B&=65535,U&=65535,k[D]=U<<16|B}return new l(k,k[k.length-1]&-2147483648?-1:0)};function R(O,L){return O.add(C(L))}t.j=function(O){if(w(this)||w(O))return p;if(x(this))return x(O)?C(this).j(C(O)):C(C(this).j(O));if(x(O))return C(this.j(C(O)));if(this.l(b)<0&&O.l(b)<0)return h(this.m()*O.m());const L=this.g.length+O.g.length,k=[];for(var V=0;V<2*L;V++)k[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<O.g.length;D++){const B=this.i(V)>>>16,U=this.i(V)&65535,ye=O.i(D)>>>16,Te=O.i(D)&65535;k[2*V+2*D]+=U*Te,M(k,2*V+2*D),k[2*V+2*D+1]+=B*Te,M(k,2*V+2*D+1),k[2*V+2*D+1]+=U*ye,M(k,2*V+2*D+1),k[2*V+2*D+2]+=B*ye,M(k,2*V+2*D+2)}for(O=0;O<L;O++)k[O]=k[2*O+1]<<16|k[2*O];for(O=L;O<2*L;O++)k[O]=0;return new l(k,0)};function M(O,L){for(;(O[L]&65535)!=O[L];)O[L+1]+=O[L]>>>16,O[L]&=65535,L++}function P(O,L){this.g=O,this.h=L}function q(O,L){if(w(L))throw Error("division by zero");if(w(O))return new P(p,p);if(x(O))return L=q(C(O),L),new P(C(L.g),C(L.h));if(x(L))return L=q(O,C(L)),new P(C(L.g),L.h);if(O.g.length>30){if(x(O)||x(L))throw Error("slowDivide_ only works with positive integers.");for(var k=y,V=L;V.l(O)<=0;)k=F(k),V=F(V);var D=$(k,1),B=$(V,1);for(V=$(V,2),k=$(k,2);!w(V);){var U=B.add(V);U.l(O)<=0&&(D=D.add(k),B=U),V=$(V,1),k=$(k,1)}return L=R(O,D.j(L)),new P(D,L)}for(D=p;O.l(L)>=0;){for(k=Math.max(1,Math.floor(O.m()/L.m())),V=Math.ceil(Math.log(k)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),B=h(k),U=B.j(L);x(U)||U.l(O)>0;)k-=V,B=h(k),U=B.j(L);w(B)&&(B=y),D=D.add(B),O=R(O,U)}return new P(D,O)}t.B=function(O){return q(this,O).h},t.and=function(O){const L=Math.max(this.g.length,O.g.length),k=[];for(let V=0;V<L;V++)k[V]=this.i(V)&O.i(V);return new l(k,this.h&O.h)},t.or=function(O){const L=Math.max(this.g.length,O.g.length),k=[];for(let V=0;V<L;V++)k[V]=this.i(V)|O.i(V);return new l(k,this.h|O.h)},t.xor=function(O){const L=Math.max(this.g.length,O.g.length),k=[];for(let V=0;V<L;V++)k[V]=this.i(V)^O.i(V);return new l(k,this.h^O.h)};function F(O){const L=O.g.length+1,k=[];for(let V=0;V<L;V++)k[V]=O.i(V)<<1|O.i(V-1)>>>31;return new l(k,O.h)}function $(O,L){const k=L>>5;L%=32;const V=O.g.length-k,D=[];for(let B=0;B<V;B++)D[B]=L>0?O.i(B+k)>>>L|O.i(B+k+1)<<32-L:O.i(B+k);return new l(D,O.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,p4=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,No=l}).apply(typeof n2<"u"?n2:typeof self<"u"?self:typeof window<"u"?window:{});var og=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var g4,Uh,v4,Dg,HE,y4,_4,b4;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof og=="object"&&og];for(var E=0;E<g.length;++E){var I=g[E];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(g,E){if(E)e:{var I=r;g=g.split(".");for(var j=0;j<g.length-1;j++){var W=g[j];if(!(W in I))break e;I=I[W]}g=g[g.length-1],j=I[g],E=E(j),E!=j&&E!=null&&e(I,g,{configurable:!0,writable:!0,value:E})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(E){var I=[],j;for(j in E)Object.prototype.hasOwnProperty.call(E,j)&&I.push([j,E[j]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(g){var E=typeof g;return E=="object"&&g!=null||E=="function"}function f(g,E,I){return g.call.apply(g.bind,arguments)}function h(g,E,I){return h=f,h.apply(null,arguments)}function m(g,E){var I=Array.prototype.slice.call(arguments,1);return function(){var j=I.slice();return j.push.apply(j,arguments),g.apply(this,j)}}function p(g,E){function I(){}I.prototype=E.prototype,g.Z=E.prototype,g.prototype=new I,g.prototype.constructor=g,g.Ob=function(j,W,te){for(var ve=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ve[Ve-2]=arguments[Ve];return E.prototype[W].apply(j,ve)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function b(g){const E=g.length;if(E>0){const I=Array(E);for(let j=0;j<E;j++)I[j]=g[j];return I}return[]}function w(g,E){for(let j=1;j<arguments.length;j++){const W=arguments[j];var I=typeof W;if(I=I!="object"?I:W?Array.isArray(W)?"array":I:"null",I=="array"||I=="object"&&typeof W.length=="number"){I=g.length||0;const te=W.length||0;g.length=I+te;for(let ve=0;ve<te;ve++)g[I+ve]=W[ve]}else g.push(W)}}class x{constructor(E,I){this.i=E,this.j=I,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function C(g){l.setTimeout(()=>{throw g},0)}function R(){var g=O;let E=null;return g.g&&(E=g.g,g.g=g.g.next,g.g||(g.h=null),E.next=null),E}class M{constructor(){this.h=this.g=null}add(E,I){const j=P.get();j.set(E,I),this.h?this.h.next=j:this.g=j,this.h=j}}var P=new x(()=>new q,g=>g.reset());class q{constructor(){this.next=this.g=this.h=null}set(E,I){this.h=E,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let F,$=!1,O=new M,L=()=>{const g=Promise.resolve(void 0);F=()=>{g.then(k)}};function k(){for(var g;g=R();){try{g.h.call(g.g)}catch(I){C(I)}var E=P;E.j(g),E.h<100&&(E.h++,g.next=E.g,E.g=g)}$=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(g,E){this.type=g,this.g=this.target=E,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,E=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const I=()=>{};l.addEventListener("test",I,E),l.removeEventListener("test",I,E)}catch{}return g})();function U(g){return/^[\s\xa0]*$/.test(g)}function ye(g,E){D.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,E)}p(ye,D),ye.prototype.init=function(g,E){const I=this.type=g.type,j=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=E,E=g.relatedTarget,E||(I=="mouseover"?E=g.fromElement:I=="mouseout"&&(E=g.toElement)),this.relatedTarget=E,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&ye.Z.h.call(this)},ye.prototype.h=function(){ye.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Te="closure_listenable_"+(Math.random()*1e6|0),Z=0;function oe(g,E,I,j,W){this.listener=g,this.proxy=null,this.src=E,this.type=I,this.capture=!!j,this.ha=W,this.key=++Z,this.da=this.fa=!1}function ie(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function J(g,E,I){for(const j in g)E.call(I,g[j],j,g)}function me(g,E){for(const I in g)E.call(void 0,g[I],I,g)}function z(g){const E={};for(const I in g)E[I]=g[I];return E}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(g,E){let I,j;for(let W=1;W<arguments.length;W++){j=arguments[W];for(I in j)g[I]=j[I];for(let te=0;te<Y.length;te++)I=Y[te],Object.prototype.hasOwnProperty.call(j,I)&&(g[I]=j[I])}}function de(g){this.src=g,this.g={},this.h=0}de.prototype.add=function(g,E,I,j,W){const te=g.toString();g=this.g[te],g||(g=this.g[te]=[],this.h++);const ve=Ie(g,E,j,W);return ve>-1?(E=g[ve],I||(E.fa=!1)):(E=new oe(E,this.src,te,!!j,W),E.fa=I,g.push(E)),E};function _e(g,E){const I=E.type;if(I in g.g){var j=g.g[I],W=Array.prototype.indexOf.call(j,E,void 0),te;(te=W>=0)&&Array.prototype.splice.call(j,W,1),te&&(ie(E),g.g[I].length==0&&(delete g.g[I],g.h--))}}function Ie(g,E,I,j){for(let W=0;W<g.length;++W){const te=g[W];if(!te.da&&te.listener==E&&te.capture==!!I&&te.ha==j)return W}return-1}var je="closure_lm_"+(Math.random()*1e6|0),Ct={};function ae(g,E,I,j,W){if(Array.isArray(E)){for(let te=0;te<E.length;te++)ae(g,E[te],I,j,W);return null}return I=Ma(I),g&&g[Te]?g.J(E,I,c(j)?!!j.capture:!1,W):ke(g,E,I,!1,j,W)}function ke(g,E,I,j,W,te){if(!E)throw Error("Invalid event type");const ve=c(W)?!!W.capture:!!W;let Ve=Kt(g);if(Ve||(g[je]=Ve=new de(g)),I=Ve.add(E,I,j,ve,te),I.proxy)return I;if(j=ze(),I.proxy=j,j.src=g,j.listener=I,g.addEventListener)B||(W=ve),W===void 0&&(W=!1),g.addEventListener(E.toString(),j,W);else if(g.attachEvent)g.attachEvent($e(E.toString()),j);else if(g.addListener&&g.removeListener)g.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return I}function ze(){function g(I){return E.call(g.src,g.listener,I)}const E=vn;return g}function pe(g,E,I,j,W){if(Array.isArray(E))for(var te=0;te<E.length;te++)pe(g,E[te],I,j,W);else j=c(j)?!!j.capture:!!j,I=Ma(I),g&&g[Te]?(g=g.i,te=String(E).toString(),te in g.g&&(E=g.g[te],I=Ie(E,I,j,W),I>-1&&(ie(E[I]),Array.prototype.splice.call(E,I,1),E.length==0&&(delete g.g[te],g.h--)))):g&&(g=Kt(g))&&(E=g.g[E.toString()],g=-1,E&&(g=Ie(E,I,j,W)),(I=g>-1?E[g]:null)&&Gt(I))}function Gt(g){if(typeof g!="number"&&g&&!g.da){var E=g.src;if(E&&E[Te])_e(E.i,g);else{var I=g.type,j=g.proxy;E.removeEventListener?E.removeEventListener(I,j,g.capture):E.detachEvent?E.detachEvent($e(I),j):E.addListener&&E.removeListener&&E.removeListener(j),(I=Kt(E))?(_e(I,g),I.h==0&&(I.src=null,E[je]=null)):ie(g)}}}function $e(g){return g in Ct?Ct[g]:Ct[g]="on"+g}function vn(g,E){if(g.da)g=!0;else{E=new ye(E,this);const I=g.listener,j=g.ha||g.src;g.fa&&Gt(g),g=I.call(j,E)}return g}function Kt(g){return g=g[je],g instanceof de?g:null}var Rr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ma(g){return typeof g=="function"?g:(g[Rr]||(g[Rr]=function(E){return g.handleEvent(E)}),g[Rr])}function nn(){V.call(this),this.i=new de(this),this.M=this,this.G=null}p(nn,V),nn.prototype[Te]=!0,nn.prototype.removeEventListener=function(g,E,I,j){pe(this,g,E,I,j)};function yn(g,E){var I,j=g.G;if(j)for(I=[];j;j=j.G)I.push(j);if(g=g.M,j=E.type||E,typeof E=="string")E=new D(E,g);else if(E instanceof D)E.target=E.target||g;else{var W=E;E=new D(j,g),le(E,W)}W=!0;let te,ve;if(I)for(ve=I.length-1;ve>=0;ve--)te=E.g=I[ve],W=Da(te,j,!0,E)&&W;if(te=E.g=g,W=Da(te,j,!0,E)&&W,W=Da(te,j,!1,E)&&W,I)for(ve=0;ve<I.length;ve++)te=E.g=I[ve],W=Da(te,j,!1,E)&&W}nn.prototype.N=function(){if(nn.Z.N.call(this),this.i){var g=this.i;for(const E in g.g){const I=g.g[E];for(let j=0;j<I.length;j++)ie(I[j]);delete g.g[E],g.h--}}this.G=null},nn.prototype.J=function(g,E,I,j){return this.i.add(String(g),E,!1,I,j)},nn.prototype.K=function(g,E,I,j){return this.i.add(String(g),E,!0,I,j)};function Da(g,E,I,j){if(E=g.i.g[String(E)],!E)return!0;E=E.concat();let W=!0;for(let te=0;te<E.length;++te){const ve=E[te];if(ve&&!ve.da&&ve.capture==I){const Ve=ve.listener,Wt=ve.ha||ve.src;ve.fa&&_e(g.i,ve),W=Ve.call(Wt,j)!==!1&&W}}return W&&!j.defaultPrevented}function V_(g,E){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=h(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:l.setTimeout(g,E||0)}function Im(g){g.g=V_(()=>{g.g=null,g.i&&(g.i=!1,Im(g))},g.l);const E=g.h;g.h=null,g.m.apply(null,E)}class or extends V{constructor(E,I){super(),this.m=E,this.l=I,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Im(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tl(g){V.call(this),this.h=g,this.g={}}p(tl,V);var wf=[];function Ef(g){J(g.g,function(E,I){this.g.hasOwnProperty(I)&&Gt(E)},g),g.g={}}tl.prototype.N=function(){tl.Z.N.call(this),Ef(this)},tl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var La=l.JSON.stringify,U_=l.JSON.parse,Rm=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function Nm(){}function Om(){}var _i={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zn(){D.call(this,"d")}p(zn,D);function Kr(){D.call(this,"c")}p(Kr,D);var Yt={},Pm=null;function vu(){return Pm=Pm||new nn}Yt.Ia="serverreachability";function km(g){D.call(this,Yt.Ia,g)}p(km,D);function Yi(g){const E=vu();yn(E,new km(E))}Yt.STAT_EVENT="statevent";function nl(g,E){D.call(this,Yt.STAT_EVENT,g),this.stat=E}p(nl,D);function rn(g){const E=vu();yn(E,new nl(E,g))}Yt.Ja="timingevent";function Wi(g,E){D.call(this,Yt.Ja,g),this.size=E}p(Wi,D);function Qi(g,E){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},E)}function bi(){this.g=!0}bi.prototype.ua=function(){this.g=!1};function z_(g,E,I,j,W,te){g.info(function(){if(g.g)if(te){var ve="",Ve=te.split("&");for(let ct=0;ct<Ve.length;ct++){var Wt=Ve[ct].split("=");if(Wt.length>1){const Lt=Wt[0];Wt=Wt[1];const Xr=Lt.split("_");ve=Xr.length>=2&&Xr[1]=="type"?ve+(Lt+"="+Wt+"&"):ve+(Lt+"=redacted&")}}}else ve=null;else ve=te;return"XMLHTTP REQ ("+j+") [attempt "+W+"]: "+E+`
`+I+`
`+ve})}function Mm(g,E,I,j,W,te,ve){g.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+W+"]: "+E+`
`+I+`
`+te+" "+ve})}function Xi(g,E,I,j){g.info(function(){return"XMLHTTP TEXT ("+E+"): "+B_(g,I)+(j?" "+j:"")})}function rl(g,E){g.info(function(){return"TIMEOUT: "+E})}bi.prototype.info=function(){};function B_(g,E){if(!g.g)return E;if(!E)return null;try{const te=JSON.parse(E);if(te){for(g=0;g<te.length;g++)if(Array.isArray(te[g])){var I=te[g];if(!(I.length<2)){var j=I[1];if(Array.isArray(j)&&!(j.length<1)){var W=j[0];if(W!="noop"&&W!="stop"&&W!="close")for(let ve=1;ve<j.length;ve++)j[ve]=""}}}}return La(te)}catch{return E}}var il={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xf={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Tf;function sl(){}p(sl,Nm),sl.prototype.g=function(){return new XMLHttpRequest},Tf=new sl;function Ds(g){return encodeURIComponent(String(g))}function Dm(g){var E=1;g=g.split(":");const I=[];for(;E>0&&g.length;)I.push(g.shift()),E--;return g.length&&I.push(g.join(":")),I}function wi(g,E,I,j){this.j=g,this.i=E,this.l=I,this.S=j||1,this.V=new tl(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ei}function Ei(){this.i=null,this.g="",this.h=!1}var sn={},Rn={};function Zi(g,E,I){g.M=1,g.A=al(on(E)),g.u=I,g.R=!0,yu(g,null)}function yu(g,E){g.F=Date.now(),Ji(g),g.B=on(g.A);var I=g.B,j=g.S;Array.isArray(j)||(j=[String(j)]),Eu(I.i,"t",j),g.C=0,I=g.j.L,g.h=new Ei,g.g=Qm(g.j,I?E:null,!g.u),g.P>0&&(g.O=new or(h(g.Y,g,g.g),g.P)),E=g.V,I=g.g,j=g.ba;var W="readystatechange";Array.isArray(W)||(W&&(wf[0]=W.toString()),W=wf);for(let te=0;te<W.length;te++){const ve=ae(I,W[te],j||E.handleEvent,!1,E.h||E);if(!ve)break;E.g[ve.key]=ve}E=g.J?z(g.J):{},g.u?(g.v||(g.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,E)):(g.v="GET",g.g.ea(g.B,g.v,null,E)),Yi(),z_(g.i,g.v,g.B,g.l,g.S,g.u)}wi.prototype.ba=function(g){g=g.target;const E=this.O;E&&Si(g)==3?E.j():this.Y(g)},wi.prototype.Y=function(g){try{if(g==this.g)e:{const Ve=Si(this.g),Wt=this.g.ya(),ct=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||Bn(this.g)))){this.K||Ve!=4||Wt==7||(Wt==8||ct<=0?Yi(3):Yi(2)),es(this);var E=this.g.ca();this.X=E;var I=F_(this);if(this.o=E==200,Mm(this.i,this.v,this.B,this.l,this.S,Ve,E),this.o){if(this.U&&!this.L){t:{if(this.g){var j,W=this.g;if((j=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(j)){var te=j;break t}}te=null}if(g=te)Xi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ts(this,g);else{this.o=!1,this.m=3,rn(12),Nr(this),Yr(this);break e}}if(this.R){g=!0;let Lt;for(;!this.K&&this.C<I.length;)if(Lt=jm(this,I),Lt==Rn){Ve==4&&(this.m=4,rn(14),g=!1),Xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==sn){this.m=4,rn(15),Xi(this.i,this.l,I,"[Invalid Chunk]"),g=!1;break}else Xi(this.i,this.l,Lt,null),ts(this,Lt);if(Lm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||I.length!=0||this.h.h||(this.m=1,rn(16),g=!1),this.o=this.o&&g,!g)Xi(this.i,this.l,I,"[Invalid Chunked Response]"),Nr(this),Yr(this);else if(I.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),Uf(ve),ve.P=!0,rn(11))}}else Xi(this.i,this.l,I,null),ts(this,I);Ve==4&&Nr(this),this.o&&!this.K&&(Ve==4?Gm(this.j,this):(this.o=!1,Ji(this)))}else js(this.g),E==400&&I.indexOf("Unknown SID")>0?(this.m=3,rn(12)):(this.m=0,rn(13)),Nr(this),Yr(this)}}}catch{}finally{}};function F_(g){if(!Lm(g))return g.g.la();const E=Bn(g.g);if(E==="")return"";let I="";const j=E.length,W=Si(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Nr(g),Yr(g),"";g.h.i=new l.TextDecoder}for(let te=0;te<j;te++)g.h.h=!0,I+=g.h.i.decode(E[te],{stream:!(W&&te==j-1)});return E.length=0,g.h.g+=I,g.C=0,g.h.g}function Lm(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function jm(g,E){var I=g.C,j=E.indexOf(`
`,I);return j==-1?Rn:(I=Number(E.substring(I,j)),isNaN(I)?sn:(j+=1,j+I>E.length?Rn:(E=E.slice(j,j+I),g.C=j+I,E)))}wi.prototype.cancel=function(){this.K=!0,Nr(this)};function Ji(g){g.T=Date.now()+g.H,_u(g,g.H)}function _u(g,E){if(g.D!=null)throw Error("WatchDog timer not null");g.D=Qi(h(g.aa,g),E)}function es(g){g.D&&(l.clearTimeout(g.D),g.D=null)}wi.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(rl(this.i,this.B),this.M!=2&&(Yi(),rn(17)),Nr(this),this.m=2,Yr(this)):_u(this,this.T-g)};function Yr(g){g.j.I==0||g.K||Gm(g.j,g)}function Nr(g){es(g);var E=g.O;E&&typeof E.dispose=="function"&&E.dispose(),g.O=null,Ef(g.V),g.g&&(E=g.g,g.g=null,E.abort(),E.dispose())}function ts(g,E){try{var I=g.j;if(I.I!=0&&(I.g==g||rs(I.h,g))){if(!g.L&&rs(I.h,g)&&I.I==3){try{var j=I.Ba.g.parse(E)}catch{j=null}if(Array.isArray(j)&&j.length==3){var W=j;if(W[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<g.F)Cu(I),Ha(I);else break e;dl(I),rn(18)}}else I.xa=W[1],0<I.xa-I.K&&W[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=Qi(h(I.Va,I),6e3));ns(I.h)<=1&&I.ta&&(I.ta=void 0)}else us(I,11)}else if((g.L||I.g==g)&&Cu(I),!U(E))for(W=I.Ba.g.parse(E),E=0;E<W.length;E++){let ct=W[E];const Lt=ct[0];if(!(Lt<=I.K))if(I.K=Lt,ct=ct[1],I.I==2)if(ct[0]=="c"){I.M=ct[1],I.ba=ct[2];const Xr=ct[3];Xr!=null&&(I.ka=Xr,I.j.info("VER="+I.ka));const cs=ct[4];cs!=null&&(I.za=cs,I.j.info("SVER="+I.za));const Ai=ct[5];Ai!=null&&typeof Ai=="number"&&Ai>0&&(j=1.5*Ai,I.O=j,I.j.info("backChannelRequestTimeoutMs_="+j)),j=I;const Ci=g.g;if(Ci){const ml=Ci.g?Ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ml){var te=j.h;te.g||ml.indexOf("spdy")==-1&&ml.indexOf("quic")==-1&&ml.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Cf(te,te.h),te.h=null))}if(j.G){const Iu=Ci.g?Ci.g.getResponseHeader("X-HTTP-Session-Id"):null;Iu&&(j.wa=Iu,dt(j.J,j.G,Iu))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-g.F,I.j.info("Handshake RTT: "+I.T+"ms")),j=I;var ve=g;if(j.na=Wm(j,j.L?j.ba:null,j.W),ve.L){If(j.h,ve);var Ve=ve,Wt=j.O;Wt&&(Ve.H=Wt),Ve.D&&(es(Ve),Ji(Ve)),j.g=ve}else Hm(j);I.i.length>0&&ls(I)}else ct[0]!="stop"&&ct[0]!="close"||us(I,7);else I.I==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?us(I,7):jf(I):ct[0]!="noop"&&I.l&&I.l.qa(ct),I.A=0)}}Yi(4)}catch{}}var an=class{constructor(g,E){this.g=g,this.map=E}};function Sf(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Af(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function ns(g){return g.h?1:g.g?g.g.size:0}function rs(g,E){return g.h?g.h==E:g.g?g.g.has(E):!1}function Cf(g,E){g.g?g.g.add(E):g.h=E}function If(g,E){g.h&&g.h==E?g.h=null:g.g&&g.g.has(E)&&g.g.delete(E)}Sf.prototype.cancel=function(){if(this.i=Rf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Rf(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let E=g.i;for(const I of g.g.values())E=E.concat(I.G);return E}return b(g.i)}var Vm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bu(g,E){if(g){g=g.split("&");for(let I=0;I<g.length;I++){const j=g[I].indexOf("=");let W,te=null;j>=0?(W=g[I].substring(0,j),te=g[I].substring(j+1)):W=g[I],E(W,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function Or(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;g instanceof Or?(this.l=g.l,Nn(this,g.j),this.o=g.o,this.g=g.g,ja(this,g.u),this.h=g.h,Nf(this,Fm(g.i)),this.m=g.m):g&&(E=String(g).match(Vm))?(this.l=!1,Nn(this,E[1]||"",!0),this.o=is(E[2]||""),this.g=is(E[3]||"",!0),ja(this,E[4]),this.h=is(E[5]||"",!0),Nf(this,E[6]||"",!0),this.m=is(E[7]||"")):(this.l=!1,this.i=new Ua(null,this.l))}Or.prototype.toString=function(){const g=[];var E=this.j;E&&g.push(ol(E,wu,!0),":");var I=this.g;return(I||E=="file")&&(g.push("//"),(E=this.o)&&g.push(ol(E,wu,!0),"@"),g.push(Ds(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&g.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&g.push("/"),g.push(ol(I,I.charAt(0)=="/"?Of:Um,!0))),(I=this.i.toString())&&g.push("?",I),(I=this.m)&&g.push("#",ol(I,zm)),g.join("")},Or.prototype.resolve=function(g){const E=on(this);let I=!!g.j;I?Nn(E,g.j):I=!!g.o,I?E.o=g.o:I=!!g.g,I?E.g=g.g:I=g.u!=null;var j=g.h;if(I)ja(E,g.u);else if(I=!!g.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var W=E.h.lastIndexOf("/");W!=-1&&(j=E.h.slice(0,W+1)+j)}if(W=j,W==".."||W==".")j="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){j=W.lastIndexOf("/",0)==0,W=W.split("/");const te=[];for(let ve=0;ve<W.length;){const Ve=W[ve++];Ve=="."?j&&ve==W.length&&te.push(""):Ve==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),j&&ve==W.length&&te.push("")):(te.push(Ve),j=!0)}j=te.join("/")}else j=W}return I?E.h=j:I=g.i.toString()!=="",I?Nf(E,Fm(g.i)):I=!!g.m,I&&(E.m=g.m),E};function on(g){return new Or(g)}function Nn(g,E,I){g.j=I?is(E,!0):E,g.j&&(g.j=g.j.replace(/:$/,""))}function ja(g,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);g.u=E}else g.u=null}function Nf(g,E,I){E instanceof Ua?(g.i=E,xu(g.i,g.l)):(I||(E=ol(E,Va)),g.i=new Ua(E,g.l))}function dt(g,E,I){g.i.set(E,I)}function al(g){return dt(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function is(g,E){return g?E?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function ol(g,E,I){return typeof g=="string"?(g=encodeURI(g).replace(E,gr),I&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function gr(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var wu=/[#\/\?@]/g,Um=/[#\?:]/g,Of=/[#\?]/g,Va=/[#\?@]/g,zm=/#/g;function Ua(g,E){this.h=this.g=null,this.i=g||null,this.j=!!E}function vr(g){g.g||(g.g=new Map,g.h=0,g.i&&bu(g.i,function(E,I){g.add(decodeURIComponent(E.replace(/\+/g," ")),I)}))}t=Ua.prototype,t.add=function(g,E){vr(this),this.i=null,g=za(this,g);let I=this.g.get(g);return I||this.g.set(g,I=[]),I.push(E),this.h+=1,this};function Bm(g,E){vr(g),E=za(g,E),g.g.has(E)&&(g.i=null,g.h-=g.g.get(E).length,g.g.delete(E))}function Pf(g,E){return vr(g),E=za(g,E),g.g.has(E)}t.forEach=function(g,E){vr(this),this.g.forEach(function(I,j){I.forEach(function(W){g.call(E,W,j,this)},this)},this)};function kf(g,E){vr(g);let I=[];if(typeof E=="string")Pf(g,E)&&(I=I.concat(g.g.get(za(g,E))));else for(g=Array.from(g.g.values()),E=0;E<g.length;E++)I=I.concat(g[E]);return I}t.set=function(g,E){return vr(this),this.i=null,g=za(this,g),Pf(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[E]),this.h+=1,this},t.get=function(g,E){return g?(g=kf(this,g),g.length>0?String(g[0]):E):E};function Eu(g,E,I){Bm(g,E),I.length>0&&(g.i=null,g.g.set(za(g,E),b(I)),g.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],E=Array.from(this.g.keys());for(let j=0;j<E.length;j++){var I=E[j];const W=Ds(I);I=kf(this,I);for(let te=0;te<I.length;te++){let ve=W;I[te]!==""&&(ve+="="+Ds(I[te])),g.push(ve)}}return this.i=g.join("&")};function Fm(g){const E=new Ua;return E.i=g.i,g.g&&(E.g=new Map(g.g),E.h=g.h),E}function za(g,E){return E=String(E),g.j&&(E=E.toLowerCase()),E}function xu(g,E){E&&!g.j&&(vr(g),g.i=null,g.g.forEach(function(I,j){const W=j.toLowerCase();j!=W&&(Bm(this,j),Eu(this,W,I))},g)),g.j=E}function xi(g,E){const I=new bi;if(l.Image){const j=new Image;j.onload=m(Wr,I,"TestLoadImage: loaded",!0,E,j),j.onerror=m(Wr,I,"TestLoadImage: error",!1,E,j),j.onabort=m(Wr,I,"TestLoadImage: abort",!1,E,j),j.ontimeout=m(Wr,I,"TestLoadImage: timeout",!1,E,j),l.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=g}else E(!1)}function Mf(g,E){const I=new bi,j=new AbortController,W=setTimeout(()=>{j.abort(),Wr(I,"TestPingServer: timeout",!1,E)},1e4);fetch(g,{signal:j.signal}).then(te=>{clearTimeout(W),te.ok?Wr(I,"TestPingServer: ok",!0,E):Wr(I,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(W),Wr(I,"TestPingServer: error",!1,E)})}function Wr(g,E,I,j,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),j(I)}catch{}}function Ba(){this.g=new Rm}function ss(g){this.i=g.Sb||null,this.h=g.ab||!1}p(ss,Nm),ss.prototype.g=function(){return new ll(this.i,this.h)};function ll(g,E){nn.call(this),this.H=g,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(ll,nn),t=ll.prototype,t.open=function(g,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=E,this.readyState=1,Ti(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(E.body=g),(this.H||l).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Fa(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Tu(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function Tu(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var E=g.value?g.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!g.done}))&&(this.response=this.responseText+=E)}g.done?Fa(this):Ti(this),this.readyState==3&&Tu(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,Fa(this))},t.Na=function(g){this.g&&(this.response=g,Fa(this))},t.ga=function(){this.g&&Fa(this)};function Fa(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Ti(g)}t.setRequestHeader=function(g,E){this.A.append(g,E)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],E=this.h.entries();for(var I=E.next();!I.done;)I=I.value,g.push(I[0]+": "+I[1]),I=E.next();return g.join(`\r
`)};function Ti(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(ll.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Qr(g){let E="";return J(g,function(I,j){E+=j,E+=":",E+=I,E+=`\r
`}),E}function ul(g,E,I){e:{for(j in I){var j=!1;break e}j=!0}j||(I=Qr(I),typeof g=="string"?I!=null&&Ds(I):dt(g,E,I))}function _t(g){nn.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(_t,nn);var as=/^https?$/i,Df=["POST","PUT"];t=_t.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,E,I,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);E=E?E.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Tf.g(),this.g.onreadystatechange=y(h(this.Ca,this));try{this.B=!0,this.g.open(E,String(g),!0),this.B=!1}catch(te){cl(this,te);return}if(g=I||"",I=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var W in j)I.set(W,j[W]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const te of j.keys())I.set(te,j.get(te));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(I.keys()).find(te=>te.toLowerCase()=="content-type"),W=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(Df,E,void 0)>=0)||j||W||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ve]of I)this.g.setRequestHeader(te,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(te){cl(this,te)}};function cl(g,E){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=E,g.o=5,Lf(g),Ls(g)}function Lf(g){g.A||(g.A=!0,yn(g,"complete"),yn(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,yn(this,"complete"),yn(this,"abort"),Ls(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ls(this,!0)),_t.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?fl(this):this.Xa())},t.Xa=function(){fl(this)};function fl(g){if(g.h&&typeof a<"u"){if(g.v&&Si(g)==4)setTimeout(g.Ca.bind(g),0);else if(yn(g,"readystatechange"),Si(g)==4){g.h=!1;try{const te=g.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var I;if(!(I=E)){var j;if(j=te===0){let ve=String(g.D).match(Vm)[1]||null;!ve&&l.self&&l.self.location&&(ve=l.self.location.protocol.slice(0,-1)),j=!as.test(ve?ve.toLowerCase():"")}I=j}if(I)yn(g,"complete"),yn(g,"success");else{g.o=6;try{var W=Si(g)>2?g.g.statusText:""}catch{W=""}g.l=W+" ["+g.ca()+"]",Lf(g)}}finally{Ls(g)}}}}function Ls(g,E){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const I=g.g;g.g=null,E||yn(g,"ready");try{I.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Si(g){return g.g?g.g.readyState:0}t.ca=function(){try{return Si(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var E=this.g.responseText;return g&&E.indexOf(g)==0&&(E=E.substring(g.length)),U_(E)}};function Bn(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function js(g){const E={};g=(g.g&&Si(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<g.length;j++){if(U(g[j]))continue;var I=Dm(g[j]);const W=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const te=E[W]||[];E[W]=te,te.push(I)}me(E,function(j){return j.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function os(g,E,I){return I&&I.internalChannelParams&&I.internalChannelParams[g]||E}function qa(g){this.za=0,this.i=[],this.j=new bi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=os("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=os("baseRetryDelayMs",5e3,g),this.Za=os("retryDelaySeedMs",1e4,g),this.Ta=os("forwardChannelMaxRetries",2,g),this.va=os("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new Sf(g&&g.concurrentRequestLimit),this.Ba=new Ba,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=qa.prototype,t.ka=8,t.I=1,t.connect=function(g,E,I,j){rn(0),this.W=g,this.H=E||{},I&&j!==void 0&&(this.H.OSID=I,this.H.OAID=j),this.F=this.X,this.J=Wm(this,null,this.W),ls(this)};function jf(g){if(Su(g),g.I==3){var E=g.V++,I=on(g.J);if(dt(I,"SID",g.M),dt(I,"RID",E),dt(I,"TYPE","terminate"),hl(g,I),E=new wi(g,g.j,E),E.M=2,E.A=al(on(I)),I=!1,l.navigator&&l.navigator.sendBeacon)try{I=l.navigator.sendBeacon(E.A.toString(),"")}catch{}!I&&l.Image&&(new Image().src=E.A,I=!0),I||(E.g=Qm(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Ji(E)}Ym(g)}function Ha(g){g.g&&(Uf(g),g.g.cancel(),g.g=null)}function Su(g){Ha(g),g.v&&(l.clearTimeout(g.v),g.v=null),Cu(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function ls(g){if(!Af(g.h)&&!g.m){g.m=!0;var E=g.Ea;F||L(),$||(F(),$=!0),O.add(E,g),g.D=0}}function Au(g,E){return ns(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=E.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=Qi(h(g.Ea,g,E),Km(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const W=new wi(this,this.j,g);let te=this.o;if(this.U&&(te?(te=z(te),le(te,this.U)):te=this.U),this.u!==null||this.R||(W.J=te,te=null),this.S)e:{for(var E=0,I=0;I<this.i.length;I++){t:{var j=this.i[I];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(E+=j,E>4096){E=I;break e}if(E===4096||I===this.i.length-1){E=I+1;break e}}E=1e3}else E=1e3;E=qm(this,W,E),I=on(this.J),dt(I,"RID",g),dt(I,"CVER",22),this.G&&dt(I,"X-HTTP-Session-Id",this.G),hl(this,I),te&&(this.R?E="headers="+Ds(Qr(te))+"&"+E:this.u&&ul(I,this.u,te)),Cf(this.h,W),this.Ra&&dt(I,"TYPE","init"),this.S?(dt(I,"$req",E),dt(I,"SID","null"),W.U=!0,Zi(W,I,null)):Zi(W,I,E),this.I=2}}else this.I==3&&(g?Vf(this,g):this.i.length==0||Af(this.h)||Vf(this))};function Vf(g,E){var I;E?I=E.l:I=g.V++;const j=on(g.J);dt(j,"SID",g.M),dt(j,"RID",I),dt(j,"AID",g.K),hl(g,j),g.u&&g.o&&ul(j,g.u,g.o),I=new wi(g,g.j,I,g.D+1),g.u===null&&(I.J=g.o),E&&(g.i=E.G.concat(g.i)),E=qm(g,I,1e3),I.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Cf(g.h,I),Zi(I,j,E)}function hl(g,E){g.H&&J(g.H,function(I,j){dt(E,j,I)}),g.l&&J({},function(I,j){dt(E,j,I)})}function qm(g,E,I){I=Math.min(g.i.length,I);const j=g.l?h(g.l.Ka,g.l,g):null;e:{var W=g.i;let Ve=-1;for(;;){const Wt=["count="+I];Ve==-1?I>0?(Ve=W[0].g,Wt.push("ofs="+Ve)):Ve=0:Wt.push("ofs="+Ve);let ct=!0;for(let Lt=0;Lt<I;Lt++){var te=W[Lt].g;const Xr=W[Lt].map;if(te-=Ve,te<0)Ve=Math.max(0,W[Lt].g-100),ct=!1;else try{te="req"+te+"_"||"";try{var ve=Xr instanceof Map?Xr:Object.entries(Xr);for(const[cs,Ai]of ve){let Ci=Ai;c(Ai)&&(Ci=La(Ai)),Wt.push(te+cs+"="+encodeURIComponent(Ci))}}catch(cs){throw Wt.push(te+"type="+encodeURIComponent("_badmap")),cs}}catch{j&&j(Xr)}}if(ct){ve=Wt.join("&");break e}}ve=void 0}return g=g.i.splice(0,I),E.G=g,ve}function Hm(g){if(!g.g&&!g.v){g.Y=1;var E=g.Da;F||L(),$||(F(),$=!0),O.add(E,g),g.A=0}}function dl(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=Qi(h(g.Da,g),Km(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,$m(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=Qi(h(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,rn(10),Ha(this),$m(this))};function Uf(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function $m(g){g.g=new wi(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var E=on(g.na);dt(E,"RID","rpc"),dt(E,"SID",g.M),dt(E,"AID",g.K),dt(E,"CI",g.F?"0":"1"),!g.F&&g.ia&&dt(E,"TO",g.ia),dt(E,"TYPE","xmlhttp"),hl(g,E),g.u&&g.o&&ul(E,g.u,g.o),g.O&&(g.g.H=g.O);var I=g.g;g=g.ba,I.M=1,I.A=al(on(E)),I.u=null,I.R=!0,yu(I,g)}t.Va=function(){this.C!=null&&(this.C=null,Ha(this),dl(this),rn(19))};function Cu(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function Gm(g,E){var I=null;if(g.g==E){Cu(g),Uf(g),g.g=null;var j=2}else if(rs(g.h,E))I=E.G,If(g.h,E),j=1;else return;if(g.I!=0){if(E.o)if(j==1){I=E.u?E.u.length:0,E=Date.now()-E.F;var W=g.D;j=vu(),yn(j,new Wi(j,I)),ls(g)}else Hm(g);else if(W=E.m,W==3||W==0&&E.X>0||!(j==1&&Au(g,E)||j==2&&dl(g)))switch(I&&I.length>0&&(E=g.h,E.i=E.i.concat(I)),W){case 1:us(g,5);break;case 4:us(g,10);break;case 3:us(g,6);break;default:us(g,2)}}}function Km(g,E){let I=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(I*=2),I*E}function us(g,E){if(g.j.info("Error code "+E),E==2){var I=h(g.bb,g),j=g.Ua;const W=!j;j=new Or(j||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Nn(j,"https"),al(j),W?xi(j.toString(),I):Mf(j.toString(),I)}else rn(2);g.I=0,g.l&&g.l.pa(E),Ym(g),Su(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function Ym(g){if(g.I=0,g.ja=[],g.l){const E=Rf(g.h);(E.length!=0||g.i.length!=0)&&(w(g.ja,E),w(g.ja,g.i),g.h.i.length=0,b(g.i),g.i.length=0),g.l.oa()}}function Wm(g,E,I){var j=I instanceof Or?on(I):new Or(I);if(j.g!="")E&&(j.g=E+"."+j.g),ja(j,j.u);else{var W=l.location;j=W.protocol,E=E?E+"."+W.hostname:W.hostname,W=+W.port;const te=new Or(null);j&&Nn(te,j),E&&(te.g=E),W&&ja(te,W),I&&(te.h=I),j=te}return I=g.G,E=g.wa,I&&E&&dt(j,I,E),dt(j,"VER",g.ka),hl(g,j),j}function Qm(g,E,I){if(E&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=g.Aa&&!g.ma?new _t(new ss({ab:I})):new _t(g.ma),E.Fa(g.L),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xm(){}t=Xm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function $a(){}$a.prototype.g=function(g,E){return new lr(g,E)};function lr(g,E){nn.call(this),this.g=new qa(E),this.l=g,this.h=E&&E.messageUrlParams||null,g=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(g?g["X-WebChannel-Content-Type"]=E.messageContentType:g={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(g?g["X-WebChannel-Client-Profile"]=E.sa:g={"X-WebChannel-Client-Profile":E.sa}),this.g.U=g,(g=E&&E.Qb)&&!U(g)&&(this.g.u=g),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!U(E)&&(this.g.G=E,g=this.h,g!==null&&E in g&&(g=this.h,E in g&&delete g[E])),this.j=new Vs(this)}p(lr,nn),lr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},lr.prototype.close=function(){jf(this.g)},lr.prototype.o=function(g){var E=this.g;if(typeof g=="string"){var I={};I.__data__=g,g=I}else this.v&&(I={},I.__data__=La(g),g=I);E.i.push(new an(E.Ya++,g)),E.I==3&&ls(E)},lr.prototype.N=function(){this.g.l=null,delete this.j,jf(this.g),delete this.g,lr.Z.N.call(this)};function Zm(g){zn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var E=g.__sm__;if(E){e:{for(const I in E){g=I;break e}g=void 0}(this.i=g)&&(g=this.i,E=E!==null&&g in E?E[g]:void 0),this.data=E}else this.data=g}p(Zm,zn);function Jm(){Kr.call(this),this.status=1}p(Jm,Kr);function Vs(g){this.g=g}p(Vs,Xm),Vs.prototype.ra=function(){yn(this.g,"a")},Vs.prototype.qa=function(g){yn(this.g,new Zm(g))},Vs.prototype.pa=function(g){yn(this.g,new Jm)},Vs.prototype.oa=function(){yn(this.g,"b")},$a.prototype.createWebChannel=$a.prototype.g,lr.prototype.send=lr.prototype.o,lr.prototype.open=lr.prototype.m,lr.prototype.close=lr.prototype.close,b4=function(){return new $a},_4=function(){return vu()},y4=Yt,HE={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},il.NO_ERROR=0,il.TIMEOUT=8,il.HTTP_ERROR=6,Dg=il,xf.COMPLETE="complete",v4=xf,Om.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",nn.prototype.listen=nn.prototype.J,Uh=Om,_t.prototype.listenOnce=_t.prototype.K,_t.prototype.getLastError=_t.prototype.Ha,_t.prototype.getLastErrorCode=_t.prototype.ya,_t.prototype.getStatus=_t.prototype.ca,_t.prototype.getResponseJson=_t.prototype.La,_t.prototype.getResponseText=_t.prototype.la,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Fa,g4=_t}).apply(typeof og<"u"?og:typeof self<"u"?self:typeof window<"u"?window:{});const r2="@firebase/firestore",i2="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nr.UNAUTHENTICATED=new nr(null),nr.GOOGLE_CREDENTIALS=new nr("google-credentials-uid"),nr.FIRST_PARTY=new nr("first-party-uid"),nr.MOCK_USER=new nr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cf="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=new Ay("@firebase/firestore");function uc(){return Ql.logLevel}function we(t,...e){if(Ql.logLevel<=We.DEBUG){const n=e.map(tT);Ql.debug(`Firestore (${cf}): ${t}`,...n)}}function pa(t,...e){if(Ql.logLevel<=We.ERROR){const n=e.map(tT);Ql.error(`Firestore (${cf}): ${t}`,...n)}}function Mc(t,...e){if(Ql.logLevel<=We.WARN){const n=e.map(tT);Ql.warn(`Firestore (${cf}): ${t}`,...n)}}function tT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,w4(t,r,n)}function w4(t,e,n){let r=`FIRESTORE (${cf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw pa(r),new Error(r)}function ht(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||w4(e,i,r)}function Le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Aa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(nr.UNAUTHENTICATED)))}shutdown(){}}class pK{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class gK{constructor(e){this.t=e,this.currentUser=nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ht(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new Oo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Oo,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},c=f=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Oo)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht(typeof r.accessToken=="string",31837,{l:r}),new E4(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new nr(e)}}class vK{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=nr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yK{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new vK(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(nr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class s2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _K{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ui(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ht(this.o===void 0,3512);const r=a=>{a.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,we("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new s2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new s2(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=bK(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function et(t,e){return t<e?-1:t>e?1:0}function $E(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return sw(i)===sw(a)?et(i,a):sw(i)?1:-1}return et(t.length,e.length)}const wK=55296,EK=57343;function sw(t){const e=t.charCodeAt(0);return e>=wK&&e<=EK}function Dc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="__name__";class ps{constructor(e,n,r){n===void 0?n=0:n>e.length&&Pe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Pe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ps.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ps?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=ps.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return et(e.length,n.length)}static compareSegments(e,n){const r=ps.isNumericId(e),i=ps.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ps.extractNumericId(e).compare(ps.extractNumericId(n)):$E(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return No.fromString(e.substring(4,e.length-2))}}class Ot extends ps{construct(e,n,r){return new Ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Ot(n)}static emptyPath(){return new Ot([])}}const xK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wn extends ps{construct(e,n,r){return new Wn(e,n,r)}static isValidIdentifier(e){return xK.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a2}static keyField(){return new Wn([a2])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new be(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new be(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new be(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new be(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wn(n)}static emptyPath(){return new Wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(Ot.fromString(e))}static fromName(e){return new Ce(Ot.fromString(e).popFirst(5))}static empty(){return new Ce(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new Ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(t,e,n){if(!n)throw new be(fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function TK(t,e,n,r){if(e===!0&&r===!0)throw new be(fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function o2(t){if(!Ce.isDocumentKey(t))throw new be(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function l2(t){if(Ce.isDocumentKey(t))throw new be(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function T4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Fy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe(12329,{type:typeof t})}function Xl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fy(t);throw new be(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Qd(t,e){if(!T4(t))throw new be(fe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new be(fe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=-62135596800,c2=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*c2);return new vt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<u2)throw new be(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c2}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qd(e,vt._jsonSchema))return new vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-u2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vt._jsonSchemaVersion="firestore/timestamp/1.0",vt._jsonSchema={type:pn("string",vt._jsonSchemaVersion),seconds:pn("number"),nanoseconds:pn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new vt(0,0))}static max(){return new Me(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=-1;function SK(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Me.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new Uo(i,Ce.empty(),e)}function AK(t){return new Uo(t.readTime,t.key,gd)}class Uo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Uo(Me.min(),Ce.empty(),gd)}static max(){return new Uo(Me.max(),Ce.empty(),gd)}}function CK(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ff(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==IK)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):he.reject(n)}static resolve(e){return new he(((n,r)=>{n(e)}))}static reject(e){return new he(((n,r)=>{r(e)}))}static waitFor(e){return new he(((n,r)=>{let i=0,a=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++a,l&&a===i&&n()}),(f=>r(f)))})),l=!0,a===i&&n()}))}static or(e){let n=he.resolve(!1);for(const r of e)n=n.next((i=>i?he.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new he(((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let f=0;f<a;f++){const h=f;n(e[h]).next((m=>{l[h]=m,++c,c===a&&r(l)}),(m=>i(m)))}}))}static doWhile(e,n){return new he(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function NK(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qy.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=-1;function Hy(t){return t==null}function yv(t){return t===0&&1/t==-1/0}function OK(t){return typeof t=="number"&&Number.isInteger(t)&&!yv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4="";function PK(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=f2(e)),e=kK(t.get(n),e);return f2(e)}function kK(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case S4:n+="";break;default:n+=a}}return n}function f2(t){return t+S4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function A4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){this.comparator=e,this.root=n||Kn.EMPTY}insert(e,n){return new Bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kn.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lg(this.root,e,this.comparator,!1)}getReverseIterator(){return new lg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lg(this.root,e,this.comparator,!0)}}class lg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Kn.RED,this.left=i??Kn.EMPTY,this.right=a??Kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Kn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Kn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}Kn.EMPTY=null,Kn.RED=!0,Kn.BLACK=!1;Kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new d2(this.data.getIterator())}getIteratorFrom(e){return new d2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Tn(this.comparator);return n.data=e,n}}class d2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this.fields=e,e.sort(Wn.comparator)}static empty(){return new Vi([])}unionWith(e){let n=new Tn(Wn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Dc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new C4("Invalid base64 string: "+a):a}})(e);return new Qn(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new Qn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qn.EMPTY_BYTE_STRING=new Qn("");const MK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zo(t){if(ht(!!t,39018),typeof t=="string"){let e=0;const n=MK.exec(t);if(ht(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jt(t.seconds),nanos:Jt(t.nanos)}}function Jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bo(t){return typeof t=="string"?Qn.fromBase64String(t):Qn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="server_timestamp",R4="__type__",N4="__previous_value__",O4="__local_write_time__";function iT(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[R4])==null?void 0:r.stringValue)===I4}function $y(t){const e=t.mapValue.fields[N4];return iT(e)?$y(e):e}function vd(t){const e=zo(t.mapValue.fields[O4].timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK{constructor(e,n,r,i,a,l,c,f,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=m}}const _v="(default)";class yd{constructor(e,n){this.projectId=e,this.database=n||_v}static empty(){return new yd("","")}get isDefaultDatabase(){return this.database===_v}isEqual(e){return e instanceof yd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4="__type__",LK="__max__",ug={mapValue:{}},k4="__vector__",bv="value";function Fo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?iT(t)?4:VK(t)?9007199254740991:jK(t)?10:11:Pe(28295,{value:t})}function Cs(t,e){if(t===e)return!0;const n=Fo(t);if(n!==Fo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vd(t).isEqual(vd(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=zo(i.timestampValue),c=zo(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Bo(i.bytesValue).isEqual(Bo(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Jt(i.geoPointValue.latitude)===Jt(a.geoPointValue.latitude)&&Jt(i.geoPointValue.longitude)===Jt(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Jt(i.integerValue)===Jt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Jt(i.doubleValue),c=Jt(a.doubleValue);return l===c?yv(l)===yv(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return Dc(t.arrayValue.values||[],e.arrayValue.values||[],Cs);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(h2(l)!==h2(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!Cs(l[f],c[f])))return!1;return!0})(t,e);default:return Pe(52216,{left:t})}}function _d(t,e){return(t.values||[]).find((n=>Cs(n,e)))!==void 0}function Lc(t,e){if(t===e)return 0;const n=Fo(t),r=Fo(e);if(n!==r)return et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const c=Jt(a.integerValue||a.doubleValue),f=Jt(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(t,e);case 3:return m2(t.timestampValue,e.timestampValue);case 4:return m2(vd(t),vd(e));case 5:return $E(t.stringValue,e.stringValue);case 6:return(function(a,l){const c=Bo(a),f=Bo(l);return c.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const c=a.split("/"),f=l.split("/");for(let h=0;h<c.length&&h<f.length;h++){const m=et(c[h],f[h]);if(m!==0)return m}return et(c.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const c=et(Jt(a.latitude),Jt(l.latitude));return c!==0?c:et(Jt(a.longitude),Jt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return p2(t.arrayValue,e.arrayValue);case 10:return(function(a,l){var y,b,w,x;const c=a.fields||{},f=l.fields||{},h=(y=c[bv])==null?void 0:y.arrayValue,m=(b=f[bv])==null?void 0:b.arrayValue,p=et(((w=h==null?void 0:h.values)==null?void 0:w.length)||0,((x=m==null?void 0:m.values)==null?void 0:x.length)||0);return p!==0?p:p2(h,m)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===ug.mapValue&&l===ug.mapValue)return 0;if(a===ug.mapValue)return 1;if(l===ug.mapValue)return-1;const c=a.fields||{},f=Object.keys(c),h=l.fields||{},m=Object.keys(h);f.sort(),m.sort();for(let p=0;p<f.length&&p<m.length;++p){const y=$E(f[p],m[p]);if(y!==0)return y;const b=Lc(c[f[p]],h[m[p]]);if(b!==0)return b}return et(f.length,m.length)})(t.mapValue,e.mapValue);default:throw Pe(23264,{he:n})}}function m2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=zo(t),r=zo(e),i=et(n.seconds,r.seconds);return i!==0?i:et(n.nanos,r.nanos)}function p2(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Lc(n[i],r[i]);if(a)return a}return et(n.length,r.length)}function jc(t){return GE(t)}function GE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=zo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Bo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ce.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=GE(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${GE(n.fields[l])}`;return i+"}"})(t.mapValue):Pe(61005,{value:t})}function Lg(t){switch(Fo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$y(t);return e?16+Lg(e):16;case 5:return 2*t.stringValue.length;case 6:return Bo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Lg(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return lu(r.fields,((a,l)=>{i+=a.length+Lg(l)})),i})(t.mapValue);default:throw Pe(13486,{value:t})}}function g2(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function KE(t){return!!t&&"integerValue"in t}function sT(t){return!!t&&"arrayValue"in t}function v2(t){return!!t&&"nullValue"in t}function y2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jg(t){return!!t&&"mapValue"in t}function jK(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[P4])==null?void 0:r.stringValue)===k4}function Xh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return lu(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Xh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xh(t.arrayValue.values[n]);return e}return{...t}}function VK(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===LK}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.value=e}static empty(){return new ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xh(n)}setAll(e){let n=Wn.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=Xh(l):i.push(c.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());jg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];jg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){lu(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new ci(Xh(this.value))}}function M4(t){const e=[];return lu(t.fields,((n,r)=>{const i=new Wn([n]);if(jg(r)){const a=M4(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new Vi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n,r,i,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new ir(e,0,Me.min(),Me.min(),Me.min(),ci.empty(),0)}static newFoundDocument(e,n,r,i){return new ir(e,1,n,Me.min(),r,i,0)}static newNoDocument(e,n){return new ir(e,2,n,Me.min(),Me.min(),ci.empty(),0)}static newUnknownDocument(e,n){return new ir(e,3,n,Me.min(),Me.min(),ci.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ir&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ir(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,n){this.position=e,this.inclusive=n}}function _2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=Ce.comparator(Ce.fromName(l.referenceValue),n.key):r=Lc(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function b2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n="asc"){this.field=e,this.dir=n}}function UK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{}class mn extends D4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new BK(e,n,r):n==="array-contains"?new HK(e,r):n==="in"?new $K(e,r):n==="not-in"?new GK(e,r):n==="array-contains-any"?new KK(e,r):new mn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new FK(e,r):new qK(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Lc(n,this.value)):n!==null&&Fo(this.value)===Fo(n)&&this.matchesComparison(Lc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qi extends D4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new qi(e,n)}matches(e){return L4(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function L4(t){return t.op==="and"}function j4(t){return zK(t)&&L4(t)}function zK(t){for(const e of t.filters)if(e instanceof qi)return!1;return!0}function YE(t){if(t instanceof mn)return t.field.canonicalString()+t.op.toString()+jc(t.value);if(j4(t))return t.filters.map((e=>YE(e))).join(",");{const e=t.filters.map((n=>YE(n))).join(",");return`${t.op}(${e})`}}function V4(t,e){return t instanceof mn?(function(r,i){return i instanceof mn&&r.op===i.op&&r.field.isEqual(i.field)&&Cs(r.value,i.value)})(t,e):t instanceof qi?(function(r,i){return i instanceof qi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,c)=>a&&V4(l,i.filters[c])),!0):!1})(t,e):void Pe(19439)}function U4(t){return t instanceof mn?(function(n){return`${n.field.canonicalString()} ${n.op} ${jc(n.value)}`})(t):t instanceof qi?(function(n){return n.op.toString()+" {"+n.getFilters().map(U4).join(" ,")+"}"})(t):"Filter"}class BK extends mn{constructor(e,n,r){super(e,n,r),this.key=Ce.fromName(r.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class FK extends mn{constructor(e,n){super(e,"in",n),this.keys=z4("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class qK extends mn{constructor(e,n){super(e,"not-in",n),this.keys=z4("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function z4(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Ce.fromName(r.referenceValue)))}class HK extends mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sT(n)&&_d(n.arrayValue,this.value)}}class $K extends mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_d(this.value.arrayValue,n)}}class GK extends mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(_d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_d(this.value.arrayValue,n)}}class KK extends mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sT(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>_d(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YK{constructor(e,n=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.Te=null}}function w2(t,e=null,n=[],r=[],i=null,a=null,l=null){return new YK(t,e,n,r,i,a,l)}function aT(t){const e=Le(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>YE(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Hy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>jc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>jc(r))).join(",")),e.Te=n}return e.Te}function oT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!UK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!V4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!b2(t.startAt,e.startAt)&&b2(t.endAt,e.endAt)}function WE(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n=null,r=[],i=[],a=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function WK(t,e,n,r,i,a,l,c){return new df(t,e,n,r,i,a,l,c)}function B4(t){return new df(t)}function E2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function F4(t){return t.collectionGroup!==null}function Zh(t){const e=Le(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Tn(Wn.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new bd(a,r))})),n.has(Wn.keyField().canonicalString())||e.Ie.push(new bd(Wn.keyField(),r))}return e.Ie}function ws(t){const e=Le(t);return e.Ee||(e.Ee=QK(e,Zh(t))),e.Ee}function QK(t,e){if(t.limitType==="F")return w2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new bd(i.field,a)}));const n=t.endAt?new wv(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new wv(t.startAt.position,t.startAt.inclusive):null;return w2(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function QE(t,e){const n=t.filters.concat([e]);return new df(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function XE(t,e,n){return new df(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gy(t,e){return oT(ws(t),ws(e))&&t.limitType===e.limitType}function q4(t){return`${aT(ws(t))}|lt:${t.limitType}`}function cc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>U4(i))).join(", ")}]`),Hy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>jc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>jc(i))).join(",")),`Target(${r})`})(ws(t))}; limitType=${t.limitType})`}function Ky(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ce.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Zh(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,f){const h=_2(l,c,f);return l.inclusive?h<=0:h<0})(r.startAt,Zh(r),i)||r.endAt&&!(function(l,c,f){const h=_2(l,c,f);return l.inclusive?h>=0:h>0})(r.endAt,Zh(r),i))})(t,e)}function XK(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function H4(t){return(e,n)=>{let r=!1;for(const i of Zh(t)){const a=ZK(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function ZK(t,e,n){const r=t.field.isKeyField()?Ce.comparator(e.key,n.key):(function(a,l,c){const f=l.data.field(a),h=c.data.field(a);return f!==null&&h!==null?Lc(f,h):Pe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Pe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){lu(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return A4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JK=new Bt(Ce.comparator);function ga(){return JK}const $4=new Bt(Ce.comparator);function zh(...t){let e=$4;for(const n of t)e=e.insert(n.key,n);return e}function G4(t){let e=$4;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Vl(){return Jh()}function K4(){return Jh()}function Jh(){return new uu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const eY=new Bt(Ce.comparator),tY=new Tn(Ce.comparator);function tt(...t){let e=tY;for(const n of t)e=e.add(n);return e}const nY=new Tn(et);function rY(){return nY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yv(e)?"-0":e}}function Y4(t){return{integerValue:""+t}}function iY(t,e){return OK(e)?Y4(e):lT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(){this._=void 0}}function sY(t,e,n){return t instanceof Ev?(function(i,a){const l={fields:{[R4]:{stringValue:I4},[O4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&iT(a)&&(a=$y(a)),a&&(l.fields[N4]=a),{mapValue:l}})(n,e):t instanceof wd?Q4(t,e):t instanceof Ed?X4(t,e):(function(i,a){const l=W4(i,a),c=x2(l)+x2(i.Ae);return KE(l)&&KE(i.Ae)?Y4(c):lT(i.serializer,c)})(t,e)}function aY(t,e,n){return t instanceof wd?Q4(t,e):t instanceof Ed?X4(t,e):n}function W4(t,e){return t instanceof xv?(function(r){return KE(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Ev extends Yy{}class wd extends Yy{constructor(e){super(),this.elements=e}}function Q4(t,e){const n=Z4(e);for(const r of t.elements)n.some((i=>Cs(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Ed extends Yy{constructor(e){super(),this.elements=e}}function X4(t,e){let n=Z4(e);for(const r of t.elements)n=n.filter((i=>!Cs(i,r)));return{arrayValue:{values:n}}}class xv extends Yy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function x2(t){return Jt(t.integerValue||t.doubleValue)}function Z4(t){return sT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function oY(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof wd&&i instanceof wd||r instanceof Ed&&i instanceof Ed?Dc(r.elements,i.elements,Cs):r instanceof xv&&i instanceof xv?Cs(r.Ae,i.Ae):r instanceof Ev&&i instanceof Ev})(t.transform,e.transform)}class lY{constructor(e,n){this.version=e,this.transformResults=n}}class zi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zi}static exists(e){return new zi(void 0,e)}static updateTime(e){return new zi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wy{}function J4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new uT(t.key,zi.none()):new Xd(t.key,t.data,zi.none());{const n=t.data,r=ci.empty();let i=new Tn(Wn.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new cu(t.key,r,new Vi(i.toArray()),zi.none())}}function uY(t,e,n){t instanceof Xd?(function(i,a,l){const c=i.value.clone(),f=S2(i.fieldTransforms,a,l.transformResults);c.setAll(f),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof cu?(function(i,a,l){if(!Vg(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=S2(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(ej(i)),f.setAll(c),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function ed(t,e,n,r){return t instanceof Xd?(function(a,l,c,f){if(!Vg(a.precondition,l))return c;const h=a.value.clone(),m=A2(a.fieldTransforms,f,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof cu?(function(a,l,c,f){if(!Vg(a.precondition,l))return c;const h=A2(a.fieldTransforms,f,l),m=l.data;return m.setAll(ej(a)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(a,l,c){return Vg(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function cY(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=W4(r.transform,i||null);a!=null&&(n===null&&(n=ci.empty()),n.set(r.field,a))}return n||null}function T2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Dc(r,i,((a,l)=>oY(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xd extends Wy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class cu extends Wy{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function ej(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function S2(t,e,n){const r=new Map;ht(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,aY(l,c,n[i]))}return r}function A2(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,sY(a,l,e))}return r}class uT extends Wy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fY extends Wy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&uY(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ed(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ed(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=K4();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(i.key)?null:c;const f=J4(l,c);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(Me.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),tt())}isEqual(e){return this.batchId===e.batchId&&Dc(this.mutations,e.mutations,((n,r)=>T2(n,r)))&&Dc(this.baseMutations,e.baseMutations,((n,r)=>T2(n,r)))}}class cT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ht(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return eY})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new cT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dY{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mY{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn,it;function pY(t){switch(t){case fe.OK:return Pe(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return Pe(15467,{code:t})}}function tj(t){if(t===void 0)return pa("GRPC error has no .code"),fe.UNKNOWN;switch(t){case hn.OK:return fe.OK;case hn.CANCELLED:return fe.CANCELLED;case hn.UNKNOWN:return fe.UNKNOWN;case hn.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case hn.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case hn.INTERNAL:return fe.INTERNAL;case hn.UNAVAILABLE:return fe.UNAVAILABLE;case hn.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case hn.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case hn.NOT_FOUND:return fe.NOT_FOUND;case hn.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case hn.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case hn.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case hn.ABORTED:return fe.ABORTED;case hn.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case hn.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case hn.DATA_LOSS:return fe.DATA_LOSS;default:return Pe(39323,{code:t})}}(it=hn||(hn={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gY(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vY=new No([4294967295,4294967295],0);function C2(t){const e=gY().encode(t),n=new p4;return n.update(e),new Uint8Array(n.digest())}function I2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new No([n,r],0),new No([i,a],0)]}class fT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bh(`Invalid padding: ${n}`);if(r<0)throw new Bh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Bh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=No.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(No.fromNumber(r)));return i.compare(vY)===1&&(i=new No([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=C2(e),[r,i]=I2(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new fT(a,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=C2(e),[r,i]=I2(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Bh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Zd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Qy(Me.min(),i,new Bt(et),ga(),tt())}}class Zd{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zd(r,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class nj{constructor(e,n){this.targetId=e,this.Ce=n}}class rj{constructor(e,n,r=Qn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class R2{constructor(){this.ve=0,this.Fe=N2(),this.Me=Qn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=tt(),n=tt(),r=tt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Pe(38017,{changeType:a})}})),new Zd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=N2()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yY{constructor(e){this.Ge=e,this.ze=new Map,this.je=ga(),this.Je=cg(),this.He=cg(),this.Ye=new Bt(et)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Pe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(WE(a))if(r===0){const l=new Ce(a.path);this.et(n,l,ir.newNoDocument(l,Me.min()))}else ht(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),f=c?this.ct(c,e,l):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,c;try{l=Bo(r).toUint8Array()}catch(f){if(f instanceof C4)return Mc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new fT(l,i,a)}catch(f){return Mc(f instanceof Bh?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const c=this.ot(l);if(c){if(a.current&&WE(c.target)){const f=new Ce(c.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,ir.newNoDocument(f,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=tt();this.He.forEach(((a,l)=>{let c=!0;l.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new Qy(e,n,this.Ye,this.je,r);return this.je=ga(),this.Je=cg(),this.He=cg(),this.Ye=new Bt(et),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new R2,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Tn(et),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Tn(et),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new R2),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function cg(){return new Bt(Ce.comparator)}function N2(){return new Bt(Ce.comparator)}const _Y={asc:"ASCENDING",desc:"DESCENDING"},bY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wY={and:"AND",or:"OR"};class EY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ZE(t,e){return t.useProto3Json||Hy(e)?e:{value:e}}function Tv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ij(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xY(t,e){return Tv(t,e.toTimestamp())}function Es(t){return ht(!!t,49232),Me.fromTimestamp((function(n){const r=zo(n);return new vt(r.seconds,r.nanos)})(t))}function hT(t,e){return JE(t,e).canonicalString()}function JE(t,e){const n=(function(i){return new Ot(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function sj(t){const e=Ot.fromString(t);return ht(cj(e),10190,{key:e.toString()}),e}function e1(t,e){return hT(t.databaseId,e.path)}function aw(t,e){const n=sj(e);if(n.get(1)!==t.databaseId.projectId)throw new be(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(oj(n))}function aj(t,e){return hT(t.databaseId,e)}function TY(t){const e=sj(t);return e.length===4?Ot.emptyPath():oj(e)}function t1(t){return new Ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oj(t){return ht(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function O2(t,e,n){return{name:e1(t,e),fields:n.value.mapValue.fields}}function SY(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Pe(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(h,m){return h.useProto3Json?(ht(m===void 0||typeof m=="string",58123),Qn.fromBase64String(m||"")):(ht(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Qn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(h){const m=h.code===void 0?fe.UNKNOWN:tj(h.code);return new be(m,h.message||"")})(l);n=new rj(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=aw(t,r.document.name),a=Es(r.document.updateTime),l=r.document.createTime?Es(r.document.createTime):Me.min(),c=new ci({mapValue:{fields:r.document.fields}}),f=ir.newFoundDocument(i,a,l,c),h=r.targetIds||[],m=r.removedTargetIds||[];n=new Ug(h,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=aw(t,r.document),a=r.readTime?Es(r.readTime):Me.min(),l=ir.newNoDocument(i,a),c=r.removedTargetIds||[];n=new Ug([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=aw(t,r.document),a=r.removedTargetIds||[];n=new Ug([],a,i,null)}else{if(!("filter"in e))return Pe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new mY(i,a),c=r.targetId;n=new nj(c,l)}}return n}function AY(t,e){let n;if(e instanceof Xd)n={update:O2(t,e.key,e.value)};else if(e instanceof uT)n={delete:e1(t,e.key)};else if(e instanceof cu)n={update:O2(t,e.key,e.data),updateMask:DY(e.fieldMask)};else{if(!(e instanceof fY))return Pe(16599,{Vt:e.type});n={verify:e1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const c=l.transform;if(c instanceof Ev)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof wd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ed)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof xv)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Pe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:xY(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Pe(27497)})(t,e.precondition)),n}function CY(t,e){return t&&t.length>0?(ht(e!==void 0,14353),t.map((n=>(function(i,a){let l=i.updateTime?Es(i.updateTime):Es(a);return l.isEqual(Me.min())&&(l=Es(a)),new lY(l,i.transformResults||[])})(n,e)))):[]}function IY(t,e){return{documents:[aj(t,e.path)]}}function RY(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=aj(t,i);const a=(function(h){if(h.length!==0)return uj(qi.create(h,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(h){if(h.length!==0)return h.map((m=>(function(y){return{field:fc(y.field),direction:PY(y.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=ZE(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function NY(t){let e=TY(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ht(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=(function(p){const y=lj(p);return y instanceof qi&&j4(y)?y.getFilters():[y]})(n.where));let l=[];n.orderBy&&(l=(function(p){return p.map((y=>(function(w){return new bd(hc(w.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(y)))})(n.orderBy));let c=null;n.limit&&(c=(function(p){let y;return y=typeof p=="object"?p.value:p,Hy(y)?null:y})(n.limit));let f=null;n.startAt&&(f=(function(p){const y=!!p.before,b=p.values||[];return new wv(b,y)})(n.startAt));let h=null;return n.endAt&&(h=(function(p){const y=!p.before,b=p.values||[];return new wv(b,y)})(n.endAt)),WK(e,i,l,a,c,"F",f,h)}function OY(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lj(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=hc(n.unaryFilter.field);return mn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=hc(n.unaryFilter.field);return mn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=hc(n.unaryFilter.field);return mn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=hc(n.unaryFilter.field);return mn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return mn.create(hc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return qi.create(n.compositeFilter.filters.map((r=>lj(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}})(n.compositeFilter.op))})(t):Pe(30097,{filter:t})}function PY(t){return _Y[t]}function kY(t){return bY[t]}function MY(t){return wY[t]}function fc(t){return{fieldPath:t.canonicalString()}}function hc(t){return Wn.fromServerFormat(t.fieldPath)}function uj(t){return t instanceof mn?(function(n){if(n.op==="=="){if(y2(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NAN"}};if(v2(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(y2(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NOT_NAN"}};if(v2(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fc(n.field),op:kY(n.op),value:n.value}}})(t):t instanceof qi?(function(n){const r=n.getFilters().map((i=>uj(i)));return r.length===1?r[0]:{compositeFilter:{op:MY(n.op),filters:r}}})(t):Pe(54877,{filter:t})}function DY(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function cj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n,r,i,a=Me.min(),l=Me.min(),c=Qn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new To(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new To(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new To(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new To(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LY{constructor(e){this.yt=e}}function jY(t){const e=NY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?XE(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VY{constructor(){this.Cn=new UY}addToCollectionParentIndex(e,n){return this.Cn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(Uo.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(Uo.min())}updateCollectionGroup(e,n,r){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class UY{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Tn(Ot.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Tn(Ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fj=41943040;class Tr{static withCacheSize(e){return new Tr(e,Tr.DEFAULT_COLLECTION_PERCENTILE,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tr.DEFAULT_COLLECTION_PERCENTILE=10,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tr.DEFAULT=new Tr(fj,Tr.DEFAULT_COLLECTION_PERCENTILE,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tr.DISABLED=new Tr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Vc(0)}static cr(){return new Vc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="LruGarbageCollector",zY=1048576;function M2([t,e],[n,r]){const i=et(t,n);return i===0?et(e,r):i}class BY{constructor(e){this.Ir=e,this.buffer=new Tn(M2),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();M2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class FY{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){we(k2,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){hf(n)?we(k2,"Ignoring IndexedDB error during garbage collection: ",n):await ff(n)}await this.Vr(3e5)}))}}class qY{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return he.resolve(qy.ce);const r=new BY(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(P2)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),P2):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,l,c,f,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,l=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,c=Date.now(),this.removeTargets(e,r,n)))).next((p=>(a=p,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(h=Date.now(),uc()<=We.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(f-c)+`ms
	Removed ${p} documents in `+(h-f)+`ms
Total Duration: ${h-m}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function HY(t,e){return new qY(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Y{constructor(){this.changes=new uu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ir.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?he.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KY{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&ed(r.mutation,i,Vi.empty(),vt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,tt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=tt()){const i=Vl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=zh();return a.forEach(((c,f)=>{l=l.insert(c,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Vl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,tt())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let a=ga();const l=Jh(),c=(function(){return Jh()})();return n.forEach(((f,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof cu)?a=a.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),ed(m.mutation,h,m.mutation.getFieldMask(),vt.now())):l.set(h.key,Vi.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((h,m)=>l.set(h,m))),n.forEach(((h,m)=>c.set(h,new GY(m,l.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Jh();let i=new Bt(((l,c)=>l-c)),a=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let m=r.get(f)||Vi.empty();m=c.applyToLocalView(h,m),r.set(f,m);const p=(i.get(c.batchId)||tt()).add(f);i=i.insert(c.batchId,p)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),h=f.key,m=f.value,p=K4();m.forEach((y=>{if(!a.has(y)){const b=J4(n.get(y),r.get(y));b!==null&&p.set(y,b),a=a.add(y)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,p))}return he.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Ce.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):F4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):he.resolve(Vl());let c=gd,f=a;return l.next((h=>he.forEach(h,((m,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),a.get(m)?he.resolve():this.remoteDocumentCache.getEntry(e,m).next((y=>{f=f.insert(m,y)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,f,h,tt()))).next((m=>({batchId:c,changes:G4(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next((r=>{let i=zh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=zh();return this.indexManager.getCollectionParents(e,a).next((c=>he.forEach(c,(f=>{const h=(function(p,y){return new df(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((m=>{m.forEach(((p,y)=>{l=l.insert(p,y)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((f,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,ir.newInvalidDocument(m)))}));let c=zh();return l.forEach(((f,h)=>{const m=a.get(f);m!==void 0&&ed(m.mutation,h,Vi.empty(),vt.now()),Ky(n,h)&&(c=c.insert(f,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YY{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return he.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Es(i.createTime)}})(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:jY(i.bundledQuery),readTime:Es(i.readTime)}})(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WY{constructor(){this.overlays=new Bt(Ce.comparator),this.qr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vl();return he.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),he.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),he.resolve()}getOverlaysForCollection(e,n,r){const i=Vl(),a=n.length+1,l=new Ce(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return he.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Bt(((h,m)=>h-m));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=a.get(h.largestBatchId);m===null&&(m=Vl(),a=a.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const c=Vl(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,m)=>c.set(h,m))),!(c.size()>=i)););return he.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new dY(n,r));let a=this.qr.get(n);a===void 0&&(a=tt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QY{constructor(){this.sessionToken=Qn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.Qr=new Tn(Mn.$r),this.Ur=new Tn(Mn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Mn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Mn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ce(new Ot([])),r=new Mn(n,e),i=new Mn(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ce(new Ot([])),r=new Mn(n,e),i=new Mn(n,e+1);let a=tt();return this.Ur.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new Mn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Mn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ce.comparator(e.key,n.key)||et(e.Yr,n.Yr)}static Kr(e,n){return et(e.Yr,n.Yr)||Ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Tn(Mn.$r)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new hY(a,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new Mn(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return he.resolve(l)}lookupMutationBatch(e,n){return he.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return he.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?rT:this.tr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mn(n,0),i=new Mn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);a.push(c)})),he.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tn(et);return n.forEach((i=>{const a=new Mn(i,0),l=new Mn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(c=>{r=r.add(c.Yr)}))})),he.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Ce.isDocumentKey(a)||(a=a.child(""));const l=new Mn(new Ce(a),0);let c=new Tn(et);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(f.Yr)),!0)}),l),he.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){ht(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return he.forEach(n.mutations,(i=>{const a=new Mn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Mn(n,0),i=this.Zr.firstAfterOrEqual(r);return he.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZY{constructor(e){this.ri=e,this.docs=(function(){return new Bt(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return he.resolve(r?r.document.mutableCopy():ir.newInvalidDocument(n))}getEntries(e,n){let r=ga();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():ir.newInvalidDocument(i))})),he.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=ga();const l=n.path,c=new Ce(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:h,value:{document:m}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||CK(AK(m),r)<=0||(i.has(m.key)||Ky(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return he.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Pe(9500)}ii(e,n){return he.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new JY(this)}getSize(e){return he.resolve(this.size)}}class JY extends $Y{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),he.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eW{constructor(e){this.persistence=e,this.si=new uu((n=>aT(n)),oT),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.oi=0,this._i=new dT,this.targetCount=0,this.ai=Vc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),he.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Vc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.Pr(n),he.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),he.waitFor(a).next((()=>i))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return he.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),he.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),he.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return he.resolve(r)}containsKey(e,n){return he.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e,n){this.ui={},this.overlays={},this.ci=new qy(0),this.li=!1,this.li=!0,this.hi=new QY,this.referenceDelegate=e(this),this.Pi=new eW(this),this.indexManager=new VY,this.remoteDocumentCache=(function(i){return new ZY(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new LY(n),this.Ii=new YY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WY,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new XY(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const i=new tW(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return he.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class tW extends RK{constructor(e){super(),this.currentSequenceNumber=e}}class mT{constructor(e){this.persistence=e,this.Ri=new dT,this.Vi=null}static mi(e){return new mT(e)}get fi(){if(this.Vi)return this.Vi;throw Pe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),he.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),he.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.fi,(r=>{const i=Ce.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Me.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return he.or([()=>he.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Sv{constructor(e,n){this.persistence=e,this.pi=new uu((r=>PK(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=HY(this,n)}static mi(e,n){return new Sv(e,n)}Ei(){}di(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return he.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?he.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,a.removeEntry(l,Me.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Lg(e.data.value)),n}br(e,n,r){return he.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return he.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=tt(),i=tt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new pT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rW{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return EB()?8:NK(ar())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new nW;return this.Ss(e,n,l).next((c=>{if(a.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(uc()<=We.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",cc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),he.resolve()):(uc()<=We.DEBUG&&we("QueryEngine","Query:",cc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(uc()<=We.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",cc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ws(n))):he.resolve())}ys(e,n){if(E2(n))return he.resolve(null);let r=ws(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=XE(n,null,"F"),r=ws(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=tt(...a);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.Ds(n,c);return this.Cs(n,h,l,f.readTime)?this.ys(e,XE(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,r,i){return E2(n)||i.isEqual(Me.min())?he.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,i)?he.resolve(null):(uc()<=We.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cc(n)),this.vs(e,l,n,SK(i,gd)).next((c=>c)))}))}Ds(e,n){let r=new Tn(H4(e));return n.forEach(((i,a)=>{Ky(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return uc()<=We.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",cc(n)),this.ps.getDocumentsMatchingQuery(e,n,Uo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="LocalStore",iW=3e8;class sW{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Bt(et),this.xs=new uu((a=>aT(a)),oT),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KY(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function aW(t,e,n,r){return new sW(t,e,n,r)}async function dj(t,e){const n=Le(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],c=[];let f=tt();for(const h of i){l.push(h.batchId);for(const m of h.mutations)f=f.add(m.key)}for(const h of a){c.push(h.batchId);for(const m of h.mutations)f=f.add(m.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:c})))}))}))}function oW(t,e){const n=Le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,f,h,m){const p=h.batch,y=p.keys();let b=he.resolve();return y.forEach((w=>{b=b.next((()=>m.getEntry(f,w))).next((x=>{const C=h.docVersions.get(w);ht(C!==null,48541),x.version.compareTo(C)<0&&(p.applyToRemoteDocument(x,h),x.isValidDocument()&&(x.setReadTime(h.commitVersion),m.addEntry(x)))}))})),b.next((()=>c.mutationQueue.removeMutationBatch(f,p)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=tt();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(f=f.add(c.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function mj(t){const e=Le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function lW(t,e){const n=Le(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((m,p)=>{const y=i.get(p);if(!y)return;c.push(n.Pi.removeMatchingKeys(a,m.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(a,m.addedDocuments,p))));let b=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?b=b.withResumeToken(Qn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):m.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(m.resumeToken,r)),i=i.insert(p,b),(function(x,C,R){return x.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=iW?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0})(y,b,m)&&c.push(n.Pi.updateTargetData(a,b))}));let f=ga(),h=tt();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))})),c.push(uW(a,l,e.documentUpdates).next((m=>{f=m.ks,h=m.qs}))),!r.isEqual(Me.min())){const m=n.Pi.getLastRemoteSnapshotVersion(a).next((p=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(m)}return he.waitFor(c).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,h))).next((()=>f))})).then((a=>(n.Ms=i,a)))}function uW(t,e,n){let r=tt(),i=tt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=ga();return n.forEach(((c,f)=>{const h=a.get(c);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(Me.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):we(gT,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function cW(t,e){const n=Le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=rT),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function fW(t,e){const n=Le(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,he.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new To(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function n1(t,e,n){const r=Le(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!hf(l))throw l;we(gT,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function D2(t,e,n){const r=Le(t);let i=Me.min(),a=tt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,h,m){const p=Le(f),y=p.xs.get(m);return y!==void 0?he.resolve(p.Ms.get(y)):p.Pi.getTargetData(h,m)})(r,l,ws(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Me.min(),n?a:tt()))).next((c=>(hW(r,XK(e),c),{documents:c,Qs:a})))))}function hW(t,e,n){let r=t.Os.get(e)||Me.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class L2{constructor(){this.activeTargetIds=rY()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dW{constructor(){this.Mo=new L2,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new L2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="ConnectivityMonitor";class V2{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){we(j2,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){we(j2,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fg=null;function r1(){return fg===null?fg=(function(){return 268435456+Math.round(2147483648*Math.random())})():fg++,"0x"+fg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="RestConnection",pW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gW{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===_v?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const l=r1(),c=this.zo(e,n.toUriEncodedString());we(ow,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,a);const{host:h}=new URL(c),m=Wo(h);return this.Jo(e,c,f,r,m).then((p=>(we(ow,`Received RPC '${e}' ${l}: `,p),p)),(p=>{throw Mc(ow,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p}))}Ho(e,n,r,i,a,l){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+cf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=pW[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="WebChannelConnection";class yW extends gW{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const l=r1();return new Promise(((c,f)=>{const h=new g4;h.setWithCredentials(!0),h.listenOnce(v4.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Dg.NO_ERROR:const p=h.getResponseJson();we(er,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(p)),c(p);break;case Dg.TIMEOUT:we(er,`RPC '${e}' ${l} timed out`),f(new be(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Dg.HTTP_ERROR:const y=h.getStatus();if(we(er,`RPC '${e}' ${l} failed with status:`,y,"response text:",h.getResponseText()),y>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const w=b==null?void 0:b.error;if(w&&w.status&&w.message){const x=(function(R){const M=R.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(M)>=0?M:fe.UNKNOWN})(w.status);f(new be(x,w.message))}else f(new be(fe.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new be(fe.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{we(er,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);we(er,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=r1(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=b4(),c=_4(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const m=a.join("");we(er,`Creating RPC '${e}' stream ${i}: ${m}`,f);const p=l.createWebChannel(m,f);this.I_(p);let y=!1,b=!1;const w=new vW({Yo:C=>{b?we(er,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(y||(we(er,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),we(er,`RPC '${e}' stream ${i} sending:`,C),p.send(C))},Zo:()=>p.close()}),x=(C,R,M)=>{C.listen(R,(P=>{try{M(P)}catch(q){setTimeout((()=>{throw q}),0)}}))};return x(p,Uh.EventType.OPEN,(()=>{b||(we(er,`RPC '${e}' stream ${i} transport opened.`),w.o_())})),x(p,Uh.EventType.CLOSE,(()=>{b||(b=!0,we(er,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(p))})),x(p,Uh.EventType.ERROR,(C=>{b||(b=!0,Mc(er,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),w.a_(new be(fe.UNAVAILABLE,"The operation could not be completed")))})),x(p,Uh.EventType.MESSAGE,(C=>{var R;if(!b){const M=C.data[0];ht(!!M,16349);const P=M,q=(P==null?void 0:P.error)||((R=P[0])==null?void 0:R.error);if(q){we(er,`RPC '${e}' stream ${i} received error:`,q);const F=q.status;let $=(function(k){const V=hn[k];if(V!==void 0)return tj(V)})(F),O=q.message;$===void 0&&($=fe.INTERNAL,O="Unknown error status: "+F+" with message "+q.message),b=!0,w.a_(new be($,O)),p.close()}else we(er,`RPC '${e}' stream ${i} received:`,M),w.u_(M)}})),x(c,y4.STAT_EVENT,(C=>{C.stat===HE.PROXY?we(er,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===HE.NOPROXY&&we(er,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function lw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t){return new EY(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="PersistentStream";class gj{constructor(e,n,r,i,a,l,c,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pj(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(pa(n.toString()),pa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new be(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(U2,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(we(U2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _W extends gj{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=SY(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Me.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Me.min():l.readTime?Es(l.readTime):Me.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=t1(this.serializer),n.addTarget=(function(a,l){let c;const f=l.target;if(c=WE(f)?{documents:IY(a,f)}:{query:RY(a,f).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=ij(a,l.resumeToken);const h=ZE(a,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(Me.min())>0){c.readTime=Tv(a,l.snapshotVersion.toTimestamp());const h=ZE(a,l.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=OY(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=t1(this.serializer),n.removeTarget=e,this.q_(n)}}class bW extends gj{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=CY(e.writeResults,e.commitTime),r=Es(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=t1(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>AY(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wW{}class EW extends wW{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new be(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,JE(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new be(fe.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,JE(n,r),i,l,c,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new be(fe.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class xW{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pa(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl="RemoteStore";class TW{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{fu(this)&&(we(Zl,"Restarting streams for network reachability change."),await(async function(f){const h=Le(f);h.Ea.add(4),await Jd(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Zy(h)})(this))}))})),this.Ra=new xW(r,i)}}async function Zy(t){if(fu(t))for(const e of t.da)await e(!0)}async function Jd(t){for(const e of t.da)await e(!1)}function vj(t,e){const n=Le(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),bT(n)?_T(n):mf(n).O_()&&yT(n,e))}function vT(t,e){const n=Le(t),r=mf(n);n.Ia.delete(e),r.O_()&&yj(n,e),n.Ia.size===0&&(r.O_()?r.L_():fu(n)&&n.Ra.set("Unknown"))}function yT(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mf(t).Y_(e)}function yj(t,e){t.Va.Ue(e),mf(t).Z_(e)}function _T(t){t.Va=new yY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),mf(t).start(),t.Ra.ua()}function bT(t){return fu(t)&&!mf(t).x_()&&t.Ia.size>0}function fu(t){return Le(t).Ea.size===0}function _j(t){t.Va=void 0}async function SW(t){t.Ra.set("Online")}async function AW(t){t.Ia.forEach(((e,n)=>{yT(t,e)}))}async function CW(t,e){_j(t),bT(t)?(t.Ra.ha(e),_T(t)):t.Ra.set("Unknown")}async function IW(t,e,n){if(t.Ra.set("Online"),e instanceof rj&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const c of a.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){we(Zl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Av(t,r)}else if(e instanceof Ug?t.Va.Ze(e):e instanceof nj?t.Va.st(e):t.Va.tt(e),!n.isEqual(Me.min()))try{const r=await mj(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const c=a.Va.Tt(l);return c.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const m=a.Ia.get(h);m&&a.Ia.set(h,m.withResumeToken(f.resumeToken,l))}})),c.targetMismatches.forEach(((f,h)=>{const m=a.Ia.get(f);if(!m)return;a.Ia.set(f,m.withResumeToken(Qn.EMPTY_BYTE_STRING,m.snapshotVersion)),yj(a,f);const p=new To(m.target,f,h,m.sequenceNumber);yT(a,p)})),a.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){we(Zl,"Failed to raise snapshot:",r),await Av(t,r)}}async function Av(t,e,n){if(!hf(e))throw e;t.Ea.add(1),await Jd(t),t.Ra.set("Offline"),n||(n=()=>mj(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(Zl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Zy(t)}))}function bj(t,e){return e().catch((n=>Av(t,n,e)))}async function Jy(t){const e=Le(t),n=qo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:rT;for(;RW(e);)try{const i=await cW(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,NW(e,i)}catch(i){await Av(e,i)}wj(e)&&Ej(e)}function RW(t){return fu(t)&&t.Ta.length<10}function NW(t,e){t.Ta.push(e);const n=qo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function wj(t){return fu(t)&&!qo(t).x_()&&t.Ta.length>0}function Ej(t){qo(t).start()}async function OW(t){qo(t).ra()}async function PW(t){const e=qo(t);for(const n of t.Ta)e.ea(n.mutations)}async function kW(t,e,n){const r=t.Ta.shift(),i=cT.from(r,e,n);await bj(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Jy(t)}async function MW(t,e){e&&qo(t).X_&&await(async function(r,i){if((function(l){return pY(l)&&l!==fe.ABORTED})(i.code)){const a=r.Ta.shift();qo(r).B_(),await bj(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Jy(r)}})(t,e),wj(t)&&Ej(t)}async function z2(t,e){const n=Le(t);n.asyncQueue.verifyOperationInProgress(),we(Zl,"RemoteStore received new credentials");const r=fu(n);n.Ea.add(3),await Jd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Zy(n)}async function DW(t,e){const n=Le(t);e?(n.Ea.delete(2),await Zy(n)):e||(n.Ea.add(2),await Jd(n),n.Ra.set("Unknown"))}function mf(t){return t.ma||(t.ma=(function(n,r,i){const a=Le(n);return a.sa(),new _W(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:SW.bind(null,t),t_:AW.bind(null,t),r_:CW.bind(null,t),H_:IW.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),bT(t)?_T(t):t.Ra.set("Unknown")):(await t.ma.stop(),_j(t))}))),t.ma}function qo(t){return t.fa||(t.fa=(function(n,r,i){const a=Le(n);return a.sa(),new bW(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:OW.bind(null,t),r_:MW.bind(null,t),ta:PW.bind(null,t),na:kW.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Jy(t)):(await t.fa.stop(),t.Ta.length>0&&(we(Zl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Oo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,c=new wT(e,n,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ET(t,e){if(pa("AsyncQueue",`${e}: ${t}`),hf(t))return new be(fe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{static emptySet(e){return new Tc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ce.comparator(n.key,r.key):(n,r)=>Ce.comparator(n.key,r.key),this.keyedMap=zh(),this.sortedSet=new Bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Tc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(){this.ga=new Bt(Ce.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Pe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Uc{constructor(e,n,r,i,a,l,c,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new Uc(e,n,Tc.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class jW{constructor(){this.queries=F2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Le(n),a=i.queries;i.queries=F2(),a.forEach(((l,c)=>{for(const f of c.Sa)f.onError(r)}))})(this,new be(fe.ABORTED,"Firestore shutting down"))}}function F2(){return new uu((t=>q4(t)),Gy)}async function VW(t,e){const n=Le(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new LW,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=ET(l,`Initialization of query '${cc(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&xT(n)}async function UW(t,e){const n=Le(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zW(t,e){const n=Le(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&xT(n)}function BW(t,e,n){const r=Le(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function xT(t){t.Ca.forEach((e=>{e.next()}))}var i1,q2;(q2=i1||(i1={})).Ma="default",q2.Cache="cache";class FW{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Uc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Uc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==i1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e){this.key=e}}class Tj{constructor(e){this.key=e}}class qW{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=tt(),this.mutatedKeys=tt(),this.eu=H4(e),this.tu=new Tc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new B2,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,p)=>{const y=i.get(m),b=Ky(this.query,p)?p:null,w=!!y&&this.mutatedKeys.has(y.key),x=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let C=!1;y&&b?y.data.isEqual(b.data)?w!==x&&(r.track({type:3,doc:b}),C=!0):this.su(y,b)||(r.track({type:2,doc:b}),C=!0,(f&&this.eu(b,f)>0||h&&this.eu(b,h)<0)&&(c=!0)):!y&&b?(r.track({type:0,doc:b}),C=!0):y&&!b&&(r.track({type:1,doc:y}),C=!0,(f||h)&&(c=!0)),C&&(b?(l=l.add(b),a=x?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,p)=>(function(b,w){const x=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Rt:C})}};return x(b)-x(w)})(m.type,p.type)||this.eu(m.doc,p.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,h=f!==this.Za;return this.Za=f,l.length!==0||h?{snapshot:new Uc(this.query,e.tu,a,l,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new B2,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=tt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Tj(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new xj(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=tt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Uc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const TT="SyncEngine";class HW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $W{constructor(e){this.key=e,this.hu=!1}}class GW{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new uu((c=>q4(c)),Gy),this.Iu=new Map,this.Eu=new Set,this.du=new Bt(Ce.comparator),this.Au=new Map,this.Ru=new dT,this.Vu={},this.mu=new Map,this.fu=Vc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function KW(t,e,n=!0){const r=Nj(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await Sj(r,e,n,!0),i}async function YW(t,e){const n=Nj(t);await Sj(n,e,!0,!1)}async function Sj(t,e,n,r){const i=await fW(t.localStore,ws(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await WW(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&vj(t.remoteStore,i),c}async function WW(t,e,n,r,i){t.pu=(p,y,b)=>(async function(x,C,R,M){let P=C.view.ru(R);P.Cs&&(P=await D2(x.localStore,C.query,!1).then((({documents:O})=>C.view.ru(O,P))));const q=M&&M.targetChanges.get(C.targetId),F=M&&M.targetMismatches.get(C.targetId)!=null,$=C.view.applyChanges(P,x.isPrimaryClient,q,F);return $2(x,C.targetId,$.au),$.snapshot})(t,p,y,b);const a=await D2(t.localStore,e,!0),l=new qW(e,a.Qs),c=l.ru(a.documents),f=Zd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(c,t.isPrimaryClient,f);$2(t,n,h.au);const m=new HW(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function QW(t,e,n){const r=Le(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!Gy(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await n1(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&vT(r.remoteStore,i.targetId),s1(r,i.targetId)})).catch(ff)):(s1(r,i.targetId),await n1(r.localStore,i.targetId,!0))}async function XW(t,e){const n=Le(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vT(n.remoteStore,r.targetId))}async function ZW(t,e,n){const r=sQ(t);try{const i=await(function(l,c){const f=Le(l),h=vt.now(),m=c.reduce(((b,w)=>b.add(w.key)),tt());let p,y;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let w=ga(),x=tt();return f.Ns.getEntries(b,m).next((C=>{w=C,w.forEach(((R,M)=>{M.isValidDocument()||(x=x.add(R))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,w))).next((C=>{p=C;const R=[];for(const M of c){const P=cY(M,p.get(M.key).overlayedDocument);P!=null&&R.push(new cu(M.key,P,M4(P.value.mapValue),zi.exists(!0)))}return f.mutationQueue.addMutationBatch(b,h,R,c)})).next((C=>{y=C;const R=C.applyToLocalDocumentSet(p,x);return f.documentOverlayCache.saveOverlays(b,C.batchId,R)}))})).then((()=>({batchId:y.batchId,changes:G4(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,f){let h=l.Vu[l.currentUser.toKey()];h||(h=new Bt(et)),h=h.insert(c,f),l.Vu[l.currentUser.toKey()]=h})(r,i.batchId,n),await em(r,i.changes),await Jy(r.remoteStore)}catch(i){const a=ET(i,"Failed to persist write");n.reject(a)}}async function Aj(t,e){const n=Le(t);try{const r=await lW(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Au.get(a);l&&(ht(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?ht(l.hu,14607):i.removedDocuments.size>0&&(ht(l.hu,42227),l.hu=!1))})),await em(n,r,e)}catch(r){await ff(r)}}function H2(t,e,n){const r=Le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const f=Le(l);f.onlineState=c;let h=!1;f.queries.forEach(((m,p)=>{for(const y of p.Sa)y.va(c)&&(h=!0)})),h&&xT(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JW(t,e,n){const r=Le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new Bt(Ce.comparator);l=l.insert(a,ir.newNoDocument(a,Me.min()));const c=tt().add(a),f=new Qy(Me.min(),new Map,new Bt(et),l,c);await Aj(r,f),r.du=r.du.remove(a),r.Au.delete(e),ST(r)}else await n1(r.localStore,e,!1).then((()=>s1(r,e,n))).catch(ff)}async function eQ(t,e){const n=Le(t),r=e.batch.batchId;try{const i=await oW(n.localStore,e);Ij(n,r,null),Cj(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await em(n,i)}catch(i){await ff(i)}}async function tQ(t,e,n){const r=Le(t);try{const i=await(function(l,c){const f=Le(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let m;return f.mutationQueue.lookupMutationBatch(h,c).next((p=>(ht(p!==null,37113),m=p.keys(),f.mutationQueue.removeMutationBatch(h,p)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,m,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m))).next((()=>f.localDocuments.getDocuments(h,m)))}))})(r.localStore,e);Ij(r,e,n),Cj(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await em(r,i)}catch(i){await ff(i)}}function Cj(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Ij(t,e,n){const r=Le(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function s1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||Rj(t,r)}))}function Rj(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(vT(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ST(t))}function $2(t,e,n){for(const r of n)r instanceof xj?(t.Ru.addReference(r.key,e),nQ(t,r)):r instanceof Tj?(we(TT,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Rj(t,r.key)):Pe(19791,{wu:r})}function nQ(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(we(TT,"New document in limbo: "+n),t.Eu.add(r),ST(t))}function ST(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ce(Ot.fromString(e)),r=t.fu.next();t.Au.set(r,new $W(n)),t.du=t.du.insert(n,r),vj(t.remoteStore,new To(ws(B4(n.path)),r,"TargetPurposeLimboResolution",qy.ce))}}async function em(t,e,n){const r=Le(t),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{l.push(r.pu(f,e,n).then((h=>{var m;if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:(m=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(h){i.push(h);const p=pT.As(f.targetId,h);a.push(p)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(f,h){const m=Le(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>he.forEach(h,(y=>he.forEach(y.Es,(b=>m.persistence.referenceDelegate.addReference(p,y.targetId,b))).next((()=>he.forEach(y.ds,(b=>m.persistence.referenceDelegate.removeReference(p,y.targetId,b)))))))))}catch(p){if(!hf(p))throw p;we(gT,"Failed to update sequence numbers: "+p)}for(const p of h){const y=p.targetId;if(!p.fromCache){const b=m.Ms.get(y),w=b.snapshotVersion,x=b.withLastLimboFreeSnapshotVersion(w);m.Ms=m.Ms.insert(y,x)}}})(r.localStore,a))}async function rQ(t,e){const n=Le(t);if(!n.currentUser.isEqual(e)){we(TT,"User change. New user:",e.toKey());const r=await dj(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((c=>{c.forEach((f=>{f.reject(new be(fe.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await em(n,r.Ls)}}function iQ(t,e){const n=Le(t),r=n.Au.get(e);if(r&&r.hu)return tt().add(r.key);{let i=tt();const a=n.Iu.get(e);if(!a)return i;for(const l of a){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function Nj(t){const e=Le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Aj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JW.bind(null,e),e.Pu.H_=zW.bind(null,e.eventManager),e.Pu.yu=BW.bind(null,e.eventManager),e}function sQ(t){const e=Le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tQ.bind(null,e),e}class Cv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return aW(this.persistence,new rW,e.initialUser,this.serializer)}Cu(e){return new hj(mT.mi,this.serializer)}Du(e){return new dW}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cv.provider={build:()=>new Cv};class aQ extends Cv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ht(this.persistence.referenceDelegate instanceof Sv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FY(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Tr.withCacheSize(this.cacheSizeBytes):Tr.DEFAULT;return new hj((r=>Sv.mi(r,n)),this.serializer)}}class a1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>H2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rQ.bind(null,this.syncEngine),await DW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new jW})()}createDatastore(e){const n=Xy(e.databaseInfo.databaseId),r=(function(a){return new yW(a)})(e.databaseInfo);return(function(a,l,c,f){return new EW(a,l,c,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,c){return new TW(r,i,a,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>H2(this.syncEngine,n,0)),(function(){return V2.v()?new V2:new mW})())}createSyncEngine(e,n){return(function(i,a,l,c,f,h,m){const p=new GW(i,a,l,c,f,h);return m&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=Le(i);we(Zl,"RemoteStore shutting down."),a.Ea.add(5),await Jd(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}a1.provider={build:()=>new a1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="FirestoreClient";class lQ{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nr.UNAUTHENTICATED,this.clientId=nT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{we(Ho,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(we(Ho,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ET(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function uw(t,e){t.asyncQueue.verifyOperationInProgress(),we(Ho,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await dj(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function G2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await uQ(t);we(Ho,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>z2(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>z2(e.remoteStore,i))),t._onlineComponents=e}async function uQ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(Ho,"Using user provided OfflineComponentProvider");try{await uw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===fe.FAILED_PRECONDITION||i.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Mc("Error using user provided cache. Falling back to memory cache: "+n),await uw(t,new Cv)}}else we(Ho,"Using default OfflineComponentProvider"),await uw(t,new aQ(void 0));return t._offlineComponents}async function Oj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(Ho,"Using user provided OnlineComponentProvider"),await G2(t,t._uninitializedComponentsProvider._online)):(we(Ho,"Using default OnlineComponentProvider"),await G2(t,new a1))),t._onlineComponents}function cQ(t){return Oj(t).then((e=>e.syncEngine))}async function fQ(t){const e=await Oj(t),n=e.eventManager;return n.onListen=KW.bind(null,e.syncEngine),n.onUnlisten=QW.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=YW.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XW.bind(null,e.syncEngine),n}function hQ(t,e,n={}){const r=new Oo;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,f,h){const m=new oQ({next:y=>{m.Nu(),l.enqueueAndForget((()=>UW(a,p))),y.fromCache&&f.source==="server"?h.reject(new be(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),p=new FW(c,m,{includeMetadataChanges:!0,qa:!0});return VW(a,p)})(await fQ(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj="firestore.googleapis.com",Y2=!0;class W2{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kj,this.ssl=Y2}else this.host=e.host,this.ssl=e.ssl??Y2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zY)throw new be(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pj(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new be(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new be(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new be(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class e_{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new mK;switch(r.type){case"firstParty":return new yK(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=K2.get(n);r&&(we("ComponentProvider","Removing Datastore"),K2.delete(n),r.terminate())})(this),Promise.resolve()}}function dQ(t,e,n,r={}){var h;t=Xl(t,e_);const i=Wo(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(cx(`https://${c}`),fx("Firestore",!0)),a.host!==kj&&a.host!==c&&Mc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:c,ssl:i,emulatorOptions:r};if(!Mo(f,l)&&(t._setSettings(f),r.mockUserToken)){let m,p;if(typeof r.mockUserToken=="string")m=r.mockUserToken,p=nr.MOCK_USER;else{m=uD(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new be(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new nr(y)}t._authCredentials=new pK(new E4(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hu(this.firestore,e,this._query)}}class xn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}toJSON(){return{type:xn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Qd(n,xn._jsonSchema))return new xn(e,r||null,new Ce(Ot.fromString(n.referencePath)))}}xn._jsonSchemaVersion="firestore/documentReference/1.0",xn._jsonSchema={type:pn("string",xn._jsonSchemaVersion),referencePath:pn("string")};class Po extends hu{constructor(e,n,r){super(e,n,B4(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new Ce(e))}withConverter(e){return new Po(this.firestore,e,this._path)}}function AT(t,e,...n){if(t=en(t),x4("collection","path",e),t instanceof e_){const r=Ot.fromString(e,...n);return l2(r),new Po(t,null,r)}{if(!(t instanceof xn||t instanceof Po))throw new be(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ot.fromString(e,...n));return l2(r),new Po(t.firestore,null,r)}}function CT(t,e,...n){if(t=en(t),arguments.length===1&&(e=nT.newId()),x4("doc","path",e),t instanceof e_){const r=Ot.fromString(e,...n);return o2(r),new xn(t,null,new Ce(r))}{if(!(t instanceof xn||t instanceof Po))throw new be(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ot.fromString(e,...n));return o2(r),new xn(t.firestore,t instanceof Po?t.converter:null,new Ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="AsyncQueue";class X2{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pj(this,"async_queue_retry"),this._c=()=>{const r=lw();r&&we(Q2,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=lw();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=lw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Oo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!hf(e))throw e;we(Q2,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,pa("INTERNAL UNHANDLED ERROR: ",Z2(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=wT.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Pe(47125,{Pc:Z2(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Z2(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class tm extends e_{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new X2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new X2(e),this._firestoreClient=void 0,await e}}}function mQ(t,e){const n=typeof t=="object"?t:px(),r=typeof t=="string"?t:_v,i=Cy(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=aD("firestore");a&&dQ(i,...a)}return i}function Mj(t){if(t._terminated)throw new be(fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||pQ(t),t._firestoreClient}function pQ(t){var r,i,a;const e=t._freezeSettings(),n=(function(c,f,h,m){return new DK(c,f,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Pj(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new lQ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fi(Qn.fromBase64String(e))}catch(n){throw new be(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fi(Qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qd(e,fi._jsonSchema))return fi.fromBase64String(e.bytes)}}fi._jsonSchemaVersion="firestore/bytes/1.0",fi._jsonSchema={type:pn("string",fi._jsonSchemaVersion),bytes:pn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xs._jsonSchemaVersion}}static fromJSON(e){if(Qd(e,xs._jsonSchema))return new xs(e.latitude,e.longitude)}}xs._jsonSchemaVersion="firestore/geoPoint/1.0",xs._jsonSchema={type:pn("string",xs._jsonSchemaVersion),latitude:pn("number"),longitude:pn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ts._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qd(e,Ts._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ts(e.vectorValues);throw new be(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ts._jsonSchemaVersion="firestore/vectorValue/1.0",Ts._jsonSchema={type:pn("string",Ts._jsonSchemaVersion),vectorValues:pn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gQ=/^__.*__$/;class vQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new cu(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xd(e,this.data,n,this.fieldTransforms)}}function Lj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{Ac:t})}}class RT{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new RT({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Iv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Lj(this.Ac)&&gQ.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class yQ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xy(e)}Cc(e,n,r,i=!1){return new RT({Ac:e,methodName:n,Dc:r,path:Wn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function NT(t){const e=t._freezeSettings(),n=Xy(t._databaseId);return new yQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jj(t,e,n,r,i,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);zj("Data must be an object, but it was:",l,r);const c=Vj(r,l);let f,h;if(a.merge)f=new Vi(l.fieldMask),h=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const p of a.mergeFields){const y=bQ(e,p,n);if(!l.contains(y))throw new be(fe.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);EQ(m,y)||m.push(y)}f=new Vi(m),h=l.fieldTransforms.filter((p=>f.covers(p.field)))}else f=null,h=l.fieldTransforms;return new vQ(new ci(c),f,h)}function _Q(t,e,n,r=!1){return OT(n,t.Cc(r?4:3,e))}function OT(t,e){if(Uj(t=en(t)))return zj("Unsupported field value:",e,t),Vj(t,e);if(t instanceof Dj)return(function(r,i){if(!Lj(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const c of r){let f=OT(c,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=en(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iY(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=vt.fromDate(r);return{timestampValue:Tv(i.serializer,a)}}if(r instanceof vt){const a=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Tv(i.serializer,a)}}if(r instanceof xs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fi)return{bytesValue:ij(i.serializer,r._byteString)};if(r instanceof xn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:hT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ts)return(function(l,c){return{mapValue:{fields:{[P4]:{stringValue:k4},[bv]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return lT(c.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Fy(r)}`)})(t,e)}function Vj(t,e){const n={};return A4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lu(t,((r,i)=>{const a=OT(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function Uj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof xs||t instanceof fi||t instanceof xn||t instanceof Dj||t instanceof Ts)}function zj(t,e,n){if(!Uj(n)||!T4(n)){const r=Fy(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function bQ(t,e,n){if((e=en(e))instanceof IT)return e._internalPath;if(typeof e=="string")return Bj(t,e);throw Iv("Field path arguments must be of type string or ",t,!1,void 0,n)}const wQ=new RegExp("[~\\*/\\[\\]]");function Bj(t,e,n){if(e.search(wQ)>=0)throw Iv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new IT(...e.split("."))._internalPath}catch{throw Iv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Iv(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new be(fe.INVALID_ARGUMENT,c+t+f)}function EQ(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(t_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xQ extends Fj{data(){return super.data()}}function t_(t,e){return typeof e=="string"?Bj(t,e):e instanceof IT?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TQ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PT{}class qj extends PT{}function Hj(t,e,...n){let r=[];e instanceof PT&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((f=>f instanceof kT)).length,c=a.filter((f=>f instanceof n_)).length;if(l>1||l>0&&c>0)throw new be(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class n_ extends qj{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new n_(e,n,r)}_apply(e){const n=this._parse(e);return $j(e._query,n),new hu(e.firestore,e.converter,QE(e._query,n))}_parse(e){const n=NT(e.firestore);return(function(a,l,c,f,h,m,p){let y;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new be(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){eO(p,m);const w=[];for(const x of p)w.push(J2(f,a,x));y={arrayValue:{values:w}}}else y=J2(f,a,p)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||eO(p,m),y=_Q(c,l,p,m==="in"||m==="not-in");return mn.create(h,m,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function SQ(t,e,n){const r=e,i=t_("where",t);return n_._create(i,r,n)}class kT extends PT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kT(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:qi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let l=i;const c=a.getFlattenedFilters();for(const f of c)$j(l,f),l=QE(l,f)})(e._query,n),new hu(e.firestore,e.converter,QE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class MT extends qj{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new MT(e,n)}_apply(e){const n=(function(i,a,l){if(i.startAt!==null)throw new be(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new be(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bd(a,l)})(e._query,this._field,this._direction);return new hu(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new df(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function AQ(t,e="asc"){const n=e,r=t_("orderBy",t);return MT._create(r,n)}function J2(t,e,n){if(typeof(n=en(n))=="string"){if(n==="")throw new be(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!F4(e)&&n.indexOf("/")!==-1)throw new be(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ot.fromString(n));if(!Ce.isDocumentKey(r))throw new be(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return g2(t,new Ce(r))}if(n instanceof xn)return g2(t,n._key);throw new be(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fy(n)}.`)}function eO(t,e){if(!Array.isArray(t)||t.length===0)throw new be(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $j(t,e){const n=(function(i,a){for(const l of i)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new be(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class CQ{convertValue(e,n="none"){switch(Fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return lu(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[bv].arrayValue)==null?void 0:i.values)==null?void 0:a.map((l=>Jt(l.doubleValue)));return new Ts(n)}convertGeoPoint(e){return new xs(Jt(e.latitude),Jt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$y(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vd(e));default:return null}}convertTimestamp(e){const n=zo(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ot.fromString(e);ht(cj(r),9688,{name:e});const i=new yd(r.get(1),r.get(3)),a=new Ce(r.popFirst(5));return i.isEqual(n)||pa(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class hg{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sc extends Fj{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(t_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Sc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Sc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Sc._jsonSchema={type:pn("string",Sc._jsonSchemaVersion),bundleSource:pn("string","DocumentSnapshot"),bundleName:pn("string"),bundle:pn("string")};class zg extends Sc{data(e={}){return super.data(e)}}class Ac{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new hg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new zg(this._firestore,this._userDataWriter,r.key,r,new hg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const f=new zg(i._firestore,i._userDataWriter,c.doc.key,c.doc,new hg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const f=new zg(i._firestore,i._userDataWriter,c.doc.key,c.doc,new hg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:IQ(c.type),doc:f,oldIndex:h,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ac._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=nT.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function IQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:t})}}Ac._jsonSchemaVersion="firestore/querySnapshot/1.0",Ac._jsonSchema={type:pn("string",Ac._jsonSchemaVersion),bundleSource:pn("string","QuerySnapshot"),bundleName:pn("string"),bundle:pn("string")};class RQ extends CQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new fi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,n)}}function Kj(t){t=Xl(t,hu);const e=Xl(t.firestore,tm),n=Mj(e),r=new RQ(e);return TQ(t._query),hQ(n,t._query).then((i=>new Ac(e,r,t,i)))}function NQ(t,e,n){t=Xl(t,xn);const r=Xl(t.firestore,tm),i=Gj(t.converter,e);return DT(r,[jj(NT(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,zi.none())])}function OQ(t){return DT(Xl(t.firestore,tm),[new uT(t._key,zi.none())])}function PQ(t,e){const n=Xl(t.firestore,tm),r=CT(t),i=Gj(t.converter,e);return DT(n,[jj(NT(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,zi.exists(!1))]).then((()=>r))}function DT(t,e){return(function(r,i){const a=new Oo;return r.asyncQueue.enqueueAndForget((async()=>ZW(await cQ(r),i,a))),a.promise})(Mj(t),e)}(function(e,n=!0){(function(i){cf=i})(su),$l(new Do("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new tm(new gK(r.getProvider("auth-internal")),new _K(l,r.getProvider("app-check-internal")),(function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new be(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yd(h.options.projectId,m)})(l,i),l);return a={useFetchStreams:n,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),ys(r2,i2,e),ys(r2,i2,"esm2020")})();const kQ={apiKey:"AIzaSyCOyXdZdpelVCY7pCyTlcvGzQ9l3mjLFwI",authDomain:"erzel-quiz.firebaseapp.com",databaseURL:"https://erzel-quiz-default-rtdb.firebaseio.com",projectId:"erzel-quiz",storageBucket:"erzel-quiz.firebasestorage.app",messagingSenderId:"565602309394",appId:"1:565602309394:web:248060a4e7824b39450fcb",measurementId:"G-SW6Y5FLBTQ"},LT=mD(kQ),Ps=fK(LT),jT=tH(LT),nm=mQ(LT),MQ=async(t,e)=>(await z7(jT,t,e)).user,DQ=async()=>{await H7(jT)},Yj=T.createContext(void 0),LQ=({children:t})=>{const[e,n]=T.useState(null),[r,i]=T.useState(!0);T.useEffect(()=>q7(jT,f=>{n(f),i(!1)}),[]);const a=async(c,f)=>{await MQ(c,f)},l=async()=>{await DQ()};return A.jsx(Yj.Provider,{value:{user:e,loading:r,login:a,logout:l},children:t})},rm=()=>{const t=T.useContext(Yj);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jQ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VQ=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),tO=t=>{const e=VQ(t);return e.charAt(0).toUpperCase()+e.slice(1)},Wj=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),UQ=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BQ=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...c},f)=>T.createElement("svg",{ref:f,...zQ,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Wj("lucide",i),...!a&&!UQ(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,m])=>T.createElement(h,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=(t,e)=>{const n=T.forwardRef(({className:r,...i},a)=>T.createElement(BQ,{ref:a,iconNode:e,className:Wj(`lucide-${jQ(tO(t))}`,`lucide-${t}`,r),...i}));return n.displayName=tO(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FQ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Rv=Xe("arrow-left",FQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qQ=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],HQ=Xe("book-open",qQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Q=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],GQ=Xe("calendar",$Q);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KQ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],o1=Xe("check",KQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YQ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],WQ=Xe("chevron-down",YQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QQ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],XQ=Xe("chevron-up",QQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZQ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],JQ=Xe("circle-check-big",ZQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],VT=Xe("circle",eX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tX=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nX=Xe("clock",tX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rX=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],iX=Xe("crown",rX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sX=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],aX=Xe("database",sX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oX=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],lX=Xe("file-text",oX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],cX=Xe("frown",uX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fX=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],Qj=Xe("hexagon",fX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hX=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],dX=Xe("history",hX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mX=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],nO=Xe("layout-grid",mX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pX=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],cw=Xe("loader-circle",pX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gX=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],vX=Xe("log-out",gX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Nv=Xe("medal",yX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _X=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],bX=Xe("monitor-play",_X);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wX=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],EX=Xe("music",wX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xX=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Xj=Xe("pencil",xX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TX=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],UT=Xe("play",TX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SX=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],AX=Xe("plus",SX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CX=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],IX=Xe("qr-code",CX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RX=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],NX=Xe("save",RX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OX=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],PX=Xe("search",OX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kX=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],MX=Xe("send",kX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DX=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],LX=Xe("smartphone",DX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jX=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Zj=Xe("square",jX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VX=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],UX=Xe("toggle-left",VX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zX=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Jj=Xe("trash-2",zX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BX=[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]],e3=Xe("triangle",BX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FX=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],td=Xe("trophy",FX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qX=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],HX=Xe("type",qX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $X=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],t3=Xe("users",$X);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GX=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],l1=Xe("x",GX),cr=()=>A.jsx("footer",{className:"fixed bottom-0 left-0 right-0 w-full text-white text-xs font-semibold z-[100] bg-black/90 backdrop-blur-lg py-2 border-t border-white/20 shadow-[0_-4px_32px_rgba(0,0,0,0.6)]",children:A.jsx("div",{className:"container mx-auto px-4 flex items-center justify-center",children:A.jsx("a",{href:"https://www.erzelsoft.com",target:"_blank",rel:"noreferrer",className:"hover:scale-110 transition-transform",children:A.jsx("img",{src:"/quiz/images/erzelsoft-logo.png",alt:"ErzEl Soft",className:"h-8"})})})}),KX=()=>{const t=jd();return A.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-8 pb-32 text-white relative z-10",children:[A.jsxs("div",{className:"text-center mb-16",children:[A.jsx("h1",{className:"text-8xl font-semibold tracking-tight text-white mb-4",children:"Quiz"}),A.jsx("p",{className:"text-2xl font-semibold text-white",children:"Learning and fun platform"})]}),A.jsxs("div",{className:"grid md:grid-cols-2 gap-10 max-w-6xl w-full",children:[A.jsx("button",{onClick:()=>t("/host"),className:"group relative overflow-hidden bg-gradient-to-br from-purple-600/90 to-blue-600/90 backdrop-blur-xl rounded-3xl hover:from-purple-500/95 hover:to-blue-500/95 transition-all duration-300 hover:scale-[1.03] shadow-[0_20px_60px_rgba(0,0,0,0.5)] hover:shadow-[0_25px_80px_rgba(147,51,234,0.6)] border-2 border-white/30",children:A.jsxs("div",{className:"p-12 flex flex-col items-center gap-8",children:[A.jsx("div",{className:"w-28 h-28 bg-white rounded-3xl flex items-center justify-center shadow-2xl transform group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:A.jsx(bX,{className:"w-14 h-14 text-purple-600",strokeWidth:2.5})}),A.jsxs("div",{className:"text-center",children:[A.jsx("h2",{className:"text-5xl font-semibold mb-3 text-white",children:"Host"}),A.jsx("p",{className:"text-white/95 font-semibold text-xl",children:"Create & Host a game on the big screen"})]})]})}),A.jsx("button",{onClick:()=>t("/join"),className:"group relative overflow-hidden bg-gradient-to-br from-green-600/90 to-teal-600/90 backdrop-blur-xl rounded-3xl hover:from-green-500/95 hover:to-teal-500/95 transition-all duration-300 hover:scale-[1.03] shadow-[0_20px_60px_rgba(0,0,0,0.5)] hover:shadow-[0_25px_80px_rgba(16,185,129,0.6)] border-2 border-white/30",children:A.jsxs("div",{className:"p-12 flex flex-col items-center gap-8",children:[A.jsx("div",{className:"w-28 h-28 bg-white rounded-3xl flex items-center justify-center shadow-2xl transform group-hover:scale-110 group-hover:-rotate-3 transition-all duration-300",children:A.jsx(LX,{className:"w-14 h-14 text-green-600",strokeWidth:2.5})}),A.jsxs("div",{className:"text-center",children:[A.jsx("h2",{className:"text-5xl font-semibold mb-3 text-white",children:"Join"}),A.jsx("p",{className:"text-white/95 font-semibold text-xl",children:"Enter PIN to play on your device"})]})]})})]}),A.jsx(cr,{})]})};var Fe=(t=>(t.MENU="MENU",t.LOBBY="LOBBY",t.QUESTION="QUESTION",t.REVEAL="REVEAL",t.LEADERBOARD="LEADERBOARD",t.FINISH="FINISH",t))(Fe||{});const YX=[{color:"bg-red-500",icon:e3,label:"Triangle"},{color:"bg-blue-500",icon:Qj,label:"Diamond"},{color:"bg-yellow-500",icon:VT,label:"Circle"},{color:"bg-green-500",icon:Zj,label:"Square"}],WX=({question:t,currentQuestionIndex:e,totalQuestions:n,answersCount:r,onTimerEnd:i,onTimerTick:a})=>{const[l,c]=T.useState(t.timeLimit),f=Rt.useRef(i),h=Rt.useRef(a);Rt.useEffect(()=>{f.current=i,h.current=a},[i,a]),T.useEffect(()=>{var y;c(t.timeLimit),(y=h.current)==null||y.call(h,t.timeLimit);const p=setInterval(()=>{c(b=>{var x,C;const w=b-1;return w<=0?(clearInterval(p),f.current(),(x=h.current)==null||x.call(h,0),0):((C=h.current)==null||C.call(h,w),w)})},1e3);return()=>clearInterval(p)},[t.id]);const m=t.type==="SHORT_ANSWER"||t.type==="FILL_IN_THE_BLANK";return A.jsxs("div",{className:"flex flex-col min-h-full w-full max-w-7xl mx-auto p-4 md:p-6 pb-24 relative z-10 overflow-y-auto",children:[A.jsx("div",{className:"flex justify-between items-center mb-4",children:A.jsxs("div",{className:"bg-black/20 backdrop-blur px-4 py-2 rounded-full font-bold text-white text-lg border border-white/10",children:["Question ",e+1," of ",n]})}),A.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center mb-2 w-full",children:[A.jsx("div",{className:"bg-white text-[#46178f] p-6 md:p-12 rounded-3xl shadow-2xl text-center w-full shadow-purple-900/50 min-h-[180px] flex items-center justify-center mb-8 animate-in zoom-in duration-300",children:A.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-semibold leading-tight",children:t.text})}),A.jsxs("div",{className:"flex items-center gap-12 md:gap-24",children:[A.jsxs("div",{className:"relative group",children:[A.jsx("div",{className:`w-24 h-24 md:w-32 md:h-32 rounded-full border-8 bg-[#46178f] shadow-2xl flex items-center justify-center relative z-10 transition-colors duration-500 ${l<=5?"border-red-500 animate-pulse":"border-white"}`,children:A.jsx("span",{className:"text-4xl md:text-5xl font-black text-white",children:l})}),A.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-white/20 scale-110 -z-0"})]}),A.jsxs("div",{className:"flex flex-col items-center animate-in slide-in-from-right duration-500",children:[A.jsx("span",{className:"text-6xl md:text-7xl font-black drop-shadow-lg",children:r}),A.jsx("span",{className:"font-bold text-lg uppercase tracking-widest opacity-80",children:"Answers"})]})]})]}),!m&&A.jsx("div",{className:`grid ${t.type==="TRUE_FALSE"?"grid-cols-2":"grid-cols-2 md:grid-cols-4"} gap-4 md:gap-6 min-h-[120px] mb-4`,children:t.options.map((p,y)=>{const b=YX[y],w=b.icon;return A.jsxs("div",{className:`${b.color} rounded-2xl shadow-xl flex flex-col md:flex-row items-center p-6 gap-4 transform transition-transform duration-200 hover:scale-[1.02] border-2 border-white/10`,children:[A.jsx("div",{className:"bg-black/20 p-3 rounded-xl shrink-0",children:A.jsx(w,{className:"w-8 h-8 md:w-10 md:h-10 text-white fill-current"})}),A.jsx("span",{className:"text-white font-bold text-2xl md:text-3xl leading-tight text-shadow",children:p})]},y)})}),m&&A.jsx("div",{className:"h-48 flex items-center justify-center",children:A.jsx("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 px-12 py-6 rounded-full animate-pulse text-3xl font-black tracking-wider shadow-xl",children:"Players are typing..."})})]})};function n3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=n3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Sn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=n3(t))&&(r&&(r+=" "),r+=e);return r}var QX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function zT(t){if(typeof t!="string")return!1;var e=QX;return e.includes(t)}var XX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ZX=new Set(XX);function r3(t){return typeof t!="string"?!1:ZX.has(t)}function i3(t){return typeof t=="string"&&t.startsWith("data-")}function $o(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r3(n)||i3(n))&&(e[n]=t[n]);return e}function s3(t){if(t==null)return null;if(T.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return $o(e)}return typeof t=="object"&&!Array.isArray(t)?$o(t):null}function Hi(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r3(n)||i3(n)||zT(n))&&(e[n]=t[n]);return e}var JX=["children","width","height","viewBox","className","style","title","desc"];function u1(){return u1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u1.apply(null,arguments)}function eZ(t,e){if(t==null)return{};var n,r,i=tZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var a3=T.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:l,style:c,title:f,desc:h}=t,m=eZ(t,JX),p=a||{width:r,height:i,x:0,y:0},y=Sn("recharts-surface",l);return T.createElement("svg",u1({},Hi(m),{className:y,width:r,height:i,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),T.createElement("title",null,f),T.createElement("desc",null,h),n)}),nZ=["children","className"];function c1(){return c1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c1.apply(null,arguments)}function rZ(t,e){if(t==null)return{};var n,r,i=iZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function iZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var va=T.forwardRef((t,e)=>{var{children:n,className:r}=t,i=rZ(t,nZ),a=Sn("recharts-layer",r);return T.createElement("g",c1({className:a},Hi(i),{ref:e}),n)}),sZ=T.createContext(null);function It(t){return function(){return t}}const o3=Math.cos,Ov=Math.sin,Ki=Math.sqrt,Pv=Math.PI,r_=2*Pv,f1=Math.PI,h1=2*f1,kl=1e-6,aZ=h1-kl;function l3(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function oZ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return l3;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class lZ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?l3:oZ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,c=this._y1,f=r-e,h=i-n,m=l-e,p=c-n,y=m*m+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>kl)if(!(Math.abs(p*f-h*m)>kl)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-l,w=i-c,x=f*f+h*h,C=b*b+w*w,R=Math.sqrt(x),M=Math.sqrt(y),P=a*Math.tan((f1-Math.acos((x+y-C)/(2*R*M)))/2),q=P/M,F=P/R;Math.abs(q-1)>kl&&this._append`L${e+q*m},${n+q*p}`,this._append`A${a},${a},0,0,${+(p*b>m*w)},${this._x1=e+F*f},${this._y1=n+F*h}`}}arc(e,n,r,i,a,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),f=r*Math.sin(i),h=e+c,m=n+f,p=1^l,y=l?i-a:a-i;this._x1===null?this._append`M${h},${m}`:(Math.abs(this._x1-h)>kl||Math.abs(this._y1-m)>kl)&&this._append`L${h},${m}`,r&&(y<0&&(y=y%h1+h1),y>aZ?this._append`A${r},${r},0,1,${p},${e-c},${n-f}A${r},${r},0,1,${p},${this._x1=h},${this._y1=m}`:y>kl&&this._append`A${r},${r},0,${+(y>=f1)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function BT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new lZ(e)}function FT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function u3(t){this._context=t}u3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function i_(t){return new u3(t)}function c3(t){return t[0]}function f3(t){return t[1]}function h3(t,e){var n=It(!0),r=null,i=i_,a=null,l=BT(c);t=typeof t=="function"?t:t===void 0?c3:It(t),e=typeof e=="function"?e:e===void 0?f3:It(e);function c(f){var h,m=(f=FT(f)).length,p,y=!1,b;for(r==null&&(a=i(b=l())),h=0;h<=m;++h)!(h<m&&n(p=f[h],h,f))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(p,h,f),+e(p,h,f));if(b)return a=null,b+""||null}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:It(+f),c):t},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:It(+f),c):e},c.defined=function(f){return arguments.length?(n=typeof f=="function"?f:It(!!f),c):n},c.curve=function(f){return arguments.length?(i=f,r!=null&&(a=i(r)),c):i},c.context=function(f){return arguments.length?(f==null?r=a=null:a=i(r=f),c):r},c}function dg(t,e,n){var r=null,i=It(!0),a=null,l=i_,c=null,f=BT(h);t=typeof t=="function"?t:t===void 0?c3:It(+t),e=typeof e=="function"?e:It(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?f3:It(+n);function h(p){var y,b,w,x=(p=FT(p)).length,C,R=!1,M,P=new Array(x),q=new Array(x);for(a==null&&(c=l(M=f())),y=0;y<=x;++y){if(!(y<x&&i(C=p[y],y,p))===R)if(R=!R)b=y,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),w=y-1;w>=b;--w)c.point(P[w],q[w]);c.lineEnd(),c.areaEnd()}R&&(P[y]=+t(C,y,p),q[y]=+e(C,y,p),c.point(r?+r(C,y,p):P[y],n?+n(C,y,p):q[y]))}if(M)return c=null,M+""||null}function m(){return h3().defined(i).curve(l).context(a)}return h.x=function(p){return arguments.length?(t=typeof p=="function"?p:It(+p),r=null,h):t},h.x0=function(p){return arguments.length?(t=typeof p=="function"?p:It(+p),h):t},h.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:It(+p),h):r},h.y=function(p){return arguments.length?(e=typeof p=="function"?p:It(+p),n=null,h):e},h.y0=function(p){return arguments.length?(e=typeof p=="function"?p:It(+p),h):e},h.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:It(+p),h):n},h.lineX0=h.lineY0=function(){return m().x(t).y(e)},h.lineY1=function(){return m().x(t).y(n)},h.lineX1=function(){return m().x(r).y(e)},h.defined=function(p){return arguments.length?(i=typeof p=="function"?p:It(!!p),h):i},h.curve=function(p){return arguments.length?(l=p,a!=null&&(c=l(a)),h):l},h.context=function(p){return arguments.length?(p==null?a=c=null:c=l(a=p),h):a},h}class d3{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function uZ(t){return new d3(t,!0)}function cZ(t){return new d3(t,!1)}const qT={draw(t,e){const n=Ki(e/Pv);t.moveTo(n,0),t.arc(0,0,n,0,r_)}},fZ={draw(t,e){const n=Ki(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},m3=Ki(1/3),hZ=m3*2,dZ={draw(t,e){const n=Ki(e/hZ),r=n*m3;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},mZ={draw(t,e){const n=Ki(e),r=-n/2;t.rect(r,r,n,n)}},pZ=.8908130915292852,p3=Ov(Pv/10)/Ov(7*Pv/10),gZ=Ov(r_/10)*p3,vZ=-o3(r_/10)*p3,yZ={draw(t,e){const n=Ki(e*pZ),r=gZ*n,i=vZ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const l=r_*a/5,c=o3(l),f=Ov(l);t.lineTo(f*n,-c*n),t.lineTo(c*r-f*i,f*r+c*i)}t.closePath()}},fw=Ki(3),_Z={draw(t,e){const n=-Ki(e/(fw*3));t.moveTo(0,n*2),t.lineTo(-fw*n,-n),t.lineTo(fw*n,-n),t.closePath()}},ai=-.5,oi=Ki(3)/2,d1=1/Ki(12),bZ=(d1/2+1)*3,wZ={draw(t,e){const n=Ki(e/bZ),r=n/2,i=n*d1,a=r,l=n*d1+n,c=-a,f=l;t.moveTo(r,i),t.lineTo(a,l),t.lineTo(c,f),t.lineTo(ai*r-oi*i,oi*r+ai*i),t.lineTo(ai*a-oi*l,oi*a+ai*l),t.lineTo(ai*c-oi*f,oi*c+ai*f),t.lineTo(ai*r+oi*i,ai*i-oi*r),t.lineTo(ai*a+oi*l,ai*l-oi*a),t.lineTo(ai*c+oi*f,ai*f-oi*c),t.closePath()}};function EZ(t,e){let n=null,r=BT(i);t=typeof t=="function"?t:It(t||qT),e=typeof e=="function"?e:It(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:It(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:It(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function kv(){}function Mv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function g3(t){this._context=t}g3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Mv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Mv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xZ(t){return new g3(t)}function v3(t){this._context=t}v3.prototype={areaStart:kv,areaEnd:kv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Mv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function TZ(t){return new v3(t)}function y3(t){this._context=t}y3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Mv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function SZ(t){return new y3(t)}function _3(t){this._context=t}_3.prototype={areaStart:kv,areaEnd:kv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function AZ(t){return new _3(t)}function rO(t){return t<0?-1:1}function iO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),c=(a*i+l*r)/(r+i);return(rO(a)+rO(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(c))||0}function sO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function hw(t,e,n){var r=t._x0,i=t._y0,a=t._x1,l=t._y1,c=(a-r)/3;t._context.bezierCurveTo(r+c,i+c*e,a-c,l-c*n,a,l)}function Dv(t){this._context=t}Dv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hw(this,this._t0,sO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,hw(this,sO(this,n=iO(this,t,e)),n);break;default:hw(this,this._t0,n=iO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function b3(t){this._context=new w3(t)}(b3.prototype=Object.create(Dv.prototype)).point=function(t,e){Dv.prototype.point.call(this,e,t)};function w3(t){this._context=t}w3.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function CZ(t){return new Dv(t)}function IZ(t){return new b3(t)}function E3(t){this._context=t}E3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=aO(t),i=aO(e),a=0,l=1;l<n;++a,++l)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function aO(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),l=new Array(n);for(i[0]=0,a[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function RZ(t){return new E3(t)}function s_(t,e){this._context=t,this._t=e}s_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function NZ(t){return new s_(t,.5)}function OZ(t){return new s_(t,0)}function PZ(t){return new s_(t,1)}function zc(t,e){if((l=t.length)>1)for(var n=1,r,i,a=t[e[0]],l,c=a.length;n<l;++n)for(i=a,a=t[e[n]],r=0;r<c;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function m1(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function kZ(t,e){return t[e]}function MZ(t){const e=[];return e.key=t,e}function DZ(){var t=It([]),e=m1,n=zc,r=kZ;function i(a){var l=Array.from(t.apply(this,arguments),MZ),c,f=l.length,h=-1,m;for(const p of a)for(c=0,++h;c<f;++c)(l[c][h]=[0,+r(p,l[c].key,h,a)]).data=p;for(c=0,m=FT(e(l));c<f;++c)l[m[c]].index=c;return n(l,m),l}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:It(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:It(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?m1:typeof a=="function"?a:It(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??zc,i):n},i}function LZ(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,l;i<a;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}zc(t,e)}}function jZ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var l=0,c=0;l<i;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}zc(t,e)}}function VZ(t,e){if(!(!((l=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,l;r<a;++r){for(var c=0,f=0,h=0;c<l;++c){for(var m=t[e[c]],p=m[r][1]||0,y=m[r-1][1]||0,b=(p-y)/2,w=0;w<c;++w){var x=t[e[w]],C=x[r][1]||0,R=x[r-1][1]||0;b+=C-R}f+=p,h+=b*p}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,zc(t,e)}}var dw={},mw={},oO;function UZ(){return oO||(oO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(mw)),mw}var pw={},lO;function zZ(){return lO||(lO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(pw)),pw}var gw={},uO;function x3(){return uO||(uO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(gw)),gw}var vw={},yw={},cO;function BZ(){return cO||(cO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(yw)),yw}var fO;function T3(){return fO||(fO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BZ(),n=x3();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],l=i.length;if(l===0)return a;let c=0,f="",h="",m=!1;for(i.charCodeAt(0)===46&&(a.push(""),c++);c<l;){const p=i[c];h?p==="\\"&&c+1<l?(c++,f+=i[c]):p===h?h="":f+=p:m?p==='"'||p==="'"?h=p:p==="]"?(m=!1,a.push(f),f=""):f+=p:p==="["?(m=!0,f&&(a.push(f),f="")):p==="."?f&&(a.push(f),f=""):f+=p,c++}return f&&a.push(f),a}t.toPath=r})(vw)),vw}var hO;function FZ(){return hO||(hO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UZ(),n=zZ(),r=x3(),i=T3();function a(c,f,h){if(c==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const m=c[f];return m===void 0?n.isDeepKey(f)?a(c,i.toPath(f),h):h:m}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const m=c[f];return m===void 0?h:m}default:{if(Array.isArray(f))return l(c,f,h);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const m=c[f];return m===void 0?h:m}}}function l(c,f,h){if(f.length===0)return h;let m=c;for(let p=0;p<f.length;p++){if(m==null||e.isUnsafeProperty(f[p]))return h;m=m[f[p]]}return m===void 0?h:m}t.get=a})(dw)),dw}var _w,dO;function qZ(){return dO||(dO=1,_w=FZ().get),_w}var HZ=qZ();const Bc=Sa(HZ);var Fr=t=>t===0?0:t>0?1:-1,Is=t=>typeof t=="number"&&t!=+t,ya=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,nt=t=>(typeof t=="number"||t instanceof Number)&&!Is(t),Fc=t=>nt(t)||typeof t=="string",$Z=0,xd=t=>{var e=++$Z;return"".concat(t||"").concat(e)},$i=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!nt(e)&&typeof e!="string")return r;var a;if(ya(e)){if(n==null)return r;var l=e.indexOf("%");a=n*parseFloat(e.slice(0,l))/100}else a=+e;return Is(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},S3=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Yn(t,e,n){return nt(t)&&nt(e)?t+n*(e-t):e}function GZ(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Bc(r,e))===n)}var Xn=t=>t===null||typeof t>"u",im=t=>Xn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function KZ(t){return t!=null}function sm(){}var YZ=["type","size","sizeType"];function p1(){return p1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p1.apply(null,arguments)}function mO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(n),!0).forEach(function(r){WZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WZ(t,e,n){return(e=QZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QZ(t){var e=XZ(t,"string");return typeof e=="symbol"?e:e+""}function XZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZZ(t,e){if(t==null)return{};var n,r,i=JZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function JZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var A3={symbolCircle:qT,symbolCross:fZ,symbolDiamond:dZ,symbolSquare:mZ,symbolStar:yZ,symbolTriangle:_Z,symbolWye:wZ},eJ=Math.PI/180,tJ=t=>{var e="symbol".concat(im(t));return A3[e]||qT},nJ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*eJ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},rJ=(t,e)=>{A3["symbol".concat(im(t))]=e},C3=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=ZZ(t,YZ),a=pO(pO({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var c=()=>{var y=tJ(l),b=EZ().type(y).size(nJ(n,r,l)),w=b();if(w!==null)return w},{className:f,cx:h,cy:m}=a,p=Hi(a);return nt(h)&&nt(m)&&nt(n)?T.createElement("path",p1({},p,{className:Sn("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:c()})):null};C3.registerSymbol=rJ;var iJ=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(T.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{zT(i)&&(r[i]=(a=>n[i](n,a)))}),r},sJ=(t,e,n)=>r=>(t(e,n,r),null),HT=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];zT(i)&&typeof a=="function"&&(r||(r={}),r[i]=sJ(a,e,n))}),r};function gO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(n),!0).forEach(function(r){oJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oJ(t,e,n){return(e=lJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lJ(t){var e=uJ(t,"string");return typeof e=="symbol"?e:e+""}function uJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ks(t,e){var n=aJ({},t),r=e,i=Object.keys(e),a=i.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),n);return a}var bw={},ww={},vO;function cJ(){return vO||(vO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(ww)),ww}var yO;function I3(){return yO||(yO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cJ();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(bw)),bw}var Ew={},_O;function fJ(){return _O||(_O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Ew)),Ew}var xw={},bO;function hJ(){return bO||(bO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(xw)),xw}var Tw={},wO;function dJ(){return wO||(wO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Tw)),Tw}var Sw={exports:{}},Aw={},Cw={exports:{}},Iw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EO;function mJ(){if(EO)return Iw;EO=1;var t=Zc();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function c(p,y){var b=y(),w=r({inst:{value:b,getSnapshot:y}}),x=w[0].inst,C=w[1];return a(function(){x.value=b,x.getSnapshot=y,f(x)&&C({inst:x})},[p,b,y]),i(function(){return f(x)&&C({inst:x}),p(function(){f(x)&&C({inst:x})})},[p]),l(b),b}function f(p){var y=p.getSnapshot;p=p.value;try{var b=y();return!n(p,b)}catch{return!0}}function h(p,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return Iw.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Iw}var xO;function pJ(){return xO||(xO=1,Cw.exports=mJ()),Cw.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TO;function gJ(){if(TO)return Aw;TO=1;var t=Zc(),e=pJ();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,l=t.useEffect,c=t.useMemo,f=t.useDebugValue;return Aw.useSyncExternalStoreWithSelector=function(h,m,p,y,b){var w=a(null);if(w.current===null){var x={hasValue:!1,value:null};w.current=x}else x=w.current;w=c(function(){function R($){if(!M){if(M=!0,P=$,$=y($),b!==void 0&&x.hasValue){var O=x.value;if(b(O,$))return q=O}return q=$}if(O=q,r(P,$))return O;var L=y($);return b!==void 0&&b(O,L)?(P=$,O):(P=$,q=L)}var M=!1,P,q,F=p===void 0?null:p;return[function(){return R(m())},F===null?void 0:function(){return R(F())}]},[m,p,y,b]);var C=i(h,w[0],w[1]);return l(function(){x.hasValue=!0,x.value=C},[C]),f(C),C},Aw}var SO;function vJ(){return SO||(SO=1,Sw.exports=gJ()),Sw.exports}var yJ=vJ(),$T=T.createContext(null),_J=t=>t,jn=()=>{var t=T.useContext($T);return t?t.store.dispatch:_J},Bg=()=>{},bJ=()=>Bg,wJ=(t,e)=>t===e;function ot(t){var e=T.useContext($T);return yJ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:bJ,e?e.store.getState:Bg,e?e.store.getState:Bg,e?t:Bg,wJ)}function EJ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function xJ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function TJ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var AO=t=>Array.isArray(t)?t:[t];function SJ(t){const e=Array.isArray(t[0])?t[0]:t;return TJ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function AJ(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var CJ=class{constructor(t){this.value=t}deref(){return this.value}},IJ=typeof WeakRef<"u"?WeakRef:CJ,RJ=0,CO=1;function mg(){return{s:RJ,v:void 0,o:null,p:null}}function R3(t,e={}){let n=mg();const{resultEqualityCheck:r}=e;let i,a=0;function l(){var p;let c=n;const{length:f}=arguments;for(let y=0,b=f;y<b;y++){const w=arguments[y];if(typeof w=="function"||typeof w=="object"&&w!==null){let x=c.o;x===null&&(c.o=x=new WeakMap);const C=x.get(w);C===void 0?(c=mg(),x.set(w,c)):c=C}else{let x=c.p;x===null&&(c.p=x=new Map);const C=x.get(w);C===void 0?(c=mg(),x.set(w,c)):c=C}}const h=c;let m;if(c.s===CO)m=c.v;else if(m=t.apply(null,arguments),a++,r){const y=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;y!=null&&r(y,m)&&(m=y,a!==0&&a--),i=typeof m=="object"&&m!==null||typeof m=="function"?new IJ(m):m}return h.s=CO,h.v=m,m}return l.clearCache=()=>{n=mg(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function NJ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,l=0,c,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),EJ(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const m={...n,...f},{memoize:p,memoizeOptions:y=[],argsMemoize:b=R3,argsMemoizeOptions:w=[]}=m,x=AO(y),C=AO(w),R=SJ(i),M=p(function(){return a++,h.apply(null,arguments)},...x),P=b(function(){l++;const F=AJ(R,arguments);return c=M.apply(null,F),c},...C);return Object.assign(P,{resultFunc:h,memoizedResultFunc:M,dependencies:R,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var re=NJ(R3),OJ=Object.assign((t,e=re)=>{xJ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((l,c,f)=>(l[n[f]]=c,l),{}))},{withTypes:()=>OJ}),Rw={},Nw={},Ow={},IO;function PJ(){return IO||(IO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const l=e(r),c=e(i);if(l===c&&l===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?c-l:l-c}return 0};t.compareValues=n})(Ow)),Ow}var Pw={},kw={},RO;function N3(){return RO||(RO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(kw)),kw}var NO;function kJ(){return NO||(NO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N3(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||l!=null&&Object.hasOwn(l,a)}t.isKey=i})(Pw)),Pw}var OO;function MJ(){return OO||(OO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PJ(),n=kJ(),r=T3();function i(a,l,c,f){if(a==null)return[];c=f?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(b=>String(b));const h=(b,w)=>{let x=b;for(let C=0;C<w.length&&x!=null;++C)x=x[w[C]];return x},m=(b,w)=>w==null||b==null?w:typeof b=="object"&&"key"in b?Object.hasOwn(w,b.key)?w[b.key]:h(w,b.path):typeof b=="function"?b(w):Array.isArray(b)?h(w,b):typeof w=="object"?w[b]:w,p=l.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return a.map(b=>({original:b,criteria:p.map(w=>m(w,b))})).slice().sort((b,w)=>{for(let x=0;x<p.length;x++){const C=e.compareValues(b.criteria[x],w.criteria[x],c[x]);if(C!==0)return C}return 0}).map(b=>b.original)}t.orderBy=i})(Nw)),Nw}var Mw={},PO;function DJ(){return PO||(PO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),l=(c,f)=>{for(let h=0;h<c.length;h++){const m=c[h];Array.isArray(m)&&f<a?l(m,f+1):i.push(m)}};return l(n,0),i}t.flatten=e})(Mw)),Mw}var Dw={},kO;function O3(){return kO||(kO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dJ(),n=I3(),r=fJ(),i=hJ();function a(l,c,f){return r.isObject(f)&&(typeof c=="number"&&n.isArrayLike(f)&&e.isIndex(c)&&c<f.length||typeof c=="string"&&c in f)?i.eq(f[c],l):!1}t.isIterateeCall=a})(Dw)),Dw}var MO;function LJ(){return MO||(MO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MJ(),n=DJ(),r=O3();function i(a,...l){const c=l.length;return c>1&&r.isIterateeCall(a,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(a,n.flatten(l),["asc"])}t.sortBy=i})(Rw)),Rw}var Lw,DO;function jJ(){return DO||(DO=1,Lw=LJ().sortBy),Lw}var VJ=jJ();const GT=Sa(VJ);var P3=t=>t.legend.settings,UJ=t=>t.legend.size,zJ=t=>t.legend.payload;re([zJ,P3],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?GT(r,n):r});function Gn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var BJ=typeof Symbol=="function"&&Symbol.observable||"@@observable",LO=BJ,jw=()=>Math.random().toString(36).substring(7).split("").join("."),FJ={INIT:`@@redux/INIT${jw()}`,REPLACE:`@@redux/REPLACE${jw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${jw()}`},Lv=FJ;function KT(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function k3(t,e,n){if(typeof t!="function")throw new Error(Gn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Gn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Gn(1));return n(k3)(t,e)}let r=t,i=e,a=new Map,l=a,c=0,f=!1;function h(){l===a&&(l=new Map,a.forEach((C,R)=>{l.set(R,C)}))}function m(){if(f)throw new Error(Gn(3));return i}function p(C){if(typeof C!="function")throw new Error(Gn(4));if(f)throw new Error(Gn(5));let R=!0;h();const M=c++;return l.set(M,C),function(){if(R){if(f)throw new Error(Gn(6));R=!1,h(),l.delete(M),a=null}}}function y(C){if(!KT(C))throw new Error(Gn(7));if(typeof C.type>"u")throw new Error(Gn(8));if(typeof C.type!="string")throw new Error(Gn(17));if(f)throw new Error(Gn(9));try{f=!0,i=r(i,C)}finally{f=!1}return(a=l).forEach(M=>{M()}),C}function b(C){if(typeof C!="function")throw new Error(Gn(10));r=C,y({type:Lv.REPLACE})}function w(){const C=p;return{subscribe(R){if(typeof R!="object"||R===null)throw new Error(Gn(11));function M(){const q=R;q.next&&q.next(m())}return M(),{unsubscribe:C(M)}},[LO](){return this}}}return y({type:Lv.INIT}),{dispatch:y,subscribe:p,getState:m,replaceReducer:b,[LO]:w}}function qJ(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Lv.INIT})>"u")throw new Error(Gn(12));if(typeof n(void 0,{type:Lv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Gn(13))})}function M3(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const l=e[a];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{qJ(n)}catch(a){i=a}return function(l={},c){if(i)throw i;let f=!1;const h={};for(let m=0;m<r.length;m++){const p=r[m],y=n[p],b=l[p],w=y(b,c);if(typeof w>"u")throw c&&c.type,new Error(Gn(14));h[p]=w,f=f||w!==b}return f=f||r.length!==Object.keys(l).length,f?h:l}}function jv(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function HJ(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Gn(15))};const l={getState:i.getState,dispatch:(f,...h)=>a(f,...h)},c=t.map(f=>f(l));return a=jv(...c)(i.dispatch),{...i,dispatch:a}}}function D3(t){return KT(t)&&"type"in t&&typeof t.type=="string"}var L3=Symbol.for("immer-nothing"),jO=Symbol.for("immer-draftable"),mr=Symbol.for("immer-state");function Pi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var qr=Object,qc=qr.getPrototypeOf,Vv="constructor",a_="prototype",g1="configurable",Uv="enumerable",Fg="writable",Td="value",_a=t=>!!t&&!!t[mr];function Gi(t){var e;return t?j3(t)||o_(t)||!!t[jO]||!!((e=t[Vv])!=null&&e[jO])||l_(t)||u_(t):!1}var $J=qr[a_][Vv].toString(),VO=new WeakMap;function j3(t){if(!t||!YT(t))return!1;const e=qc(t);if(e===null||e===qr[a_])return!0;const n=qr.hasOwnProperty.call(e,Vv)&&e[Vv];if(n===Object)return!0;if(!dc(n))return!1;let r=VO.get(n);return r===void 0&&(r=Function.toString.call(n),VO.set(n,r)),r===$J}function am(t,e,n=!0){om(t)===0?(n?Reflect.ownKeys(t):qr.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function om(t){const e=t[mr];return e?e.type_:o_(t)?1:l_(t)?2:u_(t)?3:0}var UO=(t,e,n=om(t))=>n===2?t.has(e):qr[a_].hasOwnProperty.call(t,e),v1=(t,e,n=om(t))=>n===2?t.get(e):t[e],zv=(t,e,n,r=om(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function GJ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var o_=Array.isArray,l_=t=>t instanceof Map,u_=t=>t instanceof Set,YT=t=>typeof t=="object",dc=t=>typeof t=="function",Vw=t=>typeof t=="boolean",ea=t=>t.copy_||t.base_,WT=t=>t.modified_?t.copy_:t.base_;function y1(t,e){if(l_(t))return new Map(t);if(u_(t))return new Set(t);if(o_(t))return Array[a_].slice.call(t);const n=j3(t);if(e===!0||e==="class_only"&&!n){const r=qr.getOwnPropertyDescriptors(t);delete r[mr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],c=r[l];c[Fg]===!1&&(c[Fg]=!0,c[g1]=!0),(c.get||c.set)&&(r[l]={[g1]:!0,[Fg]:!0,[Uv]:c[Uv],[Td]:t[l]})}return qr.create(qc(t),r)}else{const r=qc(t);if(r!==null&&n)return{...t};const i=qr.create(r);return qr.assign(i,t)}}function QT(t,e=!1){return c_(t)||_a(t)||!Gi(t)||(om(t)>1&&qr.defineProperties(t,{set:pg,add:pg,clear:pg,delete:pg}),qr.freeze(t),e&&am(t,(n,r)=>{QT(r,!0)},!1)),t}function KJ(){Pi(2)}var pg={[Td]:KJ};function c_(t){return t===null||!YT(t)?!0:qr.isFrozen(t)}var Bv="MapSet",_1="Patches",V3={};function Hc(t){const e=V3[t];return e||Pi(0,t),e}var YJ=t=>!!V3[t],Sd,U3=()=>Sd,WJ=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:YJ(Bv)?Hc(Bv):void 0});function zO(t,e){e&&(t.patchPlugin_=Hc(_1),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function b1(t){w1(t),t.drafts_.forEach(QJ),t.drafts_=null}function w1(t){t===Sd&&(Sd=t.parent_)}var BO=t=>Sd=WJ(Sd,t);function QJ(t){const e=t[mr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function FO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[mr].modified_&&(b1(e),Pi(4)),Gi(t)&&(t=qO(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[mr].base_,t,e)}else t=qO(e,n);return XJ(e,t,!0),b1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==L3?t:void 0}function qO(t,e){if(c_(e))return e;const n=e[mr];if(!n)return XT(e,t.handledSet_,t);if(!f_(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);F3(n,t)}return n.copy_}function XJ(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&QT(e,n)}function z3(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var f_=(t,e)=>t.scope_===e,ZJ=[];function B3(t,e,n,r){const i=ea(t),a=t.type_;if(r!==void 0&&v1(i,r,a)===e){zv(i,r,n,a);return}if(!t.draftLocations_){const c=t.draftLocations_=new Map;am(i,(f,h)=>{if(_a(h)){const m=c.get(h)||[];m.push(f),c.set(h,m)}})}const l=t.draftLocations_.get(e)??ZJ;for(const c of l)zv(i,c,n,a)}function JJ(t,e,n){t.callbacks_.push(function(i){var c;const a=e;if(!a||!f_(a,i))return;(c=i.mapSetPlugin_)==null||c.fixSetContents(a);const l=WT(a);B3(t,a.draft_??a,l,n),F3(a,i)})}function F3(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const a=i.getPath(t);a&&i.generatePatches_(t,a,e)}z3(t)}}function eee(t,e,n){const{scope_:r}=t;if(_a(n)){const i=n[mr];f_(i,r)&&i.callbacks_.push(function(){qg(t);const l=WT(i);B3(t,n,l,e)})}else Gi(n)&&t.callbacks_.push(function(){const a=ea(t);v1(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&XT(v1(t.copy_,e,t.type_),r.handledSet_,r)})}function XT(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||_a(t)||e.has(t)||!Gi(t)||c_(t)||(e.add(t),am(t,(r,i)=>{if(_a(i)){const a=i[mr];if(f_(a,n)){const l=WT(a);zv(t,r,l,t.type_),z3(a)}}else Gi(i)&&XT(i,e,n)})),t}function tee(t,e){const n=o_(t),r={type_:n?1:0,scope_:e?e.scope_:U3(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=ZT;n&&(i=[r],a=Ad);const{revoke:l,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=l,[c,r]}var ZT={get(t,e){if(e===mr)return t;const n=ea(t);if(!UO(n,e,t.type_))return nee(t,n,e);const r=n[e];if(t.finalized_||!Gi(r))return r;if(r===Uw(t.base_,e)){qg(t);const i=t.type_===1?+e:e,a=x1(t.scope_,r,t,i);return t.copy_[i]=a}return r},has(t,e){return e in ea(t)},ownKeys(t){return Reflect.ownKeys(ea(t))},set(t,e,n){const r=q3(ea(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Uw(ea(t),e),a=i==null?void 0:i[mr];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(GJ(n,i)&&(n!==void 0||UO(t.base_,e,t.type_)))return!0;qg(t),E1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),eee(t,e,n)),!0},deleteProperty(t,e){return qg(t),Uw(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),E1(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ea(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Fg]:!0,[g1]:t.type_!==1||e!=="length",[Uv]:r[Uv],[Td]:n[e]}},defineProperty(){Pi(11)},getPrototypeOf(t){return qc(t.base_)},setPrototypeOf(){Pi(12)}},Ad={};am(ZT,(t,e)=>{Ad[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});Ad.deleteProperty=function(t,e){return Ad.set.call(this,t,e,void 0)};Ad.set=function(t,e,n){return ZT.set.call(this,t[0],e,n,t[0])};function Uw(t,e){const n=t[mr];return(n?ea(n):t)[e]}function nee(t,e,n){var i;const r=q3(e,n);return r?Td in r?r[Td]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function q3(t,e){if(!(e in t))return;let n=qc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=qc(n)}}function E1(t){t.modified_||(t.modified_=!0,t.parent_&&E1(t.parent_))}function qg(t){t.copy_||(t.assigned_=new Map,t.copy_=y1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var ree=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(dc(n)&&!dc(r)){const l=r;r=n;const c=this;return function(h=l,...m){return c.produce(h,p=>r.call(this,p,...m))}}dc(r)||Pi(6),i!==void 0&&!dc(i)&&Pi(7);let a;if(Gi(n)){const l=BO(this),c=x1(l,n,void 0);let f=!0;try{a=r(c),f=!1}finally{f?b1(l):w1(l)}return zO(l,i),FO(a,l)}else if(!n||!YT(n)){if(a=r(n),a===void 0&&(a=n),a===L3&&(a=void 0),this.autoFreeze_&&QT(a,!0),i){const l=[],c=[];Hc(_1).generateReplacementPatches_(n,a,{patches_:l,inversePatches_:c}),i(l,c)}return a}else Pi(1,n)},this.produceWithPatches=(n,r)=>{if(dc(n))return(c,...f)=>this.produceWithPatches(c,h=>n(h,...f));let i,a;return[this.produce(n,r,(c,f)=>{i=c,a=f}),i,a]},Vw(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Vw(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Vw(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Gi(e)||Pi(8),_a(e)&&(e=Bi(e));const n=BO(this),r=x1(n,e,void 0);return r[mr].isManual_=!0,w1(n),r}finishDraft(e,n){const r=e&&e[mr];(!r||!r.isManual_)&&Pi(9);const{scope_:i}=r;return zO(i,n),FO(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Hc(_1).applyPatches_;return _a(e)?i(e,n):this.produce(e,a=>i(a,n))}};function x1(t,e,n,r){const[i,a]=l_(e)?Hc(Bv).proxyMap_(e,n):u_(e)?Hc(Bv).proxySet_(e,n):tee(e,n);return((n==null?void 0:n.scope_)??U3()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?JJ(n,a,r):a.callbacks_.push(function(f){var m;(m=f.mapSetPlugin_)==null||m.fixSetContents(a);const{patchPlugin_:h}=f;a.modified_&&h&&h.generatePatches_(a,[],f)}),i}function Bi(t){return _a(t)||Pi(10,t),H3(t)}function H3(t){if(!Gi(t)||c_(t))return t;const e=t[mr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=y1(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=y1(t,!0);return am(n,(i,a)=>{zv(n,i,H3(a))},r),e&&(e.finalized_=!1),n}var iee=new ree,$3=iee.produce;function G3(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var see=G3(),aee=G3,oee=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?jv:jv.apply(null,arguments)};function mi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error($r(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>D3(r)&&r.type===t,n}var K3=class Fh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Fh.prototype)}static get[Symbol.species](){return Fh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Fh(...e[0].concat(this)):new Fh(...e.concat(this))}};function HO(t){return Gi(t)?$3(t,()=>{}):t}function gg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function lee(t){return typeof t=="boolean"}var uee=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let l=new K3;return n&&(lee(n)?l.push(see):l.push(aee(n.extraArgument))),l},Y3="RTK_autoBatch",Vt=()=>t=>({payload:t,meta:{[Y3]:!0}}),$O=t=>e=>{setTimeout(e,t)},W3=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,l=!1;const c=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:$O(10):t.type==="callback"?t.queueNotification:$O(t.timeout),h=()=>{l=!1,a&&(a=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const p=()=>i&&m(),y=r.subscribe(p);return c.add(m),()=>{y(),c.delete(m)}},dispatch(m){var p;try{return i=!((p=m==null?void 0:m.meta)!=null&&p[Y3]),a=!i,a&&(l||(l=!0,f(h))),r.dispatch(m)}finally{i=!0}}})},cee=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new K3(t);return r&&i.push(W3(typeof r=="object"?r:void 0)),i};function fee(t){const e=uee(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(KT(n))c=M3(n);else throw new Error($r(1));let f;typeof r=="function"?f=r(e):f=e();let h=jv;i&&(h=oee({trace:!1,...typeof i=="object"&&i}));const m=HJ(...f),p=cee(m);let y=typeof l=="function"?l(p):p();const b=h(...y);return k3(c,a,b)}function Q3(t){const e={},n=[];let r;const i={addCase(a,l){const c=typeof a=="string"?a:a.type;if(!c)throw new Error($r(28));if(c in e)throw new Error($r(29));return e[c]=l,i},addAsyncThunk(a,l){return l.pending&&(e[a.pending.type]=l.pending),l.rejected&&(e[a.rejected.type]=l.rejected),l.fulfilled&&(e[a.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:a.settled,reducer:l.settled}),i},addMatcher(a,l){return n.push({matcher:a,reducer:l}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function hee(t){return typeof t=="function"}function dee(t,e){let[n,r,i]=Q3(e),a;if(hee(t))a=()=>HO(t());else{const c=HO(t);a=()=>c}function l(c=a(),f){let h=[n[f.type],...r.filter(({matcher:m})=>m(f)).map(({reducer:m})=>m)];return h.filter(m=>!!m).length===0&&(h=[i]),h.reduce((m,p)=>{if(p)if(_a(m)){const b=p(m,f);return b===void 0?m:b}else{if(Gi(m))return $3(m,y=>p(y,f));{const y=p(m,f);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},c)}return l.getInitialState=a,l}var mee="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",pee=(t=21)=>{let e="",n=t;for(;n--;)e+=mee[Math.random()*64|0];return e},gee=Symbol.for("rtk-slice-createasyncthunk");function vee(t,e){return`${t}/${e}`}function yee({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[gee];return function(i){const{name:a,reducerPath:l=a}=i;if(!a)throw new Error($r(11));const c=(typeof i.reducers=="function"?i.reducers(bee()):i.reducers)||{},f=Object.keys(c),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(q,F){const $=typeof q=="string"?q:q.type;if(!$)throw new Error($r(12));if($ in h.sliceCaseReducersByType)throw new Error($r(13));return h.sliceCaseReducersByType[$]=F,m},addMatcher(q,F){return h.sliceMatchers.push({matcher:q,reducer:F}),m},exposeAction(q,F){return h.actionCreators[q]=F,m},exposeCaseReducer(q,F){return h.sliceCaseReducersByName[q]=F,m}};f.forEach(q=>{const F=c[q],$={reducerName:q,type:vee(a,q),createNotation:typeof i.reducers=="function"};Eee(F)?Tee($,F,m,e):wee($,F,m)});function p(){const[q={},F=[],$=void 0]=typeof i.extraReducers=="function"?Q3(i.extraReducers):[i.extraReducers],O={...q,...h.sliceCaseReducersByType};return dee(i.initialState,L=>{for(let k in O)L.addCase(k,O[k]);for(let k of h.sliceMatchers)L.addMatcher(k.matcher,k.reducer);for(let k of F)L.addMatcher(k.matcher,k.reducer);$&&L.addDefaultCase($)})}const y=q=>q,b=new Map,w=new WeakMap;let x;function C(q,F){return x||(x=p()),x(q,F)}function R(){return x||(x=p()),x.getInitialState()}function M(q,F=!1){function $(L){let k=L[q];return typeof k>"u"&&F&&(k=gg(w,$,R)),k}function O(L=y){const k=gg(b,F,()=>new WeakMap);return gg(k,L,()=>{const V={};for(const[D,B]of Object.entries(i.selectors??{}))V[D]=_ee(B,L,()=>gg(w,L,R),F);return V})}return{reducerPath:q,getSelectors:O,get selectors(){return O($)},selectSlice:$}}const P={name:a,reducer:C,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:R,...M(l),injectInto(q,{reducerPath:F,...$}={}){const O=F??l;return q.inject({reducerPath:O,reducer:C},$),{...P,...M(O,!0)}}};return P}}function _ee(t,e,n,r){function i(a,...l){let c=e(a);return typeof c>"u"&&r&&(c=n()),t(c,...l)}return i.unwrapped=t,i}var Ir=yee();function bee(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function wee({type:t,reducerName:e,createNotation:n},r,i){let a,l;if("reducer"in r){if(n&&!xee(r))throw new Error($r(17));a=r.reducer,l=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,l?mi(t,l):mi(t))}function Eee(t){return t._reducerDefinitionType==="asyncThunk"}function xee(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Tee({type:t,reducerName:e},n,r,i){if(!i)throw new Error($r(18));const{payloadCreator:a,fulfilled:l,pending:c,rejected:f,settled:h,options:m}=n,p=i(t,a,m);r.exposeAction(e,p),l&&r.addCase(p.fulfilled,l),c&&r.addCase(p.pending,c),f&&r.addCase(p.rejected,f),h&&r.addMatcher(p.settled,h),r.exposeCaseReducer(e,{fulfilled:l||vg,pending:c||vg,rejected:f||vg,settled:h||vg})}function vg(){}var See="task",X3="listener",Z3="completed",JT="cancelled",Aee=`task-${JT}`,Cee=`task-${Z3}`,T1=`${X3}-${JT}`,Iee=`${X3}-${Z3}`,h_=class{constructor(t){Lb(this,"name","TaskAbortError");Lb(this,"message");this.code=t,this.message=`${See} ${JT} (reason: ${t})`}},eS=(t,e)=>{if(typeof t!="function")throw new TypeError($r(32))},Fv=()=>{},J3=(t,e=Fv)=>(t.catch(e),t),e6=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Bl=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Fl=t=>{if(t.aborted){const{reason:e}=t;throw new h_(e)}};function t6(t,e){let n=Fv;return new Promise((r,i)=>{const a=()=>i(new h_(t.reason));if(t.aborted){a();return}n=e6(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Fv})}var Ree=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof h_?"cancelled":"rejected",error:n}}finally{e==null||e()}},qv=t=>e=>J3(t6(t,e).then(n=>(Fl(t),n))),n6=t=>{const e=qv(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Cc}=Object,GO={},d_="listenerMiddleware",Nee=(t,e)=>{const n=r=>e6(t,()=>Bl(r,t.reason));return(r,i)=>{eS(r);const a=new AbortController;n(a);const l=Ree(async()=>{Fl(t),Fl(a.signal);const c=await r({pause:qv(a.signal),delay:n6(a.signal),signal:a.signal});return Fl(a.signal),c},()=>Bl(a,Cee));return i!=null&&i.autoJoin&&e.push(l.catch(Fv)),{result:qv(t)(l),cancel(){Bl(a,Aee)}}}},Oee=(t,e)=>{const n=async(r,i)=>{Fl(e);let a=()=>{};const c=[new Promise((f,h)=>{let m=t({predicate:r,effect:(p,y)=>{y.unsubscribe(),f([p,y.getState(),y.getOriginalState()])}});a=()=>{m(),h()}})];i!=null&&c.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await t6(e,Promise.race(c));return Fl(e),f}finally{a()}};return(r,i)=>J3(n(r,i))},r6=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=mi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error($r(21));return eS(a),{predicate:i,type:e,effect:a}},i6=Cc(t=>{const{type:e,predicate:n,effect:r}=r6(t);return{id:pee(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error($r(22))}}},{withTypes:()=>i6}),KO=(t,e)=>{const{type:n,effect:r,predicate:i}=r6(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},S1=t=>{t.pending.forEach(e=>{Bl(e,T1)})},Pee=(t,e)=>()=>{for(const n of e.keys())S1(n);t.clear()},YO=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},s6=Cc(mi(`${d_}/add`),{withTypes:()=>s6}),kee=mi(`${d_}/removeAll`),a6=Cc(mi(`${d_}/remove`),{withTypes:()=>a6}),Mee=(...t)=>{console.error(`${d_}/error`,...t)},lm=(t={})=>{const e=new Map,n=new Map,r=b=>{const w=n.get(b)??0;n.set(b,w+1)},i=b=>{const w=n.get(b)??1;w===1?n.delete(b):n.set(b,w-1)},{extra:a,onError:l=Mee}=t;eS(l);const c=b=>(b.unsubscribe=()=>e.delete(b.id),e.set(b.id,b),w=>{b.unsubscribe(),w!=null&&w.cancelActive&&S1(b)}),f=b=>{const w=KO(e,b)??i6(b);return c(w)};Cc(f,{withTypes:()=>f});const h=b=>{const w=KO(e,b);return w&&(w.unsubscribe(),b.cancelActive&&S1(w)),!!w};Cc(h,{withTypes:()=>h});const m=async(b,w,x,C)=>{const R=new AbortController,M=Oee(f,R.signal),P=[];try{b.pending.add(R),r(b),await Promise.resolve(b.effect(w,Cc({},x,{getOriginalState:C,condition:(q,F)=>M(q,F).then(Boolean),take:M,delay:n6(R.signal),pause:qv(R.signal),extra:a,signal:R.signal,fork:Nee(R.signal,P),unsubscribe:b.unsubscribe,subscribe:()=>{e.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((q,F,$)=>{q!==R&&(Bl(q,T1),$.delete(q))})},cancel:()=>{Bl(R,T1),b.pending.delete(R)},throwIfCancelled:()=>{Fl(R.signal)}})))}catch(q){q instanceof h_||YO(l,q,{raisedBy:"effect"})}finally{await Promise.all(P),Bl(R,Iee),i(b),b.pending.delete(R)}},p=Pee(e,n);return{middleware:b=>w=>x=>{if(!D3(x))return w(x);if(s6.match(x))return f(x.payload);if(kee.match(x)){p();return}if(a6.match(x))return h(x.payload);let C=b.getState();const R=()=>{if(C===GO)throw new Error($r(23));return C};let M;try{if(M=w(x),e.size>0){const P=b.getState(),q=Array.from(e.values());for(const F of q){let $=!1;try{$=F.predicate(x,P,C)}catch(O){$=!1,YO(l,O,{raisedBy:"predicate"})}$&&m(F,x,b,R)}}}finally{C=GO}return M},startListening:f,stopListening:h,clearListeners:p}};function $r(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Dee={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},o6=Ir({name:"chartLayout",initialState:Dee,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Lee,setLayout:jee,setChartSize:Vee,setScale:Uee}=o6.actions,zee=o6.reducer;function l6(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function WO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(n),!0).forEach(function(r){Bee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bee(t,e,n){return(e=Fee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fee(t){var e=qee(t,"string");return typeof e=="symbol"?e:e+""}function qee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sr(t,e,n){return Xn(t)||Xn(e)?n:Fc(e)?Bc(t,e,n):typeof e=="function"?e(t):n}var Hee=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&a!=="center"&&nt(t[a]))return gc(gc({},t),{},{[a]:t[a]+(r||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&l!=="middle"&&nt(t[l]))return gc(gc({},t),{},{[l]:t[l]+(i||0)})}return t},du=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",QO=1e-4,$ee=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-QO,a=Math.max(r[0],r[1])+QO,l=t(e[0]),c=t(e[n-1]);(l<i||l>a||c<i||c>a)&&t.domain([e[0],e[n-1]])}},Gee=(t,e)=>{if(!e||e.length!==2||!nt(e[0])||!nt(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!nt(t[0])||t[0]<n)&&(i[0]=n),(!nt(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Kee=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,l=0;l<e;++l){var c=Is(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1])}},Yee=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var l=Is(t[a][n][1])?t[a][n][0]:t[a][n][1];l>=0?(t[a][n][0]=i,t[a][n][1]=i+l,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},Wee={sign:Kee,expand:LZ,none:zc,silhouette:jZ,wiggle:VZ,positive:Yee},Qee=(t,e,n)=>{var r=Wee[n],i=DZ().keys(e).value((a,l)=>Number(sr(a,l,0))).order(m1).offset(r);return i(t)};function Xee(t){return t==null?void 0:String(t)}var XO=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var c=sr(a,e.dataKey,e.scale.domain()[l]);return Xn(c)?null:e.scale(c)-i/2+r},Zee=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Jee=t=>{var e=t.flat(2).filter(nt);return[Math.min(...e),Math.max(...e)]},ete=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],tte=(t,e,n)=>{if(t!=null)return ete(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:l}=a,c=l.reduce((f,h)=>{var m=l6(h,e,n),p=Jee(m);return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},ZO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,u6=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=GT(e,m=>m.coordinate),a=1/0,l=1,c=i.length;l<c;l++){var f=i[l],h=i[l-1];a=Math.min((f.coordinate||0)-(h.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function eP(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return gc(gc({},e),{},{dataKey:n,payload:r,value:i,name:a})}function c6(t,e){if(t)return String(t);if(typeof e=="string")return e}var nte=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},rte=(t,e)=>e==="centric"?t.angle:t.radius,Ra=t=>t.layout.width,Na=t=>t.layout.height,ite=t=>t.layout.scale,f6=t=>t.layout.margin,m_=re(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),p_=re(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),ste="data-recharts-item-index",ate="data-recharts-item-data-key",um=60;function tP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(n),!0).forEach(function(r){ote(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ote(t,e,n){return(e=lte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lte(t){var e=ute(t,"string");return typeof e=="symbol"?e:e+""}function ute(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cte=t=>t.brush.height;function fte(t){var e=p_(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:um;return n+i}return n},0)}function hte(t){var e=p_(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:um;return n+i}return n},0)}function dte(t){var e=m_(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function mte(t){var e=m_(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Zn=re([Ra,Na,f6,cte,fte,hte,dte,mte,P3,UJ],(t,e,n,r,i,a,l,c,f,h)=>{var m={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+l,bottom:(n.bottom||0)+c},y=yg(yg({},p),m),b=y.bottom;y.bottom+=r,y=Hee(y,f,h);var w=t-y.left-y.right,x=e-y.top-y.bottom;return yg(yg({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(x,0)})}),pte=re(Zn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),h6=re(Ra,Na,(t,e)=>({x:0,y:0,width:t,height:e})),gte=T.createContext(null),vi=()=>T.useContext(gte)!=null,g_=t=>t.brush,v_=re([g_,Zn,f6],(t,e,n)=>({height:t.height,x:nt(t.x)?t.x:e.left,y:nt(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:nt(t.width)?t.width:e.width})),zw={},Bw={},Fw={},nP;function vte(){return nP||(nP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let l,c=null;const f=a!=null&&a.includes("leading"),h=a==null||a.includes("trailing"),m=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},p=()=>{h&&m(),x()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,p()},r)},w=()=>{y!==null&&(clearTimeout(y),y=null)},x=()=>{w(),l=void 0,c=null},C=()=>{m()},R=function(...M){if(i!=null&&i.aborted)return;l=this,c=M;const P=y==null;b(),f&&P&&m()};return R.schedule=b,R.cancel=x,R.flush=C,i==null||i.addEventListener("abort",x,{once:!0}),R}t.debounce=e})(Fw)),Fw}var rP;function yte(){return rP||(rP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vte();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:c=!0,maxWait:f}=a,h=Array(2);l&&(h[0]="leading"),c&&(h[1]="trailing");let m,p=null;const y=e.debounce(function(...x){m=r.apply(this,x),p=null},i,{edges:h}),b=function(...x){return f!=null&&(p===null&&(p=Date.now()),Date.now()-p>=f)?(m=r.apply(this,x),p=Date.now(),y.cancel(),y.schedule(),m):(y.apply(this,x),m)},w=()=>(y.flush(),m);return b.cancel=y.cancel,b.flush=w,b}t.debounce=n})(Bw)),Bw}var iP;function _te(){return iP||(iP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yte();function n(r,i=0,a={}){const{leading:l=!0,trailing:c=!0}=a;return e.debounce(r,i,{leading:l,maxWait:i,trailing:c})}t.throttle=n})(zw)),zw}var qw,sP;function bte(){return sP||(sP=1,qw=_te().throttle),qw}var wte=bte();const Ete=Sa(wte);var aP=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},d6=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:l}=n,c=ya(r)?t:Number(r),f=ya(i)?e:Number(i);return a&&a>0&&(c?f=c/a:f&&(c=f*a),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:c,calculatedHeight:f}},xte={width:0,height:0,overflow:"visible"},Tte={width:0,overflowX:"visible"},Ste={height:0,overflowY:"visible"},Ate={},Cte=t=>{var{width:e,height:n}=t,r=ya(e),i=ya(n);return r&&i?xte:r?Tte:i?Ste:Ate};function Ite(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function tn(t){return Number.isFinite(t)}function Go(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function A1(){return A1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A1.apply(null,arguments)}function oP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(n),!0).forEach(function(r){Rte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rte(t,e,n){return(e=Nte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nte(t){var e=Ote(t,"string");return typeof e=="symbol"?e:e+""}function Ote(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var m6=T.createContext({width:-1,height:-1});function Pte(t){return Go(t.width)&&Go(t.height)}function p6(t){var{children:e,width:n,height:r}=t,i=T.useMemo(()=>({width:n,height:r}),[n,r]);return Pte(i)?T.createElement(m6.Provider,{value:i},e):null}var tS=()=>T.useContext(m6),kte=T.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:l=0,minHeight:c,maxHeight:f,children:h,debounce:m=0,id:p,className:y,onResize:b,style:w={}}=t,x=T.useRef(null),C=T.useRef();C.current=b,T.useImperativeHandle(e,()=>x.current);var[R,M]=T.useState({containerWidth:r.width,containerHeight:r.height}),P=T.useCallback((L,k)=>{M(V=>{var D=Math.round(L),B=Math.round(k);return V.containerWidth===D&&V.containerHeight===B?V:{containerWidth:D,containerHeight:B}})},[]);T.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return sm;var L=B=>{var U,{width:ye,height:Te}=B[0].contentRect;P(ye,Te),(U=C.current)===null||U===void 0||U.call(C,ye,Te)};m>0&&(L=Ete(L,m,{trailing:!0,leading:!1}));var k=new ResizeObserver(L),{width:V,height:D}=x.current.getBoundingClientRect();return P(V,D),k.observe(x.current),()=>{k.disconnect()}},[P,m]);var{containerWidth:q,containerHeight:F}=R;aP(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:$,calculatedHeight:O}=d6(q,F,{width:i,height:a,aspect:n,maxHeight:f});return aP($!=null&&$>0||O!=null&&O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,O,i,a,l,c,n),T.createElement("div",{id:p?"".concat(p):void 0,className:Sn("recharts-responsive-container",y),style:lP(lP({},w),{},{width:i,height:a,minWidth:l,minHeight:c,maxHeight:f}),ref:x},T.createElement("div",{style:Cte({width:i,height:a})},T.createElement(p6,{width:$,height:O},h)))}),Mte=T.forwardRef((t,e)=>{var n=tS();if(Go(n.width)&&Go(n.height))return t.children;var{width:r,height:i}=Ite({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:l}=d6(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return nt(a)&&nt(l)?T.createElement(p6,{width:a,height:l},t.children):T.createElement(kte,A1({},t,{width:r,height:i,ref:e}))});function g6(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var v6=()=>{var t,e=vi(),n=ot(pte),r=ot(v_),i=(t=ot(g_))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Dte=()=>ot(Ra),Lte=()=>ot(Na),yt=t=>t.layout.layoutType,nS=()=>ot(yt),jte=()=>{var t=nS();return t!==void 0},y_=t=>{var e=jn(),n=vi(),{width:r,height:i}=t,a=tS(),l=r,c=i;return a&&(l=a.width>0?a.width:r,c=a.height>0?a.height:i),T.useEffect(()=>{!n&&Go(l)&&Go(c)&&e(Vee({width:l,height:c}))},[e,n,l,c]),null},y6=Symbol.for("immer-nothing"),uP=Symbol.for("immer-draftable"),Gr=Symbol.for("immer-state");function ki(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Cd=Object.getPrototypeOf;function $c(t){return!!t&&!!t[Gr]}function Jl(t){var e;return t?_6(t)||Array.isArray(t)||!!t[uP]||!!((e=t.constructor)!=null&&e[uP])||cm(t)||b_(t):!1}var Vte=Object.prototype.constructor.toString(),cP=new WeakMap;function _6(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=cP.get(n);return r===void 0&&(r=Function.toString.call(n),cP.set(n,r)),r===Vte}function Hv(t,e,n=!0){__(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function __(t){const e=t[Gr];return e?e.type_:Array.isArray(t)?1:cm(t)?2:b_(t)?3:0}function C1(t,e){return __(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function b6(t,e,n){const r=__(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Ute(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function cm(t){return t instanceof Map}function b_(t){return t instanceof Set}function Ml(t){return t.copy_||t.base_}function I1(t,e){if(cm(t))return new Map(t);if(b_(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=_6(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Gr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(Cd(t),r)}else{const r=Cd(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function rS(t,e=!1){return w_(t)||$c(t)||!Jl(t)||(__(t)>1&&Object.defineProperties(t,{set:_g,add:_g,clear:_g,delete:_g}),Object.freeze(t),e&&Object.values(t).forEach(n=>rS(n,!0))),t}function zte(){ki(2)}var _g={value:zte};function w_(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Bte={};function eu(t){const e=Bte[t];return e||ki(0,t),e}var Id;function w6(){return Id}function Fte(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fP(t,e){e&&(eu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function R1(t){N1(t),t.drafts_.forEach(qte),t.drafts_=null}function N1(t){t===Id&&(Id=t.parent_)}function hP(t){return Id=Fte(Id,t)}function qte(t){const e=t[Gr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function dP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Gr].modified_&&(R1(e),ki(4)),Jl(t)&&(t=$v(e,t),e.parent_||Gv(e,t)),e.patches_&&eu("Patches").generateReplacementPatches_(n[Gr].base_,t,e.patches_,e.inversePatches_)):t=$v(e,n,[]),R1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==y6?t:void 0}function $v(t,e,n){if(w_(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Gr];if(!i)return Hv(e,(a,l)=>mP(t,i,e,a,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Gv(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,c=!1;i.type_===3&&(l=new Set(a),a.clear(),c=!0),Hv(l,(f,h)=>mP(t,i,a,f,h,n,c),r),Gv(t,a,!1),n&&t.patches_&&eu("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function mP(t,e,n,r,i,a,l){if(i==null||typeof i!="object"&&!l)return;const c=w_(i);if(!(c&&!l)){if($c(i)){const f=a&&e&&e.type_!==3&&!C1(e.assigned_,r)?a.concat(r):void 0,h=$v(t,i,f);if(b6(n,r,h),$c(h))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Jl(i)&&!c){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&c)return;$v(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(cm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Gv(t,i)}}}function Gv(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&rS(e,n)}function Hte(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:w6(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=iS;n&&(i=[r],a=Rd);const{revoke:l,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=l,c}var iS={get(t,e){if(e===Gr)return t;const n=Ml(t);if(!C1(n,e))return $te(t,n,e);const r=n[e];return t.finalized_||!Jl(r)?r:r===Hw(t.base_,e)?($w(t),t.copy_[e]=P1(r,t)):r},has(t,e){return e in Ml(t)},ownKeys(t){return Reflect.ownKeys(Ml(t))},set(t,e,n){const r=E6(Ml(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Hw(Ml(t),e),a=i==null?void 0:i[Gr];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Ute(n,i)&&(n!==void 0||C1(t.base_,e)))return!0;$w(t),O1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Hw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,$w(t),O1(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ml(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ki(11)},getPrototypeOf(t){return Cd(t.base_)},setPrototypeOf(){ki(12)}},Rd={};Hv(iS,(t,e)=>{Rd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Rd.deleteProperty=function(t,e){return Rd.set.call(this,t,e,void 0)};Rd.set=function(t,e,n){return iS.set.call(this,t[0],e,n,t[0])};function Hw(t,e){const n=t[Gr];return(n?Ml(n):t)[e]}function $te(t,e,n){var i;const r=E6(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function E6(t,e){if(!(e in t))return;let n=Cd(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Cd(n)}}function O1(t){t.modified_||(t.modified_=!0,t.parent_&&O1(t.parent_))}function $w(t){t.copy_||(t.copy_=I1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Gte=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const l=this;return function(f=a,...h){return l.produce(f,m=>n.call(this,m,...h))}}typeof n!="function"&&ki(6),r!==void 0&&typeof r!="function"&&ki(7);let i;if(Jl(e)){const a=hP(this),l=P1(e,void 0);let c=!0;try{i=n(l),c=!1}finally{c?R1(a):N1(a)}return fP(a,r),dP(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===y6&&(i=void 0),this.autoFreeze_&&rS(i,!0),r){const a=[],l=[];eu("Patches").generateReplacementPatches_(e,i,a,l),r(a,l)}return i}else ki(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,f=>e(f,...c));let r,i;return[this.produce(e,n,(l,c)=>{r=l,i=c}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Jl(t)||ki(8),$c(t)&&(t=Kte(t));const e=hP(this),n=P1(t,void 0);return n[Gr].isManual_=!0,N1(e),n}finishDraft(t,e){const n=t&&t[Gr];(!n||!n.isManual_)&&ki(9);const{scope_:r}=n;return fP(r,e),dP(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=eu("Patches").applyPatches_;return $c(t)?r(t,e):this.produce(t,i=>r(i,e))}};function P1(t,e){const n=cm(t)?eu("MapSet").proxyMap_(t,e):b_(t)?eu("MapSet").proxySet_(t,e):Hte(t,e);return(e?e.scope_:w6()).drafts_.push(n),n}function Kte(t){return $c(t)||ki(10,t),x6(t)}function x6(t){if(!Jl(t)||w_(t))return t;const e=t[Gr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=I1(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=I1(t,!0);return Hv(n,(i,a)=>{b6(n,i,x6(a))},r),e&&(e.finalized_=!1),n}var Yte=new Gte;Yte.produce;var Wte={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},T6=Ir({name:"legend",initialState:Wte,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Vt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Bi(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Vt()},removeLegendPayload:{reducer(t,e){var n=Bi(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Vt()}}}),{setLegendSize:Lme,setLegendSettings:jme,addLegendPayload:Qte,replaceLegendPayload:Xte,removeLegendPayload:Zte}=T6.actions,Jte=T6.reducer,ene=()=>{var t;return(t=ot(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function k1(){return k1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k1.apply(null,arguments)}function pP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(n),!0).forEach(function(r){tne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tne(t,e,n){return(e=nne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nne(t){var e=rne(t,"string");return typeof e=="symbol"?e:e+""}function rne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vP={curveBasisClosed:TZ,curveBasisOpen:SZ,curveBasis:xZ,curveBumpX:uZ,curveBumpY:cZ,curveLinearClosed:AZ,curveLinear:i_,curveMonotoneX:CZ,curveMonotoneY:IZ,curveNatural:RZ,curveStep:NZ,curveStepAfter:PZ,curveStepBefore:OZ},Kv=t=>tn(t.x)&&tn(t.y),yP=t=>t.base!=null&&Kv(t.base)&&Kv(t),Rh=t=>t.x,Nh=t=>t.y,ine=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(im(t));return(n==="curveMonotone"||n==="curveBump")&&e?vP["".concat(n).concat(e==="vertical"?"Y":"X")]:vP[n]||i_},sne=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,l=ine(e,i),c=a?n.filter(Kv):n,f;if(Array.isArray(r)){var h=n.map((b,w)=>gP(gP({},b),{},{base:r[w]}));i==="vertical"?f=dg().y(Nh).x1(Rh).x0(b=>b.base.x):f=dg().x(Rh).y1(Nh).y0(b=>b.base.y);var m=f.defined(yP).curve(l),p=a?h.filter(yP):h;return m(p)}i==="vertical"&&nt(r)?f=dg().y(Nh).x1(Rh).x0(r):nt(r)?f=dg().x(Rh).y1(Nh).y0(r):f=h3().x(Rh).y(Nh);var y=f.defined(Kv).curve(l);return y(c)},ane=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?sne(t):r;return T.createElement("path",k1({},$o(t),iJ(t),{className:Sn("recharts-curve",e),d:a===null?void 0:a,ref:i}))};function _P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(n),!0).forEach(function(r){one(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function one(t,e,n){return(e=lne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lne(t){var e=une(t,"string");return typeof e=="symbol"?e:e+""}function une(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cne=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),S6=(t,e,n)=>t.map(r=>"".concat(cne(r)," ").concat(e,"ms ").concat(n)).join(","),fne=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Nd=(t,e)=>Object.keys(e).reduce((n,r)=>bP(bP({},n),{},{[r]:t(r,e[r])}),{});function wP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(n),!0).forEach(function(r){hne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hne(t,e,n){return(e=dne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dne(t){var e=mne(t,"string");return typeof e=="symbol"?e:e+""}function mne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yv=(t,e,n)=>t+(e-t)*n,M1=t=>{var{from:e,to:n}=t;return e!==n},A6=(t,e,n)=>{var r=Nd((i,a)=>{if(M1(a)){var[l,c]=t(a.from,a.to,a.velocity);return bn(bn({},a),{},{from:l,velocity:c})}return a},e);return n<1?Nd((i,a)=>M1(a)?bn(bn({},a),{},{velocity:Yv(a.velocity,r[i].velocity,n),from:Yv(a.from,r[i].from,n)}):a,e):A6(t,r,n-1)};function pne(t,e,n,r,i,a){var l,c=r.reduce((y,b)=>bn(bn({},y),{},{[b]:{from:t[b],velocity:0,to:e[b]}}),{}),f=()=>Nd((y,b)=>b.from,c),h=()=>!Object.values(c).filter(M1).length,m=null,p=y=>{l||(l=y);var b=y-l,w=b/n.dt;c=A6(n,c,w),i(bn(bn(bn({},t),e),f())),l=y,h()||(m=a.setTimeout(p))};return()=>(m=a.setTimeout(p),()=>{var y;(y=m)===null||y===void 0||y()})}function gne(t,e,n,r,i,a,l){var c=null,f=i.reduce((p,y)=>bn(bn({},p),{},{[y]:[t[y],e[y]]}),{}),h,m=p=>{h||(h=p);var y=(p-h)/r,b=Nd((x,C)=>Yv(...C,n(y)),f);if(a(bn(bn(bn({},t),e),b)),y<1)c=l.setTimeout(m);else{var w=Nd((x,C)=>Yv(...C,n(1)),f);a(bn(bn(bn({},t),e),w))}};return()=>(c=l.setTimeout(m),()=>{var p;(p=c)===null||p===void 0||p()})}const vne=(t,e,n,r,i,a)=>{var l=fne(t,e);return n==null?()=>(i(bn(bn({},t),e)),()=>{}):n.isStepper===!0?pne(t,e,n,l,i,a):gne(t,e,n,r,l,i,a)};var Wv=1e-4,C6=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],I6=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),EP=(t,e)=>n=>{var r=C6(t,e);return I6(r,n)},yne=(t,e)=>n=>{var r=C6(t,e),i=[...r.map((a,l)=>a*l).slice(1),0];return I6(i,n)},_ne=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var l=a[1].split(")")[0].split(",").map(c=>parseFloat(c));return[l[0],l[1],l[2],l[3]]}}}return n.length===4?n:[0,0,1,1]},bne=(t,e,n,r)=>{var i=EP(t,n),a=EP(e,r),l=yne(t,n),c=h=>h>1?1:h<0?0:h,f=h=>{for(var m=h>1?1:h,p=m,y=0;y<8;++y){var b=i(p)-m,w=l(p);if(Math.abs(b-m)<Wv||w<Wv)return a(p);p=c(p-b/w)}return a(p)};return f.isStepper=!1,f},xP=function(){return bne(..._ne(...arguments))},wne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(l,c,f)=>{var h=-(l-c)*n,m=f*r,p=f+(h-m)*i/1e3,y=f*i/1e3+l;return Math.abs(y-c)<Wv&&Math.abs(p)<Wv?[c,0]:[y,p]};return a.isStepper=!0,a.dt=i,a},Ene=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xP(t);case"spring":return wne();default:if(t.split("(")[0]==="cubic-bezier")return xP(t)}return typeof t=="function"?t:null};function xne(t){var e,n=()=>null,r=!1,i=null,a=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[f,...h]=c;if(typeof f=="number"){i=t.setTimeout(a.bind(null,h),f);return}a(f),i=t.setTimeout(a.bind(null,h));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),a(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class Tne{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Sne(){return xne(new Tne)}var Ane=T.createContext(Sne);function Cne(t,e){var n=T.useContext(Ane);return T.useMemo(()=>e??n(t),[t,e,n])}var Ine=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),fm={devToolsEnabled:!1,isSsr:Ine()},Rne={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},TP={t:0},Gw={t:1};function sS(t){var e=ks(t,Rne),{isActive:n,canBegin:r,duration:i,easing:a,begin:l,onAnimationEnd:c,onAnimationStart:f,children:h}=e,m=n==="auto"?!fm.isSsr:n,p=Cne(e.animationId,e.animationManager),[y,b]=T.useState(m?TP:Gw),w=T.useRef(null);return T.useEffect(()=>{m||b(Gw)},[m]),T.useEffect(()=>{if(!m||!r)return sm;var x=vne(TP,Gw,Ene(a),i,b,p.getTimeoutController()),C=()=>{w.current=x()};return p.start([f,l,C,i,c]),()=>{p.stop(),w.current&&w.current(),c()}},[m,r,i,a,l,f,c,p]),h(y.t)}function aS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=T.useRef(xd(e)),r=T.useRef(t);return r.current!==t&&(n.current=xd(e),r.current=t),n.current}var Nne=["radius"],One=["radius"];function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){Pne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pne(t,e,n){return(e=kne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kne(t){var e=Mne(t,"string");return typeof e=="symbol"?e:e+""}function Mne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qv(){return Qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qv.apply(null,arguments)}function CP(t,e){if(t==null)return{};var n,r,i=Dne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var IP=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,c=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,h;if(a>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,y=4;p<y;p++)m[p]=i[p]>a?a:i[p];h="M".concat(t,",").concat(e+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(t+c*m[0],",").concat(e)),h+="L ".concat(t+n-c*m[1],",").concat(e),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+l*m[1])),h+="L ".concat(t+n,",").concat(e+r-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(t+n-c*m[2],",").concat(e+r)),h+="L ".concat(t+c*m[3],",").concat(e+r),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-l*m[3])),h+="Z"}else if(a>0&&i===+i&&i>0){var b=Math.min(a,i);h="M ".concat(t,",").concat(e+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+c*b,",").concat(e,`
            L `).concat(t+n-c*b,",").concat(e,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n,",").concat(e+l*b,`
            L `).concat(t+n,",").concat(e+r-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n-c*b,",").concat(e+r,`
            L `).concat(t+c*b,",").concat(e+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t,",").concat(e+r-l*b," Z")}else h="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},RP={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Lne=t=>{var e=ks(t,RP),n=T.useRef(null),[r,i]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var oe=n.current.getTotalLength();oe&&i(oe)}catch{}},[]);var{x:a,y:l,width:c,height:f,radius:h,className:m}=e,{animationEasing:p,animationDuration:y,animationBegin:b,isAnimationActive:w,isUpdateAnimationActive:x}=e,C=T.useRef(c),R=T.useRef(f),M=T.useRef(a),P=T.useRef(l),q=T.useMemo(()=>({x:a,y:l,width:c,height:f,radius:h}),[a,l,c,f,h]),F=aS(q,"rectangle-");if(a!==+a||l!==+l||c!==+c||f!==+f||c===0||f===0)return null;var $=Sn("recharts-rectangle",m);if(!x){var O=Hi(e),{radius:L}=O,k=CP(O,Nne);return T.createElement("path",Qv({},k,{radius:typeof h=="number"?h:void 0,className:$,d:IP(a,l,c,f,h)}))}var V=C.current,D=R.current,B=M.current,U=P.current,ye="0px ".concat(r===-1?1:r,"px"),Te="".concat(r,"px 0px"),Z=S6(["strokeDasharray"],y,typeof p=="string"?p:RP.animationEasing);return T.createElement(sS,{animationId:F,key:F,canBegin:r>0,duration:y,easing:p,isActive:x,begin:b},oe=>{var ie=Yn(V,c,oe),J=Yn(D,f,oe),me=Yn(B,a,oe),z=Yn(U,l,oe);n.current&&(C.current=ie,R.current=J,M.current=me,P.current=z);var Y;w?oe>0?Y={transition:Z,strokeDasharray:Te}:Y={strokeDasharray:ye}:Y={strokeDasharray:Te};var le=Hi(e),{radius:de}=le,_e=CP(le,One);return T.createElement("path",Qv({},_e,{radius:typeof h=="number"?h:void 0,className:$,d:IP(me,z,ie,J,h),ref:n,style:AP(AP({},Y),e.style)}))})};function NP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(n),!0).forEach(function(r){jne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jne(t,e,n){return(e=Vne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vne(t){var e=Une(t,"string");return typeof e=="symbol"?e:e+""}function Une(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xv=Math.PI/180,zne=t=>t*180/Math.PI,Hr=(t,e,n,r)=>({x:t+Math.cos(-Xv*r)*n,y:e+Math.sin(-Xv*r)*n}),Bne=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Fne=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},qne=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,l=Fne({x:n,y:r},{x:i,y:a});if(l<=0)return{radius:l,angle:0};var c=(n-i)/l,f=Math.acos(c);return r>a&&(f=2*Math.PI-f),{radius:l,angle:zne(f),angleInRadian:f}},Hne=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},$ne=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),l=Math.min(i,a);return t+l*360},Gne=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=qne({x:n,y:r},e),{innerRadius:l,outerRadius:c}=e;if(i<l||i>c||i===0)return null;var{startAngle:f,endAngle:h}=Hne(e),m=a,p;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;p=m>=h&&m<=f}return p?OP(OP({},e),{},{radius:i,angle:$ne(m,e)}):null};function D1(){return D1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D1.apply(null,arguments)}var Kne=(t,e)=>{var n=Fr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},bg=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:l,cornerRadius:c,cornerIsExternal:f}=t,h=c*(l?1:-1)+r,m=Math.asin(c/h)/Xv,p=f?i:i+a*m,y=Hr(e,n,h,p),b=Hr(e,n,r,p),w=f?i-a*m:i,x=Hr(e,n,h*Math.cos(m*Xv),w);return{center:y,circleTangency:b,lineTangency:x,theta:m}},R6=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:l}=t,c=Kne(a,l),f=a+c,h=Hr(e,n,i,a),m=Hr(e,n,i,f),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var y=Hr(e,n,r,a),b=Hr(e,n,r,f);p+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=f),`,
            `).concat(y.x,",").concat(y.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},Yne=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:h}=t,m=Fr(h-f),{circleTangency:p,lineTangency:y,theta:b}=bg({cx:e,cy:n,radius:i,angle:f,sign:m,cornerRadius:a,cornerIsExternal:c}),{circleTangency:w,lineTangency:x,theta:C}=bg({cx:e,cy:n,radius:i,angle:h,sign:-m,cornerRadius:a,cornerIsExternal:c}),R=c?Math.abs(f-h):Math.abs(f-h)-b-C;if(R<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):R6({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:h});var M="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
  `);if(r>0){var{circleTangency:P,lineTangency:q,theta:F}=bg({cx:e,cy:n,radius:r,angle:f,sign:m,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:$,lineTangency:O,theta:L}=bg({cx:e,cy:n,radius:r,angle:h,sign:-m,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),k=c?Math.abs(f-h):Math.abs(f-h)-F-L;if(k<0&&a===0)return"".concat(M,"L").concat(e,",").concat(n,"Z");M+="L".concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat($.x,",").concat($.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(m>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(q.x,",").concat(q.y,"Z")}else M+="L".concat(e,",").concat(n,"Z");return M},Wne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Qne=t=>{var e=ks(t,Wne),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:m,className:p}=e;if(a<i||h===m)return null;var y=Sn("recharts-sector",p),b=a-i,w=$i(l,b,0,!0),x;return w>0&&Math.abs(h-m)<360?x=Yne({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(w,b/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:m}):x=R6({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:h,endAngle:m}),T.createElement("path",D1({},Hi(e),{className:y,d:x}))},Kw={},Yw={},Ww={},PP;function Xne(){return PP||(PP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N3();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Ww)),Ww}var kP;function Zne(){return kP||(kP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xne();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Yw)),Yw}var MP;function Jne(){return MP||(MP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O3(),n=Zne();function r(i,a,l){l&&typeof l!="number"&&e.isIterateeCall(i,a,l)&&(a=l=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),l=l===void 0?i<a?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((a-i)/(l||1)),0),f=new Array(c);for(let h=0;h<c;h++)f[h]=i,i+=l;return f}t.range=r})(Kw)),Kw}var Qw,DP;function ere(){return DP||(DP=1,Qw=Jne().range),Qw}var tre=ere();const N6=Sa(tre);function ko(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oS(t){let e,n,r;t.length!==2?(e=ko,n=(c,f)=>ko(t(c),f),r=(c,f)=>t(c)-f):(e=t===ko||t===nre?t:rre,n=t,r=t);function i(c,f,h=0,m=c.length){if(h<m){if(e(f,f)!==0)return m;do{const p=h+m>>>1;n(c[p],f)<0?h=p+1:m=p}while(h<m)}return h}function a(c,f,h=0,m=c.length){if(h<m){if(e(f,f)!==0)return m;do{const p=h+m>>>1;n(c[p],f)<=0?h=p+1:m=p}while(h<m)}return h}function l(c,f,h=0,m=c.length){const p=i(c,f,h,m-1);return p>h&&r(c[p-1],f)>-r(c[p],f)?p-1:p}return{left:i,center:l,right:a}}function rre(){return 0}function O6(t){return t===null?NaN:+t}function*ire(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const sre=oS(ko),hm=sre.right;oS(O6).center;class LP extends Map{constructor(e,n=lre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(jP(this,e))}has(e){return super.has(jP(this,e))}set(e,n){return super.set(are(this,e),n)}delete(e){return super.delete(ore(this,e))}}function jP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function are({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ore({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function lre(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ure(t=ko){if(t===ko)return P6;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function P6(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const cre=Math.sqrt(50),fre=Math.sqrt(10),hre=Math.sqrt(2);function Zv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),l=a>=cre?10:a>=fre?5:a>=hre?2:1;let c,f,h;return i<0?(h=Math.pow(10,-i)/l,c=Math.round(t*h),f=Math.round(e*h),c/h<t&&++c,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*l,c=Math.round(t/h),f=Math.round(e/h),c*h<t&&++c,f*h>e&&--f),f<c&&.5<=n&&n<2?Zv(t,e,n*2):[c,f,h]}function L1(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,l]=r?Zv(e,t,n):Zv(t,e,n);if(!(a>=i))return[];const c=a-i+1,f=new Array(c);if(r)if(l<0)for(let h=0;h<c;++h)f[h]=(a-h)/-l;else for(let h=0;h<c;++h)f[h]=(a-h)*l;else if(l<0)for(let h=0;h<c;++h)f[h]=(i+h)/-l;else for(let h=0;h<c;++h)f[h]=(i+h)*l;return f}function j1(t,e,n){return e=+e,t=+t,n=+n,Zv(t,e,n)[2]}function V1(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?j1(e,t,n):j1(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function VP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function UP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function k6(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?P6:ure(i);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,m=Math.log(f),p=.5*Math.exp(2*m/3),y=.5*Math.sqrt(m*p*(f-p)/f)*(h-f/2<0?-1:1),b=Math.max(n,Math.floor(e-h*p/f+y)),w=Math.min(r,Math.floor(e+(f-h)*p/f+y));k6(t,e,b,w,i)}const a=t[e];let l=n,c=r;for(Oh(t,n,e),i(t[r],a)>0&&Oh(t,n,r);l<c;){for(Oh(t,l,c),++l,--c;i(t[l],a)<0;)++l;for(;i(t[c],a)>0;)--c}i(t[n],a)===0?Oh(t,n,c):(++c,Oh(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function Oh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function dre(t,e,n){if(t=Float64Array.from(ire(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return UP(t);if(e>=1)return VP(t);var r,i=(r-1)*e,a=Math.floor(i),l=VP(k6(t,a).subarray(0,a+1)),c=UP(t.subarray(a+1));return l+(c-l)*(i-a)}}function mre(t,e,n=O6){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),l=+n(t[a],a,t),c=+n(t[a+1],a+1,t);return l+(c-l)*(i-a)}}function pre(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function yi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Oa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const U1=Symbol("implicit");function lS(){var t=new LP,e=[],n=[],r=U1;function i(a){let l=t.get(a);if(l===void 0){if(r!==U1)return r;t.set(a,l=e.push(a)-1)}return n[l%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new LP;for(const l of a)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return lS(e,n).unknown(r)},yi.apply(i,arguments),i}function uS(){var t=lS().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,l,c=!1,f=0,h=0,m=.5;delete t.unknown;function p(){var y=e().length,b=i<r,w=b?i:r,x=b?r:i;a=(x-w)/Math.max(1,y-f+h*2),c&&(a=Math.floor(a)),w+=(x-w-a*(y-f))*m,l=a*(1-f),c&&(w=Math.round(w),l=Math.round(l));var C=pre(y).map(function(R){return w+a*R});return n(b?C.reverse():C)}return t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,c=!0,p()},t.bandwidth=function(){return l},t.step=function(){return a},t.round=function(y){return arguments.length?(c=!!y,p()):c},t.padding=function(y){return arguments.length?(f=Math.min(1,h=+y),p()):f},t.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),p()):f},t.paddingOuter=function(y){return arguments.length?(h=+y,p()):h},t.align=function(y){return arguments.length?(m=Math.max(0,Math.min(1,y)),p()):m},t.copy=function(){return uS(e(),[r,i]).round(c).paddingInner(f).paddingOuter(h).align(m)},yi.apply(p(),arguments)}function M6(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return M6(e())},t}function gre(){return M6(uS.apply(null,arguments).paddingInner(1))}function cS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function D6(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function dm(){}var Od=.7,Jv=1/Od,Ic="\\s*([+-]?\\d+)\\s*",Pd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ss="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vre=/^#([0-9a-f]{3,8})$/,yre=new RegExp(`^rgb\\(${Ic},${Ic},${Ic}\\)$`),_re=new RegExp(`^rgb\\(${Ss},${Ss},${Ss}\\)$`),bre=new RegExp(`^rgba\\(${Ic},${Ic},${Ic},${Pd}\\)$`),wre=new RegExp(`^rgba\\(${Ss},${Ss},${Ss},${Pd}\\)$`),Ere=new RegExp(`^hsl\\(${Pd},${Ss},${Ss}\\)$`),xre=new RegExp(`^hsla\\(${Pd},${Ss},${Ss},${Pd}\\)$`),zP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cS(dm,kd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:BP,formatHex:BP,formatHex8:Tre,formatHsl:Sre,formatRgb:FP,toString:FP});function BP(){return this.rgb().formatHex()}function Tre(){return this.rgb().formatHex8()}function Sre(){return L6(this).formatHsl()}function FP(){return this.rgb().formatRgb()}function kd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=vre.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?qP(e):n===3?new Sr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?wg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?wg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=yre.exec(t))?new Sr(e[1],e[2],e[3],1):(e=_re.exec(t))?new Sr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=bre.exec(t))?wg(e[1],e[2],e[3],e[4]):(e=wre.exec(t))?wg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ere.exec(t))?GP(e[1],e[2]/100,e[3]/100,1):(e=xre.exec(t))?GP(e[1],e[2]/100,e[3]/100,e[4]):zP.hasOwnProperty(t)?qP(zP[t]):t==="transparent"?new Sr(NaN,NaN,NaN,0):null}function qP(t){return new Sr(t>>16&255,t>>8&255,t&255,1)}function wg(t,e,n,r){return r<=0&&(t=e=n=NaN),new Sr(t,e,n,r)}function Are(t){return t instanceof dm||(t=kd(t)),t?(t=t.rgb(),new Sr(t.r,t.g,t.b,t.opacity)):new Sr}function z1(t,e,n,r){return arguments.length===1?Are(t):new Sr(t,e,n,r??1)}function Sr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}cS(Sr,z1,D6(dm,{brighter(t){return t=t==null?Jv:Math.pow(Jv,t),new Sr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Od:Math.pow(Od,t),new Sr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Sr(ql(this.r),ql(this.g),ql(this.b),ey(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:HP,formatHex:HP,formatHex8:Cre,formatRgb:$P,toString:$P}));function HP(){return`#${Ul(this.r)}${Ul(this.g)}${Ul(this.b)}`}function Cre(){return`#${Ul(this.r)}${Ul(this.g)}${Ul(this.b)}${Ul((isNaN(this.opacity)?1:this.opacity)*255)}`}function $P(){const t=ey(this.opacity);return`${t===1?"rgb(":"rgba("}${ql(this.r)}, ${ql(this.g)}, ${ql(this.b)}${t===1?")":`, ${t})`}`}function ey(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ql(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ul(t){return t=ql(t),(t<16?"0":"")+t.toString(16)}function GP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Mi(t,e,n,r)}function L6(t){if(t instanceof Mi)return new Mi(t.h,t.s,t.l,t.opacity);if(t instanceof dm||(t=kd(t)),!t)return new Mi;if(t instanceof Mi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),l=NaN,c=a-i,f=(a+i)/2;return c?(e===a?l=(n-r)/c+(n<r)*6:n===a?l=(r-e)/c+2:l=(e-n)/c+4,c/=f<.5?a+i:2-a-i,l*=60):c=f>0&&f<1?0:l,new Mi(l,c,f,t.opacity)}function Ire(t,e,n,r){return arguments.length===1?L6(t):new Mi(t,e,n,r??1)}function Mi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}cS(Mi,Ire,D6(dm,{brighter(t){return t=t==null?Jv:Math.pow(Jv,t),new Mi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Od:Math.pow(Od,t),new Mi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Sr(Xw(t>=240?t-240:t+120,i,r),Xw(t,i,r),Xw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Mi(KP(this.h),Eg(this.s),Eg(this.l),ey(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ey(this.opacity);return`${t===1?"hsl(":"hsla("}${KP(this.h)}, ${Eg(this.s)*100}%, ${Eg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function KP(t){return t=(t||0)%360,t<0?t+360:t}function Eg(t){return Math.max(0,Math.min(1,t||0))}function Xw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const fS=t=>()=>t;function Rre(t,e){return function(n){return t+n*e}}function Nre(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ore(t){return(t=+t)==1?j6:function(e,n){return n-e?Nre(e,n,t):fS(isNaN(e)?n:e)}}function j6(t,e){var n=e-t;return n?Rre(t,n):fS(isNaN(t)?e:t)}const YP=(function t(e){var n=Ore(e);function r(i,a){var l=n((i=z1(i)).r,(a=z1(a)).r),c=n(i.g,a.g),f=n(i.b,a.b),h=j6(i.opacity,a.opacity);return function(m){return i.r=l(m),i.g=c(m),i.b=f(m),i.opacity=h(m),i+""}}return r.gamma=t,r})(1);function Pre(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function kre(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Mre(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)i[l]=pf(t[l],e[l]);for(;l<n;++l)a[l]=e[l];return function(c){for(l=0;l<r;++l)a[l]=i[l](c);return a}}function Dre(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ty(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Lre(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=pf(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var B1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zw=new RegExp(B1.source,"g");function jre(t){return function(){return t}}function Vre(t){return function(e){return t(e)+""}}function Ure(t,e){var n=B1.lastIndex=Zw.lastIndex=0,r,i,a,l=-1,c=[],f=[];for(t=t+"",e=e+"";(r=B1.exec(t))&&(i=Zw.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),c[l]?c[l]+=a:c[++l]=a),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,f.push({i:l,x:ty(r,i)})),n=Zw.lastIndex;return n<e.length&&(a=e.slice(n),c[l]?c[l]+=a:c[++l]=a),c.length<2?f[0]?Vre(f[0].x):jre(e):(e=f.length,function(h){for(var m=0,p;m<e;++m)c[(p=f[m]).i]=p.x(h);return c.join("")})}function pf(t,e){var n=typeof e,r;return e==null||n==="boolean"?fS(e):(n==="number"?ty:n==="string"?(r=kd(e))?(e=r,YP):Ure:e instanceof kd?YP:e instanceof Date?Dre:kre(e)?Pre:Array.isArray(e)?Mre:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Lre:ty)(t,e)}function hS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function zre(t,e){e===void 0&&(e=t,t=pf);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return a[c](l-c)}}function Bre(t){return function(){return t}}function ny(t){return+t}var WP=[0,1];function dr(t){return t}function F1(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Bre(isNaN(e)?NaN:.5)}function Fre(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function qre(t,e,n){var r=t[0],i=t[1],a=e[0],l=e[1];return i<r?(r=F1(i,r),a=n(l,a)):(r=F1(r,i),a=n(a,l)),function(c){return a(r(c))}}function Hre(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=F1(t[l],t[l+1]),a[l]=n(e[l],e[l+1]);return function(c){var f=hm(t,c,1,r)-1;return a[f](i[f](c))}}function mm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function E_(){var t=WP,e=WP,n=pf,r,i,a,l=dr,c,f,h;function m(){var y=Math.min(t.length,e.length);return l!==dr&&(l=Fre(t[0],t[y-1])),c=y>2?Hre:qre,f=h=null,p}function p(y){return y==null||isNaN(y=+y)?a:(f||(f=c(t.map(r),e,n)))(r(l(y)))}return p.invert=function(y){return l(i((h||(h=c(e,t.map(r),ty)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,ny),m()):t.slice()},p.range=function(y){return arguments.length?(e=Array.from(y),m()):e.slice()},p.rangeRound=function(y){return e=Array.from(y),n=hS,m()},p.clamp=function(y){return arguments.length?(l=y?!0:dr,m()):l!==dr},p.interpolate=function(y){return arguments.length?(n=y,m()):n},p.unknown=function(y){return arguments.length?(a=y,p):a},function(y,b){return r=y,i=b,m()}}function dS(){return E_()(dr,dr)}function $re(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ry(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Gc(t){return t=ry(Math.abs(t)),t?t[1]:NaN}function Gre(t,e){return function(n,r){for(var i=n.length,a=[],l=0,c=t[0],f=0;i>0&&c>0&&(f+c+1>r&&(c=Math.max(1,r-f)),a.push(n.substring(i-=c,i+c)),!((f+=c+1)>r));)c=t[l=(l+1)%t.length];return a.reverse().join(e)}}function Kre(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Yre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Md(t){if(!(e=Yre.exec(t)))throw new Error("invalid format: "+t);var e;return new mS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Md.prototype=mS.prototype;function mS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}mS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Wre(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var V6;function Qre(t,e){var n=ry(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(V6=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ry(t,Math.max(0,e+a-1))[0]}function QP(t,e){var n=ry(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const XP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:$re,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>QP(t*100,e),r:QP,s:Qre,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ZP(t){return t}var JP=Array.prototype.map,ek=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Xre(t){var e=t.grouping===void 0||t.thousands===void 0?ZP:Gre(JP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?ZP:Kre(JP.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(p){p=Md(p);var y=p.fill,b=p.align,w=p.sign,x=p.symbol,C=p.zero,R=p.width,M=p.comma,P=p.precision,q=p.trim,F=p.type;F==="n"?(M=!0,F="g"):XP[F]||(P===void 0&&(P=12),q=!0,F="g"),(C||y==="0"&&b==="=")&&(C=!0,y="0",b="=");var $=x==="$"?n:x==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",O=x==="$"?r:/[%p]/.test(F)?l:"",L=XP[F],k=/[defgprs%]/.test(F);P=P===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function V(D){var B=$,U=O,ye,Te,Z;if(F==="c")U=L(D)+U,D="";else{D=+D;var oe=D<0||1/D<0;if(D=isNaN(D)?f:L(Math.abs(D),P),q&&(D=Wre(D)),oe&&+D==0&&w!=="+"&&(oe=!1),B=(oe?w==="("?w:c:w==="-"||w==="("?"":w)+B,U=(F==="s"?ek[8+V6/3]:"")+U+(oe&&w==="("?")":""),k){for(ye=-1,Te=D.length;++ye<Te;)if(Z=D.charCodeAt(ye),48>Z||Z>57){U=(Z===46?i+D.slice(ye+1):D.slice(ye))+U,D=D.slice(0,ye);break}}}M&&!C&&(D=e(D,1/0));var ie=B.length+D.length+U.length,J=ie<R?new Array(R-ie+1).join(y):"";switch(M&&C&&(D=e(J+D,J.length?R-U.length:1/0),J=""),b){case"<":D=B+D+U+J;break;case"=":D=B+J+D+U;break;case"^":D=J.slice(0,ie=J.length>>1)+B+D+U+J.slice(ie);break;default:D=J+B+D+U;break}return a(D)}return V.toString=function(){return p+""},V}function m(p,y){var b=h((p=Md(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(Gc(y)/3)))*3,x=Math.pow(10,-w),C=ek[8+w/3];return function(R){return b(x*R)+C}}return{format:h,formatPrefix:m}}var xg,pS,U6;Zre({thousands:",",grouping:[3],currency:["$",""]});function Zre(t){return xg=Xre(t),pS=xg.format,U6=xg.formatPrefix,xg}function Jre(t){return Math.max(0,-Gc(Math.abs(t)))}function eie(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gc(e)/3)))*3-Gc(Math.abs(t)))}function tie(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Gc(e)-Gc(t))+1}function z6(t,e,n,r){var i=V1(t,e,n),a;switch(r=Md(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=eie(i,l))&&(r.precision=a),U6(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=tie(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Jre(i))&&(r.precision=a-(r.type==="%")*2);break}}return pS(r)}function Xo(t){var e=t.domain;return t.ticks=function(n){var r=e();return L1(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return z6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,l=r[i],c=r[a],f,h,m=10;for(c<l&&(h=l,l=c,c=h,h=i,i=a,a=h);m-- >0;){if(h=j1(l,c,n),h===f)return r[i]=l,r[a]=c,e(r);if(h>0)l=Math.floor(l/h)*h,c=Math.ceil(c/h)*h;else if(h<0)l=Math.ceil(l*h)/h,c=Math.floor(c*h)/h;else break;f=h}return t},t}function B6(){var t=dS();return t.copy=function(){return mm(t,B6())},yi.apply(t,arguments),Xo(t)}function F6(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,ny),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return F6(t).unknown(e)},t=arguments.length?Array.from(t,ny):[0,1],Xo(n)}function q6(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),t[n]=e.floor(i),t[r]=e.ceil(a),t}function tk(t){return Math.log(t)}function nk(t){return Math.exp(t)}function nie(t){return-Math.log(-t)}function rie(t){return-Math.exp(-t)}function iie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function sie(t){return t===10?iie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function aie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function rk(t){return(e,n)=>-t(-e,n)}function gS(t){const e=t(tk,nk),n=e.domain;let r=10,i,a;function l(){return i=aie(r),a=sie(r),n()[0]<0?(i=rk(i),a=rk(a),t(nie,rie)):t(tk,nk),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const f=n();let h=f[0],m=f[f.length-1];const p=m<h;p&&([h,m]=[m,h]);let y=i(h),b=i(m),w,x;const C=c==null?10:+c;let R=[];if(!(r%1)&&b-y<C){if(y=Math.floor(y),b=Math.ceil(b),h>0){for(;y<=b;++y)for(w=1;w<r;++w)if(x=y<0?w/a(-y):w*a(y),!(x<h)){if(x>m)break;R.push(x)}}else for(;y<=b;++y)for(w=r-1;w>=1;--w)if(x=y>0?w/a(-y):w*a(y),!(x<h)){if(x>m)break;R.push(x)}R.length*2<C&&(R=L1(h,m,C))}else R=L1(y,b,Math.min(b-y,C)).map(a);return p?R.reverse():R},e.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Md(f)).precision==null&&(f.trim=!0),f=pS(f)),c===1/0)return f;const h=Math.max(1,r*c/e.ticks().length);return m=>{let p=m/a(Math.round(i(m)));return p*r<r-.5&&(p*=r),p<=h?f(m):""}},e.nice=()=>n(q6(n(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),e}function H6(){const t=gS(E_()).domain([1,10]);return t.copy=()=>mm(t,H6()).base(t.base()),yi.apply(t,arguments),t}function ik(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function sk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function vS(t){var e=1,n=t(ik(e),sk(e));return n.constant=function(r){return arguments.length?t(ik(e=+r),sk(e)):e},Xo(n)}function $6(){var t=vS(E_());return t.copy=function(){return mm(t,$6()).constant(t.constant())},yi.apply(t,arguments)}function ak(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function oie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function lie(t){return t<0?-t*t:t*t}function yS(t){var e=t(dr,dr),n=1;function r(){return n===1?t(dr,dr):n===.5?t(oie,lie):t(ak(n),ak(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Xo(e)}function _S(){var t=yS(E_());return t.copy=function(){return mm(t,_S()).exponent(t.exponent())},yi.apply(t,arguments),t}function uie(){return _S.apply(null,arguments).exponent(.5)}function ok(t){return Math.sign(t)*t*t}function cie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function G6(){var t=dS(),e=[0,1],n=!1,r;function i(a){var l=cie(t(a));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(a){return t.invert(ok(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,ny)).map(ok)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return G6(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},yi.apply(i,arguments),Xo(i)}function K6(){var t=[],e=[],n=[],r;function i(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=mre(t,l/c);return a}function a(l){return l==null||isNaN(l=+l)?r:e[hm(n,l)]}return a.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},a.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(ko),i()},a.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return K6().domain(t).range(e).unknown(r)},yi.apply(a,arguments)}function Y6(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function l(f){return f!=null&&f<=f?i[hm(r,f,0,n)]:a}function c(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,c()):[t,e]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,c()):i.slice()},l.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(f){return arguments.length&&(a=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return Y6().domain([t,e]).range(i).unknown(a)},yi.apply(Xo(l),arguments)}function W6(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[hm(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var l=e.indexOf(a);return[t[l-1],t[l]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return W6().domain(t).range(e).unknown(n)},yi.apply(i,arguments)}const Jw=new Date,eE=new Date;function An(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const l=i(a),c=i.ceil(a);return a-l<c-a?l:c},i.offset=(a,l)=>(e(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,c)=>{const f=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<l)||!(c>0))return f;let h;do f.push(h=new Date(+a)),e(a,c),t(a);while(h<a&&a<l);return f},i.filter=a=>An(l=>{if(l>=l)for(;t(l),!a(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!a(l););else for(;--c>=0;)for(;e(l,1),!a(l););}),n&&(i.count=(a,l)=>(Jw.setTime(+a),eE.setTime(+l),t(Jw),t(eE),Math.floor(n(Jw,eE))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?l=>r(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const iy=An(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);iy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?An(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):iy);iy.range;const aa=1e3,hi=aa*60,oa=hi*60,ba=oa*24,bS=ba*7,lk=ba*30,tE=ba*365,zl=An(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*aa)},(t,e)=>(e-t)/aa,t=>t.getUTCSeconds());zl.range;const wS=An(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*aa)},(t,e)=>{t.setTime(+t+e*hi)},(t,e)=>(e-t)/hi,t=>t.getMinutes());wS.range;const ES=An(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*hi)},(t,e)=>(e-t)/hi,t=>t.getUTCMinutes());ES.range;const xS=An(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*aa-t.getMinutes()*hi)},(t,e)=>{t.setTime(+t+e*oa)},(t,e)=>(e-t)/oa,t=>t.getHours());xS.range;const TS=An(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*oa)},(t,e)=>(e-t)/oa,t=>t.getUTCHours());TS.range;const pm=An(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*hi)/ba,t=>t.getDate()-1);pm.range;const x_=An(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ba,t=>t.getUTCDate()-1);x_.range;const Q6=An(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ba,t=>Math.floor(t/ba));Q6.range;function mu(t){return An(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*hi)/bS)}const T_=mu(0),sy=mu(1),fie=mu(2),hie=mu(3),Kc=mu(4),die=mu(5),mie=mu(6);T_.range;sy.range;fie.range;hie.range;Kc.range;die.range;mie.range;function pu(t){return An(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/bS)}const S_=pu(0),ay=pu(1),pie=pu(2),gie=pu(3),Yc=pu(4),vie=pu(5),yie=pu(6);S_.range;ay.range;pie.range;gie.range;Yc.range;vie.range;yie.range;const SS=An(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());SS.range;const AS=An(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());AS.range;const wa=An(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());wa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:An(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});wa.range;const Ea=An(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ea.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:An(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ea.range;function X6(t,e,n,r,i,a){const l=[[zl,1,aa],[zl,5,5*aa],[zl,15,15*aa],[zl,30,30*aa],[a,1,hi],[a,5,5*hi],[a,15,15*hi],[a,30,30*hi],[i,1,oa],[i,3,3*oa],[i,6,6*oa],[i,12,12*oa],[r,1,ba],[r,2,2*ba],[n,1,bS],[e,1,lk],[e,3,3*lk],[t,1,tE]];function c(h,m,p){const y=m<h;y&&([h,m]=[m,h]);const b=p&&typeof p.range=="function"?p:f(h,m,p),w=b?b.range(h,+m+1):[];return y?w.reverse():w}function f(h,m,p){const y=Math.abs(m-h)/p,b=oS(([,,C])=>C).right(l,y);if(b===l.length)return t.every(V1(h/tE,m/tE,p));if(b===0)return iy.every(Math.max(V1(h,m,p),1));const[w,x]=l[y/l[b-1][2]<l[b][2]/y?b-1:b];return w.every(x)}return[c,f]}const[_ie,bie]=X6(Ea,AS,S_,Q6,TS,ES),[wie,Eie]=X6(wa,SS,T_,pm,xS,wS);function nE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function rE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ph(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function xie(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,l=t.shortDays,c=t.months,f=t.shortMonths,h=kh(i),m=Mh(i),p=kh(a),y=Mh(a),b=kh(l),w=Mh(l),x=kh(c),C=Mh(c),R=kh(f),M=Mh(f),P={a:oe,A:ie,b:J,B:me,c:null,d:mk,e:mk,f:Gie,g:nse,G:ise,H:qie,I:Hie,j:$ie,L:Z6,m:Kie,M:Yie,p:z,q:Y,Q:vk,s:yk,S:Wie,u:Qie,U:Xie,V:Zie,w:Jie,W:ese,x:null,X:null,y:tse,Y:rse,Z:sse,"%":gk},q={a:le,A:de,b:_e,B:Ie,c:null,d:pk,e:pk,f:use,g:_se,G:wse,H:ase,I:ose,j:lse,L:eV,m:cse,M:fse,p:je,q:Ct,Q:vk,s:yk,S:hse,u:dse,U:mse,V:pse,w:gse,W:vse,x:null,X:null,y:yse,Y:bse,Z:Ese,"%":gk},F={a:V,A:D,b:B,B:U,c:ye,d:hk,e:hk,f:Uie,g:fk,G:ck,H:dk,I:dk,j:Die,L:Vie,m:Mie,M:Lie,p:k,q:kie,Q:Bie,s:Fie,S:jie,u:Iie,U:Rie,V:Nie,w:Cie,W:Oie,x:Te,X:Z,y:fk,Y:ck,Z:Pie,"%":zie};P.x=$(n,P),P.X=$(r,P),P.c=$(e,P),q.x=$(n,q),q.X=$(r,q),q.c=$(e,q);function $(ae,ke){return function(ze){var pe=[],Gt=-1,$e=0,vn=ae.length,Kt,Rr,Ma;for(ze instanceof Date||(ze=new Date(+ze));++Gt<vn;)ae.charCodeAt(Gt)===37&&(pe.push(ae.slice($e,Gt)),(Rr=uk[Kt=ae.charAt(++Gt)])!=null?Kt=ae.charAt(++Gt):Rr=Kt==="e"?" ":"0",(Ma=ke[Kt])&&(Kt=Ma(ze,Rr)),pe.push(Kt),$e=Gt+1);return pe.push(ae.slice($e,Gt)),pe.join("")}}function O(ae,ke){return function(ze){var pe=Ph(1900,void 0,1),Gt=L(pe,ae,ze+="",0),$e,vn;if(Gt!=ze.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(ke&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?($e=rE(Ph(pe.y,0,1)),vn=$e.getUTCDay(),$e=vn>4||vn===0?ay.ceil($e):ay($e),$e=x_.offset($e,(pe.V-1)*7),pe.y=$e.getUTCFullYear(),pe.m=$e.getUTCMonth(),pe.d=$e.getUTCDate()+(pe.w+6)%7):($e=nE(Ph(pe.y,0,1)),vn=$e.getDay(),$e=vn>4||vn===0?sy.ceil($e):sy($e),$e=pm.offset($e,(pe.V-1)*7),pe.y=$e.getFullYear(),pe.m=$e.getMonth(),pe.d=$e.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),vn="Z"in pe?rE(Ph(pe.y,0,1)).getUTCDay():nE(Ph(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(vn+5)%7:pe.w+pe.U*7-(vn+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,rE(pe)):nE(pe)}}function L(ae,ke,ze,pe){for(var Gt=0,$e=ke.length,vn=ze.length,Kt,Rr;Gt<$e;){if(pe>=vn)return-1;if(Kt=ke.charCodeAt(Gt++),Kt===37){if(Kt=ke.charAt(Gt++),Rr=F[Kt in uk?ke.charAt(Gt++):Kt],!Rr||(pe=Rr(ae,ze,pe))<0)return-1}else if(Kt!=ze.charCodeAt(pe++))return-1}return pe}function k(ae,ke,ze){var pe=h.exec(ke.slice(ze));return pe?(ae.p=m.get(pe[0].toLowerCase()),ze+pe[0].length):-1}function V(ae,ke,ze){var pe=b.exec(ke.slice(ze));return pe?(ae.w=w.get(pe[0].toLowerCase()),ze+pe[0].length):-1}function D(ae,ke,ze){var pe=p.exec(ke.slice(ze));return pe?(ae.w=y.get(pe[0].toLowerCase()),ze+pe[0].length):-1}function B(ae,ke,ze){var pe=R.exec(ke.slice(ze));return pe?(ae.m=M.get(pe[0].toLowerCase()),ze+pe[0].length):-1}function U(ae,ke,ze){var pe=x.exec(ke.slice(ze));return pe?(ae.m=C.get(pe[0].toLowerCase()),ze+pe[0].length):-1}function ye(ae,ke,ze){return L(ae,e,ke,ze)}function Te(ae,ke,ze){return L(ae,n,ke,ze)}function Z(ae,ke,ze){return L(ae,r,ke,ze)}function oe(ae){return l[ae.getDay()]}function ie(ae){return a[ae.getDay()]}function J(ae){return f[ae.getMonth()]}function me(ae){return c[ae.getMonth()]}function z(ae){return i[+(ae.getHours()>=12)]}function Y(ae){return 1+~~(ae.getMonth()/3)}function le(ae){return l[ae.getUTCDay()]}function de(ae){return a[ae.getUTCDay()]}function _e(ae){return f[ae.getUTCMonth()]}function Ie(ae){return c[ae.getUTCMonth()]}function je(ae){return i[+(ae.getUTCHours()>=12)]}function Ct(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var ke=$(ae+="",P);return ke.toString=function(){return ae},ke},parse:function(ae){var ke=O(ae+="",!1);return ke.toString=function(){return ae},ke},utcFormat:function(ae){var ke=$(ae+="",q);return ke.toString=function(){return ae},ke},utcParse:function(ae){var ke=O(ae+="",!0);return ke.toString=function(){return ae},ke}}}var uk={"-":"",_:" ",0:"0"},Vn=/^\s*\d+/,Tie=/^%/,Sie=/[\\^$*+?|[\]().{}]/g;function ut(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Aie(t){return t.replace(Sie,"\\$&")}function kh(t){return new RegExp("^(?:"+t.map(Aie).join("|")+")","i")}function Mh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Cie(t,e,n){var r=Vn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Iie(t,e,n){var r=Vn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Rie(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Nie(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Oie(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ck(t,e,n){var r=Vn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function fk(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Pie(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function kie(t,e,n){var r=Vn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Mie(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function hk(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Die(t,e,n){var r=Vn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function dk(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Lie(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function jie(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Vie(t,e,n){var r=Vn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Uie(t,e,n){var r=Vn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function zie(t,e,n){var r=Tie.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Bie(t,e,n){var r=Vn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Fie(t,e,n){var r=Vn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function mk(t,e){return ut(t.getDate(),e,2)}function qie(t,e){return ut(t.getHours(),e,2)}function Hie(t,e){return ut(t.getHours()%12||12,e,2)}function $ie(t,e){return ut(1+pm.count(wa(t),t),e,3)}function Z6(t,e){return ut(t.getMilliseconds(),e,3)}function Gie(t,e){return Z6(t,e)+"000"}function Kie(t,e){return ut(t.getMonth()+1,e,2)}function Yie(t,e){return ut(t.getMinutes(),e,2)}function Wie(t,e){return ut(t.getSeconds(),e,2)}function Qie(t){var e=t.getDay();return e===0?7:e}function Xie(t,e){return ut(T_.count(wa(t)-1,t),e,2)}function J6(t){var e=t.getDay();return e>=4||e===0?Kc(t):Kc.ceil(t)}function Zie(t,e){return t=J6(t),ut(Kc.count(wa(t),t)+(wa(t).getDay()===4),e,2)}function Jie(t){return t.getDay()}function ese(t,e){return ut(sy.count(wa(t)-1,t),e,2)}function tse(t,e){return ut(t.getFullYear()%100,e,2)}function nse(t,e){return t=J6(t),ut(t.getFullYear()%100,e,2)}function rse(t,e){return ut(t.getFullYear()%1e4,e,4)}function ise(t,e){var n=t.getDay();return t=n>=4||n===0?Kc(t):Kc.ceil(t),ut(t.getFullYear()%1e4,e,4)}function sse(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ut(e/60|0,"0",2)+ut(e%60,"0",2)}function pk(t,e){return ut(t.getUTCDate(),e,2)}function ase(t,e){return ut(t.getUTCHours(),e,2)}function ose(t,e){return ut(t.getUTCHours()%12||12,e,2)}function lse(t,e){return ut(1+x_.count(Ea(t),t),e,3)}function eV(t,e){return ut(t.getUTCMilliseconds(),e,3)}function use(t,e){return eV(t,e)+"000"}function cse(t,e){return ut(t.getUTCMonth()+1,e,2)}function fse(t,e){return ut(t.getUTCMinutes(),e,2)}function hse(t,e){return ut(t.getUTCSeconds(),e,2)}function dse(t){var e=t.getUTCDay();return e===0?7:e}function mse(t,e){return ut(S_.count(Ea(t)-1,t),e,2)}function tV(t){var e=t.getUTCDay();return e>=4||e===0?Yc(t):Yc.ceil(t)}function pse(t,e){return t=tV(t),ut(Yc.count(Ea(t),t)+(Ea(t).getUTCDay()===4),e,2)}function gse(t){return t.getUTCDay()}function vse(t,e){return ut(ay.count(Ea(t)-1,t),e,2)}function yse(t,e){return ut(t.getUTCFullYear()%100,e,2)}function _se(t,e){return t=tV(t),ut(t.getUTCFullYear()%100,e,2)}function bse(t,e){return ut(t.getUTCFullYear()%1e4,e,4)}function wse(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Yc(t):Yc.ceil(t),ut(t.getUTCFullYear()%1e4,e,4)}function Ese(){return"+0000"}function gk(){return"%"}function vk(t){return+t}function yk(t){return Math.floor(+t/1e3)}var sc,nV,rV;xse({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xse(t){return sc=xie(t),nV=sc.format,sc.parse,rV=sc.utcFormat,sc.utcParse,sc}function Tse(t){return new Date(t)}function Sse(t){return t instanceof Date?+t:+new Date(+t)}function CS(t,e,n,r,i,a,l,c,f,h){var m=dS(),p=m.invert,y=m.domain,b=h(".%L"),w=h(":%S"),x=h("%I:%M"),C=h("%I %p"),R=h("%a %d"),M=h("%b %d"),P=h("%B"),q=h("%Y");function F($){return(f($)<$?b:c($)<$?w:l($)<$?x:a($)<$?C:r($)<$?i($)<$?R:M:n($)<$?P:q)($)}return m.invert=function($){return new Date(p($))},m.domain=function($){return arguments.length?y(Array.from($,Sse)):y().map(Tse)},m.ticks=function($){var O=y();return t(O[0],O[O.length-1],$??10)},m.tickFormat=function($,O){return O==null?F:h(O)},m.nice=function($){var O=y();return(!$||typeof $.range!="function")&&($=e(O[0],O[O.length-1],$??10)),$?y(q6(O,$)):m},m.copy=function(){return mm(m,CS(t,e,n,r,i,a,l,c,f,h))},m}function Ase(){return yi.apply(CS(wie,Eie,wa,SS,T_,pm,xS,wS,zl,nV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Cse(){return yi.apply(CS(_ie,bie,Ea,AS,S_,x_,TS,ES,zl,rV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function A_(){var t=0,e=1,n,r,i,a,l=dr,c=!1,f;function h(p){return p==null||isNaN(p=+p)?f:l(i===0?.5:(p=(a(p)-n)*i,c?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(p){return arguments.length?(c=!!p,h):c},h.interpolator=function(p){return arguments.length?(l=p,h):l};function m(p){return function(y){var b,w;return arguments.length?([b,w]=y,l=p(b,w),h):[l(0),l(1)]}}return h.range=m(pf),h.rangeRound=m(hS),h.unknown=function(p){return arguments.length?(f=p,h):f},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),h}}function Zo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function iV(){var t=Xo(A_()(dr));return t.copy=function(){return Zo(t,iV())},Oa.apply(t,arguments)}function sV(){var t=gS(A_()).domain([1,10]);return t.copy=function(){return Zo(t,sV()).base(t.base())},Oa.apply(t,arguments)}function aV(){var t=vS(A_());return t.copy=function(){return Zo(t,aV()).constant(t.constant())},Oa.apply(t,arguments)}function IS(){var t=yS(A_());return t.copy=function(){return Zo(t,IS()).exponent(t.exponent())},Oa.apply(t,arguments)}function Ise(){return IS.apply(null,arguments).exponent(.5)}function oV(){var t=[],e=dr;function n(r){if(r!=null&&!isNaN(r=+r))return e((hm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ko),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>dre(t,a/r))},n.copy=function(){return oV(e).domain(t)},Oa.apply(n,arguments)}function C_(){var t=0,e=.5,n=1,r=1,i,a,l,c,f,h=dr,m,p=!1,y;function b(x){return isNaN(x=+x)?y:(x=.5+((x=+m(x))-a)*(r*x<r*a?c:f),h(p?Math.max(0,Math.min(1,x)):x))}b.domain=function(x){return arguments.length?([t,e,n]=x,i=m(t=+t),a=m(e=+e),l=m(n=+n),c=i===a?0:.5/(a-i),f=a===l?0:.5/(l-a),r=a<i?-1:1,b):[t,e,n]},b.clamp=function(x){return arguments.length?(p=!!x,b):p},b.interpolator=function(x){return arguments.length?(h=x,b):h};function w(x){return function(C){var R,M,P;return arguments.length?([R,M,P]=C,h=zre(x,[R,M,P]),b):[h(0),h(.5),h(1)]}}return b.range=w(pf),b.rangeRound=w(hS),b.unknown=function(x){return arguments.length?(y=x,b):y},function(x){return m=x,i=x(t),a=x(e),l=x(n),c=i===a?0:.5/(a-i),f=a===l?0:.5/(l-a),r=a<i?-1:1,b}}function lV(){var t=Xo(C_()(dr));return t.copy=function(){return Zo(t,lV())},Oa.apply(t,arguments)}function uV(){var t=gS(C_()).domain([.1,1,10]);return t.copy=function(){return Zo(t,uV()).base(t.base())},Oa.apply(t,arguments)}function cV(){var t=vS(C_());return t.copy=function(){return Zo(t,cV()).constant(t.constant())},Oa.apply(t,arguments)}function RS(){var t=yS(C_());return t.copy=function(){return Zo(t,RS()).exponent(t.exponent())},Oa.apply(t,arguments)}function Rse(){return RS.apply(null,arguments).exponent(.5)}const qh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:uS,scaleDiverging:lV,scaleDivergingLog:uV,scaleDivergingPow:RS,scaleDivergingSqrt:Rse,scaleDivergingSymlog:cV,scaleIdentity:F6,scaleImplicit:U1,scaleLinear:B6,scaleLog:H6,scaleOrdinal:lS,scalePoint:gre,scalePow:_S,scaleQuantile:K6,scaleQuantize:Y6,scaleRadial:G6,scaleSequential:iV,scaleSequentialLog:sV,scaleSequentialPow:IS,scaleSequentialQuantile:oV,scaleSequentialSqrt:Ise,scaleSequentialSymlog:aV,scaleSqrt:uie,scaleSymlog:$6,scaleThreshold:W6,scaleTime:Ase,scaleUtc:Cse,tickFormat:z6},Symbol.toStringTag,{value:"Module"}));var Jo=t=>t.chartData,Nse=re([Jo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),NS=(t,e,n,r)=>r?Nse(t):Jo(t);function Ko(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(tn(e)&&tn(n))return!0}return!1}function _k(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function fV(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(tn(n))i=n;else if(typeof n=="function")return;if(tn(r))a=r;else if(typeof r=="function")return;var l=[i,a];if(Ko(l))return l}}function Ose(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Ko(r))return _k(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,l,c;if(i==="auto")e!=null&&(l=Math.min(...e));else if(nt(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&ZO.test(i)){var f=ZO.exec(i);if(f==null||e==null)l=void 0;else{var h=+f[1];l=e[0]-h}}else l=e==null?void 0:e[0];if(a==="auto")e!=null&&(c=Math.max(...e));else if(nt(a))c=a;else if(typeof a=="function")try{e!=null&&(c=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&JO.test(a)){var m=JO.exec(a);if(m==null||e==null)c=void 0;else{var p=+m[1];c=e[1]+p}}else c=e==null?void 0:e[1];var y=[l,c];if(Ko(y))return e==null?y:_k(y,e,n)}}}var gf=1e9,Pse={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},PS,Ut=!0,pi="[DecimalError] ",Hl=pi+"Invalid argument: ",OS=pi+"Exponent out of range: ",vf=Math.floor,Dl=Math.pow,kse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Br,Dn=1e7,Dt=7,hV=9007199254740991,oy=vf(hV/Dt),Ee={};Ee.absoluteValue=Ee.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ee.comparedTo=Ee.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Dt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ee.dividedBy=Ee.div=function(t){return ca(this,new this.constructor(t))};Ee.dividedToIntegerBy=Ee.idiv=function(t){var e=this,n=e.constructor;return St(ca(e,new n(t),0,1),n.precision)};Ee.equals=Ee.eq=function(t){return!this.cmp(t)};Ee.exponent=function(){return gn(this)};Ee.greaterThan=Ee.gt=function(t){return this.cmp(t)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(t){return this.cmp(t)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(t){return this.cmp(t)<0};Ee.lessThanOrEqualTo=Ee.lte=function(t){return this.cmp(t)<1};Ee.logarithm=Ee.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Br))throw Error(pi+"NaN");if(n.s<1)throw Error(pi+(n.s?"NaN":"-Infinity"));return n.eq(Br)?new r(0):(Ut=!1,e=ca(Dd(n,a),Dd(t,a),a),Ut=!0,St(e,i))};Ee.minus=Ee.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?pV(e,t):dV(e,(t.s=-t.s,t))};Ee.modulo=Ee.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(pi+"NaN");return n.s?(Ut=!1,e=ca(n,t,0,1).times(t),Ut=!0,n.minus(e)):St(new r(n),i)};Ee.naturalExponential=Ee.exp=function(){return mV(this)};Ee.naturalLogarithm=Ee.ln=function(){return Dd(this)};Ee.negated=Ee.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ee.plus=Ee.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?dV(e,t):pV(e,(t.s=-t.s,t))};Ee.precision=Ee.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Hl+t);if(e=gn(i)+1,r=i.d.length-1,n=r*Dt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ee.squareRoot=Ee.sqrt=function(){var t,e,n,r,i,a,l,c=this,f=c.constructor;if(c.s<1){if(!c.s)return new f(0);throw Error(pi+"NaN")}for(t=gn(c),Ut=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=vs(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=vf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(a=r,r=a.plus(ca(c,a,l+2)).times(.5),vs(a.d).slice(0,l)===(e=vs(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(St(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(e!="9999")break;l+=4}return Ut=!0,St(r,n)};Ee.times=Ee.mul=function(t){var e,n,r,i,a,l,c,f,h,m=this,p=m.constructor,y=m.d,b=(t=new p(t)).d;if(!m.s||!t.s)return new p(0);for(t.s*=m.s,n=m.e+t.e,f=y.length,h=b.length,f<h&&(a=y,y=b,b=a,l=f,f=h,h=l),a=[],l=f+h,r=l;r--;)a.push(0);for(r=h;--r>=0;){for(e=0,i=f+r;i>r;)c=a[i]+b[r]*y[i-r-1]+e,a[i--]=c%Dn|0,e=c/Dn|0;a[i]=(a[i]+e)%Dn|0}for(;!a[--l];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Ut?St(t,p.precision):t};Ee.toDecimalPlaces=Ee.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Rs(t,0,gf),e===void 0?e=r.rounding:Rs(e,0,8),St(n,t+gn(n)+1,e))};Ee.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=tu(r,!0):(Rs(t,0,gf),e===void 0?e=i.rounding:Rs(e,0,8),r=St(new i(r),t+1,e),n=tu(r,!0,t+1)),n};Ee.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?tu(i):(Rs(t,0,gf),e===void 0?e=a.rounding:Rs(e,0,8),r=St(new a(i),t+gn(i)+1,e),n=tu(r.abs(),!1,t+gn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ee.toInteger=Ee.toint=function(){var t=this,e=t.constructor;return St(new e(t),gn(t)+1,e.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(t){var e,n,r,i,a,l,c=this,f=c.constructor,h=12,m=+(t=new f(t));if(!t.s)return new f(Br);if(c=new f(c),!c.s){if(t.s<1)throw Error(pi+"Infinity");return c}if(c.eq(Br))return c;if(r=f.precision,t.eq(Br))return St(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,a=c.s,l){if((n=m<0?-m:m)<=hV){for(i=new f(Br),e=Math.ceil(r/Dt+4),Ut=!1;n%2&&(i=i.times(c),wk(i.d,e)),n=vf(n/2),n!==0;)c=c.times(c),wk(c.d,e);return Ut=!0,t.s<0?new f(Br).div(i):St(i,r)}}else if(a<0)throw Error(pi+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,Ut=!1,i=t.times(Dd(c,r+h)),Ut=!0,i=mV(i),i.s=a,i};Ee.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=gn(i),r=tu(i,n<=a.toExpNeg||n>=a.toExpPos)):(Rs(t,1,gf),e===void 0?e=a.rounding:Rs(e,0,8),i=St(new a(i),t,e),n=gn(i),r=tu(i,t<=n||n<=a.toExpNeg,t)),r};Ee.toSignificantDigits=Ee.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Rs(t,1,gf),e===void 0?e=r.rounding:Rs(e,0,8)),St(new r(n),t,e)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=gn(t),n=t.constructor;return tu(t,e<=n.toExpNeg||e>=n.toExpPos)};function dV(t,e){var n,r,i,a,l,c,f,h,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Ut?St(e,p):e;if(f=t.d,h=e.d,l=t.e,i=e.e,f=f.slice(),a=l-i,a){for(a<0?(r=f,a=-a,c=h.length):(r=h,i=l,c=f.length),l=Math.ceil(p/Dt),c=l>c?l+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=f.length,a=h.length,c-a<0&&(a=c,r=h,h=f,f=r),n=0;a;)n=(f[--a]=f[a]+h[a]+n)/Dn|0,f[a]%=Dn;for(n&&(f.unshift(n),++i),c=f.length;f[--c]==0;)f.pop();return e.d=f,e.e=i,Ut?St(e,p):e}function Rs(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Hl+t)}function vs(t){var e,n,r,i=t.length-1,a="",l=t[0];if(i>0){for(a+=l,e=1;e<i;e++)r=t[e]+"",n=Dt-r.length,n&&(a+=vo(n)),a+=r;l=t[e],r=l+"",n=Dt-r.length,n&&(a+=vo(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var ca=(function(){function t(r,i){var a,l=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+l,r[c]=a%Dn|0,l=a/Dn|0;return l&&r.unshift(l),r}function e(r,i,a,l){var c,f;if(a!=l)f=a>l?1:-1;else for(c=f=0;c<a;c++)if(r[c]!=i[c]){f=r[c]>i[c]?1:-1;break}return f}function n(r,i,a){for(var l=0;a--;)r[a]-=l,l=r[a]<i[a]?1:0,r[a]=l*Dn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,l){var c,f,h,m,p,y,b,w,x,C,R,M,P,q,F,$,O,L,k=r.constructor,V=r.s==i.s?1:-1,D=r.d,B=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(pi+"Division by zero");for(f=r.e-i.e,O=B.length,F=D.length,b=new k(V),w=b.d=[],h=0;B[h]==(D[h]||0);)++h;if(B[h]>(D[h]||0)&&--f,a==null?M=a=k.precision:l?M=a+(gn(r)-gn(i))+1:M=a,M<0)return new k(0);if(M=M/Dt+2|0,h=0,O==1)for(m=0,B=B[0],M++;(h<F||m)&&M--;h++)P=m*Dn+(D[h]||0),w[h]=P/B|0,m=P%B|0;else{for(m=Dn/(B[0]+1)|0,m>1&&(B=t(B,m),D=t(D,m),O=B.length,F=D.length),q=O,x=D.slice(0,O),C=x.length;C<O;)x[C++]=0;L=B.slice(),L.unshift(0),$=B[0],B[1]>=Dn/2&&++$;do m=0,c=e(B,x,O,C),c<0?(R=x[0],O!=C&&(R=R*Dn+(x[1]||0)),m=R/$|0,m>1?(m>=Dn&&(m=Dn-1),p=t(B,m),y=p.length,C=x.length,c=e(p,x,y,C),c==1&&(m--,n(p,O<y?L:B,y))):(m==0&&(c=m=1),p=B.slice()),y=p.length,y<C&&p.unshift(0),n(x,p,C),c==-1&&(C=x.length,c=e(B,x,O,C),c<1&&(m++,n(x,O<C?L:B,C))),C=x.length):c===0&&(m++,x=[0]),w[h++]=m,c&&x[0]?x[C++]=D[q]||0:(x=[D[q]],C=1);while((q++<F||x[0]!==void 0)&&M--)}return w[0]||w.shift(),b.e=f,St(b,l?a+gn(b)+1:a)}})();function mV(t,e){var n,r,i,a,l,c,f=0,h=0,m=t.constructor,p=m.precision;if(gn(t)>16)throw Error(OS+gn(t));if(!t.s)return new m(Br);for(Ut=!1,c=p,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(Dl(2,h))/Math.LN10*2+5|0,c+=r,n=i=a=new m(Br),m.precision=c;;){if(i=St(i.times(t),c),n=n.times(++f),l=a.plus(ca(i,n,c)),vs(l.d).slice(0,c)===vs(a.d).slice(0,c)){for(;h--;)a=St(a.times(a),c);return m.precision=p,e==null?(Ut=!0,St(a,p)):a}a=l}}function gn(t){for(var e=t.e*Dt,n=t.d[0];n>=10;n/=10)e++;return e}function iE(t,e,n){if(e>t.LN10.sd())throw Ut=!0,n&&(t.precision=n),Error(pi+"LN10 precision limit exceeded");return St(new t(t.LN10),e)}function vo(t){for(var e="";t--;)e+="0";return e}function Dd(t,e){var n,r,i,a,l,c,f,h,m,p=1,y=10,b=t,w=b.d,x=b.constructor,C=x.precision;if(b.s<1)throw Error(pi+(b.s?"NaN":"-Infinity"));if(b.eq(Br))return new x(0);if(e==null?(Ut=!1,h=C):h=e,b.eq(10))return e==null&&(Ut=!0),iE(x,h);if(h+=y,x.precision=h,n=vs(w),r=n.charAt(0),a=gn(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=vs(b.d),r=n.charAt(0),p++;a=gn(b),r>1?(b=new x("0."+n),a++):b=new x(r+"."+n.slice(1))}else return f=iE(x,h+2,C).times(a+""),b=Dd(new x(r+"."+n.slice(1)),h-y).plus(f),x.precision=C,e==null?(Ut=!0,St(b,C)):b;for(c=l=b=ca(b.minus(Br),b.plus(Br),h),m=St(b.times(b),h),i=3;;){if(l=St(l.times(m),h),f=c.plus(ca(l,new x(i),h)),vs(f.d).slice(0,h)===vs(c.d).slice(0,h))return c=c.times(2),a!==0&&(c=c.plus(iE(x,h+2,C).times(a+""))),c=ca(c,new x(p),h),x.precision=C,e==null?(Ut=!0,St(c,C)):c;c=f,i+=2}}function bk(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=vf(n/Dt),t.d=[],r=(n+1)%Dt,n<0&&(r+=Dt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Dt;r<i;)t.d.push(+e.slice(r,r+=Dt));e=e.slice(r),r=Dt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ut&&(t.e>oy||t.e<-oy))throw Error(OS+n)}else t.s=0,t.e=0,t.d=[0];return t}function St(t,e,n){var r,i,a,l,c,f,h,m,p=t.d;for(l=1,a=p[0];a>=10;a/=10)l++;if(r=e-l,r<0)r+=Dt,i=e,h=p[m=0];else{if(m=Math.ceil((r+1)/Dt),a=p.length,m>=a)return t;for(h=a=p[m],l=1;a>=10;a/=10)l++;r%=Dt,i=r-Dt+l}if(n!==void 0&&(a=Dl(10,l-i-1),c=h/a%10|0,f=e<0||p[m+1]!==void 0||h%a,f=n<4?(c||f)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||f||n==6&&(r>0?i>0?h/Dl(10,l-i):0:p[m-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return f?(a=gn(t),p.length=1,e=e-a-1,p[0]=Dl(10,(Dt-e%Dt)%Dt),t.e=vf(-e/Dt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=m,a=1,m--):(p.length=m+1,a=Dl(10,Dt-r),p[m]=i>0?(h/Dl(10,l-i)%Dl(10,i)|0)*a:0),f)for(;;)if(m==0){(p[0]+=a)==Dn&&(p[0]=1,++t.e);break}else{if(p[m]+=a,p[m]!=Dn)break;p[m--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(Ut&&(t.e>oy||t.e<-oy))throw Error(OS+gn(t));return t}function pV(t,e){var n,r,i,a,l,c,f,h,m,p,y=t.constructor,b=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Ut?St(e,b):e;if(f=t.d,p=e.d,r=e.e,h=t.e,f=f.slice(),l=h-r,l){for(m=l<0,m?(n=f,l=-l,c=p.length):(n=p,r=h,c=f.length),i=Math.max(Math.ceil(b/Dt),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,c=p.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(f[i]!=p[i]){m=f[i]<p[i];break}l=0}for(m&&(n=f,f=p,p=n,e.s=-e.s),c=f.length,i=p.length-c;i>0;--i)f[c++]=0;for(i=p.length;i>l;){if(f[--i]<p[i]){for(a=i;a&&f[--a]===0;)f[a]=Dn-1;--f[a],f[i]+=Dn}f[i]-=p[i]}for(;f[--c]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Ut?St(e,b):e):new y(0)}function tu(t,e,n){var r,i=gn(t),a=vs(t.d),l=a.length;return e?(n&&(r=n-l)>0?a=a.charAt(0)+"."+a.slice(1)+vo(r):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+vo(-i-1)+a,n&&(r=n-l)>0&&(a+=vo(r))):i>=l?(a+=vo(i+1-l),n&&(r=n-i-1)>0&&(a=a+"."+vo(r))):((r=i+1)<l&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(a+="."),a+=vo(r))),t.s<0?"-"+a:a}function wk(t,e){if(t.length>e)return t.length=e,!0}function gV(t){var e,n,r;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Hl+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return bk(l,a.toString())}else if(typeof a!="string")throw Error(Hl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,kse.test(a))bk(l,a);else throw Error(Hl+a)}if(i.prototype=Ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=gV,i.config=i.set=Mse,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Mse(t){if(!t||typeof t!="object")throw Error(pi+"Object expected");var e,n,r,i=["precision",1,gf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(vf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Hl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Hl+n+": "+r);return this}var PS=gV(Pse);Br=new PS(1);const gt=PS;var Dse=t=>t,vV={},yV=t=>t===vV,Ek=t=>function e(){return arguments.length===0||arguments.length===1&&yV(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},_V=(t,e)=>t===1?e:Ek(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(l=>l!==vV).length;return a>=t?e(...r):_V(t-a,Ek(function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var h=r.map(m=>yV(m)?c.shift():m);return e(...h,...c)}))}),Lse=t=>_V(t.length,t),q1=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},jse=Lse((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Vse=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Dse;var i=n.reverse(),a=i[0],l=i.slice(1);return function(){return l.reduce((c,f)=>f(c),a(...arguments))}},H1=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function bV(t){var e;return t===0?e=1:e=Math.floor(new gt(t).abs().log(10).toNumber())+1,e}function wV(t,e,n){for(var r=new gt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var EV=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},xV=(t,e,n)=>{if(t.lte(0))return new gt(0);var r=bV(t.toNumber()),i=new gt(10).pow(r),a=t.div(i),l=r!==1?.05:.1,c=new gt(Math.ceil(a.div(l).toNumber())).add(n).mul(l),f=c.mul(i);return e?new gt(f.toNumber()):new gt(Math.ceil(f.toNumber()))},Use=(t,e,n)=>{var r=new gt(1),i=new gt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new gt(10).pow(bV(t)-1),i=new gt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new gt(Math.floor(t)))}else t===0?i=new gt(Math.floor((e-1)/2)):n||(i=new gt(Math.floor(t)));var l=Math.floor((e-1)/2),c=Vse(jse(f=>i.add(new gt(f-l).mul(r)).toNumber()),q1);return c(0,e)},TV=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new gt(0),tickMin:new gt(0),tickMax:new gt(0)};var l=xV(new gt(n).sub(e).div(r-1),i,a),c;e<=0&&n>=0?c=new gt(0):(c=new gt(e).add(n).div(2),c=c.sub(new gt(c).mod(l)));var f=Math.ceil(c.sub(e).div(l).toNumber()),h=Math.ceil(new gt(n).sub(c).div(l).toNumber()),m=f+h+1;return m>r?TV(e,n,r,i,a+1):(m<r&&(h=n>0?h+(r-m):h,f=n>0?f:f+(r-m)),{step:l,tickMin:c.sub(new gt(f).mul(l)),tickMax:c.add(new gt(h).mul(l))})},zse=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[c,f]=EV([n,r]);if(c===-1/0||f===1/0){var h=f===1/0?[c,...q1(0,i-1).map(()=>1/0)]:[...q1(0,i-1).map(()=>-1/0),f];return n>r?H1(h):h}if(c===f)return Use(c,i,a);var{step:m,tickMin:p,tickMax:y}=TV(c,f,l,a,0),b=wV(p,y.add(new gt(.1).mul(m)),m);return n>r?H1(b):b},Bse=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=EV([r,i]);if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var f=Math.max(n,2),h=xV(new gt(c).sub(l).div(f-1),a,0),m=[...wV(new gt(l),new gt(c),h),c];return a===!1&&(m=m.map(p=>Math.round(p))),r>i?H1(m):m},SV=t=>t.rootProps.maxBarSize,Fse=t=>t.rootProps.barGap,AV=t=>t.rootProps.barCategoryGap,qse=t=>t.rootProps.barSize,I_=t=>t.rootProps.stackOffset,CV=t=>t.rootProps.reverseStackOrder,IV=t=>t.options.chartName,RV=t=>t.rootProps.syncId,Hse=t=>t.rootProps.syncMethod,NV=t=>t.options.eventEmitter,Ms={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ta={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},zr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},R_=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},$se={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ta.angleAxisId,includeHidden:!1,name:void 0,reversed:ta.reversed,scale:ta.scale,tick:ta.tick,tickCount:void 0,ticks:void 0,type:ta.type,unit:void 0},Gse={allowDataOverflow:zr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:zr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zr.scale,tick:zr.tick,tickCount:zr.tickCount,ticks:void 0,type:zr.type,unit:void 0},Kse={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ta.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ta.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ta.scale,tick:ta.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Yse={allowDataOverflow:zr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:zr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zr.scale,tick:zr.tick,tickCount:zr.tickCount,ticks:void 0,type:"category",unit:void 0},kS=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Kse:$se,MS=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Yse:Gse,N_=t=>t.polarOptions,DS=re([Ra,Na,Zn],Bne),OV=re([N_,DS],(t,e)=>{if(t!=null)return $i(t.innerRadius,e,0)}),PV=re([N_,DS],(t,e)=>{if(t!=null)return $i(t.outerRadius,e,e*.8)}),Wse=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},kV=re([N_],Wse);re([kS,kV],R_);var MV=re([DS,OV,PV],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});re([MS,MV],R_);var DV=re([yt,N_,OV,PV,Ra,Na],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:c,startAngle:f,endAngle:h}=e;return{cx:$i(l,i,i/2),cy:$i(c,a,a/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),Cn=(t,e)=>e,O_=(t,e,n)=>n;function LS(t){return t==null?void 0:t.id}function LV(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,l=new Map;return t.forEach(c=>{var f,h=(f=c.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var m=LS(c);h.forEach((p,y)=>{var b=a==null||i?y:String(sr(p,a,null)),w=sr(p,c.dataKey,0),x;l.has(b)?x=l.get(b):x={},Object.assign(x,{[m]:w}),l.set(b,x)})}}),Array.from(l.values())}function P_(t){return t.stackId!=null&&t.dataKey!=null}var k_=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function M_(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Qse(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var In=t=>{var e=yt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},yf=t=>t.tooltip.settings.axisId;function xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ly(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(n),!0).forEach(function(r){Xse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xse(t,e,n){return(e=Zse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zse(t){var e=Jse(t,"string");return typeof e=="symbol"?e:e+""}function Jse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $1=[0,"auto"],Pn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},jV=(t,e)=>t.cartesianAxis.xAxis[e],Pa=(t,e)=>{var n=jV(t,e);return n??Pn},VV={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:$1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:um},eae=(t,e)=>t.cartesianAxis.yAxis[e],ka=(t,e)=>{var n=eae(t,e);return n??VV},tae={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},jS=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??tae},pr=(t,e,n)=>{switch(e){case"xAxis":return Pa(t,n);case"yAxis":return ka(t,n);case"zAxis":return jS(t,n);case"angleAxis":return kS(t,n);case"radiusAxis":return MS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},nae=(t,e,n)=>{switch(e){case"xAxis":return Pa(t,n);case"yAxis":return ka(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},gm=(t,e,n)=>{switch(e){case"xAxis":return Pa(t,n);case"yAxis":return ka(t,n);case"angleAxis":return kS(t,n);case"radiusAxis":return MS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},UV=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function zV(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var VS=t=>t.graphicalItems.cartesianItems,rae=re([Cn,O_],zV),BV=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),vm=re([VS,pr,rae],BV,{memoizeOptions:{resultEqualityCheck:M_}}),FV=re([vm],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(P_)),qV=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),iae=re([vm],qV),HV=t=>t.map(e=>e.data).filter(Boolean).flat(1),sae=re([vm],HV,{memoizeOptions:{resultEqualityCheck:M_}}),$V=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},US=re([sae,NS],$V),GV=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:sr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:sr(i,r)}))):t.map(r=>({value:r})),D_=re([US,pr,vm],GV);function KV(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Hg(t){if(Fc(t)||t instanceof Date){var e=Number(t);if(tn(e))return e}}function Tk(t){if(Array.isArray(t)){var e=[Hg(t[0]),Hg(t[1])];return Ko(e)?e:void 0}var n=Hg(t);if(n!=null)return[n,n]}function xa(t){return t.map(Hg).filter(KZ)}function aae(t,e,n){return!n||typeof e!="number"||Is(e)?[]:n.length?xa(n.flatMap(r=>{var i=sr(t,r.dataKey),a,l;if(Array.isArray(i)?[a,l]=i:a=l=i,!(!tn(a)||!tn(l)))return[e-a,e+l]})):[]}var Un=t=>{var e=In(t),n=yf(t);return gm(t,e,n)},ym=re([Un],t=>t==null?void 0:t.dataKey),oae=re([FV,NS,Un],LV),YV=(t,e,n,r)=>{var i={},a=e.reduce((l,c)=>(c.stackId==null||(l[c.stackId]==null&&(l[c.stackId]=[]),l[c.stackId].push(c)),l),i);return Object.fromEntries(Object.entries(a).map(l=>{var[c,f]=l,h=r?[...f].reverse():f,m=h.map(LS);return[c,{stackedData:Qee(t,m,n),graphicalItems:h}]}))},G1=re([oae,FV,I_,CV],YV),WV=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var l=tte(t,i,a);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},lae=re([pr],t=>t.allowDataOverflow),zS=t=>{var e;if(t==null||!("domain"in t))return $1;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=xa(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:$1},QV=re([pr],zS),XV=re([QV,lae],fV),uae=re([G1,Jo,Cn,XV],WV,{memoizeOptions:{resultEqualityCheck:k_}}),BS=t=>t.errorBars,cae=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>KV(n,r)),uy=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),l=Math.min(...a),c=Math.max(...a);return[l,c]}},ZV=(t,e,n,r,i)=>{var a,l;if(n.length>0&&t.forEach(c=>{n.forEach(f=>{var h,m,p=(h=r[f.id])===null||h===void 0?void 0:h.filter(R=>KV(i,R)),y=sr(c,(m=e.dataKey)!==null&&m!==void 0?m:f.dataKey),b=aae(c,y,p);if(b.length>=2){var w=Math.min(...b),x=Math.max(...b);(a==null||w<a)&&(a=w),(l==null||x>l)&&(l=x)}var C=Tk(y);C!=null&&(a=a==null?C[0]:Math.min(a,C[0]),l=l==null?C[1]:Math.max(l,C[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(c=>{var f=Tk(sr(c,e.dataKey));f!=null&&(a=a==null?f[0]:Math.min(a,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),tn(a)&&tn(l))return[a,l]},fae=re([US,pr,iae,BS,Cn],ZV,{memoizeOptions:{resultEqualityCheck:k_}});function hae(t){var{value:e}=t;if(Fc(e)||e instanceof Date)return e}var dae=(t,e,n)=>{var r=t.map(hae).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&S3(r))?N6(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},JV=t=>t.referenceElements.dots,_f=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),mae=re([JV,Cn,O_],_f),e5=t=>t.referenceElements.areas,pae=re([e5,Cn,O_],_f),t5=t=>t.referenceElements.lines,gae=re([t5,Cn,O_],_f),n5=(t,e)=>{var n=xa(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},vae=re(mae,Cn,n5),r5=(t,e)=>{var n=xa(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},yae=re([pae,Cn],r5);function _ae(t){var e;if(t.x!=null)return xa([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:xa(n)}function bae(t){var e;if(t.y!=null)return xa([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:xa(n)}var i5=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?_ae(r):bae(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},wae=re([gae,Cn],i5),Eae=re(vae,wae,yae,(t,e,n)=>uy(t,n,e)),s5=(t,e,n,r,i,a,l,c)=>{if(n!=null)return n;var f=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",h=f?uy(r,a,i):uy(a,i);return Ose(e,h,t.allowDataOverflow)},xae=re([pr,QV,XV,uae,fae,Eae,yt,Cn],s5,{memoizeOptions:{resultEqualityCheck:k_}}),Tae=[0,1],a5=(t,e,n,r,i,a,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:f}=t,h=du(e,a);if(h&&c==null){var m;return N6(0,(m=n==null?void 0:n.length)!==null&&m!==void 0?m:0)}return f==="category"?dae(r,t,h):i==="expand"?Tae:l}},FS=re([pr,yt,US,D_,I_,Cn,xae],a5),o5=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:l}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof a=="string"){var c="scale".concat(im(a));return c in qh?c:"point"}}},_m=re([pr,yt,UV,IV,Cn],o5);function Sae(t){if(t!=null){if(t in qh)return qh[t]();var e="scale".concat(im(t));if(e in qh)return qh[e]()}}function qS(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Sae(e);if(i!=null){var a=i.domain(n).range(r);return $ee(a),a}}}var l5=(t,e,n)=>{var r=zS(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ko(t))return zse(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Ko(t))return Bse(t,e.tickCount,e.allowDecimals)}},HS=re([FS,gm,_m],l5),u5=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Ko(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],l=e[1],c=n[n.length-1];return[Math.min(i,a),Math.max(l,c)]}return e},Aae=re([pr,FS,HS,Cn],u5),Cae=re(D_,pr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(xa(t.map(c=>c.value))).sort((c,f)=>c-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var l=r[a+1]-r[a];n=Math.min(n,l)}return n/i}}),c5=re(Cae,yt,AV,Zn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!tn(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var l=$i(n,t*a),c=t*a/2;return c-l-(c-l)/a*l}return 0}),Iae=(t,e)=>{var n=Pa(t,e);return n==null||typeof n.padding!="string"?0:c5(t,"xAxis",e,n.padding)},Rae=(t,e)=>{var n=ka(t,e);return n==null||typeof n.padding!="string"?0:c5(t,"yAxis",e,n.padding)},Nae=re(Pa,Iae,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Oae=re(ka,Rae,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Pae=re([Zn,Nae,v_,g_,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),kae=re([Zn,yt,Oae,v_,g_,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:l}=i;return a?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),bm=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Pae(t,n,r);case"yAxis":return kae(t,n,r);case"zAxis":return(i=jS(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return kV(t);case"radiusAxis":return MV(t,n);default:return}},f5=re([pr,bm],R_),wm=re([pr,_m,Aae,f5],qS);re([vm,BS,Cn],cae);function h5(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var L_=(t,e)=>e,j_=(t,e,n)=>n,Mae=re(m_,L_,j_,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(h5)),Dae=re(p_,L_,j_,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(h5)),d5=(t,e)=>({width:t.width,height:e.height}),Lae=(t,e)=>{var n=typeof e.width=="number"?e.width:um;return{width:n,height:t.height}},m5=re(Zn,Pa,d5),jae=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Vae=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Uae=re(Na,Zn,Mae,L_,j_,(t,e,n,r,i)=>{var a={},l;return n.forEach(c=>{var f=d5(e,c);l==null&&(l=jae(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;a[c.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),a}),zae=re(Ra,Zn,Dae,L_,j_,(t,e,n,r,i)=>{var a={},l;return n.forEach(c=>{var f=Lae(e,c);l==null&&(l=Vae(e,r,t));var h=r==="left"&&!i||r==="right"&&i;a[c.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),a}),Bae=(t,e)=>{var n=Pa(t,e);if(n!=null)return Uae(t,n.orientation,n.mirror)},Fae=re([Zn,Pa,Bae,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),qae=(t,e)=>{var n=ka(t,e);if(n!=null)return zae(t,n.orientation,n.mirror)};re([Zn,ka,qae,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}});var Hae=re(Zn,ka,(t,e)=>{var n=typeof e.width=="number"?e.width:um;return{width:n,height:t.height}}),Sk=(t,e,n)=>{switch(e){case"xAxis":return m5(t,n).width;case"yAxis":return Hae(t,n).height;default:return}},p5=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:l}=n,c=du(t,r),f=e.map(h=>h.value);if(l&&c&&a==="category"&&i&&S3(f))return f}},$S=re([yt,D_,pr,Cn],p5),g5=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,l=du(t,r);if(l&&(i==="number"||a!=="auto"))return e.map(c=>c.value)}},GS=re([yt,D_,gm,Cn],g5);re([yt,nae,_m,wm,$S,GS,bm,HS,Cn],(t,e,n,r,i,a,l,c,f)=>{if(e!=null){var h=du(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:a,duplicateDomain:i,isCategorical:h,niceTicks:c,range:l,realScaleType:n,scale:r}}});var $ae=(t,e,n,r,i,a,l,c,f)=>{if(!(e==null||r==null)){var h=du(t,f),{type:m,ticks:p,tickCount:y}=e,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=m==="category"&&r.bandwidth?r.bandwidth()/b:0;w=f==="angleAxis"&&a!=null&&a.length>=2?Fr(a[0]-a[1])*2*w:w;var x=p||i;if(x){var C=x.map((R,M)=>{var P=l?l.indexOf(R):R;return{index:M,coordinate:r(P)+w,value:R,offset:w}});return C.filter(R=>tn(R.coordinate))}return h&&c?c.map((R,M)=>({coordinate:r(R)+w,value:R,index:M,offset:w})).filter(R=>tn(R.coordinate)):r.ticks?r.ticks(y).map(R=>({coordinate:r(R)+w,value:R,offset:w})):r.domain().map((R,M)=>({coordinate:r(R)+w,value:l?l[R]:R,index:M,offset:w}))}},Gae=re([yt,gm,_m,wm,HS,bm,$S,GS,Cn],$ae),Kae=(t,e,n,r,i,a,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=du(t,l),{tickCount:f}=e,h=0;return h=l==="angleAxis"&&(r==null?void 0:r.length)>=2?Fr(r[0]-r[1])*2*h:h,c&&a?a.map((m,p)=>({coordinate:n(m)+h,value:m,index:p,offset:h})):n.ticks?n.ticks(f).map(m=>({coordinate:n(m)+h,value:m,offset:h})):n.domain().map((m,p)=>({coordinate:n(m)+h,value:i?i[m]:m,index:p,offset:h}))}},Wc=re([yt,gm,wm,bm,$S,GS,Cn],Kae),Qc=re(pr,wm,(t,e)=>{if(!(t==null||e==null))return ly(ly({},t),{},{scale:e})}),Yae=re([pr,_m,FS,f5],qS);re((t,e,n)=>jS(t,n),Yae,(t,e)=>{if(!(t==null||e==null))return ly(ly({},t),{},{scale:e})});var Wae=re([yt,m_,p_],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),v5=t=>t.options.defaultTooltipEventType,y5=t=>t.options.validateTooltipEventTypes;function _5(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function b5(t,e){var n=v5(t),r=y5(t);return _5(e,n,r)}var w5=(t,e)=>{var n,r=Number(e);if(!(Is(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Qae=t=>t.tooltip.settings,xo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Xae={itemInteraction:{click:xo,hover:xo},axisInteraction:{click:xo,hover:xo},keyboardInteraction:xo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},E5=Ir({name:"tooltip",initialState:Xae,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Vt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Bi(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Vt()},removeTooltipEntrySettings:{reducer(t,e){var n=Bi(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Vt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Zae,replaceTooltipEntrySettings:Jae,removeTooltipEntrySettings:eoe,setTooltipSettingsState:Vme,setActiveMouseOverItemIndex:x5,mouseLeaveItem:toe,mouseLeaveChart:T5,setActiveClickItemIndex:noe,setMouseOverAxisIndex:S5,setMouseClickAxisIndex:roe,setSyncInteraction:Ak,setKeyboardInteraction:K1}=E5.actions,ioe=E5.reducer;function Ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ck(Object(n),!0).forEach(function(r){soe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function soe(t,e,n){return(e=aoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aoe(t){var e=ooe(t,"string");return typeof e=="symbol"?e:e+""}function ooe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function loe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function uoe(t){return t.index!=null}var A5=(t,e,n,r)=>{if(e==null)return xo;var i=loe(t,e,n);if(i==null)return xo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(uoe(i)){if(a)return Tg(Tg({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Tg(Tg({},xo),{},{coordinate:i.coordinate})};function coe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function foe(t,e){var n=coe(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),l=Math.max(r,i);return n>=a&&n<=l}function hoe(t,e,n){if(n==null||e==null)return!0;var r=sr(t,e);return r==null||!Ko(n)?!0:foe(r,n)}var KS=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var a=Number(i);if(!tn(a))return i;var l=0,c=1/0;e.length>0&&(c=e.length-1);var f=Math.max(l,Math.min(a,c)),h=e[f];return h==null||hoe(h,n,r)?String(f):null},C5=(t,e,n,r,i,a,l,c)=>{if(!(a==null||c==null)){var f=l[0],h=f==null?void 0:c(f.positions,a);if(h!=null)return h;var m=i==null?void 0:i[Number(a)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:m.coordinate}}}},I5=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.dataKey)===i})},Em=t=>t.options.tooltipPayloadSearcher,xm=t=>t.tooltip;function Ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(n),!0).forEach(function(r){doe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function doe(t,e,n){return(e=moe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function moe(t){var e=poe(t,"string");return typeof e=="symbol"?e:e+""}function poe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function goe(t,e){return t??e}var R5=(t,e,n,r,i,a,l)=>{if(!(e==null||a==null)){var{chartData:c,computedData:f,dataStartIndex:h,dataEndIndex:m}=n,p=[];return t.reduce((y,b)=>{var w,{dataDefinedOnItem:x,settings:C}=b,R=goe(x,c),M=Array.isArray(R)?l6(R,h,m):R,P=(w=C==null?void 0:C.dataKey)!==null&&w!==void 0?w:r,q=C==null?void 0:C.nameKey,F;if(r&&Array.isArray(M)&&!Array.isArray(M[0])&&l==="axis"?F=GZ(M,r,i):F=a(M,e,f,q),Array.isArray(F))F.forEach(O=>{var L=Rk(Rk({},C),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});y.push(eP({tooltipEntrySettings:L,dataKey:O.dataKey,payload:O.payload,value:sr(O.payload,O.dataKey),name:O.name}))});else{var $;y.push(eP({tooltipEntrySettings:C,dataKey:P,payload:F,value:sr(F,P),name:($=sr(F,q))!==null&&$!==void 0?$:C==null?void 0:C.name}))}return y},p)}},YS=re([Un,yt,UV,IV,In],o5),voe=re([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),yoe=re([In,yf],zV),Tm=re([voe,Un,yoe],BV,{memoizeOptions:{resultEqualityCheck:M_}}),_oe=re([Tm],t=>t.filter(P_)),boe=re([Tm],HV,{memoizeOptions:{resultEqualityCheck:M_}}),bf=re([boe,Jo],$V),woe=re([_oe,Jo,Un],LV),WS=re([bf,Un,Tm],GV),N5=re([Un],zS),Eoe=re([Un],t=>t.allowDataOverflow),O5=re([N5,Eoe],fV),xoe=re([Tm],t=>t.filter(P_)),Toe=re([woe,xoe,I_,CV],YV),Soe=re([Toe,Jo,In,O5],WV),Aoe=re([Tm],qV),Coe=re([bf,Un,Aoe,BS,In],ZV,{memoizeOptions:{resultEqualityCheck:k_}}),Ioe=re([JV,In,yf],_f),Roe=re([Ioe,In],n5),Noe=re([e5,In,yf],_f),Ooe=re([Noe,In],r5),Poe=re([t5,In,yf],_f),koe=re([Poe,In],i5),Moe=re([Roe,koe,Ooe],uy),Doe=re([Un,N5,O5,Soe,Coe,Moe,yt,In],s5),Sm=re([Un,yt,bf,WS,I_,In,Doe],a5),Loe=re([Sm,Un,YS],l5),joe=re([Un,Sm,Loe,In],u5),P5=t=>{var e=In(t),n=yf(t),r=!1;return bm(t,e,n,r)},k5=re([Un,P5],R_),Voe=re([Un,YS,joe,k5],qS),Uoe=re([yt,WS,Un,In],p5),zoe=re([yt,WS,Un,In],g5),Boe=(t,e,n,r,i,a,l,c)=>{if(e){var{type:f}=e,h=du(t,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=f==="category"&&r.bandwidth?r.bandwidth()/m:0;return p=c==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Fr(i[0]-i[1])*2*p:p,h&&l?l.map((y,b)=>({coordinate:r(y)+p,value:y,index:b,offset:p})):r.domain().map((y,b)=>({coordinate:r(y)+p,value:a?a[y]:y,index:b,offset:p}))}}},el=re([yt,Un,YS,Voe,P5,Uoe,zoe,In],Boe),QS=re([v5,y5,Qae],(t,e,n)=>_5(n.shared,t,e)),M5=t=>t.tooltip.settings.trigger,XS=t=>t.tooltip.settings.defaultIndex,Am=re([xm,QS,M5,XS],A5),Xc=re([Am,bf,ym,Sm],KS),D5=re([el,Xc],w5),L5=re([Am],t=>{if(t)return t.dataKey});re([Am],t=>{if(t)return t.graphicalItemId});var j5=re([xm,QS,M5,XS],I5),Foe=re([Ra,Na,yt,Zn,el,XS,j5,Em],C5),qoe=re([Am,Foe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Hoe=re([Am],t=>t.active),$oe=re([j5,Xc,Jo,ym,D5,Em,QS],R5);re([$oe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ac(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){Goe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Goe(t,e,n){return(e=Koe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Koe(t){var e=Yoe(t,"string");return typeof e=="symbol"?e:e+""}function Yoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Woe=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Qoe=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:l}=r;return ac(ac(ac({},r),Hr(r.cx,r.cy,l,a)),{},{angle:a,radius:l})}var c=i.coordinate,{angle:f}=r;return ac(ac(ac({},r),Hr(r.cx,r.cy,c,f)),{},{angle:f,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Xoe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var V5=(t,e,n,r,i)=>{var a,l=-1,c=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(c<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<c;f++){var h=f>0?n[f-1].coordinate:n[c-1].coordinate,m=n[f].coordinate,p=f>=c-1?n[0].coordinate:n[f+1].coordinate,y=void 0;if(Fr(m-h)!==Fr(p-m)){var b=[];if(Fr(p-m)===Fr(i[1]-i[0])){y=p;var w=m+i[1]-i[0];b[0]=Math.min(w,(w+h)/2),b[1]=Math.max(w,(w+h)/2)}else{y=h;var x=p+i[1]-i[0];b[0]=Math.min(m,(x+m)/2),b[1]=Math.max(m,(x+m)/2)}var C=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(t>C[0]&&t<=C[1]||t>=b[0]&&t<=b[1]){({index:l}=n[f]);break}}else{var R=Math.min(h,p),M=Math.max(h,p);if(t>(R+m)/2&&t<=(M+m)/2){({index:l}=n[f]);break}}}else if(e){for(var P=0;P<c;P++)if(P===0&&t<=(e[P].coordinate+e[P+1].coordinate)/2||P>0&&P<c-1&&t>(e[P].coordinate+e[P-1].coordinate)/2&&t<=(e[P].coordinate+e[P+1].coordinate)/2||P===c-1&&t>(e[P].coordinate+e[P-1].coordinate)/2){({index:l}=e[P]);break}}return l},ZS=(t,e)=>e,U5=(t,e,n)=>n,JS=(t,e,n,r)=>r,Zoe=re(el,t=>GT(t,e=>e.coordinate)),eA=re([xm,ZS,U5,JS],A5),tA=re([eA,bf,ym,Sm],KS),z5=re([xm,ZS,U5,JS],I5),cy=re([Ra,Na,yt,Zn,el,JS,z5,Em],C5);re([eA,cy],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e});var Joe=re([el,tA],w5);re([z5,tA,Jo,ym,Joe,Em,ZS],R5);re([eA,tA],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e}));var ele=(t,e,n,r,i,a,l)=>{if(!(!t||!n||!r||!i)&&Xoe(t,l)){var c=nte(t,e),f=V5(c,a,i,n,r),h=Woe(e,i,f,t);return{activeIndex:String(f),activeCoordinate:h}}},tle=(t,e,n,r,i,a,l)=>{if(!(!t||!r||!i||!a||!n)){var c=Gne(t,n);if(c){var f=rte(c,e),h=V5(f,l,a,r,i),m=Qoe(e,a,h,c);return{activeIndex:String(h),activeCoordinate:m}}}},nle=(t,e,n,r,i,a,l,c)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?ele(t,e,r,i,a,l,c):tle(t,e,n,r,i,a,l)},rle=re(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),ile=re(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Ms)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Qse}});function Ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ok(Object(n),!0).forEach(function(r){sle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sle(t,e,n){return(e=ale(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ale(t){var e=ole(t,"string");return typeof e=="symbol"?e:e+""}function ole(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lle={},ule={zIndexMap:Object.values(Ms).reduce((t,e)=>Pk(Pk({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),lle)},cle=new Set(Object.values(Ms));function fle(t){return cle.has(t)}var B5=Ir({name:"zIndex",initialState:ule,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Vt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!fle(n)&&delete t.zIndexMap[n])},prepare:Vt()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Vt()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:Vt()}}}),{registerZIndexPortal:hle,unregisterZIndexPortal:dle,registerZIndexPortalId:mle,unregisterZIndexPortalId:ple}=B5.actions,gle=B5.reducer;function gu(t){var{zIndex:e,children:n}=t,r=jte(),i=r&&e!==void 0&&e!==0,a=vi(),l=jn();T.useLayoutEffect(()=>i?(l(hle({zIndex:e})),()=>{l(dle({zIndex:e}))}):sm,[l,e,i]);var c=ot(h=>rle(h,e,a));if(!i)return n;if(!c)return null;var f=document.getElementById(c);return f?sB.createPortal(n,f):null}var vle=T.createContext(null),sE={exports:{}},kk;function yle(){return kk||(kk=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,m){this.fn=f,this.context=h,this.once=m||!1}function a(f,h,m,p,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var b=new i(m,p||f,y),w=n?n+h:h;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],b]:f._events[w].push(b):(f._events[w]=b,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],m,p;if(this._eventsCount===0)return h;for(p in m=this._events)e.call(m,p)&&h.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},c.prototype.listeners=function(h){var m=n?n+h:h,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,b=p.length,w=new Array(b);y<b;y++)w[y]=p[y].fn;return w},c.prototype.listenerCount=function(h){var m=n?n+h:h,p=this._events[m];return p?p.fn?1:p.length:0},c.prototype.emit=function(h,m,p,y,b,w){var x=n?n+h:h;if(!this._events[x])return!1;var C=this._events[x],R=arguments.length,M,P;if(C.fn){switch(C.once&&this.removeListener(h,C.fn,void 0,!0),R){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,m),!0;case 3:return C.fn.call(C.context,m,p),!0;case 4:return C.fn.call(C.context,m,p,y),!0;case 5:return C.fn.call(C.context,m,p,y,b),!0;case 6:return C.fn.call(C.context,m,p,y,b,w),!0}for(P=1,M=new Array(R-1);P<R;P++)M[P-1]=arguments[P];C.fn.apply(C.context,M)}else{var q=C.length,F;for(P=0;P<q;P++)switch(C[P].once&&this.removeListener(h,C[P].fn,void 0,!0),R){case 1:C[P].fn.call(C[P].context);break;case 2:C[P].fn.call(C[P].context,m);break;case 3:C[P].fn.call(C[P].context,m,p);break;case 4:C[P].fn.call(C[P].context,m,p,y);break;default:if(!M)for(F=1,M=new Array(R-1);F<R;F++)M[F-1]=arguments[F];C[P].fn.apply(C[P].context,M)}}return!0},c.prototype.on=function(h,m,p){return a(this,h,m,p,!1)},c.prototype.once=function(h,m,p){return a(this,h,m,p,!0)},c.prototype.removeListener=function(h,m,p,y){var b=n?n+h:h;if(!this._events[b])return this;if(!m)return l(this,b),this;var w=this._events[b];if(w.fn)w.fn===m&&(!y||w.once)&&(!p||w.context===p)&&l(this,b);else{for(var x=0,C=[],R=w.length;x<R;x++)(w[x].fn!==m||y&&!w[x].once||p&&w[x].context!==p)&&C.push(w[x]);C.length?this._events[b]=C.length===1?C[0]:C:l(this,b)}return this},c.prototype.removeAllListeners=function(h){var m;return h?(m=n?n+h:h,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(sE)),sE.exports}var _le=yle();const ble=Sa(_le);var fy=new ble,Mk="recharts.syncEvent.tooltip",Dk="recharts.syncEvent.brush";function wle(t,e){if(e){var n=Number.parseInt(e,10);if(!Is(n))return t==null?void 0:t[n]}}var Ele={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},F5=Ir({name:"options",initialState:Ele,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),xle=F5.reducer,{createEventEmitter:Tle}=F5.actions,Sle={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},q5=Ir({name:"chartData",initialState:Sle,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:Lk,setDataStartEndIndexes:Ale,setComputedData:Ume}=q5.actions,Cle=q5.reducer,Ile=["x","y"];function jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(n),!0).forEach(function(r){Rle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rle(t,e,n){return(e=Nle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nle(t){var e=Ole(t,"string");return typeof e=="symbol"?e:e+""}function Ole(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ple(t,e){if(t==null)return{};var n,r,i=kle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Mle(){var t=ot(RV),e=ot(NV),n=jn(),r=ot(Hse),i=ot(el),a=nS(),l=v6(),c=ot(f=>f.rootProps.className);T.useEffect(()=>{if(t==null)return sm;var f=(h,m,p)=>{if(e!==p&&t===h){if(r==="index"){var y;if(l&&m!==null&&m!==void 0&&(y=m.payload)!==null&&y!==void 0&&y.coordinate&&m.payload.sourceViewBox){var b=m.payload.coordinate,{x:w,y:x}=b,C=Ple(b,Ile),{x:R,y:M,width:P,height:q}=m.payload.sourceViewBox,F=oc(oc({},C),{},{x:l.x+(P?(w-R)/P:0)*l.width,y:l.y+(q?(x-M)/q:0)*l.height});n(oc(oc({},m),{},{payload:oc(oc({},m.payload),{},{coordinate:F})}))}else n(m);return}if(i!=null){var $;if(typeof r=="function"){var O={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},L=r(i,O);$=i[L]}else r==="value"&&($=i.find(Z=>String(Z.value)===m.payload.label));var{coordinate:k}=m.payload;if($==null||m.payload.active===!1||k==null||l==null){n(Ak({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:V,y:D}=k,B=Math.min(V,l.x+l.width),U=Math.min(D,l.y+l.height),ye={x:a==="horizontal"?$.coordinate:B,y:a==="horizontal"?U:$.coordinate},Te=Ak({active:m.payload.active,coordinate:ye,dataKey:m.payload.dataKey,index:String($.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});n(Te)}}};return fy.on(Mk,f),()=>{fy.off(Mk,f)}},[c,n,e,t,r,i,a,l])}function Dle(){var t=ot(RV),e=ot(NV),n=jn();T.useEffect(()=>{if(t==null)return sm;var r=(i,a,l)=>{e!==l&&t===i&&n(Ale(a))};return fy.on(Dk,r),()=>{fy.off(Dk,r)}},[n,e,t])}function Lle(){var t=jn();T.useEffect(()=>{t(Tle())},[t]),Mle(),Dle()}var nA=t=>null;nA.displayName="Cell";function jle(t,e,n){return(e=Vle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vle(t){var e=Ule(t,"string");return typeof e=="symbol"?e:e+""}function Ule(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class zle{constructor(e){jle(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function Vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ble(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vk(Object(n),!0).forEach(function(r){Fle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fle(t,e,n){return(e=qle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qle(t){var e=Hle(t,"string");return typeof e=="symbol"?e:e+""}function Hle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $le={cacheSize:2e3,enableCache:!0},H5=Ble({},$le),Uk=new zle(H5.cacheSize),Gle={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},zk="recharts_measurement_span";function Kle(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(l,"|").concat(c)}var Bk=(t,e)=>{try{var n=document.getElementById(zk);n||(n=document.createElement("span"),n.setAttribute("id",zk),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Gle,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},nd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||fm.isSsr)return{width:0,height:0};if(!H5.enableCache)return Bk(e,n);var r=Kle(e,n),i=Uk.get(r);if(i)return i;var a=Bk(e,n);return Uk.set(r,a),a},Fk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Yle=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Wle=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Qle=Object.keys($5),vc="NaN";function Xle(t,e){return t*$5[e]}class xr{static parse(e){var n,[,r,i]=(n=Wle.exec(e))!==null&&n!==void 0?n:[];return new xr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Is(e)&&(this.unit=""),n!==""&&!Yle.test(n)&&(this.num=NaN,this.unit=""),Qle.includes(n)&&(this.num=Xle(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new xr(NaN,""):new xr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new xr(NaN,""):new xr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new xr(NaN,""):new xr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new xr(NaN,""):new xr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Is(this.num)}}function G5(t){if(t.includes(vc))return vc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=Fk.exec(e))!==null&&n!==void 0?n:[],l=xr.parse(r??""),c=xr.parse(a??""),f=i==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return vc;e=e.replace(Fk,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,m,p,y]=(h=qk.exec(e))!==null&&h!==void 0?h:[],b=xr.parse(m??""),w=xr.parse(y??""),x=p==="+"?b.add(w):b.subtract(w);if(x.isNaN())return vc;e=e.replace(qk,x.toString())}return e}var Hk=/\(([^()]*)\)/;function Zle(t){for(var e=t,n;(n=Hk.exec(e))!=null;){var[,r]=n;e=e.replace(Hk,G5(r))}return e}function Jle(t){var e=t.replace(/\s+/g,"");return e=Zle(e),e=G5(e),e}function eue(t){try{return Jle(t)}catch{return vc}}function aE(t){var e=eue(t.slice(5,-1));return e===vc?"":e}var tue=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],nue=["dx","dy","angle","className","breakAll"];function Y1(){return Y1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y1.apply(null,arguments)}function $k(t,e){if(t==null)return{};var n,r,i=rue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var K5=/[ \f\n\r\t\v\u2028\u2029]+/,Y5=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Xn(e)||(n?i=e.toString().split(""):i=e.toString().split(K5));var a=i.map(c=>({word:c,width:nd(c,r).width})),l=n?0:nd("",r).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}};function iue(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var W5=(t,e,n,r)=>t.reduce((i,a)=>{var{word:l,width:c}=a,f=i[i.length-1];if(f&&c!=null&&(e==null||r||f.width+c+n<Number(e)))f.words.push(l),f.width+=c+n;else{var h={words:[l],width:c};i.push(h)}return i},[]),Q5=t=>t.reduce((e,n)=>e.width>n.width?e:n),sue="",Gk=(t,e,n,r,i,a,l,c)=>{var f=t.slice(0,e),h=Y5({breakAll:n,style:r,children:f+sue});if(!h)return[!1,[]];var m=W5(h.wordsWithComputedWidth,a,l,c),p=m.length>i||Q5(m).width>Number(a);return[p,m]},aue=(t,e,n,r,i)=>{var{maxLines:a,children:l,style:c,breakAll:f}=t,h=nt(a),m=String(l),p=W5(e,r,n,i);if(!h||i)return p;var y=p.length>a||Q5(p).width>Number(r);if(!y)return p;for(var b=0,w=m.length-1,x=0,C;b<=w&&x<=m.length-1;){var R=Math.floor((b+w)/2),M=R-1,[P,q]=Gk(m,M,f,c,a,r,n,i),[F]=Gk(m,R,f,c,a,r,n,i);if(!P&&!F&&(b=R+1),P&&F&&(w=R-1),!P&&F){C=q;break}x++}return C||p},Kk=t=>{var e=Xn(t)?[]:t.toString().split(K5);return[{words:e,width:void 0}]},oue=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:l}=t;if((e||n)&&!fm.isSsr){var c,f,h=Y5({breakAll:a,children:r,style:i});if(h){var{wordsWithComputedWidth:m,spaceWidth:p}=h;c=m,f=p}else return Kk(r);return aue({breakAll:a,children:r,maxLines:l,style:i},c,f,e,!!n)}return Kk(r)},X5="#808080",lue={angle:0,breakAll:!1,capHeight:"0.71em",fill:X5,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},rA=T.forwardRef((t,e)=>{var n=ks(t,lue),{x:r,y:i,lineHeight:a,capHeight:l,fill:c,scaleToFit:f,textAnchor:h,verticalAnchor:m}=n,p=$k(n,tue),y=T.useMemo(()=>oue({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:f,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,f,p.style,p.width]),{dx:b,dy:w,angle:x,className:C,breakAll:R}=p,M=$k(p,nue);if(!Fc(r)||!Fc(i)||y.length===0)return null;var P=Number(r)+(nt(b)?b:0),q=Number(i)+(nt(w)?w:0);if(!tn(P)||!tn(q))return null;var F;switch(m){case"start":F=aE("calc(".concat(l,")"));break;case"middle":F=aE("calc(".concat((y.length-1)/2," * -").concat(a," + (").concat(l," / 2))"));break;default:F=aE("calc(".concat(y.length-1," * -").concat(a,")"));break}var $=[];if(f){var O=y[0].width,{width:L}=p;$.push("scale(".concat(nt(L)&&nt(O)?L/O:1,")"))}return x&&$.push("rotate(".concat(x,", ").concat(P,", ").concat(q,")")),$.length&&(M.transform=$.join(" ")),T.createElement("text",Y1({},Hi(M),{ref:e,x:P,y:q,className:Sn("recharts-text",C),textAnchor:h,fill:c.includes("url")?X5:c}),y.map((k,V)=>{var D=k.words.join(R?"":" ");return T.createElement("tspan",{x:P,dy:V===0?F:a,key:"".concat(D,"-").concat(V)},D)}))});rA.displayName="Text";var uue=["labelRef"];function cue(t,e){if(t==null)return{};var n,r,i=fue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){hue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hue(t,e,n){return(e=due(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function due(t){var e=mue(t,"string");return typeof e=="symbol"?e:e+""}function mue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function na(){return na=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},na.apply(null,arguments)}var Z5=T.createContext(null),pue=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:l,children:c}=t,f=T.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:l}),[e,n,r,i,a,l]);return T.createElement(Z5.Provider,{value:f},c)},J5=()=>{var t=T.useContext(Z5),e=v6();return t||g6(e)},gue=T.createContext(null),vue=()=>{var t=T.useContext(gue),e=ot(DV);return t||e},yue=t=>{var{value:e,formatter:n}=t,r=Xn(t.children)?e:t.children;return typeof n=="function"?n(r):r},eU=t=>t!=null&&typeof t=="function",_ue=(t,e)=>{var n=Fr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},bue=(t,e,n,r,i)=>{var{offset:a,className:l}=t,{cx:c,cy:f,innerRadius:h,outerRadius:m,startAngle:p,endAngle:y,clockWise:b}=i,w=(h+m)/2,x=_ue(p,y),C=x>=0?1:-1,R,M;switch(e){case"insideStart":R=p+C*a,M=b;break;case"insideEnd":R=y-C*a,M=!b;break;case"end":R=y+C*a,M=b;break;default:throw new Error("Unsupported position ".concat(e))}M=x<=0?M:!M;var P=Hr(c,f,w,R),q=Hr(c,f,w,R+(M?1:-1)*359),F="M".concat(P.x,",").concat(P.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(M?0:1,`,
    `).concat(q.x,",").concat(q.y),$=Xn(t.id)?xd("recharts-radial-line-"):t.id;return T.createElement("text",na({},r,{dominantBaseline:"central",className:Sn("recharts-radial-bar-label",l)}),T.createElement("defs",null,T.createElement("path",{id:$,d:F})),T.createElement("textPath",{xlinkHref:"#".concat($)},n))},wue=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:l,startAngle:c,endAngle:f}=t,h=(c+f)/2;if(n==="outside"){var{x:m,y:p}=Hr(r,i,l+e,h);return{x:m,y:p,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(a+l)/2,{x:b,y:w}=Hr(r,i,y,h);return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},W1=t=>"cx"in t&&nt(t.cx),Eue=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!W1(n)&&(a=n);var{x:l,y:c,upperWidth:f,lowerWidth:h,height:m}=e,p=l,y=l+(f-h)/2,b=(p+y)/2,w=(f+h)/2,x=p+f/2,C=m>=0?1:-1,R=C*r,M=C>0?"end":"start",P=C>0?"start":"end",q=f>=0?1:-1,F=q*r,$=q>0?"end":"start",O=q>0?"start":"end";if(i==="top"){var L={x:p+f/2,y:c-R,textAnchor:"middle",verticalAnchor:M};return Zt(Zt({},L),a?{height:Math.max(c-a.y,0),width:f}:{})}if(i==="bottom"){var k={x:y+h/2,y:c+m+R,textAnchor:"middle",verticalAnchor:P};return Zt(Zt({},k),a?{height:Math.max(a.y+a.height-(c+m),0),width:h}:{})}if(i==="left"){var V={x:b-F,y:c+m/2,textAnchor:$,verticalAnchor:"middle"};return Zt(Zt({},V),a?{width:Math.max(V.x-a.x,0),height:m}:{})}if(i==="right"){var D={x:b+w+F,y:c+m/2,textAnchor:O,verticalAnchor:"middle"};return Zt(Zt({},D),a?{width:Math.max(a.x+a.width-D.x,0),height:m}:{})}var B=a?{width:w,height:m}:{};return i==="insideLeft"?Zt({x:b+F,y:c+m/2,textAnchor:O,verticalAnchor:"middle"},B):i==="insideRight"?Zt({x:b+w-F,y:c+m/2,textAnchor:$,verticalAnchor:"middle"},B):i==="insideTop"?Zt({x:p+f/2,y:c+R,textAnchor:"middle",verticalAnchor:P},B):i==="insideBottom"?Zt({x:y+h/2,y:c+m-R,textAnchor:"middle",verticalAnchor:M},B):i==="insideTopLeft"?Zt({x:p+F,y:c+R,textAnchor:O,verticalAnchor:P},B):i==="insideTopRight"?Zt({x:p+f-F,y:c+R,textAnchor:$,verticalAnchor:P},B):i==="insideBottomLeft"?Zt({x:y+F,y:c+m-R,textAnchor:O,verticalAnchor:M},B):i==="insideBottomRight"?Zt({x:y+h-F,y:c+m-R,textAnchor:$,verticalAnchor:M},B):i&&typeof i=="object"&&(nt(i.x)||ya(i.x))&&(nt(i.y)||ya(i.y))?Zt({x:l+$i(i.x,w),y:c+$i(i.y,m),textAnchor:"end",verticalAnchor:"end"},B):Zt({x,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},B)},xue={angle:0,offset:5,zIndex:Ms.label,position:"middle",textBreakAll:!1};function yo(t){var e=ks(t,xue),{viewBox:n,position:r,value:i,children:a,content:l,className:c="",textBreakAll:f,labelRef:h}=e,m=vue(),p=J5(),y=r==="center"?p:m??p,b,w,x;if(n==null?b=y:W1(n)?b=n:b=g6(n),!b||Xn(i)&&Xn(a)&&!T.isValidElement(l)&&typeof l!="function")return null;var C=Zt(Zt({},e),{},{viewBox:b});if(T.isValidElement(l)){var{labelRef:R}=C,M=cue(C,uue);return T.cloneElement(l,M)}if(typeof l=="function"){if(w=T.createElement(l,C),T.isValidElement(w))return w}else w=yue(e);var P=Hi(e);if(W1(b)){if(r==="insideStart"||r==="insideEnd"||r==="end")return bue(e,r,w,P,b);x=wue(b,e.offset,e.position)}else x=Eue(e,b);return T.createElement(gu,{zIndex:e.zIndex},T.createElement(rA,na({ref:h,className:Sn("recharts-label",c)},P,x,{textAnchor:iue(P.textAnchor)?P.textAnchor:x.textAnchor,breakAll:f}),w))}yo.displayName="Label";var Tue=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?T.createElement(yo,na({key:"label-implicit"},r)):Fc(t)?T.createElement(yo,na({key:"label-implicit",value:t},r)):T.isValidElement(t)?t.type===yo?T.cloneElement(t,Zt({key:"label-implicit"},r)):T.createElement(yo,na({key:"label-implicit",content:t},r)):eU(t)?T.createElement(yo,na({key:"label-implicit",content:t},r)):t&&typeof t=="object"?T.createElement(yo,na({},t,{key:"label-implicit"},r)):null};function Sue(t){var{label:e,labelRef:n}=t,r=J5();return Tue(e,r,n)||null}var oE={},lE={},Wk;function Aue(){return Wk||(Wk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(lE)),lE}var uE={},Qk;function Cue(){return Qk||(Qk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(uE)),uE}var Xk;function Iue(){return Xk||(Xk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Aue(),n=Cue(),r=I3();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(oE)),oE}var cE,Zk;function Rue(){return Zk||(Zk=1,cE=Iue().last),cE}var Nue=Rue();const Oue=Sa(Nue);var Pue=["valueAccessor"],kue=["dataKey","clockWise","id","textBreakAll","zIndex"];function hy(){return hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hy.apply(null,arguments)}function Jk(t,e){if(t==null)return{};var n,r,i=Mue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Due=t=>Array.isArray(t.value)?Oue(t.value):t.value,tU=T.createContext(void 0),Lue=tU.Provider,nU=T.createContext(void 0);nU.Provider;function jue(){return T.useContext(tU)}function Vue(){return T.useContext(nU)}function $g(t){var{valueAccessor:e=Due}=t,n=Jk(t,Pue),{dataKey:r,clockWise:i,id:a,textBreakAll:l,zIndex:c}=n,f=Jk(n,kue),h=jue(),m=Vue(),p=h||m;return!p||!p.length?null:T.createElement(gu,{zIndex:c??Ms.label},T.createElement(va,{className:"recharts-label-list"},p.map((y,b)=>{var w,x=Xn(r)?e(y,b):sr(y&&y.payload,r),C=Xn(a)?{}:{id:"".concat(a,"-").concat(b)};return T.createElement(yo,hy({key:"label-".concat(b)},Hi(y),f,C,{fill:(w=n.fill)!==null&&w!==void 0?w:y.fill,parentViewBox:y.parentViewBox,value:x,textBreakAll:l,viewBox:y.viewBox,index:b,zIndex:0}))})))}$g.displayName="LabelList";function Uue(t){var{label:e}=t;return e?e===!0?T.createElement($g,{key:"labelList-implicit"}):T.isValidElement(e)||eU(e)?T.createElement($g,{key:"labelList-implicit",content:e}):typeof e=="object"?T.createElement($g,hy({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var zue={radiusAxis:{},angleAxis:{}},rU=Ir({name:"polarAxis",initialState:zue,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:zme,removeRadiusAxis:Bme,addAngleAxis:Fme,removeAngleAxis:qme}=rU.actions,Bue=rU.reducer,fE={exports:{}},xt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eM;function Fue(){if(eM)return xt;eM=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function w(x){if(typeof x=="object"&&x!==null){var C=x.$$typeof;switch(C){case t:switch(x=x.type,x){case n:case i:case r:case f:case h:case y:return x;default:switch(x=x&&x.$$typeof,x){case l:case c:case p:case m:return x;case a:return x;default:return C}}case e:return C}}}return xt.ContextConsumer=a,xt.ContextProvider=l,xt.Element=t,xt.ForwardRef=c,xt.Fragment=n,xt.Lazy=p,xt.Memo=m,xt.Portal=e,xt.Profiler=i,xt.StrictMode=r,xt.Suspense=f,xt.SuspenseList=h,xt.isContextConsumer=function(x){return w(x)===a},xt.isContextProvider=function(x){return w(x)===l},xt.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},xt.isForwardRef=function(x){return w(x)===c},xt.isFragment=function(x){return w(x)===n},xt.isLazy=function(x){return w(x)===p},xt.isMemo=function(x){return w(x)===m},xt.isPortal=function(x){return w(x)===e},xt.isProfiler=function(x){return w(x)===i},xt.isStrictMode=function(x){return w(x)===r},xt.isSuspense=function(x){return w(x)===f},xt.isSuspenseList=function(x){return w(x)===h},xt.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===i||x===r||x===f||x===h||typeof x=="object"&&x!==null&&(x.$$typeof===p||x.$$typeof===m||x.$$typeof===l||x.$$typeof===a||x.$$typeof===c||x.$$typeof===b||x.getModuleId!==void 0)},xt.typeOf=w,xt}var tM;function que(){return tM||(tM=1,fE.exports=Fue()),fE.exports}var Hue=que(),nM=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",rM=null,hE=null,iU=t=>{if(t===rM&&Array.isArray(hE))return hE;var e=[];return T.Children.forEach(t,n=>{Xn(n)||(Hue.isFragment(n)?e=e.concat(iU(n.props.children)):e.push(n))}),hE=e,rM=t,e};function $ue(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>nM(i)):r=[nM(e)],iU(t).forEach(i=>{var a=Bc(i,"type.displayName")||Bc(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var dE={},iM;function Gue(){return iM||(iM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(dE)),dE}var mE,sM;function Kue(){return sM||(sM=1,mE=Gue().isPlainObject),mE}var Yue=Kue();const Wue=Sa(Yue);function aM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aM(Object(n),!0).forEach(function(r){Que(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Que(t,e,n){return(e=Xue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xue(t){var e=Zue(t,"string");return typeof e=="symbol"?e:e+""}function Zue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dy(){return dy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dy.apply(null,arguments)}var lM=(t,e,n,r,i)=>{var a=n-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-a/2,",").concat(e+i),l+="L ".concat(t+n-a/2-r,",").concat(e+i),l+="L ".concat(t,",").concat(e," Z"),l},Jue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ece=t=>{var e=ks(t,Jue),{x:n,y:r,upperWidth:i,lowerWidth:a,height:l,className:c}=e,{animationEasing:f,animationDuration:h,animationBegin:m,isUpdateAnimationActive:p}=e,y=T.useRef(null),[b,w]=T.useState(-1),x=T.useRef(i),C=T.useRef(a),R=T.useRef(l),M=T.useRef(n),P=T.useRef(r),q=aS(t,"trapezoid-");if(T.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var ye=y.current.getTotalLength();ye&&w(ye)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||l!==+l||i===0&&a===0||l===0)return null;var F=Sn("recharts-trapezoid",c);if(!p)return T.createElement("g",null,T.createElement("path",dy({},Hi(e),{className:F,d:lM(n,r,i,a,l)})));var $=x.current,O=C.current,L=R.current,k=M.current,V=P.current,D="0px ".concat(b===-1?1:b,"px"),B="".concat(b,"px 0px"),U=S6(["strokeDasharray"],h,f);return T.createElement(sS,{animationId:q,key:q,canBegin:b>0,duration:h,easing:f,isActive:p,begin:m},ye=>{var Te=Yn($,i,ye),Z=Yn(O,a,ye),oe=Yn(L,l,ye),ie=Yn(k,n,ye),J=Yn(V,r,ye);y.current&&(x.current=Te,C.current=Z,R.current=oe,M.current=ie,P.current=J);var me=ye>0?{transition:U,strokeDasharray:B}:{strokeDasharray:D};return T.createElement("path",dy({},Hi(e),{className:F,d:lM(ie,J,Te,Z,oe),ref:y,style:oM(oM({},me),e.style)}))})},tce=["option","shapeType","propTransformer","activeClassName"];function nce(t,e){if(t==null)return{};var n,r,i=rce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function uM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function my(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uM(Object(n),!0).forEach(function(r){ice(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ice(t,e,n){return(e=sce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sce(t){var e=ace(t,"string");return typeof e=="symbol"?e:e+""}function ace(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oce(t,e){return my(my({},e),t)}function lce(t,e){return t==="symbols"}function cM(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return T.createElement(Lne,n);case"trapezoid":return T.createElement(ece,n);case"sector":return T.createElement(Qne,n);case"symbols":if(lce(e))return T.createElement(C3,n);break;case"curve":return T.createElement(ane,n);default:return null}}function uce(t){return T.isValidElement(t)?t.props:t}function cce(t){var{option:e,shapeType:n,propTransformer:r=oce,activeClassName:i="recharts-active-shape"}=t,a=nce(t,tce),l;if(T.isValidElement(e))l=T.cloneElement(e,my(my({},a),uce(e)));else if(typeof e=="function")l=e(a,a.index);else if(Wue(e)&&typeof e!="boolean"){var c=r(e,a);l=T.createElement(cM,{shapeType:n,elementProps:c})}else{var f=a;l=T.createElement(cM,{shapeType:n,elementProps:f})}return a.isActive?T.createElement(va,{className:i},l):l}var sU=(t,e,n)=>{var r=jn();return(i,a)=>l=>{t==null||t(i,a,l),r(x5({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},aU=t=>{var e=jn();return(n,r)=>i=>{t==null||t(n,r,i),e(toe())}},oU=(t,e,n)=>{var r=jn();return(i,a)=>l=>{t==null||t(i,a,l),r(noe({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function fce(t){var{tooltipEntrySettings:e}=t,n=jn(),r=vi(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(Zae(e)):i.current!==e&&n(Jae({prev:i.current,next:e})),i.current=e)},[e,n,r]),T.useLayoutEffect(()=>()=>{i.current&&(n(eoe(i.current)),i.current=null)},[n]),null}function hce(t){var{legendPayload:e}=t,n=jn(),r=vi(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(Qte(e)):i.current!==e&&n(Xte({prev:i.current,next:e})),i.current=e)},[n,r,e]),T.useLayoutEffect(()=>()=>{i.current&&(n(Zte(i.current)),i.current=null)},[n]),null}var pE,dce=()=>{var[t]=T.useState(()=>xd("uid-"));return t},mce=(pE=C8.useId)!==null&&pE!==void 0?pE:dce;function lU(t,e){var n=mce();return e||(t?"".concat(t,"-").concat(n):n)}var pce=T.createContext(void 0),gce=t=>{var{id:e,type:n,children:r}=t,i=lU("recharts-".concat(n),e);return T.createElement(pce.Provider,{value:i},r(i))},vce={cartesianItems:[],polarItems:[]},uU=Ir({name:"graphicalItems",initialState:vce,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Vt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Bi(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Vt()},removeCartesianGraphicalItem:{reducer(t,e){var n=Bi(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Vt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Vt()},removePolarGraphicalItem:{reducer(t,e){var n=Bi(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Vt()}}}),{addCartesianGraphicalItem:yce,replaceCartesianGraphicalItem:_ce,removeCartesianGraphicalItem:bce,addPolarGraphicalItem:Hme,removePolarGraphicalItem:$me}=uU.actions,wce=uU.reducer,Ece=t=>{var e=jn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(yce(t)):n.current!==t&&e(_ce({prev:n.current,next:t})),n.current=t},[e,t]),T.useLayoutEffect(()=>()=>{n.current&&(e(bce(n.current)),n.current=null)},[e]),null},xce=T.memo(Ece);function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){Tce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tce(t,e,n){return(e=Sce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sce(t){var e=Ace(t,"string");return typeof e=="symbol"?e:e+""}function Ace(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cce={xAxis:{},yAxis:{},zAxis:{}},cU=Ir({name:"cartesianAxis",initialState:Cce,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Vt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Vt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Vt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Vt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Vt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Vt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Vt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Vt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Vt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var l=[...a,r].slice(-3);t.yAxis[n]=hM(hM({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:Ice,replaceXAxis:Rce,removeXAxis:Nce,addYAxis:Gme,replaceYAxis:Kme,removeYAxis:Yme,addZAxis:Wme,replaceZAxis:Qme,removeZAxis:Xme,updateYAxisWidth:Zme}=cU.actions,Oce=cU.reducer,Pce=re([Zn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),kce=re([Pce,Ra,Na],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),fU=()=>ot(kce),Mce="Invariant failed";function Dce(t,e){throw new Error(Mce)}var Lce=["x","y"];function Q1(){return Q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q1.apply(null,arguments)}function dM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(n),!0).forEach(function(r){jce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jce(t,e,n){return(e=Vce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vce(t){var e=Uce(t,"string");return typeof e=="symbol"?e:e+""}function Uce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zce(t,e){if(t==null)return{};var n,r,i=Bce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Fce(t,e){var{x:n,y:r}=t,i=zce(t,Lce),a="".concat(n),l=parseInt(a,10),c="".concat(r),f=parseInt(c,10),h="".concat(e.height||i.height),m=parseInt(h,10),p="".concat(e.width||i.width),y=parseInt(p,10);return Dh(Dh(Dh(Dh(Dh({},e),i),l?{x:l}:{}),f?{y:f}:{}),{},{height:m,width:y,name:e.name,radius:e.radius})}function py(t){return T.createElement(cce,Q1({shapeType:"rectangle",propTransformer:Fce,activeClassName:"recharts-active-bar"},t))}var qce=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(nt(e))return e;var a=nt(r)||Xn(r);return a?e(r,i):(a||Dce(),n)}},Hce={},hU=Ir({name:"errorBars",initialState:Hce,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Jme,replaceErrorBar:epe,removeErrorBar:tpe}=hU.actions,$ce=hU.reducer,Gce=["children"];function Kce(t,e){if(t==null)return{};var n,r,i=Yce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Wce={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Qce=T.createContext(Wce);function Xce(t){var{children:e}=t,n=Kce(t,Gce);return T.createElement(Qce.Provider,{value:n},e)}function dU(t,e){var n,r,i=ot(h=>Pa(h,t)),a=ot(h=>ka(h,e)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Pn.allowDataOverflow,c=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:VV.allowDataOverflow,f=l||c;return{needClip:f,needClipX:l,needClipY:c}}function Zce(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=fU(),{needClipX:a,needClipY:l,needClip:c}=dU(e,n);if(!c||!i)return null;var{x:f,y:h,width:m,height:p}=i;return T.createElement("clipPath",{id:"clipPath-".concat(r)},T.createElement("rect",{x:a?f:f-m/2,y:l?h:h-p/2,width:a?m:m*2,height:l?p:p*2}))}function Jce(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&tn(t.zIndex)?t.zIndex:e}var gE={exports:{}},vE={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mM;function efe(){if(mM)return vE;mM=1;var t=Zc();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,l=t.useMemo,c=t.useDebugValue;return vE.useSyncExternalStoreWithSelector=function(f,h,m,p,y){var b=i(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=l(function(){function C(F){if(!R){if(R=!0,M=F,F=p(F),y!==void 0&&w.hasValue){var $=w.value;if(y($,F))return P=$}return P=F}if($=P,n(M,F))return $;var O=p(F);return y!==void 0&&y($,O)?(M=F,$):(M=F,P=O)}var R=!1,M,P,q=m===void 0?null:m;return[function(){return C(h())},q===null?void 0:function(){return C(q())}]},[h,m,p,y]);var x=r(f,b[0],b[1]);return a(function(){w.hasValue=!0,w.value=x},[x]),c(x),x},vE}var pM;function tfe(){return pM||(pM=1,gE.exports=efe()),gE.exports}tfe();function nfe(t){t()}function rfe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){nfe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var gM={notify(){},get:()=>[]};function ife(t,e){let n,r=gM,i=0,a=!1;function l(x){m();const C=r.subscribe(x);let R=!1;return()=>{R||(R=!0,C(),p())}}function c(){r.notify()}function f(){w.onStateChange&&w.onStateChange()}function h(){return a}function m(){i++,n||(n=t.subscribe(f),r=rfe())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=gM)}function y(){a||(a=!0,m())}function b(){a&&(a=!1,p())}const w={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:f,isSubscribed:h,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>r};return w}var sfe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",afe=sfe(),ofe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",lfe=ofe(),ufe=()=>afe||lfe?T.useLayoutEffect:T.useEffect,cfe=ufe();function vM(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function ffe(t,e){if(vM(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!vM(t[n[i]],e[n[i]]))return!1;return!0}var yE=Symbol.for("react-redux-context"),_E=typeof globalThis<"u"?globalThis:{};function hfe(){if(!T.createContext)return{};const t=_E[yE]??(_E[yE]=new Map);let e=t.get(T.createContext);return e||(e=T.createContext(null),t.set(T.createContext,e)),e}var dfe=hfe();function mfe(t){const{children:e,context:n,serverState:r,store:i}=t,a=T.useMemo(()=>{const f=ife(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=T.useMemo(()=>i.getState(),[i]);cfe(()=>{const{subscription:f}=a;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[a,l]);const c=n||dfe;return T.createElement(c.Provider,{value:a},e)}var pfe=mfe,gfe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function vfe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function iA(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(gfe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!ffe(t[r],e[r]))return!1}else if(!vfe(t[r],e[r]))return!1;return!0}var yfe=["onMouseEnter","onMouseLeave","onClick"],_fe=["value","background","tooltipPosition"],bfe=["id"],wfe=["onMouseEnter","onClick","onMouseLeave"];function Ta(){return Ta=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ta.apply(null,arguments)}function yM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(n),!0).forEach(function(r){Efe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Efe(t,e,n){return(e=xfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xfe(t){var e=Tfe(t,"string");return typeof e=="symbol"?e:e+""}function Tfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gy(t,e){if(t==null)return{};var n,r,i=Sfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Afe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:c6(n,e),payload:t}]},Cfe=T.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:l,unit:c,tooltipType:f}=t,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:c6(a,e),hide:l,type:f,color:i,unit:c}};return T.createElement(fce,{tooltipEntrySettings:h})});function Ife(t){var e=ot(Xc),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:l,onMouseLeave:c,onClick:f}=a,h=gy(a,yfe),m=sU(l,r),p=aU(c),y=oU(f,r);if(!i||n==null)return null;var b=s3(i);return T.createElement(gu,{zIndex:Jce(i,Ms.barBackground)},n.map((w,x)=>{var{value:C,background:R,tooltipPosition:M}=w,P=gy(w,_fe);if(!R)return null;var q=m(w,x),F=p(w,x),$=y(w,x),O=fr(fr(fr(fr(fr({option:i,isActive:String(x)===e},P),{},{fill:"#eee"},R),b),HT(h,w,x)),{},{onMouseEnter:q,onMouseLeave:F,onClick:$,dataKey:r,index:x,className:"recharts-bar-background-rectangle"});return T.createElement(py,Ta({key:"background-bar-".concat(x)},O))}))}function Rfe(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(a=>{var l={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return fr(fr({},l),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:l,fill:a.fill})});return T.createElement(Lue,{value:e?i:void 0},n)}function Nfe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:l}=t,c=ot(Xc),f=ot(L5),h=n&&String(a)===c&&(f==null||l===f),m=h?n:e;return h?T.createElement(gu,{zIndex:Ms.activeBar},T.createElement(py,Ta({},r,{name:String(r.name)},i,{isActive:h,option:m,index:a,dataKey:l}))):T.createElement(py,Ta({},r,{name:String(r.name)},i,{isActive:h,option:m,index:a,dataKey:l}))}function Ofe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return T.createElement(py,Ta({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:a}))}function Pfe(t){var e,{data:n,props:r}=t,i=(e=$o(r))!==null&&e!==void 0?e:{},{id:a}=i,l=gy(i,bfe),{shape:c,dataKey:f,activeBar:h}=r,{onMouseEnter:m,onClick:p,onMouseLeave:y}=r,b=gy(r,wfe),w=sU(m,f),x=aU(y),C=oU(p,f);return n?T.createElement(T.Fragment,null,n.map((R,M)=>T.createElement(va,Ta({key:"rectangle-".concat(R==null?void 0:R.x,"-").concat(R==null?void 0:R.y,"-").concat(R==null?void 0:R.value,"-").concat(M),className:"recharts-bar-rectangle"},HT(b,R,M),{onMouseEnter:w(R,M),onMouseLeave:x(R,M),onClick:C(R,M)}),h?T.createElement(Nfe,{shape:c,activeBar:h,baseProps:l,entry:R,index:M,dataKey:f}):T.createElement(Ofe,{shape:c,baseProps:l,entry:R,index:M,dataKey:f})))):null}function kfe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:l,animationDuration:c,animationEasing:f,onAnimationEnd:h,onAnimationStart:m}=e,p=n.current,y=aS(e,"recharts-bar-"),[b,w]=T.useState(!1),x=!b,C=T.useCallback(()=>{typeof h=="function"&&h(),w(!1)},[h]),R=T.useCallback(()=>{typeof m=="function"&&m(),w(!0)},[m]);return T.createElement(Rfe,{showLabels:x,rects:r},T.createElement(sS,{animationId:y,begin:l,duration:c,isActive:a,easing:f,onAnimationEnd:C,onAnimationStart:R,key:y},M=>{var P=M===1?r:r==null?void 0:r.map((q,F)=>{var $=p&&p[F];if($)return fr(fr({},q),{},{x:Yn($.x,q.x,M),y:Yn($.y,q.y,M),width:Yn($.width,q.width,M),height:Yn($.height,q.height,M)});if(i==="horizontal"){var O=Yn(0,q.height,M),L=Yn(q.stackedBarStart,q.y,M);return fr(fr({},q),{},{y:L,height:O})}var k=Yn(0,q.width,M),V=Yn(q.stackedBarStart,q.x,M);return fr(fr({},q),{},{width:k,x:V})});return M>0&&(n.current=P??null),P==null?null:T.createElement(va,null,T.createElement(Pfe,{props:e,data:P}))}),T.createElement(Uue,{label:e.label}),e.children)}function Mfe(t){var e=T.useRef(null);return T.createElement(kfe,{previousRectanglesRef:e,props:t})}var mU=0,Dfe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:sr(t,e)}};class Lfe extends T.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:l,needClip:c,background:f,id:h}=this.props;if(e||n==null)return null;var m=Sn("recharts-bar",i),p=h;return T.createElement(va,{className:m,id:h},c&&T.createElement("defs",null,T.createElement(Zce,{clipPathId:p,xAxisId:a,yAxisId:l})),T.createElement(va,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(p,")"):void 0},T.createElement(Ife,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),T.createElement(Mfe,this.props)))}}var jfe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:mU,xAxisId:0,yAxisId:0,zIndex:Ms.bar};function Vfe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:l,animationBegin:c,animationDuration:f,animationEasing:h,isAnimationActive:m}=t,{needClip:p}=dU(e,n),y=nS(),b=vi(),w=$ue(t.children,nA),x=ot(M=>hhe(M,e,n,b,t.id,w));if(y!=="vertical"&&y!=="horizontal")return null;var C,R=x==null?void 0:x[0];return R==null||R.height==null||R.width==null?C=0:C=y==="vertical"?R.height/2:R.width/2,T.createElement(Xce,{xAxisId:e,yAxisId:n,data:x,dataPointFormatter:Dfe,errorBarOffset:C},T.createElement(Lfe,Ta({},t,{layout:y,needClip:p,data:x,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:l,animationBegin:c,animationDuration:f,animationEasing:h,isAnimationActive:m})))}function Ufe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:l,yAxis:c,xAxisTicks:f,yAxisTicks:h,stackedData:m,displayedData:p,offset:y,cells:b,parentViewBox:w,dataStartIndex:x}=t,C=e==="horizontal"?c:l,R=m?C.scale.domain():null,M=Zee({numericAxis:C}),P=C.scale(M);return p.map((q,F)=>{var $,O,L,k,V,D;m?$=Gee(m[F+x],R):($=sr(q,n),Array.isArray($)||($=[M,$]));var B=qce(r,mU)($[1],F);if(e==="horizontal"){var U,[ye,Te]=[c.scale($[0]),c.scale($[1])];O=XO({axis:l,ticks:f,bandSize:a,offset:i.offset,entry:q,index:F}),L=(U=Te??ye)!==null&&U!==void 0?U:void 0,k=i.size;var Z=ye-Te;if(V=Is(Z)?0:Z,D={x:O,y:y.top,width:k,height:y.height},Math.abs(B)>0&&Math.abs(V)<Math.abs(B)){var oe=Fr(V||B)*(Math.abs(B)-Math.abs(V));L-=oe,V+=oe}}else{var[ie,J]=[l.scale($[0]),l.scale($[1])];if(O=ie,L=XO({axis:c,ticks:h,bandSize:a,offset:i.offset,entry:q,index:F}),k=J-ie,V=i.size,D={x:y.left,y:L,width:y.width,height:V},Math.abs(B)>0&&Math.abs(k)<Math.abs(B)){var me=Fr(k||B)*(Math.abs(B)-Math.abs(k));k+=me}}if(O==null||L==null||k==null||V==null)return null;var z=fr(fr({},q),{},{stackedBarStart:P,x:O,y:L,width:k,height:V,value:m?$:$[1],payload:q,background:D,tooltipPosition:{x:O+k/2,y:L+V/2},parentViewBox:w},b&&b[F]&&b[F].props);return z}).filter(Boolean)}function zfe(t){var e=ks(t,jfe),n=vi();return T.createElement(gce,{id:e.id,type:"bar"},r=>T.createElement(T.Fragment,null,T.createElement(hce,{legendPayload:Afe(e)}),T.createElement(Cfe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),T.createElement(xce,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:Xee(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),T.createElement(gu,{zIndex:e.zIndex},T.createElement(Vfe,Ta({},e,{id:r})))))}var pU=T.memo(zfe,iA);pU.displayName="Bar";function _M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_M(Object(n),!0).forEach(function(r){Bfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bfe(t,e,n){return(e=Ffe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ffe(t){var e=qfe(t,"string");return typeof e=="symbol"?e:e+""}function qfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hfe=(t,e)=>e,$fe=(t,e,n)=>n,Gfe=(t,e,n,r)=>r,Kfe=(t,e,n,r,i)=>i,Cm=re([VS,Kfe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Yfe=re([Cm],t=>t==null?void 0:t.maxBarSize),Wfe=(t,e,n,r,i,a)=>a,bM=(t,e,n)=>{var r=n??t;if(!Xn(r))return $i(r,e,0)},Qfe=re([yt,VS,Hfe,$fe,Gfe],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Xfe=(t,e,n,r)=>{var i=yt(t);return i==="horizontal"?G1(t,"yAxis",n,r):G1(t,"xAxis",e,r)},Zfe=(t,e,n)=>{var r=yt(t);return r==="horizontal"?Sk(t,"xAxis",e):Sk(t,"yAxis",n)},Jfe=(t,e,n)=>{var r={},i=t.filter(P_),a=t.filter(h=>h.stackId==null),l=i.reduce((h,m)=>(h[m.stackId]||(h[m.stackId]=[]),h[m.stackId].push(m),h),r),c=Object.entries(l).map(h=>{var[m,p]=h,y=p.map(w=>w.dataKey),b=bM(e,n,p[0].barSize);return{stackId:m,dataKeys:y,barSize:b}}),f=a.map(h=>{var m=[h.dataKey].filter(y=>y!=null),p=bM(e,n,h.barSize);return{stackId:void 0,dataKeys:m,barSize:p}});return[...c,...f]},ehe=re([Qfe,qse,Zfe],Jfe),the=(t,e,n,r,i)=>{var a,l,c=Cm(t,e,n,r,i);if(c!=null){var f=yt(t),h=SV(t),{maxBarSize:m}=c,p=Xn(m)?h:m,y,b;return f==="horizontal"?(y=Qc(t,"xAxis",e,r),b=Wc(t,"xAxis",e,r)):(y=Qc(t,"yAxis",n,r),b=Wc(t,"yAxis",n,r)),(a=(l=u6(y,b,!0))!==null&&l!==void 0?l:p)!==null&&a!==void 0?a:0}},gU=(t,e,n,r)=>{var i=yt(t),a,l;return i==="horizontal"?(a=Qc(t,"xAxis",e,r),l=Wc(t,"xAxis",e,r)):(a=Qc(t,"yAxis",n,r),l=Wc(t,"yAxis",n,r)),u6(a,l)};function nhe(t,e,n,r,i){var a=r.length;if(!(a<1)){var l=$i(t,n,0,!0),c,f=[];if(tn(r[0].barSize)){var h=!1,m=n/a,p=r.reduce((R,M)=>R+(M.barSize||0),0);p+=(a-1)*l,p>=n&&(p-=(a-1)*l,l=0),p>=n&&m>0&&(h=!0,m*=.9,p=a*m);var y=(n-p)/2>>0,b={offset:y-l,size:0};c=r.reduce((R,M)=>{var P,q={stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:b.offset+b.size+l,size:h?m:(P=M.barSize)!==null&&P!==void 0?P:0}},F=[...R,q];return b=F[F.length-1].position,F},f)}else{var w=$i(e,n,0,!0);n-2*w-(a-1)*l<=0&&(l=0);var x=(n-2*w-(a-1)*l)/a;x>1&&(x>>=0);var C=tn(i)?Math.min(x,i):x;c=r.reduce((R,M,P)=>[...R,{stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:w+(x+l)*P+(x-C)/2,size:C}}],f)}return c}}var rhe=(t,e,n,r,i,a,l)=>{var c=Xn(l)?e:l,f=nhe(n,r,i!==a?i:a,t,c);return i!==a&&f!=null&&(f=f.map(h=>Sg(Sg({},h),{},{position:Sg(Sg({},h.position),{},{offset:h.position.offset-i/2})}))),f},ihe=re([ehe,SV,Fse,AV,the,gU,Yfe],rhe),she=(t,e,n,r)=>Qc(t,"xAxis",e,r),ahe=(t,e,n,r)=>Qc(t,"yAxis",n,r),ohe=(t,e,n,r)=>Wc(t,"xAxis",e,r),lhe=(t,e,n,r)=>Wc(t,"yAxis",n,r),uhe=re([ihe,Cm],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),che=(t,e)=>{var n=LS(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(l=>l.key===n)}}}},fhe=re([Xfe,Cm],che),hhe=re([Zn,h6,she,ahe,ohe,lhe,uhe,yt,NS,gU,fhe,Cm,Wfe],(t,e,n,r,i,a,l,c,f,h,m,p,y)=>{var{chartData:b,dataStartIndex:w,dataEndIndex:x}=f;if(!(p==null||l==null||e==null||c!=="horizontal"&&c!=="vertical"||n==null||r==null||i==null||a==null||h==null)){var{data:C}=p,R;if(C!=null&&C.length>0?R=C:R=b==null?void 0:b.slice(w,x+1),R!=null)return Ufe({layout:c,barSettings:p,pos:l,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:m,displayedData:R,offset:t,cells:y,dataStartIndex:w})}}),dhe=t=>{var{chartData:e}=t,n=jn(),r=vi();return T.useEffect(()=>r?()=>{}:(n(Lk(e)),()=>{n(Lk(void 0))}),[e,n,r]),null},wM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},vU=Ir({name:"brush",initialState:wM,reducers:{setBrushSettings(t,e){return e.payload==null?wM:e.payload}}}),{setBrushSettings:npe}=vU.actions,mhe=vU.reducer;function phe(t,e,n){return(e=ghe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ghe(t){var e=vhe(t,"string");return typeof e=="symbol"?e:e+""}function vhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class sA{static create(e){return new sA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}phe(sA,"EPS",1e-4);function yhe(t){return(t%180+180)%180}var _he=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=yhe(i),l=a*Math.PI/180,c=Math.atan(r/n),f=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},bhe={dots:[],areas:[],lines:[]},yU=Ir({name:"referenceElements",initialState:bhe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Bi(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Bi(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Bi(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:rpe,removeDot:ipe,addArea:spe,removeArea:ape,addLine:ope,removeLine:lpe}=yU.actions,whe=yU.reducer,Ehe=T.createContext(void 0),xhe=t=>{var{children:e}=t,[n]=T.useState("".concat(xd("recharts"),"-clip")),r=fU();if(r==null)return null;var{x:i,y:a,width:l,height:c}=r;return T.createElement(Ehe.Provider,{value:n},T.createElement("defs",null,T.createElement("clipPath",{id:n},T.createElement("rect",{x:i,y:a,height:c,width:l}))),e)};function _U(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function The(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return _he(r,n)}function She(t,e,n){var r=n==="width",{x:i,y:a,width:l,height:c}=t;return e===1?{start:r?i:a,end:r?i+l:a+c}:{start:r?i+l:a+c,end:r?i:a}}function vy(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Ahe(t,e){return _U(t,e+1)}function Che(t,e,n,r,i){for(var a=(r||[]).slice(),{start:l,end:c}=e,f=0,h=1,m=l,p=function(){var w=r==null?void 0:r[f];if(w===void 0)return{v:_U(r,h)};var x=f,C,R=()=>(C===void 0&&(C=n(w,x)),C),M=w.coordinate,P=f===0||vy(t,M,R,m,c);P||(f=0,m=l,h+=1),P&&(m=M+t*(R()/2+i),f+=h)},y;h<=a.length;)if(y=p(),y)return y.v;return[]}function EM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(n),!0).forEach(function(r){Ihe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ihe(t,e,n){return(e=Rhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rhe(t){var e=Nhe(t,"string");return typeof e=="symbol"?e:e+""}function Nhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ohe(t,e,n,r,i){for(var a=(r||[]).slice(),l=a.length,{start:c}=e,{end:f}=e,h=function(y){var b=a[y],w,x=()=>(w===void 0&&(w=n(b,y)),w);if(y===l-1){var C=t*(b.coordinate+t*x()/2-f);a[y]=b=tr(tr({},b),{},{tickCoord:C>0?b.coordinate-C*t:b.coordinate})}else a[y]=b=tr(tr({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var R=vy(t,b.tickCoord,x,c,f);R&&(f=b.tickCoord-t*(x()/2+i),a[y]=tr(tr({},b),{},{isShow:!0}))}},m=l-1;m>=0;m--)h(m);return a}function Phe(t,e,n,r,i,a){var l=(r||[]).slice(),c=l.length,{start:f,end:h}=e;if(a){var m=r[c-1],p=n(m,c-1),y=t*(m.coordinate+t*p/2-h);if(l[c-1]=m=tr(tr({},m),{},{tickCoord:y>0?m.coordinate-y*t:m.coordinate}),m.tickCoord!=null){var b=vy(t,m.tickCoord,()=>p,f,h);b&&(h=m.tickCoord-t*(p/2+i),l[c-1]=tr(tr({},m),{},{isShow:!0}))}}for(var w=a?c-1:c,x=function(M){var P=l[M],q,F=()=>(q===void 0&&(q=n(P,M)),q);if(M===0){var $=t*(P.coordinate-t*F()/2-f);l[M]=P=tr(tr({},P),{},{tickCoord:$<0?P.coordinate-$*t:P.coordinate})}else l[M]=P=tr(tr({},P),{},{tickCoord:P.coordinate});if(P.tickCoord!=null){var O=vy(t,P.tickCoord,F,f,h);O&&(f=P.tickCoord+t*(F()/2+i),l[M]=tr(tr({},P),{},{isShow:!0}))}},C=0;C<w;C++)x(C);return l}function khe(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:l,orientation:c,interval:f,tickFormatter:h,unit:m,angle:p}=t;if(!i||!i.length||!r)return[];if(nt(f)||fm.isSsr){var y;return(y=Ahe(i,nt(f)?f:0))!==null&&y!==void 0?y:[]}var b=[],w=c==="top"||c==="bottom"?"width":"height",x=m&&w==="width"?nd(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},C=(P,q)=>{var F=typeof h=="function"?h(P.value,q):P.value;return w==="width"?The(nd(F,{fontSize:e,letterSpacing:n}),x,p):nd(F,{fontSize:e,letterSpacing:n})[w]},R=i.length>=2?Fr(i[1].coordinate-i[0].coordinate):1,M=She(a,R,w);return f==="equidistantPreserveStart"?Che(R,M,C,i,l):(f==="preserveStart"||f==="preserveStartEnd"?b=Phe(R,M,C,i,l,f==="preserveStartEnd"):b=Ohe(R,M,C,i,l),b.filter(P=>P.isShow))}var Mhe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,l=0;if(e){Array.from(e).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>l&&(l=p.width)}});var c=n?n.getBoundingClientRect().width:0,f=i+a,h=l+f+c+(n?r:0);return Math.round(h)}return 0},Dhe=["axisLine","width","height","className","hide","ticks","axisType"];function Lhe(t,e){if(t==null)return{};var n,r,i=jhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nu(){return nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nu.apply(null,arguments)}function xM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xM(Object(n),!0).forEach(function(r){Vhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vhe(t,e,n){return(e=Uhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uhe(t){var e=zhe(t,"string");return typeof e=="symbol"?e:e+""}function zhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gg={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ms.axis};function Bhe(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:l,axisLine:c,otherSvgProps:f}=t;if(!c)return null;var h=dn(dn(dn({},f),$o(c)),{},{fill:"none"});if(a==="top"||a==="bottom"){var m=+(a==="top"&&!l||a==="bottom"&&l);h=dn(dn({},h),{},{x1:e,y1:n+m*i,x2:e+r,y2:n+m*i})}else{var p=+(a==="left"&&!l||a==="right"&&l);h=dn(dn({},h),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return T.createElement("line",nu({},h,{className:Sn("recharts-cartesian-axis-line",Bc(c,"className"))}))}function Fhe(t,e,n,r,i,a,l,c,f){var h,m,p,y,b,w,x=c?-1:1,C=t.tickSize||l,R=nt(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":h=m=t.coordinate,y=n+ +!c*i,p=y-x*C,w=p-x*f,b=R;break;case"left":p=y=t.coordinate,m=e+ +!c*r,h=m-x*C,b=h-x*f,w=R;break;case"right":p=y=t.coordinate,m=e+ +c*r,h=m+x*C,b=h+x*f,w=R;break;default:h=m=t.coordinate,y=n+ +c*i,p=y+x*C,w=p+x*f,b=R;break}return{line:{x1:h,y1:p,x2:m,y2:y},tick:{x:b,y:w}}}function qhe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Hhe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function $he(t){var{option:e,tickProps:n,value:r}=t,i,a=Sn(n.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(e))i=T.cloneElement(e,dn(dn({},n),{},{className:a}));else if(typeof e=="function")i=e(dn(dn({},n),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=Sn(l,e==null?void 0:e.className)),i=T.createElement(rA,nu({},n,{className:l}),r)}return i}var Ghe=T.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:l,unit:c,padding:f,tickTextProps:h,orientation:m,mirror:p,x:y,y:b,width:w,height:x,tickSize:C,tickMargin:R,fontSize:M,letterSpacing:P,getTicksConfig:q,events:F,axisType:$}=t,O=khe(dn(dn({},q),{},{ticks:n}),M,P),L=qhe(m,p),k=Hhe(m,p),V=$o(q),D=s3(r),B={};typeof i=="object"&&(B=i);var U=dn(dn({},V),{},{fill:"none"},B),ye=O.map(oe=>dn({entry:oe},Fhe(oe,y,b,w,x,m,C,p,R))),Te=ye.map(oe=>{var{entry:ie,line:J}=oe;return T.createElement(va,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ie.value,"-").concat(ie.coordinate,"-").concat(ie.tickCoord)},i&&T.createElement("line",nu({},U,J,{className:Sn("recharts-cartesian-axis-tick-line",Bc(i,"className"))})))}),Z=ye.map((oe,ie)=>{var{entry:J,tick:me}=oe,z=dn(dn(dn(dn({textAnchor:L,verticalAnchor:k},V),{},{stroke:"none",fill:a},D),me),{},{index:ie,payload:J,visibleTicksCount:O.length,tickFormatter:l,padding:f},h);return T.createElement(va,nu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(J.value,"-").concat(J.coordinate,"-").concat(J.tickCoord)},HT(F,J,ie)),r&&T.createElement($he,{option:r,tickProps:z,value:"".concat(typeof l=="function"?l(J.value,ie):J.value).concat(c||"")}))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat($,"-ticks")},Z.length>0&&T.createElement(gu,{zIndex:Ms.label},T.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat($,"-tick-labels"),ref:e},Z)),Te.length>0&&T.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat($,"-tick-lines")},Te))}),Khe=T.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:l,ticks:c,axisType:f}=t,h=Lhe(t,Dhe),[m,p]=T.useState(""),[y,b]=T.useState(""),w=T.useRef(null);T.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var C;return Mhe({ticks:w.current,label:(C=t.labelRef)===null||C===void 0?void 0:C.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var x=T.useCallback(C=>{if(C){var R=C.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=R;var M=R[0];if(M){var P=window.getComputedStyle(M),q=P.fontSize,F=P.letterSpacing;(q!==m||F!==y)&&(p(q),b(F))}}},[m,y]);return l||r!=null&&r<=0||i!=null&&i<=0?null:T.createElement(gu,{zIndex:t.zIndex},T.createElement(va,{className:Sn("recharts-cartesian-axis",a)},T.createElement(Bhe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:$o(t)}),T.createElement(Ghe,{ref:x,axisType:f,events:h,fontSize:m,getTicksConfig:t,height:t.height,letterSpacing:y,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:c,unit:t.unit,width:t.width,x:t.x,y:t.y}),T.createElement(pue,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},T.createElement(Sue,{label:t.label,labelRef:t.labelRef}),t.children)))}),bU=T.forwardRef((t,e)=>{var n=ks(t,Gg);return T.createElement(Khe,nu({},n,{ref:e}))});bU.displayName="CartesianAxis";var Yhe=["domain","range"],Whe=["domain","range"];function TM(t,e){if(t==null)return{};var n,r,i=Qhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function SM(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function Xhe(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=TM(t,Yhe),{domain:a,range:l}=e,c=TM(e,Whe);return!SM(n,a)||!SM(r,l)?!1:iA(i,c)}var Zhe=["dangerouslySetInnerHTML","ticks"],Jhe=["id"];function X1(){return X1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X1.apply(null,arguments)}function AM(t,e){if(t==null)return{};var n,r,i=ede(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ede(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tde(t){var e=jn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(Ice(t)):n.current!==t&&e(Rce({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(Nce(n.current)),n.current=null)},[e]),null}var nde=t=>{var{xAxisId:e,className:n}=t,r=ot(h6),i=vi(),a="xAxis",l=ot(C=>wm(C,a,e,i)),c=ot(C=>Gae(C,a,e,i)),f=ot(C=>m5(C,e)),h=ot(C=>Fae(C,e)),m=ot(C=>jV(C,e));if(f==null||h==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:y}=t,b=AM(t,Zhe),{id:w}=m,x=AM(m,Jhe);return T.createElement(bU,X1({},b,x,{scale:l,x:h.x,y:h.y,width:f.width,height:f.height,className:Sn("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:c,axisType:a}))},rde={allowDataOverflow:Pn.allowDataOverflow,allowDecimals:Pn.allowDecimals,allowDuplicatedCategory:Pn.allowDuplicatedCategory,angle:Pn.angle,axisLine:Gg.axisLine,height:Pn.height,hide:!1,includeHidden:Pn.includeHidden,interval:Pn.interval,minTickGap:Pn.minTickGap,mirror:Pn.mirror,orientation:Pn.orientation,padding:Pn.padding,reversed:Pn.reversed,scale:Pn.scale,tick:Pn.tick,tickCount:Pn.tickCount,tickLine:Gg.tickLine,tickSize:Gg.tickSize,type:Pn.type,xAxisId:0},ide=t=>{var e=ks(t,rde);return T.createElement(T.Fragment,null,T.createElement(tde,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),T.createElement(nde,e))},wU=T.memo(ide,Xhe);wU.displayName="XAxis";var sde=(t,e)=>e,aA=re([sde,yt,DV,In,k5,el,Zoe,Zn],nle),oA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},EU=mi("mouseClick"),xU=lm();xU.startListening({actionCreator:EU,effect:(t,e)=>{var n=t.payload,r=aA(e.getState(),oA(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(roe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Z1=mi("mouseMove"),TU=lm(),Ag=null;TU.startListening({actionCreator:Z1,effect:(t,e)=>{var n=t.payload;Ag!==null&&cancelAnimationFrame(Ag);var r=oA(n);Ag=requestAnimationFrame(()=>{var i=e.getState(),a=b5(i,i.tooltip.settings.shared);if(a==="axis"){var l=aA(i,r);(l==null?void 0:l.activeIndex)!=null?e.dispatch(S5({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(T5())}Ag=null})}});var CM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},SU=Ir({name:"rootProps",initialState:CM,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:CM.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),ade=SU.reducer,{updateOptions:ode}=SU.actions,AU=Ir({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:upe}=AU.actions,lde=AU.reducer,CU=mi("keyDown"),IU=mi("focus"),lA=lm();lA.startListening({actionCreator:CU,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=KS(i,bf(n),ym(n),Sm(n)),c=l==null?-1:Number(l);if(!(!Number.isFinite(c)||c<0)){var f=el(n);if(a==="Enter"){var h=cy(n,"axis","hover",String(i.index));e.dispatch(K1({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:h}));return}var m=Wae(n),p=m==="left-to-right"?1:-1,y=a==="ArrowRight"?1:-1,b=c+y*p;if(!(f==null||b>=f.length||b<0)){var w=cy(n,"axis","hover",String(b));e.dispatch(K1({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}}});lA.startListening({actionCreator:IU,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",l=cy(n,"axis","hover",String(a));e.dispatch(K1({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:l}))}}}});var li=mi("externalEvent"),RU=lm(),bE=new Map;RU.startListening({actionCreator:li,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=bE.get(i);a!==void 0&&cancelAnimationFrame(a);var l=requestAnimationFrame(()=>{try{var c=e.getState(),f={activeCoordinate:qoe(c),activeDataKey:L5(c),activeIndex:Xc(c),activeLabel:D5(c),activeTooltipIndex:Xc(c),isTooltipActive:Hoe(c)};n(f,r)}finally{bE.delete(i)}});bE.set(i,l)}}});var ude=re([xm],t=>t.tooltipItemPayloads),cde=re([ude,Em,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var l=e(a,n);return l}}}),NU=mi("touchMove"),OU=lm();OU.startListening({actionCreator:NU,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=b5(r,r.tooltip.settings.shared);if(i==="axis"){var a=aA(r,oA({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(S5({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var l,c=n.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(c.clientX,c.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(ste),m=(l=f.getAttribute(ate))!==null&&l!==void 0?l:void 0,p=cde(e.getState(),h,m);e.dispatch(x5({activeDataKey:m,activeIndex:h,activeCoordinate:p}))}}}});var fde=M3({brush:mhe,cartesianAxis:Oce,chartData:Cle,errorBars:$ce,graphicalItems:wce,layout:zee,legend:Jte,options:xle,polarAxis:Bue,polarOptions:lde,referenceElements:whe,rootProps:ade,tooltip:ioe,zIndex:gle}),hde=function(e){return fee({reducer:fde,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([xU.middleware,TU.middleware,lA.middleware,RU.middleware,OU.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(W3({type:"raf"}))},devTools:fm.devToolsEnabled})};function dde(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=vi(),a=T.useRef(null);if(i)return n;a.current==null&&(a.current=hde(e));var l=$T;return T.createElement(pfe,{context:l,store:a.current},n)}function mde(t){var{layout:e,margin:n}=t,r=jn(),i=vi();return T.useEffect(()=>{i||(r(jee(e)),r(Lee(n)))},[r,i,e,n]),null}var pde=T.memo(mde,iA);function gde(t){var e=jn();return T.useEffect(()=>{e(ode(t))},[e,t]),null}function IM(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=lU("".concat(r).concat(e)),a=jn();return T.useLayoutEffect(()=>(a(mle({zIndex:e,elementId:i,isPanorama:n})),()=>{a(ple({zIndex:e,isPanorama:n}))}),[a,e,i,n]),T.createElement("g",{tabIndex:-1,id:i})}function RM(t){var{children:e,isPanorama:n}=t,r=ot(ile);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),a=r.filter(l=>l>0);return T.createElement(T.Fragment,null,i.map(l=>T.createElement(IM,{key:l,zIndex:l,isPanorama:n})),e,a.map(l=>T.createElement(IM,{key:l,zIndex:l,isPanorama:n})))}var vde=["children"];function yde(t,e){if(t==null)return{};var n,r,i=_de(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _de(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yy(){return yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yy.apply(null,arguments)}var bde={width:"100%",height:"100%",display:"block"},wde=T.forwardRef((t,e)=>{var n=Dte(),r=Lte(),i=ene();if(!Go(n)||!Go(r))return null;var{children:a,otherAttributes:l,title:c,desc:f}=t,h,m;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?m=l.role:m=i?"application":void 0),T.createElement(a3,yy({},l,{title:c,desc:f,role:m,tabIndex:h,width:n,height:r,style:bde,ref:e}),a)}),Ede=t=>{var{children:e}=t,n=ot(v_);if(!n)return null;var{width:r,height:i,y:a,x:l}=n;return T.createElement(a3,{width:r,height:i,x:l,y:a},e)},NM=T.forwardRef((t,e)=>{var{children:n}=t,r=yde(t,vde),i=vi();return i?T.createElement(Ede,null,T.createElement(RM,{isPanorama:!0},n)):T.createElement(wde,yy({ref:e},r),T.createElement(RM,{isPanorama:!1},n))});function xde(){var t=jn(),[e,n]=T.useState(null),r=ot(ite);return T.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;tn(a)&&a!==r&&t(Uee(a))}},[e,t,r]),n}function OM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OM(Object(n),!0).forEach(function(r){Sde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sde(t,e,n){return(e=Ade(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ade(t){var e=Cde(t,"string");return typeof e=="symbol"?e:e+""}function Cde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ru(){return ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ru.apply(null,arguments)}var Ide=()=>(Lle(),null);function _y(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Rde=T.forwardRef((t,e)=>{var n,r,i=T.useRef(null),[a,l]=T.useState({containerWidth:_y((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:_y((r=t.style)===null||r===void 0?void 0:r.height)}),c=T.useCallback((h,m)=>{l(p=>{var y=Math.round(h),b=Math.round(m);return p.containerWidth===y&&p.containerHeight===b?p:{containerWidth:y,containerHeight:b}})},[]),f=T.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:m,height:p}=h.getBoundingClientRect();c(m,p);var y=w=>{var{width:x,height:C}=w[0].contentRect;c(x,C)},b=new ResizeObserver(y);b.observe(h),i.current=b}},[e,c]);return T.useEffect(()=>()=>{var h=i.current;h!=null&&h.disconnect()},[c]),T.createElement(T.Fragment,null,T.createElement(y_,{width:a.containerWidth,height:a.containerHeight}),T.createElement("div",ru({ref:f},t)))}),Nde=T.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=T.useState({containerWidth:_y(n),containerHeight:_y(r)}),l=T.useCallback((f,h)=>{a(m=>{var p=Math.round(f),y=Math.round(h);return m.containerWidth===p&&m.containerHeight===y?m:{containerWidth:p,containerHeight:y}})},[]),c=T.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:h,height:m}=f.getBoundingClientRect();l(h,m)}},[e,l]);return T.createElement(T.Fragment,null,T.createElement(y_,{width:i.containerWidth,height:i.containerHeight}),T.createElement("div",ru({ref:c},t)))}),Ode=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return T.createElement(T.Fragment,null,T.createElement(y_,{width:n,height:r}),T.createElement("div",ru({ref:e},t)))}),Pde=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return ya(n)||ya(r)?T.createElement(Nde,ru({},t,{ref:e})):T.createElement(Ode,ru({},t,{ref:e}))});function kde(t){return t===!0?Rde:Pde}var Mde=T.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:l,onDoubleClick:c,onMouseDown:f,onMouseEnter:h,onMouseLeave:m,onMouseMove:p,onMouseUp:y,onTouchEnd:b,onTouchMove:w,onTouchStart:x,style:C,width:R,responsive:M,dispatchTouchEvents:P=!0}=t,q=T.useRef(null),F=jn(),[$,O]=T.useState(null),[L,k]=T.useState(null),V=xde(),D=tS(),B=(D==null?void 0:D.width)>0?D.width:R,U=(D==null?void 0:D.height)>0?D.height:i,ye=T.useCallback(ae=>{V(ae),typeof e=="function"&&e(ae),O(ae),k(ae),ae!=null&&(q.current=ae)},[V,e,O,k]),Te=T.useCallback(ae=>{F(EU(ae)),F(li({handler:a,reactEvent:ae}))},[F,a]),Z=T.useCallback(ae=>{F(Z1(ae)),F(li({handler:h,reactEvent:ae}))},[F,h]),oe=T.useCallback(ae=>{F(T5()),F(li({handler:m,reactEvent:ae}))},[F,m]),ie=T.useCallback(ae=>{F(Z1(ae)),F(li({handler:p,reactEvent:ae}))},[F,p]),J=T.useCallback(()=>{F(IU())},[F]),me=T.useCallback(ae=>{F(CU(ae.key))},[F]),z=T.useCallback(ae=>{F(li({handler:l,reactEvent:ae}))},[F,l]),Y=T.useCallback(ae=>{F(li({handler:c,reactEvent:ae}))},[F,c]),le=T.useCallback(ae=>{F(li({handler:f,reactEvent:ae}))},[F,f]),de=T.useCallback(ae=>{F(li({handler:y,reactEvent:ae}))},[F,y]),_e=T.useCallback(ae=>{F(li({handler:x,reactEvent:ae}))},[F,x]),Ie=T.useCallback(ae=>{P&&F(NU(ae)),F(li({handler:w,reactEvent:ae}))},[F,P,w]),je=T.useCallback(ae=>{F(li({handler:b,reactEvent:ae}))},[F,b]),Ct=kde(M);return T.createElement(vle.Provider,{value:$},T.createElement(sZ.Provider,{value:L},T.createElement(Ct,{width:B??(C==null?void 0:C.width),height:U??(C==null?void 0:C.height),className:Sn("recharts-wrapper",r),style:Tde({position:"relative",cursor:"default",width:B,height:U},C),onClick:Te,onContextMenu:z,onDoubleClick:Y,onFocus:J,onKeyDown:me,onMouseDown:le,onMouseEnter:Z,onMouseLeave:oe,onMouseMove:ie,onMouseUp:de,onTouchEnd:je,onTouchMove:Ie,onTouchStart:_e,ref:ye},T.createElement(Ide,null),n)))}),Dde=["width","height","responsive","children","className","style","compact","title","desc"];function Lde(t,e){if(t==null)return{};var n,r,i=jde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Vde=T.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:l,style:c,compact:f,title:h,desc:m}=t,p=Lde(t,Dde),y=$o(p);return f?T.createElement(T.Fragment,null,T.createElement(y_,{width:n,height:r}),T.createElement(NM,{otherAttributes:y,title:h,desc:m},a)):T.createElement(Mde,{className:l,style:c,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},T.createElement(NM,{otherAttributes:y,title:h,desc:m,ref:e},T.createElement(xhe,null,a)))});function J1(){return J1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J1.apply(null,arguments)}var Ude={top:5,right:5,bottom:5,left:5},zde={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Ude,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Bde=T.forwardRef(function(e,n){var r,i=ks(e.categoricalChartProps,zde),{chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,m={chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:f,eventEmitter:void 0};return T.createElement(dde,{preloadedState:{options:m},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:a},T.createElement(dhe,{chartData:h.data}),T.createElement(pde,{layout:i.layout,margin:i.margin}),T.createElement(gde,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),T.createElement(Vde,J1({},i,{ref:n})))}),Fde=["axis","item"],qde=T.forwardRef((t,e)=>T.createElement(Bde,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Fde,tooltipPayloadSearcher:wle,categoricalChartProps:t,ref:e}));const Hde=["#ef4444","#3b82f6","#eab308","#22c55e"],$de=({question:t,answers:e,onNext:n,isLast:r})=>{const i=t.type==="SHORT_ANSWER"||t.type==="FILL_IN_THE_BLANK",a=()=>{const c=[0,0,0,0];Object.values(e).forEach(h=>{const m=h;if(m&&typeof m.index=="number"){const p=m.index;p>=0&&p<4&&c[p]++}});const f=t.options.map((h,m)=>({name:m,count:c[m],correct:m===t.correctIndex}));return A.jsx("div",{className:"w-full md:w-3/4 h-96 bg-black/20 rounded-xl p-8",children:A.jsx(Mte,{width:"100%",height:"100%",children:A.jsxs(qde,{data:f,children:[A.jsx(wU,{dataKey:"name",tick:!1,axisLine:!1}),A.jsx(pU,{dataKey:"count",radius:[8,8,0,0],children:f.map((h,m)=>A.jsx(nA,{fill:Hde[m],opacity:m===t.correctIndex?1:.3},m))})]})})})},l=()=>{const c=t.options[0].toLowerCase().trim();let f=0;return Object.values(e).forEach(h=>{const m=h;m.text&&m.text.toLowerCase().trim()===c&&f++}),A.jsxs("div",{className:"w-full md:w-3/4 h-96 bg-black/20 rounded-xl p-8 flex items-center justify-center flex-col gap-4",children:[A.jsx("div",{className:"text-6xl font-black",children:f}),A.jsx("div",{className:"text-xl font-bold opacity-80 uppercase",children:"Correct Answers"})]})};return A.jsxs("div",{className:"flex flex-col min-h-full w-full max-w-7xl mx-auto p-4 md:p-8 pb-24 overflow-y-auto",children:[A.jsxs("div",{className:"flex-1 flex flex-col md:flex-row gap-12 items-end mb-4",children:[i?l():a(),A.jsx("div",{className:"w-full md:w-1/4",children:A.jsxs("div",{className:"bg-white text-gray-900 p-6 rounded-xl shadow-2xl",children:[A.jsx("div",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Correct Answer"}),A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx(o1,{className:"w-8 h-8 text-green-600 shrink-0"}),A.jsx("span",{className:"text-2xl font-bold leading-tight",children:i?t.options[0]:t.options[t.correctIndex]})]})]})})]}),A.jsx("div",{className:"flex justify-end",children:A.jsx("button",{onClick:n,className:"bg-white text-[#46178f] px-12 py-4 rounded-full font-black text-2xl shadow-lg hover:scale-105 transition",children:r?"Podium":"Next"})})]})},Gde=({players:t,onNext:e,final:n=!1})=>{const i=[...t].sort((a,l)=>l.score-a.score).slice(0,5);if(n){const[a,l,c]=i;return A.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full max-w-6xl mx-auto p-6 pt-16 pb-24 animate-in fade-in duration-700 relative z-10",children:[A.jsx("h1",{className:"text-3xl md:text-5xl font-black mb-12 drop-shadow-xl text-white tracking-tight uppercase",children:"The Podium"}),A.jsxs("div",{className:"flex items-end justify-center w-full gap-4 md:gap-8 mb-8",children:[A.jsx("div",{className:"flex flex-col items-center w-1/3 md:w-1/4 animate-in slide-in-from-bottom duration-1000 delay-300 order-1",children:l&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"mb-4 text-center animate-in fade-in delay-700",children:[A.jsx("div",{className:"text-2xl md:text-3xl font-bold truncate max-w-[150px] text-shadow",children:l.name}),A.jsxs("div",{className:"text-xl opacity-80 font-mono",children:[l.score," pts"]})]}),A.jsxs("div",{className:"w-full h-40 md:h-52 bg-gradient-to-t from-gray-400 to-gray-300 rounded-t-xl shadow-2xl flex flex-col items-center justify-start pt-4 border-t-4 border-white/30 relative",children:[A.jsx("div",{className:"bg-black/20 p-3 rounded-full mb-2",children:A.jsx(Nv,{className:"w-8 h-8 md:w-12 md:h-12 text-white"})}),A.jsx("span",{className:"text-6xl font-black text-black/10 absolute bottom-4",children:"2"})]})]})}),A.jsx("div",{className:"flex flex-col items-center w-1/3 md:w-1/4 z-10 animate-in slide-in-from-bottom duration-1000 order-2",children:a&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"mb-4 text-center animate-in fade-in delay-500",children:[A.jsx(iX,{className:"w-12 h-12 text-yellow-300 mx-auto mb-2 animate-bounce drop-shadow-lg"}),A.jsx("div",{className:"text-3xl md:text-4xl font-black truncate max-w-[200px] text-shadow",children:a.name}),A.jsxs("div",{className:"text-2xl font-bold text-yellow-300 font-mono",children:[a.score," pts"]})]}),A.jsxs("div",{className:"w-full h-52 md:h-64 bg-gradient-to-t from-yellow-500 to-yellow-400 rounded-t-xl shadow-[0_0_50px_rgba(250,204,21,0.4)] flex flex-col items-center justify-start pt-6 border-t-4 border-white/30 relative",children:[A.jsx("div",{className:"bg-black/20 p-4 rounded-full mb-2",children:A.jsx(td,{className:"w-10 h-10 md:w-16 md:h-16 text-white"})}),A.jsx("span",{className:"text-7xl font-black text-black/10 absolute bottom-4",children:"1"})]})]})}),A.jsx("div",{className:"flex flex-col items-center w-1/3 md:w-1/4 animate-in slide-in-from-bottom duration-1000 delay-500 order-3",children:c&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"mb-4 text-center animate-in fade-in delay-1000",children:[A.jsx("div",{className:"text-2xl md:text-3xl font-bold truncate max-w-[150px] text-shadow",children:c.name}),A.jsxs("div",{className:"text-xl opacity-80 font-mono",children:[c.score," pts"]})]}),A.jsxs("div",{className:"w-full h-28 md:h-40 bg-gradient-to-t from-orange-600 to-orange-500 rounded-t-xl shadow-2xl flex flex-col items-center justify-start pt-4 border-t-4 border-white/30 relative",children:[A.jsx("div",{className:"bg-black/20 p-3 rounded-full mb-2",children:A.jsx(Nv,{className:"w-8 h-8 md:w-12 md:h-12 text-white"})}),A.jsx("span",{className:"text-6xl font-black text-black/10 absolute bottom-4",children:"3"})]})]})})]}),e&&A.jsx("button",{onClick:e,className:"bg-white text-[#46178f] px-12 py-5 rounded-full font-black text-2xl shadow-2xl hover:scale-105 transition-transform border-4 border-transparent hover:border-purple-300",children:"Back to Menu"})]})}return A.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full max-w-4xl mx-auto p-4 pb-20 relative z-10",children:[A.jsx("div",{className:"bg-black/20 backdrop-blur-md px-12 py-4 rounded-2xl mb-12 shadow-xl border border-white/10",children:A.jsx("h1",{className:"text-5xl font-black drop-shadow-md uppercase tracking-wide",children:"Top 5"})}),A.jsx("div",{className:"w-full space-y-3 mb-12",children:i.map((a,l)=>A.jsxs("div",{className:"flex items-center bg-white text-gray-900 p-5 rounded-xl shadow-lg transform transition-all hover:scale-[1.02] animate-in slide-in-from-bottom duration-500 border-b-4 border-gray-200",style:{animationDelay:`${l*100}ms`},children:[A.jsxs("div",{className:"w-16 font-semibold text-3xl text-[#46178f]",children:["#",l+1]}),A.jsx("div",{className:"flex-1 font-bold text-2xl text-[#46178f]",children:a.name}),A.jsxs("div",{className:"font-black text-2xl text-gray-800",children:[a.score,a.lastAnswerCorrect&&A.jsxs("span",{className:"text-sm font-bold bg-green-100 text-green-600 px-2 py-1 rounded ml-3 align-middle",children:[" +",a.streak]})]})]},a.id))}),e&&A.jsx("button",{onClick:e,className:"bg-white hover:bg-gray-100 text-[#46178f] px-10 py-4 rounded-full font-black text-xl shadow-xl transition-all hover:-translate-y-1",children:"Next Question"})]})},Kde=async(t,e)=>{const n=`quiz_${Date.now()}`,r=CT(nm,"users",t,"quizzes",n);return await NQ(r,{...e,createdAt:vt.now(),updatedAt:vt.now()}),n},Yde=async t=>{const e=AT(nm,"users",t,"quizzes"),n=Hj(e,AQ("createdAt","desc"));return(await Kj(n)).docs.map(i=>{var a,l;return{id:i.id,...i.data(),createdAt:(a=i.data().createdAt)==null?void 0:a.toDate(),updatedAt:(l=i.data().updatedAt)==null?void 0:l.toDate()}})},Wde=async(t,e)=>{const n=CT(nm,"users",t,"quizzes",e);await OQ(n)},Qde=["","","",""],Xde=["True","False"],Zde=({onSave:t,onCancel:e,initialQuiz:n})=>{const{user:r}=rm(),[i,a]=T.useState((n==null?void 0:n.title)||""),[l,c]=T.useState((n==null?void 0:n.questions)||[]),[f,h]=T.useState(!1),[m,p]=T.useState(null),[y,b]=T.useState(""),[w,x]=T.useState("MULTIPLE_CHOICE"),[C,R]=T.useState(20),[M,P]=T.useState([...Qde]),[q,F]=T.useState(null),[$,O]=T.useState(""),L=()=>{b(""),x("MULTIPLE_CHOICE"),R(20),P(["","","",""]),F(null),O("")},k=J=>{x(J),J==="TRUE_FALSE"?(P([...Xde]),F(null),O("")):J==="MULTIPLE_CHOICE"?(P(["","","",""]),F(null),O("")):(P([]),F(-1),O(""))},V=(J,me)=>{const z=[...M];z[J]=me,P(z)},D=w==="SHORT_ANSWER"||w==="FILL_IN_THE_BLANK",B=y.trim().length===0?!1:D?$.trim().length>0:q!==null&&M.every(J=>J.trim().length>0),U=()=>{let J=[...M];return D&&(J=[$.trim()]),{id:`q-${Date.now()}-${Math.random()}`,type:w,text:y,options:J,correctIndex:D?-1:q,timeLimit:C}},ye=()=>{B&&(c([...l,U()]),L())},Te=J=>{c(l.filter(me=>me.id!==J))},Z=()=>{if(!i.trim()){alert("Please add a Quiz Title");return}let J=[...l];if(B&&J.push(U()),J.length===0){alert("Please add at least one question");return}t({title:i,topic:"Custom",questions:J})},oe=async()=>{if(!r){p({type:"error",text:"You must be logged in to save quizzes"});return}if(!i.trim()){p({type:"error",text:"Please add a Quiz Title"});return}let J=[...l];if(B&&(J.push(U()),L()),J.length===0){p({type:"error",text:"Please add at least one question"});return}h(!0),p(null);try{await Kde(r.uid,{title:i,topic:"Custom",questions:J}),p({type:"success",text:"Quiz saved successfully!"}),c(J),setTimeout(()=>{p(null)},3e3)}catch(me){console.error("Error saving quiz:",me),p({type:"error",text:"Failed to save quiz. Please try again."})}finally{h(!1)}},ie=i.trim().length>0&&(l.length>0||B);return A.jsxs("div",{className:"flex flex-col h-screen text-white relative z-10",children:[A.jsxs("div",{className:"bg-black/20 backdrop-blur-md border-b border-white/10 p-3 sm:p-4 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sticky top-0 z-20",children:[A.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 w-full sm:w-auto",children:[A.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-full transition shrink-0",title:"Back",children:A.jsx(Rv,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),A.jsxs("h2",{className:"text-base sm:text-xl font-bold flex items-center gap-2",children:[A.jsx(nO,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-300"}),A.jsx("span",{className:"truncate",children:"Quiz Creator"})]})]}),A.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto justify-end",children:[m&&A.jsx("div",{className:`hidden sm:block px-4 py-2 rounded-lg text-sm font-semibold ${m.type==="success"?"bg-green-500/20 text-green-300 border border-green-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"}`,children:m.text}),A.jsxs("button",{onClick:oe,disabled:!ie||f,className:"bg-purple-600 hover:bg-purple-700 text-white px-3 sm:px-6 py-2 rounded-full font-bold hover:scale-105 transition-transform disabled:opacity-50 disabled:scale-100 flex items-center gap-1 sm:gap-2 shadow-lg text-sm sm:text-base",title:"Save to Library",children:[A.jsx(aX,{className:"w-4 h-4"}),A.jsx("span",{className:"hidden sm:inline",children:f?"Saving...":"Save to Library"}),A.jsx("span",{className:"sm:hidden",children:"Save"})]}),A.jsxs("button",{onClick:Z,disabled:!ie,className:"bg-white text-[#46178f] px-3 sm:px-6 py-2 rounded-full font-bold hover:scale-105 transition-transform disabled:opacity-50 disabled:scale-100 flex items-center gap-1 sm:gap-2 shadow-lg text-sm sm:text-base",title:"Save & Host",children:[A.jsx(NX,{className:"w-4 h-4"}),A.jsx("span",{className:"hidden sm:inline",children:"Save & Host"}),A.jsx("span",{className:"sm:hidden",children:"Host"})]})]})]}),A.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[A.jsxs("div",{className:"w-72 bg-black/20 backdrop-blur-sm border-r border-white/10 overflow-y-auto hidden md:flex flex-col",children:[A.jsxs("div",{className:"p-6 border-b border-white/10",children:[A.jsx("label",{className:"block text-xs font-bold text-purple-200 uppercase tracking-wider mb-2",children:"Quiz Title"}),A.jsx("input",{value:i,onChange:J=>a(J.target.value),placeholder:"My Awesome Quiz",className:"w-full bg-black/20 border border-white/20 rounded-lg p-3 text-white placeholder-white/30 font-bold focus:border-purple-400 focus:outline-none transition-colors"})]}),A.jsxs("div",{className:"flex-1 p-4 space-y-3 overflow-y-auto",children:[l.map((J,me)=>A.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-xl group relative hover:bg-white/10 transition-colors",children:[A.jsxs("div",{className:"flex justify-between items-start mb-1",children:[A.jsxs("span",{className:"text-xs font-black text-purple-300 uppercase",children:["Question ",me+1]}),A.jsx("button",{onClick:z=>{z.stopPropagation(),Te(J.id)},className:"text-white/30 hover:text-red-400 transition",children:A.jsx(Jj,{className:"w-4 h-4"})})]}),A.jsx("div",{className:"text-sm font-medium truncate opacity-80",children:J.text}),A.jsxs("div",{className:"mt-2 flex gap-2",children:[A.jsx("span",{className:"text-[10px] bg-black/30 px-2 py-1 rounded text-white/60",children:J.type.replace(/_/g," ")}),A.jsxs("span",{className:"text-[10px] bg-black/30 px-2 py-1 rounded text-white/60",children:[J.timeLimit,"s"]})]})]},J.id)),l.length===0&&A.jsx("div",{className:"text-center py-12 text-white/30 text-sm border-2 border-dashed border-white/10 rounded-xl m-2",children:"No questions yet"})]}),A.jsx("div",{className:"p-4 border-t border-white/10",children:A.jsxs("button",{onClick:ye,disabled:!B,className:"w-full bg-purple-600/50 hover:bg-purple-600 text-white p-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[A.jsx(AX,{className:"w-5 h-5"})," Add Question"]})})]}),A.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 relative",children:[A.jsx("div",{className:"md:hidden mb-6",children:A.jsx("input",{value:i,onChange:J=>a(J.target.value),placeholder:"Enter Quiz Title...",className:"w-full bg-transparent border-b border-white/20 py-2 text-2xl font-black text-white placeholder-white/30 focus:border-purple-400 focus:outline-none"})}),A.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 pb-20",children:[A.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-white/10",children:A.jsx("textarea",{value:y,onChange:J=>b(J.target.value),placeholder:w==="FILL_IN_THE_BLANK"?"The capital of France is ___":"Start typing your question...",className:"w-full bg-transparent text-2xl md:text-4xl font-semibold text-center text-white placeholder-white/50 outline-none resize-none h-32"})}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[A.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:[A.jsx("label",{className:"text-xs font-bold text-purple-200 uppercase tracking-wider mb-3 block",children:"Question Type"}),A.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{id:"MULTIPLE_CHOICE",label:"Quiz",icon:nO},{id:"TRUE_FALSE",label:"True/False",icon:UX},{id:"SHORT_ANSWER",label:"Short Answer",icon:HX},{id:"FILL_IN_THE_BLANK",label:"Fill Blank",icon:lX}].map(J=>A.jsxs("button",{onClick:()=>k(J.id),className:`flex items-center justify-center gap-2 p-3 rounded-lg text-sm font-bold transition-all ${w===J.id?"bg-white text-[#46178f] shadow-lg scale-105":"bg-black/20 text-white/60 hover:bg-black/30 hover:text-white"}`,children:[A.jsx(J.icon,{className:"w-4 h-4"})," ",J.label]},J.id))})]}),A.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:[A.jsx("label",{className:"text-xs font-bold text-purple-200 uppercase tracking-wider mb-3 block",children:"Time Limit"}),A.jsx("div",{className:"grid grid-cols-4 gap-2",children:[10,20,30,60].map(J=>A.jsxs("button",{onClick:()=>R(J),className:`p-3 rounded-lg text-sm font-bold transition-all ${C===J?"bg-white text-[#46178f] shadow-lg":"bg-black/20 text-white/60 hover:bg-black/30 hover:text-white"}`,children:[J,"s"]},J))})]})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"text-center",children:[A.jsx("h3",{className:"text-xl font-bold flex items-center justify-center gap-2",children:D?"Set Correct Answer":"Set Options"}),A.jsx("p",{className:"text-white/80 text-sm font-semibold",children:D?"Players must type this exactly":"Click the circle to mark correct answer"})]}),D?A.jsxs("div",{className:"bg-white/10 backdrop-blur-md p-8 rounded-3xl border border-white/20 shadow-2xl",children:[A.jsx("input",{value:$,onChange:J=>O(J.target.value),placeholder:"Type the correct answer here...",className:"w-full bg-black/20 border-2 border-white/10 rounded-xl p-6 text-center text-3xl font-semibold text-white placeholder-white/50 focus:border-green-400 focus:bg-black/40 outline-none transition-all"}),A.jsx("div",{className:"mt-4 flex justify-center",children:A.jsx("span",{className:"bg-green-500/20 text-green-300 px-4 py-1 rounded-full text-xs font-bold uppercase tracking-wider border border-green-500/30",children:"Case Insensitive Match"})})]}):A.jsx("div",{className:`grid gap-4 ${w==="TRUE_FALSE"?"grid-cols-2":"grid-cols-1 md:grid-cols-2"}`,children:M.map((J,me)=>{const z=q===me,le=w==="TRUE_FALSE"?me===0?"bg-blue-600":"bg-red-600":["bg-red-500","bg-blue-500","bg-yellow-500","bg-green-500"][me];return A.jsx("div",{className:`relative group transition-transform duration-200 ${z?"scale-[1.02]":""}`,children:A.jsxs("div",{className:`flex items-center rounded-2xl overflow-hidden shadow-lg border-2 ${z?"border-white":"border-transparent"}`,children:[A.jsx("div",{className:`w-14 h-full flex items-center justify-center ${le} min-h-[80px]`,children:A.jsx("span",{className:"text-2xl font-bold text-white/90",children:w==="TRUE_FALSE"?me===0?"T":"F":["","","",""][me]})}),A.jsxs("div",{className:"flex-1 bg-white relative",children:[A.jsx("input",{value:J,onChange:de=>V(me,de.target.value),readOnly:w==="TRUE_FALSE",placeholder:`Option ${me+1}`,className:`w-full h-full p-4 text-gray-900 font-semibold text-lg outline-none placeholder-gray-400 ${w==="TRUE_FALSE"?"cursor-default":""}`}),A.jsx("button",{onClick:()=>F(me),className:`absolute right-2 top-1/2 -translate-y-1/2 p-2 rounded-full transition-all ${z?"text-green-500 scale-110":"text-gray-300 hover:text-gray-400"}`,children:z?A.jsx(JQ,{className:"w-8 h-8 fill-current"}):A.jsx(VT,{className:"w-8 h-8"})})]})]})},me)})})]})]})]})]})]})},PM=async(t,e,n,r,i,a)=>{const l=[...r].sort((m,p)=>p.score-m.score),c={userId:t,quizTitle:e.title,quizId:a,gamePin:n,startedAt:new Date(i),endedAt:new Date,totalPlayers:r.length,players:l.map((m,p)=>({id:m.id,name:m.name,avatar:m.avatar,score:m.score,rank:p+1,correctAnswers:m.streak||0,totalAnswers:e.questions.length})),questions:e.questions.map(m=>({text:m.text,type:m.type,correctAnswers:0,totalAnswers:r.length}))},f=AT(nm,"users",t,"gameHistory");return(await PQ(f,{...c,startedAt:vt.fromDate(c.startedAt),endedAt:vt.fromDate(c.endedAt)})).id},Jde=async(t,e)=>{const n=AT(nm,"users",t,"gameHistory"),r=Hj(n,SQ("quizId","==",e));return(await Kj(r)).docs.map(l=>{var c,f;return{id:l.id,...l.data(),startedAt:(c=l.data().startedAt)==null?void 0:c.toDate(),endedAt:(f=l.data().endedAt)==null?void 0:f.toDate()}}).sort((l,c)=>c.endedAt.getTime()-l.endedAt.getTime())},eme=t=>{const e=[...t];for(let n=e.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[e[n],e[r]]=[e[r],e[n]]}return e},kM=t=>({...t,questions:eme(t.questions)}),tme=(t,e)=>{const n=e-t,r=Math.floor(n/6e4),i=Math.floor(n%6e4/1e3);return`${r}m ${i}s`},nme=({onLoadQuiz:t,onEditQuiz:e,onBack:n})=>{const{user:r}=rm(),[i,a]=T.useState([]),[l,c]=T.useState(!0),[f,h]=T.useState(""),[m,p]=T.useState(null),[y,b]=T.useState(null),[w,x]=T.useState([]),[C,R]=T.useState(!1),[M,P]=T.useState(null);T.useEffect(()=>{q()},[r]);const q=async()=>{if(r){c(!0);try{const k=await Yde(r.uid);a(k)}catch(k){console.error("Error loading quizzes:",k)}finally{c(!1)}}},F=async k=>{if(r)try{await Wde(r.uid,k),a(i.filter(V=>V.id!==k)),p(null)}catch(V){console.error("Error deleting quiz:",V)}},$=async k=>{if(r){b(k),R(!0);try{const V=await Jde(r.uid,k);x(V)}catch(V){console.error("Error loading quiz history:",V)}finally{R(!1)}}},O=k=>{P(M===k?null:k)},L=i.filter(k=>k.title.toLowerCase().includes(f.toLowerCase())||k.topic.toLowerCase().includes(f.toLowerCase()));if(l)return A.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-white",children:A.jsx("div",{className:"text-2xl",children:"Loading your quizzes..."})});if(y){const k=i.find(V=>V.id===y);return A.jsx("div",{className:"flex flex-col min-h-screen p-4 text-white relative z-10",children:A.jsx("div",{className:"max-w-6xl w-full mx-auto",children:A.jsxs("div",{className:"bg-white/10 backdrop-blur-xl p-8 rounded-3xl shadow-2xl border border-white/20",children:[A.jsxs("div",{className:"flex items-center justify-between mb-8",children:[A.jsxs("button",{onClick:()=>b(null),className:"flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-all duration-200",children:[A.jsx(Rv,{className:"w-5 h-5"}),A.jsx("span",{children:"Back to Quizzes"})]}),A.jsxs("div",{className:"text-center",children:[A.jsx("h1",{className:"text-3xl font-bold",children:k==null?void 0:k.title}),A.jsx("p",{className:"text-white/70",children:"Game History"})]}),A.jsx("div",{className:"w-32"})]}),C?A.jsx("div",{className:"text-center py-16",children:A.jsx("div",{className:"text-xl",children:"Loading history..."})}):w.length===0?A.jsxs("div",{className:"text-center py-16",children:[A.jsx("p",{className:"text-xl text-white/70 mb-4",children:"No games played yet."}),A.jsx("p",{className:"text-white/50",children:"Host this quiz to see game reports here!"})]}):A.jsx("div",{className:"space-y-4",children:w.map(V=>A.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl overflow-hidden hover:bg-white/10 transition-all duration-200",children:[A.jsxs("div",{className:"p-6 cursor-pointer",onClick:()=>O(V.id),children:[A.jsxs("div",{className:"flex items-start justify-between mb-4",children:[A.jsx("div",{children:A.jsxs("div",{className:"flex items-center gap-4 text-sm text-white/70",children:[A.jsxs("span",{className:"flex items-center gap-1",children:[A.jsx(GQ,{className:"w-4 h-4"}),V.endedAt.toLocaleDateString()," at ",V.endedAt.toLocaleTimeString()]}),A.jsxs("span",{className:"flex items-center gap-1",children:[A.jsx(nX,{className:"w-4 h-4"}),tme(V.startedAt.getTime(),V.endedAt.getTime())]})]})}),A.jsxs("div",{className:"text-right",children:[A.jsxs("div",{className:"flex items-center gap-2 text-white/70 mb-1",children:[A.jsx(t3,{className:"w-4 h-4"}),A.jsxs("span",{children:[V.totalPlayers," Players"]})]}),A.jsxs("div",{className:"text-xs text-white/50",children:["PIN: ",V.gamePin]})]})]}),A.jsx("div",{className:"flex items-center gap-3 mb-4",children:V.players.slice(0,3).map((D,B)=>A.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${B===0?"bg-yellow-500/20":B===1?"bg-gray-400/20":"bg-orange-600/20"}`,children:[D.avatar.startsWith("data:")?A.jsx("img",{src:D.avatar,alt:D.name,className:"w-6 h-6 rounded-full"}):A.jsx("span",{className:"text-xl",children:D.avatar}),A.jsx("span",{className:"font-semibold",children:D.name}),A.jsx("span",{className:"text-sm text-white/70",children:D.score})]},D.id))}),A.jsx("div",{className:"flex items-center justify-center text-white/50",children:M===V.id?A.jsx(XQ,{className:"w-5 h-5"}):A.jsx(WQ,{className:"w-5 h-5"})})]}),M===V.id&&A.jsxs("div",{className:"border-t border-white/10 p-6 bg-black/20",children:[A.jsxs("h4",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[A.jsx(td,{className:"w-5 h-5 text-yellow-400"}),"Final Rankings"]}),A.jsx("div",{className:"space-y-2",children:V.players.map(D=>A.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${D.rank===1?"bg-yellow-500 text-black":D.rank===2?"bg-gray-400 text-black":D.rank===3?"bg-orange-600 text-white":"bg-white/10 text-white"}`,children:D.rank}),D.avatar.startsWith("data:")?A.jsx("img",{src:D.avatar,alt:D.name,className:"w-10 h-10 rounded-full"}):A.jsx("span",{className:"text-2xl",children:D.avatar}),A.jsxs("div",{children:[A.jsx("div",{className:"font-bold",children:D.name}),A.jsxs("div",{className:"text-sm text-white/50",children:[D.correctAnswers,"/",D.totalAnswers," correct"]})]})]}),A.jsx("div",{className:"text-2xl font-bold",children:D.score})]},D.id))})]})]},V.id))})]})})})}return A.jsx("div",{className:"flex flex-col min-h-screen p-4 text-white relative z-10",children:A.jsx("div",{className:"max-w-6xl w-full mx-auto",children:A.jsxs("div",{className:"bg-white/10 backdrop-blur-xl p-8 rounded-3xl shadow-2xl border border-white/20",children:[A.jsxs("div",{className:"flex items-center justify-between mb-8",children:[A.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-all duration-200",children:[A.jsx(Rv,{className:"w-5 h-5"}),A.jsx("span",{children:"Back"})]}),A.jsx("h1",{className:"text-4xl font-bold",children:"My Quizzes"}),A.jsx("div",{className:"w-24"})]}),A.jsx("div",{className:"mb-6",children:A.jsxs("div",{className:"relative",children:[A.jsx(PX,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/50"}),A.jsx("input",{type:"text",placeholder:"Search quizzes...",value:f,onChange:k=>h(k.target.value),className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/50 focus:outline-none focus:border-white/40"})]})}),L.length===0?A.jsxs("div",{className:"text-center py-16",children:[A.jsx("p",{className:"text-xl text-white/70 mb-4",children:f?"No quizzes found matching your search.":"No saved quizzes yet."}),A.jsx("p",{className:"text-white/50",children:!f&&"Create your first quiz to get started!"})]}):A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:L.map(k=>A.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-6 hover:bg-white/10 transition-all duration-200",children:[A.jsx("h3",{className:"text-xl font-bold mb-2 truncate",children:k.title}),A.jsxs("p",{className:"text-white/70 text-sm mb-1",children:["Topic: ",k.topic]}),A.jsxs("p",{className:"text-white/70 text-sm mb-4",children:[k.questions.length," question",k.questions.length!==1?"s":""]}),A.jsxs("p",{className:"text-white/50 text-xs mb-4",children:["Created: ",k.createdAt.toLocaleDateString()]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsxs("button",{onClick:()=>t(k),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg transition-all duration-200",children:[A.jsx(UT,{className:"w-4 h-4"}),A.jsx("span",{children:"Load"})]}),A.jsx("button",{onClick:()=>e(k),className:"px-3 py-2 bg-blue-600/80 hover:bg-blue-600 rounded-lg transition-all duration-200",title:"Edit quiz",children:A.jsx(Xj,{className:"w-4 h-4"})}),A.jsx("button",{onClick:()=>$(k.id),className:"px-3 py-2 bg-purple-600/80 hover:bg-purple-600 rounded-lg transition-all duration-200",title:"View game history",children:A.jsx(dX,{className:"w-4 h-4"})}),m===k.id?A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>F(k.id),className:"px-3 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm",children:"Confirm"}),A.jsx("button",{onClick:()=>p(null),className:"px-3 py-2 bg-white/10 hover:bg-white/20 rounded-lg text-sm",children:"Cancel"})]}):A.jsx("button",{onClick:()=>p(k.id),className:"px-3 py-2 bg-red-600/80 hover:bg-red-600 rounded-lg transition-all duration-200",children:A.jsx(Jj,{className:"w-4 h-4"})})]})]},k.id))})]})})})};var rme=Object.defineProperty,by=Object.getOwnPropertySymbols,PU=Object.prototype.hasOwnProperty,kU=Object.prototype.propertyIsEnumerable,MM=(t,e,n)=>e in t?rme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ex=(t,e)=>{for(var n in e||(e={}))PU.call(e,n)&&MM(t,n,e[n]);if(by)for(var n of by(e))kU.call(e,n)&&MM(t,n,e[n]);return t},tx=(t,e)=>{var n={};for(var r in t)PU.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&by)for(var r of by(t))e.indexOf(r)<0&&kU.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var iu;(t=>{const e=class Ye{constructor(f,h,m,p){if(this.version=f,this.errorCorrectionLevel=h,this.modules=[],this.isFunction=[],f<Ye.MIN_VERSION||f>Ye.MAX_VERSION)throw new RangeError("Version value out of range");if(p<-1||p>7)throw new RangeError("Mask value out of range");this.size=f*4+17;let y=[];for(let w=0;w<this.size;w++)y.push(!1);for(let w=0;w<this.size;w++)this.modules.push(y.slice()),this.isFunction.push(y.slice());this.drawFunctionPatterns();const b=this.addEccAndInterleave(m);if(this.drawCodewords(b),p==-1){let w=1e9;for(let x=0;x<8;x++){this.applyMask(x),this.drawFormatBits(x);const C=this.getPenaltyScore();C<w&&(p=x,w=C),this.applyMask(x)}}i(0<=p&&p<=7),this.mask=p,this.applyMask(p),this.drawFormatBits(p),this.isFunction=[]}static encodeText(f,h){const m=t.QrSegment.makeSegments(f);return Ye.encodeSegments(m,h)}static encodeBinary(f,h){const m=t.QrSegment.makeBytes(f);return Ye.encodeSegments([m],h)}static encodeSegments(f,h,m=1,p=40,y=-1,b=!0){if(!(Ye.MIN_VERSION<=m&&m<=p&&p<=Ye.MAX_VERSION)||y<-1||y>7)throw new RangeError("Invalid value");let w,x;for(w=m;;w++){const P=Ye.getNumDataCodewords(w,h)*8,q=l.getTotalBits(f,w);if(q<=P){x=q;break}if(w>=p)throw new RangeError("Data too long")}for(const P of[Ye.Ecc.MEDIUM,Ye.Ecc.QUARTILE,Ye.Ecc.HIGH])b&&x<=Ye.getNumDataCodewords(w,P)*8&&(h=P);let C=[];for(const P of f){n(P.mode.modeBits,4,C),n(P.numChars,P.mode.numCharCountBits(w),C);for(const q of P.getData())C.push(q)}i(C.length==x);const R=Ye.getNumDataCodewords(w,h)*8;i(C.length<=R),n(0,Math.min(4,R-C.length),C),n(0,(8-C.length%8)%8,C),i(C.length%8==0);for(let P=236;C.length<R;P^=253)n(P,8,C);let M=[];for(;M.length*8<C.length;)M.push(0);return C.forEach((P,q)=>M[q>>>3]|=P<<7-(q&7)),new Ye(w,h,M,y)}getModule(f,h){return 0<=f&&f<this.size&&0<=h&&h<this.size&&this.modules[h][f]}getModules(){return this.modules}drawFunctionPatterns(){for(let m=0;m<this.size;m++)this.setFunctionModule(6,m,m%2==0),this.setFunctionModule(m,6,m%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const f=this.getAlignmentPatternPositions(),h=f.length;for(let m=0;m<h;m++)for(let p=0;p<h;p++)m==0&&p==0||m==0&&p==h-1||m==h-1&&p==0||this.drawAlignmentPattern(f[m],f[p]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(f){const h=this.errorCorrectionLevel.formatBits<<3|f;let m=h;for(let y=0;y<10;y++)m=m<<1^(m>>>9)*1335;const p=(h<<10|m)^21522;i(p>>>15==0);for(let y=0;y<=5;y++)this.setFunctionModule(8,y,r(p,y));this.setFunctionModule(8,7,r(p,6)),this.setFunctionModule(8,8,r(p,7)),this.setFunctionModule(7,8,r(p,8));for(let y=9;y<15;y++)this.setFunctionModule(14-y,8,r(p,y));for(let y=0;y<8;y++)this.setFunctionModule(this.size-1-y,8,r(p,y));for(let y=8;y<15;y++)this.setFunctionModule(8,this.size-15+y,r(p,y));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let f=this.version;for(let m=0;m<12;m++)f=f<<1^(f>>>11)*7973;const h=this.version<<12|f;i(h>>>18==0);for(let m=0;m<18;m++){const p=r(h,m),y=this.size-11+m%3,b=Math.floor(m/3);this.setFunctionModule(y,b,p),this.setFunctionModule(b,y,p)}}drawFinderPattern(f,h){for(let m=-4;m<=4;m++)for(let p=-4;p<=4;p++){const y=Math.max(Math.abs(p),Math.abs(m)),b=f+p,w=h+m;0<=b&&b<this.size&&0<=w&&w<this.size&&this.setFunctionModule(b,w,y!=2&&y!=4)}}drawAlignmentPattern(f,h){for(let m=-2;m<=2;m++)for(let p=-2;p<=2;p++)this.setFunctionModule(f+p,h+m,Math.max(Math.abs(p),Math.abs(m))!=1)}setFunctionModule(f,h,m){this.modules[h][f]=m,this.isFunction[h][f]=!0}addEccAndInterleave(f){const h=this.version,m=this.errorCorrectionLevel;if(f.length!=Ye.getNumDataCodewords(h,m))throw new RangeError("Invalid argument");const p=Ye.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][h],y=Ye.ECC_CODEWORDS_PER_BLOCK[m.ordinal][h],b=Math.floor(Ye.getNumRawDataModules(h)/8),w=p-b%p,x=Math.floor(b/p);let C=[];const R=Ye.reedSolomonComputeDivisor(y);for(let P=0,q=0;P<p;P++){let F=f.slice(q,q+x-y+(P<w?0:1));q+=F.length;const $=Ye.reedSolomonComputeRemainder(F,R);P<w&&F.push(0),C.push(F.concat($))}let M=[];for(let P=0;P<C[0].length;P++)C.forEach((q,F)=>{(P!=x-y||F>=w)&&M.push(q[P])});return i(M.length==b),M}drawCodewords(f){if(f.length!=Math.floor(Ye.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let h=0;for(let m=this.size-1;m>=1;m-=2){m==6&&(m=5);for(let p=0;p<this.size;p++)for(let y=0;y<2;y++){const b=m-y,x=(m+1&2)==0?this.size-1-p:p;!this.isFunction[x][b]&&h<f.length*8&&(this.modules[x][b]=r(f[h>>>3],7-(h&7)),h++)}}i(h==f.length*8)}applyMask(f){if(f<0||f>7)throw new RangeError("Mask value out of range");for(let h=0;h<this.size;h++)for(let m=0;m<this.size;m++){let p;switch(f){case 0:p=(m+h)%2==0;break;case 1:p=h%2==0;break;case 2:p=m%3==0;break;case 3:p=(m+h)%3==0;break;case 4:p=(Math.floor(m/3)+Math.floor(h/2))%2==0;break;case 5:p=m*h%2+m*h%3==0;break;case 6:p=(m*h%2+m*h%3)%2==0;break;case 7:p=((m+h)%2+m*h%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[h][m]&&p&&(this.modules[h][m]=!this.modules[h][m])}}getPenaltyScore(){let f=0;for(let y=0;y<this.size;y++){let b=!1,w=0,x=[0,0,0,0,0,0,0];for(let C=0;C<this.size;C++)this.modules[y][C]==b?(w++,w==5?f+=Ye.PENALTY_N1:w>5&&f++):(this.finderPenaltyAddHistory(w,x),b||(f+=this.finderPenaltyCountPatterns(x)*Ye.PENALTY_N3),b=this.modules[y][C],w=1);f+=this.finderPenaltyTerminateAndCount(b,w,x)*Ye.PENALTY_N3}for(let y=0;y<this.size;y++){let b=!1,w=0,x=[0,0,0,0,0,0,0];for(let C=0;C<this.size;C++)this.modules[C][y]==b?(w++,w==5?f+=Ye.PENALTY_N1:w>5&&f++):(this.finderPenaltyAddHistory(w,x),b||(f+=this.finderPenaltyCountPatterns(x)*Ye.PENALTY_N3),b=this.modules[C][y],w=1);f+=this.finderPenaltyTerminateAndCount(b,w,x)*Ye.PENALTY_N3}for(let y=0;y<this.size-1;y++)for(let b=0;b<this.size-1;b++){const w=this.modules[y][b];w==this.modules[y][b+1]&&w==this.modules[y+1][b]&&w==this.modules[y+1][b+1]&&(f+=Ye.PENALTY_N2)}let h=0;for(const y of this.modules)h=y.reduce((b,w)=>b+(w?1:0),h);const m=this.size*this.size,p=Math.ceil(Math.abs(h*20-m*10)/m)-1;return i(0<=p&&p<=9),f+=p*Ye.PENALTY_N4,i(0<=f&&f<=2568888),f}getAlignmentPatternPositions(){if(this.version==1)return[];{const f=Math.floor(this.version/7)+2,h=this.version==32?26:Math.ceil((this.version*4+4)/(f*2-2))*2;let m=[6];for(let p=this.size-7;m.length<f;p-=h)m.splice(1,0,p);return m}}static getNumRawDataModules(f){if(f<Ye.MIN_VERSION||f>Ye.MAX_VERSION)throw new RangeError("Version number out of range");let h=(16*f+128)*f+64;if(f>=2){const m=Math.floor(f/7)+2;h-=(25*m-10)*m-55,f>=7&&(h-=36)}return i(208<=h&&h<=29648),h}static getNumDataCodewords(f,h){return Math.floor(Ye.getNumRawDataModules(f)/8)-Ye.ECC_CODEWORDS_PER_BLOCK[h.ordinal][f]*Ye.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][f]}static reedSolomonComputeDivisor(f){if(f<1||f>255)throw new RangeError("Degree out of range");let h=[];for(let p=0;p<f-1;p++)h.push(0);h.push(1);let m=1;for(let p=0;p<f;p++){for(let y=0;y<h.length;y++)h[y]=Ye.reedSolomonMultiply(h[y],m),y+1<h.length&&(h[y]^=h[y+1]);m=Ye.reedSolomonMultiply(m,2)}return h}static reedSolomonComputeRemainder(f,h){let m=h.map(p=>0);for(const p of f){const y=p^m.shift();m.push(0),h.forEach((b,w)=>m[w]^=Ye.reedSolomonMultiply(b,y))}return m}static reedSolomonMultiply(f,h){if(f>>>8||h>>>8)throw new RangeError("Byte out of range");let m=0;for(let p=7;p>=0;p--)m=m<<1^(m>>>7)*285,m^=(h>>>p&1)*f;return i(m>>>8==0),m}finderPenaltyCountPatterns(f){const h=f[1];i(h<=this.size*3);const m=h>0&&f[2]==h&&f[3]==h*3&&f[4]==h&&f[5]==h;return(m&&f[0]>=h*4&&f[6]>=h?1:0)+(m&&f[6]>=h*4&&f[0]>=h?1:0)}finderPenaltyTerminateAndCount(f,h,m){return f&&(this.finderPenaltyAddHistory(h,m),h=0),h+=this.size,this.finderPenaltyAddHistory(h,m),this.finderPenaltyCountPatterns(m)}finderPenaltyAddHistory(f,h){h[0]==0&&(f+=this.size),h.pop(),h.unshift(f)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(c,f,h){if(f<0||f>31||c>>>f)throw new RangeError("Value out of range");for(let m=f-1;m>=0;m--)h.push(c>>>m&1)}function r(c,f){return(c>>>f&1)!=0}function i(c){if(!c)throw new Error("Assertion error")}const a=class Ht{constructor(f,h,m){if(this.mode=f,this.numChars=h,this.bitData=m,h<0)throw new RangeError("Invalid argument");this.bitData=m.slice()}static makeBytes(f){let h=[];for(const m of f)n(m,8,h);return new Ht(Ht.Mode.BYTE,f.length,h)}static makeNumeric(f){if(!Ht.isNumeric(f))throw new RangeError("String contains non-numeric characters");let h=[];for(let m=0;m<f.length;){const p=Math.min(f.length-m,3);n(parseInt(f.substring(m,m+p),10),p*3+1,h),m+=p}return new Ht(Ht.Mode.NUMERIC,f.length,h)}static makeAlphanumeric(f){if(!Ht.isAlphanumeric(f))throw new RangeError("String contains unencodable characters in alphanumeric mode");let h=[],m;for(m=0;m+2<=f.length;m+=2){let p=Ht.ALPHANUMERIC_CHARSET.indexOf(f.charAt(m))*45;p+=Ht.ALPHANUMERIC_CHARSET.indexOf(f.charAt(m+1)),n(p,11,h)}return m<f.length&&n(Ht.ALPHANUMERIC_CHARSET.indexOf(f.charAt(m)),6,h),new Ht(Ht.Mode.ALPHANUMERIC,f.length,h)}static makeSegments(f){return f==""?[]:Ht.isNumeric(f)?[Ht.makeNumeric(f)]:Ht.isAlphanumeric(f)?[Ht.makeAlphanumeric(f)]:[Ht.makeBytes(Ht.toUtf8ByteArray(f))]}static makeEci(f){let h=[];if(f<0)throw new RangeError("ECI assignment value out of range");if(f<128)n(f,8,h);else if(f<16384)n(2,2,h),n(f,14,h);else if(f<1e6)n(6,3,h),n(f,21,h);else throw new RangeError("ECI assignment value out of range");return new Ht(Ht.Mode.ECI,0,h)}static isNumeric(f){return Ht.NUMERIC_REGEX.test(f)}static isAlphanumeric(f){return Ht.ALPHANUMERIC_REGEX.test(f)}getData(){return this.bitData.slice()}static getTotalBits(f,h){let m=0;for(const p of f){const y=p.mode.numCharCountBits(h);if(p.numChars>=1<<y)return 1/0;m+=4+y+p.bitData.length}return m}static toUtf8ByteArray(f){f=encodeURI(f);let h=[];for(let m=0;m<f.length;m++)f.charAt(m)!="%"?h.push(f.charCodeAt(m)):(h.push(parseInt(f.substring(m+1,m+3),16)),m+=2);return h}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let l=a;t.QrSegment=a})(iu||(iu={}));(t=>{(e=>{const n=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(iu||(iu={}));(t=>{(e=>{const n=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(iu||(iu={}));var yc=iu;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var ime={L:yc.QrCode.Ecc.LOW,M:yc.QrCode.Ecc.MEDIUM,Q:yc.QrCode.Ecc.QUARTILE,H:yc.QrCode.Ecc.HIGH},MU=128,DU="L",LU="#FFFFFF",jU="#000000",VU=!1,UU=1,sme=4,ame=0,ome=.1;function zU(t,e=0){const n=[];return t.forEach(function(r,i){let a=null;r.forEach(function(l,c){if(!l&&a!==null){n.push(`M${a+e} ${i+e}h${c-a}v1H${a+e}z`),a=null;return}if(c===r.length-1){if(!l)return;a===null?n.push(`M${c+e},${i+e} h1v1H${c+e}z`):n.push(`M${a+e},${i+e} h${c+1-a}v1H${a+e}z`);return}l&&a===null&&(a=c)})}),n.join("")}function BU(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((i,a)=>a<e.x||a>=e.x+e.w?i:!1))}function lme(t,e,n,r){if(r==null)return null;const i=t.length+n*2,a=Math.floor(e*ome),l=i/e,c=(r.width||a)*l,f=(r.height||a)*l,h=r.x==null?t.length/2-c/2:r.x*l,m=r.y==null?t.length/2-f/2:r.y*l,p=r.opacity==null?1:r.opacity;let y=null;if(r.excavate){let w=Math.floor(h),x=Math.floor(m),C=Math.ceil(c+h-w),R=Math.ceil(f+m-x);y={x:w,y:x,w:C,h:R}}const b=r.crossOrigin;return{x:h,y:m,h:f,w:c,excavation:y,opacity:p,crossOrigin:b}}function ume(t,e){return e!=null?Math.max(Math.floor(e),0):t?sme:ame}function FU({value:t,level:e,minVersion:n,includeMargin:r,marginSize:i,imageSettings:a,size:l,boostLevel:c}){let f=Rt.useMemo(()=>{const w=(Array.isArray(t)?t:[t]).reduce((x,C)=>(x.push(...yc.QrSegment.makeSegments(C)),x),[]);return yc.QrCode.encodeSegments(w,ime[e],n,void 0,void 0,c)},[t,e,n,c]);const{cells:h,margin:m,numCells:p,calculatedImageSettings:y}=Rt.useMemo(()=>{let b=f.getModules();const w=ume(r,i),x=b.length+w*2,C=lme(b,l,w,a);return{cells:b,margin:w,numCells:x,calculatedImageSettings:C}},[f,l,a,r,i]);return{qrcode:f,margin:m,cells:h,numCells:p,calculatedImageSettings:y}}var cme=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),fme=Rt.forwardRef(function(e,n){const r=e,{value:i,size:a=MU,level:l=DU,bgColor:c=LU,fgColor:f=jU,includeMargin:h=VU,minVersion:m=UU,boostLevel:p,marginSize:y,imageSettings:b}=r,x=tx(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:C}=x,R=tx(x,["style"]),M=b==null?void 0:b.src,P=Rt.useRef(null),q=Rt.useRef(null),F=Rt.useCallback(ye=>{P.current=ye,typeof n=="function"?n(ye):n&&(n.current=ye)},[n]),[$,O]=Rt.useState(!1),{margin:L,cells:k,numCells:V,calculatedImageSettings:D}=FU({value:i,level:l,minVersion:m,boostLevel:p,includeMargin:h,marginSize:y,imageSettings:b,size:a});Rt.useEffect(()=>{if(P.current!=null){const ye=P.current,Te=ye.getContext("2d");if(!Te)return;let Z=k;const oe=q.current,ie=D!=null&&oe!==null&&oe.complete&&oe.naturalHeight!==0&&oe.naturalWidth!==0;ie&&D.excavation!=null&&(Z=BU(k,D.excavation));const J=window.devicePixelRatio||1;ye.height=ye.width=a*J;const me=a/V*J;Te.scale(me,me),Te.fillStyle=c,Te.fillRect(0,0,V,V),Te.fillStyle=f,cme?Te.fill(new Path2D(zU(Z,L))):k.forEach(function(z,Y){z.forEach(function(le,de){le&&Te.fillRect(de+L,Y+L,1,1)})}),D&&(Te.globalAlpha=D.opacity),ie&&Te.drawImage(oe,D.x+L,D.y+L,D.w,D.h)}}),Rt.useEffect(()=>{O(!1)},[M]);const B=ex({height:a,width:a},C);let U=null;return M!=null&&(U=Rt.createElement("img",{src:M,key:M,style:{display:"none"},onLoad:()=>{O(!0)},ref:q,crossOrigin:D==null?void 0:D.crossOrigin})),Rt.createElement(Rt.Fragment,null,Rt.createElement("canvas",ex({style:B,height:a,width:a,ref:F,role:"img"},R)),U)});fme.displayName="QRCodeCanvas";var qU=Rt.forwardRef(function(e,n){const r=e,{value:i,size:a=MU,level:l=DU,bgColor:c=LU,fgColor:f=jU,includeMargin:h=VU,minVersion:m=UU,boostLevel:p,title:y,marginSize:b,imageSettings:w}=r,x=tx(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:C,cells:R,numCells:M,calculatedImageSettings:P}=FU({value:i,level:l,minVersion:m,boostLevel:p,includeMargin:h,marginSize:b,imageSettings:w,size:a});let q=R,F=null;w!=null&&P!=null&&(P.excavation!=null&&(q=BU(R,P.excavation)),F=Rt.createElement("image",{href:w.src,height:P.h,width:P.w,x:P.x+C,y:P.y+C,preserveAspectRatio:"none",opacity:P.opacity,crossOrigin:P.crossOrigin}));const $=zU(q,C);return Rt.createElement("svg",ex({height:a,width:a,viewBox:`0 0 ${M} ${M}`,ref:n,role:"img"},x),!!y&&Rt.createElement("title",null,y),Rt.createElement("path",{fill:c,d:`M0,0 h${M}v${M}H0z`,shapeRendering:"crispEdges"}),Rt.createElement("path",{fill:f,d:$,shapeRendering:"crispEdges"}),F)});qU.displayName="QRCodeSVG";const hme=({pin:t,players:e,onStart:n,onBack:r,onExit:i})=>{const[a,l]=T.useState(!1),c=()=>{i&&i()};return A.jsxs("div",{className:"flex flex-col min-h-screen w-full p-4 sm:p-8 relative z-10 overflow-y-auto pb-32",children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r&&A.jsx("button",{onClick:r,className:"w-12 h-12 sm:w-14 sm:h-14 flex items-center justify-center bg-white/10 hover:bg-white/20 rounded-full transition-all duration-200 border border-white/20 text-white",title:"Back to Dashboard",children:A.jsx(Rv,{className:"w-6 h-6 sm:w-7 sm:h-7"})}),A.jsx("div",{className:"flex-1"}),i&&(a?A.jsxs("div",{className:"flex items-center gap-3 bg-red-500/20 backdrop-blur-md px-4 py-2 rounded-full border border-red-500/30",children:[A.jsx("span",{className:"text-white font-semibold text-sm",children:"Exit quiz?"}),A.jsx("button",{onClick:c,className:"px-4 py-1.5 bg-red-600 hover:bg-red-700 rounded-full text-white font-bold transition-all text-sm",children:"Yes"}),A.jsx("button",{onClick:()=>l(!1),className:"px-4 py-1.5 bg-white/10 hover:bg-white/20 rounded-full text-white font-bold transition-all text-sm",children:"No"})]}):A.jsx("button",{onClick:()=>l(!0),className:"w-12 h-12 sm:w-14 sm:h-14 flex items-center justify-center bg-red-600/80 hover:bg-red-600 rounded-full transition-all duration-200 border border-red-500/30 text-white",title:"Exit Quiz",children:A.jsx(l1,{className:"w-6 h-6 sm:w-7 sm:h-7"})}))]}),A.jsxs("div",{className:"flex flex-col lg:flex-row justify-center items-center gap-6 mb-8 sm:mb-12",children:[A.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 p-6 rounded-3xl text-center shadow-2xl animate-in slide-in-from-left",children:[A.jsxs("p",{className:"text-sm font-semibold opacity-80 mb-3 uppercase tracking-widest flex items-center justify-center gap-2",children:[A.jsx(IX,{className:"w-4 h-4"}),"Scan to Join"]}),A.jsxs("div",{className:"bg-white p-4 rounded-2xl relative",children:[A.jsx(qU,{value:`https://erzelsoft.com/quiz/join?pin=${t}`,size:200,level:"H",includeMargin:!1,fgColor:"#46178f"}),A.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-black p-2 rounded-lg shadow-lg",children:A.jsx("img",{src:"/quiz/images/erzelsoft-logo.png",alt:"ErzEl",className:"w-10 h-10 object-contain"})})]}),A.jsx("p",{className:"text-xs opacity-60 mt-2",children:"erzelsoft.com/quiz/join"})]}),A.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 p-4 sm:p-8 rounded-3xl text-center shadow-2xl animate-in slide-in-from-top w-full sm:w-auto",children:[A.jsx("p",{className:"text-sm sm:text-xl font-semibold opacity-80 mb-2 uppercase tracking-widest",children:"Game PIN"}),A.jsx("div",{className:"bg-white text-[#46178f] px-4 sm:px-8 py-2 rounded-xl inline-block transform hover:rotate-0 transition-transform duration-300",children:A.jsx("p",{className:"text-4xl sm:text-7xl font-black tracking-widest drop-shadow-sm",children:t})})]}),A.jsxs("div",{className:"bg-black/20 backdrop-blur-md px-6 sm:px-8 py-3 sm:py-4 rounded-2xl flex items-center gap-3 sm:gap-4 border border-white/10 animate-in slide-in-from-right",children:[A.jsx(t3,{className:"w-6 h-6 sm:w-8 sm:h-8 opacity-80"}),A.jsx("span",{className:"text-3xl sm:text-4xl font-black",children:e.length})]})]}),A.jsx("div",{className:"w-full relative mb-6",children:A.jsxs("div",{className:"flex flex-wrap gap-4 content-start p-4",children:[e.map((f,h)=>{var x;const m=["rotate-1","-rotate-2","rotate-3","-rotate-1"],p=["bg-red-500","bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500","bg-pink-500"],y=m[h%m.length],b=p[h%p.length],w=(x=f.avatar)==null?void 0:x.startsWith("data:image");return A.jsxs("div",{className:`${b} text-white font-black px-6 py-4 rounded-xl shadow-lg transform ${y} hover:scale-110 hover:z-10 hover:rotate-0 transition-all duration-300 animate-in zoom-in flex items-center gap-3 border-2 border-white/20`,style:{animationDelay:`${h*100}ms`},children:[f.avatar&&(w?A.jsx("img",{src:f.avatar,alt:f.name,className:"w-10 h-10 rounded-full object-cover border-2 border-white/50"}):A.jsx("span",{className:"text-3xl",children:f.avatar})),A.jsx("span",{className:"text-xl text-shadow",children:f.name}),A.jsx("div",{className:"bg-black/20 px-2 py-1 rounded text-sm font-bold",children:f.score})]},f.id)}),e.length===0&&A.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center opacity-40 animate-pulse",children:[A.jsx("div",{className:"w-24 h-24 bg-white/20 rounded-full flex items-center justify-center mb-4",children:A.jsx(EX,{className:"w-10 h-10"})}),A.jsx("p",{className:"text-3xl font-black",children:"Waiting for players..."})]})]})}),A.jsxs("div",{className:"w-full flex flex-col sm:flex-row justify-between items-center gap-4 mt-auto pt-6",children:[A.jsx("div",{className:"text-xs sm:text-sm font-bold opacity-50 text-center sm:text-left",children:"Waiting for host to start..."}),A.jsxs("button",{onClick:n,disabled:e.length===0,className:`w-full sm:w-auto px-8 sm:px-12 py-4 sm:py-5 rounded-full text-xl sm:text-2xl font-black shadow-2xl flex items-center justify-center gap-3 transition-all transform hover:-translate-y-1 active:translate-y-0 ${e.length>0?"bg-white text-[#46178f] hover:shadow-white/20 cursor-pointer":"bg-black/20 text-white/20 cursor-not-allowed"}`,children:["Start Game ",A.jsx(UT,{className:"w-5 h-5 sm:w-6 sm:h-6 fill-current"})]})]})]})},dme=async t=>{const e=Os(Ps,`games/${t}`);await Wd(e,{pin:t,createdAt:Date.now(),players:{},hostState:null})},mme=async(t,e)=>{const n=Os(Ps,`games/${t}/players/${e.id}`);await Wd(n,e)},DM=async(t,e)=>{const n=Os(Ps,`games/${t}/hostState`);await Wd(n,e)},pme=(t,e)=>{const n=Os(Ps,`games/${t}/hostState`);return eT(n,r=>{e(r.val())})},gme=(t,e)=>{const n=Os(Ps,`games/${t}/players`);return eT(n,r=>{const i=r.val(),a=i?Object.values(i):[];e(a)})},LM=async(t,e,n)=>{const r=Os(Ps,`games/${t}/answers/${e}`);await Wd(r,n)},vme=(t,e)=>{const n=Os(Ps,`games/${t}/answers`);return eT(n,r=>{e(r.val()||{})})},yme=async t=>{const e=Os(Ps,`games/${t}/answers`);await m4(e)},_me=async t=>{const e=Os(Ps,`games/${t}`);await m4(e)},Kg=async t=>{const e=Os(Ps,`games/${t}`);return(await nK(e)).exists()},Nl="quiz_host_session",bme=()=>{const{user:t,logout:e}=rm(),n=jd(),[r,i]=T.useState(Fe.MENU),[a,l]=T.useState("SELECTION"),[c,f]=T.useState(0),[h,m]=T.useState(void 0),[p,y]=T.useState(""),[b,w]=T.useState(null),[x,C]=T.useState([]),[R,M]=T.useState(0),[P,q]=T.useState({}),[F,$]=T.useState(0),[O,L]=T.useState(!0);T.useEffect(()=>{const z=async()=>{try{const le=localStorage.getItem(Nl);if(le){const de=JSON.parse(le);await Kg(de.pin)?(y(de.pin),w(de.quiz),i(de.gameState),M(de.currentQuestionIndex),C(de.players),f(de.gameStartTime||0),m(de.currentQuizId),console.log("Host session restored successfully")):(localStorage.removeItem(Nl),console.log("Game no longer exists, session cleared"))}}catch(le){console.error("Error restoring host session:",le),localStorage.removeItem(Nl)}finally{L(!1)}},Y=setTimeout(()=>{console.log("Session restoration timeout"),L(!1)},5e3);return z().then(()=>clearTimeout(Y)),()=>clearTimeout(Y)},[]),T.useEffect(()=>{if(r!==Fe.MENU&&p&&b){const z={pin:p,quiz:b,gameState:r,currentQuestionIndex:R,players:x,gameStartTime:c,currentQuizId:h};localStorage.setItem(Nl,JSON.stringify(z))}},[r,p,b,R,x,c,h]),T.useEffect(()=>{if(r===Fe.FINISH){(async()=>{if(console.log("Attempting to save game history...",{hasUser:!!t,hasQuiz:!!b,hasGameStartTime:!!c,playersCount:x.length,currentQuizId:h}),t&&b&&c&&x.length>0)try{const le=await PM(t.uid,b,p,x,c,h);console.log("Game history saved successfully on finish with ID:",le)}catch(le){console.error("Error saving game history on finish:",le)}else console.warn("Cannot save game history - missing required data")})();const Y=setTimeout(()=>{localStorage.removeItem(Nl),console.log("Host session cleared after game end")},5e3);return()=>clearTimeout(Y)}},[r,t,b,c,x,p,h]),T.useEffect(()=>{if(p&&r===Fe.LOBBY){const z=gme(p,Y=>{C(Y)});return()=>{z()}}},[p,r]),T.useEffect(()=>{if(p&&r===Fe.QUESTION){const z=vme(p,Y=>{const le={};Object.entries(Y).forEach(([de,_e])=>{le[de]={index:_e.answerIndex,text:_e.answerText,timeRemaining:_e.timeRemaining}}),q(le)});return()=>{z()}}},[p,r]);const k=T.useCallback(async z=>{if(!p)return;const Y=b==null?void 0:b.questions[R],le=r===Fe.REVEAL&&Y?{correctIndex:Y.correctIndex,correctText:Y.correctIndex===-1?Y.options[0]:null}:null,de={pin:p,gameState:(z==null?void 0:z.gameState)||r,players:x.map(_e=>{const{lastAnswerCorrect:Ie,...je}=_e;return je}),...z};F!=null&&(de.timeLeft=F),Y&&(de.currentQuestion=Y),le&&(de.resultInfo=le),console.log("Broadcasting state:",de),await DM(p,de)},[p,r,b,R,F,x]);T.useEffect(()=>{r!==Fe.MENU&&k()},[r,x,F,R,k]);const V=z=>{const Y=kM(z);w(Y),m(void 0),U()},D=z=>{const Y=kM(z);w(Y),m(z.id),l("SELECTION"),U()},B=z=>{w(z),m(z.id),l("MANUAL_SETUP")},U=async()=>{const z=Math.floor(1e5+Math.random()*9e5).toString();y(z),await dme(z),i(Fe.LOBBY),setTimeout(()=>{DM(z,{pin:z,gameState:Fe.LOBBY,players:[]})},100)},ye=()=>{f(Date.now()),i(Fe.QUESTION),M(0)},Te=()=>{i(Fe.REVEAL);const z=b.questions[R],Y=z.timeLimit;C(le=>le.map(de=>{const _e=P[de.id];let Ie=!1,je=0;if(_e){if(z.correctIndex!==-1)Ie=_e.index===z.correctIndex;else{const ae=z.options[0].toLowerCase().trim(),ke=(_e.text||"").toLowerCase().trim();Ie=ae===ke}je=_e.timeRemaining||0}let Ct=0;if(Ie){const ke=Math.round(je/Y*500),ze=de.streak*100;Ct=500+ke+ze}return{...de,score:de.score+Ct,streak:Ie?de.streak+1:0,lastAnswerCorrect:Ie}}))},Z=async()=>{if(p&&await yme(p),q({}),r===Fe.REVEAL)i(Fe.LEADERBOARD);else if(r===Fe.LEADERBOARD)if(R<b.questions.length-1){const z=R+1;M(z),i(Fe.QUESTION)}else i(Fe.FINISH)},oe=async()=>{if(t&&b&&c&&x.length>0&&r===Fe.LOBBY)try{await PM(t.uid,b,p,x,c,h),console.log("Game history saved successfully on exit")}catch(z){console.error("Error saving game history:",z)}if(p)try{await _me(p),console.log("Game deleted from Firebase")}catch(z){console.error("Error deleting game:",z)}localStorage.removeItem(Nl),i(Fe.MENU),l("SELECTION"),C([]),w(null),y(""),q({}),M(0),f(0),m(void 0)},ie=async()=>{await e(),n("/login")},J=()=>{};if(O)return A.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-white relative z-10",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:[A.jsxs("div",{className:"text-center",children:[A.jsx("div",{className:"animate-spin text-white/50 mb-4 inline-block",children:A.jsxs("svg",{className:"w-12 h-12",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),A.jsx("p",{className:"text-xl font-bold",children:"Restoring session..."})]}),A.jsx(cr,{})]});if(r===Fe.MENU)return a==="MANUAL_SETUP"?A.jsx(Zde,{onSave:V,onCancel:()=>l("SELECTION"),initialQuiz:b||void 0}):a==="QUIZ_LIBRARY"?A.jsx(nme,{onLoadQuiz:D,onEditQuiz:B,onBack:()=>l("SELECTION")}):A.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-white relative z-10",children:[a==="SELECTION"&&A.jsxs("div",{className:"bg-white/10 backdrop-blur-xl p-10 rounded-3xl shadow-2xl max-w-2xl w-full border border-white/20 animate-in zoom-in duration-300",children:[A.jsxs("div",{className:"flex justify-between items-start gap-4 mb-8",children:[A.jsxs("div",{className:"text-xs sm:text-sm opacity-70",children:[A.jsx("div",{children:"Logged in as:"}),A.jsx("div",{className:"font-semibold",children:t==null?void 0:t.email})]}),A.jsxs("button",{onClick:ie,className:"flex items-center justify-center w-10 h-10 sm:w-auto sm:h-auto sm:gap-2 sm:px-4 sm:py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-all duration-200 border border-white/20 shrink-0",title:"Logout",children:[A.jsx(vX,{className:"w-5 h-5 sm:w-4 sm:h-4"}),A.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]}),A.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[A.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-semibold mb-2 sm:mb-4 tracking-tight",children:"Host Dashboard"}),A.jsx("p",{className:"text-white/70 text-base sm:text-lg md:text-xl font-medium",children:"Ready to challenge your players?"})]}),A.jsxs("div",{className:"flex flex-col gap-4",children:[(()=>{var Y;const z=localStorage.getItem(Nl);if(z)try{const le=JSON.parse(z);return A.jsx("button",{onClick:()=>{window.location.reload()},className:"group w-full bg-gradient-to-br from-green-600/80 to-emerald-600/80 hover:from-green-600 hover:to-emerald-600 text-left p-4 sm:p-6 md:p-8 rounded-2xl border border-white/10 hover:border-white/50 transition-all duration-300 shadow-xl hover:shadow-green-500/50 hover:-translate-y-1 animate-pulse",children:A.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-center gap-4 sm:gap-6 text-center sm:text-left",children:[A.jsx("div",{className:"bg-white w-16 h-16 sm:w-20 sm:h-20 rounded-2xl flex items-center justify-center shadow-inner group-hover:scale-110 transition-transform shrink-0",children:A.jsx(UT,{className:"w-8 h-8 sm:w-10 sm:h-10 text-green-600"})}),A.jsxs("div",{className:"flex-1",children:[A.jsx("h3",{className:"text-xl sm:text-2xl md:text-3xl font-semibold mb-1 sm:mb-2",children:"Resume Game"}),A.jsxs("p",{className:"text-green-100 group-hover:text-white text-sm sm:text-base md:text-lg leading-tight",children:["Continue your active game: ",((Y=le.quiz)==null?void 0:Y.title)||"Quiz"," (PIN: ",le.pin,")"]})]})]})})}catch{return null}return null})(),A.jsx("button",{onClick:()=>l("MANUAL_SETUP"),className:"group w-full bg-gradient-to-br from-blue-600/80 to-purple-600/80 hover:from-blue-600 hover:to-purple-600 text-left p-4 sm:p-6 md:p-8 rounded-2xl border border-white/10 hover:border-white/50 transition-all duration-300 shadow-xl hover:shadow-purple-500/50 hover:-translate-y-1",children:A.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-center gap-4 sm:gap-6 text-center sm:text-left",children:[A.jsx("div",{className:"bg-white w-16 h-16 sm:w-20 sm:h-20 rounded-2xl flex items-center justify-center shadow-inner group-hover:scale-110 transition-transform shrink-0",children:A.jsx(Xj,{className:"w-8 h-8 sm:w-10 sm:h-10 text-blue-600"})}),A.jsxs("div",{className:"flex-1",children:[A.jsx("h3",{className:"text-xl sm:text-2xl md:text-3xl font-semibold mb-1 sm:mb-2",children:"Create New Quiz"}),A.jsx("p",{className:"text-blue-100 group-hover:text-white text-sm sm:text-base md:text-lg leading-tight",children:"Design custom questions, set timers, and host your game."})]})]})}),A.jsx("button",{onClick:()=>l("QUIZ_LIBRARY"),className:"group w-full bg-gradient-to-br from-green-600/80 to-teal-600/80 hover:from-green-600 hover:to-teal-600 text-left p-4 sm:p-6 md:p-8 rounded-2xl border border-white/10 hover:border-white/50 transition-all duration-300 shadow-xl hover:shadow-green-500/50 hover:-translate-y-1",children:A.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-center gap-4 sm:gap-6 text-center sm:text-left",children:[A.jsx("div",{className:"bg-white w-16 h-16 sm:w-20 sm:h-20 rounded-2xl flex items-center justify-center shadow-inner group-hover:scale-110 transition-transform shrink-0",children:A.jsx(HQ,{className:"w-8 h-8 sm:w-10 sm:h-10 text-green-600"})}),A.jsxs("div",{className:"flex-1",children:[A.jsx("h3",{className:"text-xl sm:text-2xl md:text-3xl font-semibold mb-1 sm:mb-2",children:"My Quiz Library"}),A.jsx("p",{className:"text-green-100 group-hover:text-white text-sm sm:text-base md:text-lg leading-tight",children:"Load and host your saved quizzes."})]})]})})]})]}),A.jsx(cr,{})]});if(r===Fe.LOBBY)return A.jsx(hme,{pin:p,players:x,onStart:ye,onAddFakePlayer:J,onBack:()=>{L(!0),setTimeout(()=>{i(Fe.MENU),l("SELECTION"),L(!1)},100)},onExit:()=>{oe()}});const me=Object.keys(P).length;return A.jsxs("div",{className:"h-screen flex flex-col relative z-10 pb-16",children:[A.jsxs("header",{className:"px-6 py-4 flex justify-between items-center bg-black/10 backdrop-blur-sm border-b border-white/5",children:[A.jsx("span",{className:"font-bold text-lg opacity-80",children:b==null?void 0:b.title}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"text-sm font-bold opacity-60 uppercase",children:"Game PIN:"}),A.jsx("span",{className:"font-black text-xl bg-white text-[#46178f] px-3 py-1 rounded shadow",children:p})]})]}),A.jsxs("main",{className:"flex-1 relative overflow-hidden flex flex-col",children:[r===Fe.QUESTION&&b&&A.jsx(WX,{question:b.questions[R],currentQuestionIndex:R,totalQuestions:b.questions.length,answersCount:me,onTimerEnd:Te,onTimerTick:z=>$(z)}),r===Fe.REVEAL&&b&&A.jsx($de,{question:b.questions[R],answers:P,onNext:Z,isLast:R===b.questions.length-1}),(r===Fe.LEADERBOARD||r===Fe.FINISH)&&A.jsx(Gde,{players:x,onNext:r===Fe.FINISH?oe:Z,final:r===Fe.FINISH})]}),A.jsx(cr,{})]})},wme=[{color:"bg-red-500",icon:e3,shadow:"shadow-red-900"},{color:"bg-blue-500",icon:Qj,shadow:"shadow-blue-900"},{color:"bg-yellow-500",icon:VT,shadow:"shadow-yellow-900"},{color:"bg-green-500",icon:Zj,shadow:"shadow-green-900"}],jM=[{emoji:"",color:"bg-gradient-to-br from-blue-400 to-blue-600",name:"Penguin"},{emoji:"",color:"bg-gradient-to-br from-orange-400 to-orange-600",name:"Fox"},{emoji:"",color:"bg-gradient-to-br from-amber-600 to-amber-800",name:"Bear"},{emoji:"",color:"bg-gradient-to-br from-gray-300 to-gray-600",name:"Panda"},{emoji:"",color:"bg-gradient-to-br from-yellow-500 to-orange-600",name:"Lion"},{emoji:"",color:"bg-gradient-to-br from-green-400 to-green-600",name:"Frog"},{emoji:"",color:"bg-gradient-to-br from-pink-400 to-purple-600",name:"Unicorn"},{emoji:"",color:"bg-gradient-to-br from-purple-400 to-purple-700",name:"Octopus"},{emoji:"",color:"bg-gradient-to-br from-green-500 to-green-700",name:"Dino"},{emoji:"",color:"bg-gradient-to-br from-orange-300 to-orange-500",name:"Cat"},{emoji:"",color:"bg-gradient-to-br from-amber-400 to-amber-600",name:"Dog"},{emoji:"",color:"bg-gradient-to-br from-pink-300 to-pink-500",name:"Bunny"}],go="quiz_player_session",Eme=()=>{var oe;const e=new URLSearchParams(window.location.search).get("pin")||"",[n,r]=T.useState(!1),[i,a]=T.useState(""),[l,c]=T.useState(e),[f,h]=T.useState(0),[m,p]=T.useState(null),[y,b]=T.useState(!1),[w,x]=T.useState(()=>{const ie=localStorage.getItem(go);return ie?JSON.parse(ie).playerId:`player-${Math.random().toString(36).substr(2,9)}`}),[C,R]=T.useState(!0),[M,P]=T.useState(null),[q,F]=T.useState(!1),[$,O]=T.useState(null),[L,k]=T.useState(!1),[V,D]=T.useState(""),[B,U]=T.useState(null);Rt.useRef(null),Rt.useRef(null),T.useEffect(()=>{const ie=async()=>{try{const me=localStorage.getItem(go);if(me){const z=JSON.parse(me);await Kg(z.gamePin)?(x(z.playerId),a(z.playerName),c(z.gamePin),h(z.selectedAvatar),p(z.customPhoto),r(!0),console.log("Session restored successfully with playerId:",z.playerId)):(localStorage.removeItem(go),console.log("Game no longer exists, session cleared"))}}catch(me){console.error("Error restoring session:",me),localStorage.removeItem(go)}finally{R(!1)}},J=setTimeout(()=>{console.log("Player session restoration timeout"),R(!1)},3e3);return ie().then(()=>clearTimeout(J)),()=>clearTimeout(J)},[]),T.useEffect(()=>{if(n&&l&&i){const ie={playerId:w,playerName:i,gamePin:l,selectedAvatar:f,customPhoto:m,hasJoined:!0};localStorage.setItem(go,JSON.stringify(ie))}},[n,l,i,w,f,m]),T.useEffect(()=>{if((M==null?void 0:M.gameState)===Fe.FINISH){const ie=setTimeout(()=>{localStorage.removeItem(go),console.log("Session cleared after game end")},5e3);return()=>clearTimeout(ie)}},[M==null?void 0:M.gameState]),T.useEffect(()=>{if(n&&l){console.log("Player listening to hostState for PIN:",l);const ie=pme(l,J=>{if(console.log("Received hostState:",J),J===null){k(!0),localStorage.removeItem(go);return}P(me=>((me==null?void 0:me.gameState)!==Fe.QUESTION&&(J==null?void 0:J.gameState)===Fe.QUESTION&&(F(!1),O(null),D(""),U(null)),J))});return()=>{ie()}}},[n,l]),T.useEffect(()=>{if((M==null?void 0:M.gameState)===Fe.REVEAL&&M.resultInfo){if(M.resultInfo.correctIndex!==-1&&B!==null)B===M.resultInfo.correctIndex?O("correct"):O("wrong");else if(M.resultInfo.correctText&&q){const ie=M.resultInfo.correctText.toLowerCase().trim(),J=V.toLowerCase().trim();O(J===ie?"correct":"wrong")}}},[M==null?void 0:M.gameState,M==null?void 0:M.resultInfo,q,B,V]),T.useEffect(()=>{if(n&&!M&&l){console.log("Waiting for hostState to load for PIN:",l);const ie=setTimeout(async()=>{console.log("Checking if game exists after timeout...");try{const J=await Kg(l);console.log("Game exists check result:",J),J||(console.log("Game no longer exists, returning to join screen"),alert("Game not found! The host may have ended the game."),localStorage.removeItem(go),r(!1),c(""),a(""),P(null))}catch(J){console.error("Error checking game existence:",J)}},3e3);return()=>clearTimeout(ie)}},[n,M,l]);const ye=async ie=>{if(ie.preventDefault(),!i||!l)return;if(!await Kg(l)){alert("Game not found! Please check the PIN.");return}const me=m||jM[f].emoji;await mme(l,{id:w,name:i,score:0,streak:0,avatar:me}),r(!0)},Te=async ie=>{if(!l||!M||q)return;const J=M.timeLeft||0;await LM(l,w,{answerIndex:ie,timeRemaining:J}),U(ie),F(!0)},Z=async ie=>{if(ie.preventDefault(),!l||!M||q||!V.trim())return;const J=M.timeLeft||0;await LM(l,w,{answerText:V.trim(),timeRemaining:J}),F(!0)};if(L)return A.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 pb-32 relative z-10 bg-gradient-to-br from-red-600 to-orange-600",children:[A.jsxs("div",{className:"bg-white rounded-3xl p-10 w-full max-w-md shadow-2xl text-center",children:[A.jsx("div",{className:"bg-red-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:A.jsx(l1,{className:"w-10 h-10 text-red-600"})}),A.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Quiz Ended"}),A.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"The host has exited the quiz. Thank you for playing!"}),A.jsx("button",{onClick:()=>{k(!1),r(!1),c(""),a(""),P(null)},className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white font-bold py-4 rounded-xl hover:from-purple-500 hover:to-blue-500 transition-all transform active:scale-95 shadow-lg",children:"Join Another Game"})]}),A.jsx(cr,{})]});if(C)return A.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 pb-32 relative z-10",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:[A.jsxs("div",{className:"text-white text-center",children:[A.jsx(cw,{className:"w-12 h-12 animate-spin mx-auto mb-4"}),A.jsx("p",{className:"text-xl font-bold",children:"Restoring session..."})]}),A.jsx(cr,{})]});if(!n)return A.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 pb-32 relative z-10",children:[A.jsxs("div",{className:"bg-white rounded-3xl p-10 w-full max-w-md shadow-[0_20px_60px_rgba(0,0,0,0.5)] border-2 border-white/20",children:[A.jsxs("div",{className:"text-center mb-8",children:[A.jsx("h1",{className:"text-4xl font-semibold text-[#46178f] mb-2",children:"Quiz"}),A.jsx("p",{className:"text-gray-500 font-semibold text-sm uppercase tracking-wider",children:"Enter Game Details"})]}),A.jsxs("form",{onSubmit:ye,className:"space-y-5",children:[A.jsx("input",{placeholder:"Game PIN",value:l,onChange:ie=>c(ie.target.value),className:"w-full p-4 bg-gray-100 text-gray-900 rounded-lg font-bold text-center text-xl border-2 border-transparent focus:border-[#46178f] focus:bg-white outline-none transition-colors placeholder:text-gray-400",type:"number",inputMode:"numeric"}),A.jsx("input",{placeholder:"Nickname",value:i,onChange:ie=>a(ie.target.value),className:"w-full p-4 bg-gray-100 text-gray-900 rounded-lg font-bold text-center text-xl border-2 border-transparent focus:border-[#46178f] focus:bg-white outline-none transition-colors placeholder:text-gray-400"}),A.jsxs("div",{children:[A.jsx("p",{className:"text-gray-700 font-bold text-sm mb-3 text-center uppercase tracking-wider",children:"Choose Your Character"}),A.jsx("div",{className:"grid grid-cols-4 gap-2 max-h-48 overflow-y-auto p-1",children:jM.map((ie,J)=>{const me=!m&&f===J;return A.jsxs("button",{type:"button",onClick:()=>{p(null),h(J)},className:`${ie.color} p-3 rounded-2xl flex flex-col items-center justify-center transition-all transform hover:scale-105 shadow-lg relative ${me?"ring-4 ring-[#46178f] scale-105 shadow-2xl":"opacity-70 hover:opacity-100"}`,children:[A.jsx("span",{className:"text-4xl mb-1",children:ie.emoji}),me&&A.jsx("div",{className:"absolute -top-1 -right-1 bg-[#46178f] rounded-full w-6 h-6 flex items-center justify-center",children:A.jsx(o1,{className:"w-4 h-4 text-white",strokeWidth:3})})]},J)})})]}),A.jsx("button",{disabled:!i||!l,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white font-black py-5 rounded-xl hover:from-purple-500 hover:to-blue-500 transition-all transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg text-lg",children:"Enter Game"})]})]}),A.jsx(cr,{})]});if((M==null?void 0:M.gameState)===Fe.LOBBY||n&&!M)return console.log("Showing lobby screen. hostState:",M),A.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-8 pb-20 text-white text-center",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:[A.jsxs("div",{className:"bg-white/20 backdrop-blur-md p-8 rounded-3xl mb-8 shadow-2xl",children:[A.jsx("h1",{className:"text-4xl font-black mb-2",children:"You're in!"}),A.jsx("p",{className:"text-xl font-bold opacity-80",children:"See your name on screen?"})]}),A.jsx(cw,{className:"w-12 h-12 animate-spin text-white/50"}),A.jsx(cr,{})]});if((M==null?void 0:M.gameState)===Fe.LEADERBOARD||(M==null?void 0:M.gameState)===Fe.MENU)return A.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-8 pb-20 text-white text-center",children:[A.jsx("div",{className:"bg-[#46178f] p-6 rounded-full shadow-lg mb-6 animate-bounce",children:A.jsx(td,{className:"w-12 h-12 text-yellow-300"})}),A.jsx("h1",{className:"text-3xl font-black mb-2",children:"Scoreboard"}),A.jsx("p",{className:"opacity-80 font-medium",children:"Check the host screen..."}),A.jsx(cr,{})]});if((M==null?void 0:M.gameState)===Fe.FINISH){const J=[...M.players||[]].sort((_e,Ie)=>Ie.score-_e.score),me=J.findIndex(_e=>_e.id===w)+1,z=((oe=J.find(_e=>_e.id===w))==null?void 0:oe.score)||0;let Y="bg-[#46178f]",le="Great Game!",de=td;return me===1?(Y="bg-yellow-500",le="WINNER!",de=td):me===2?(Y="bg-gray-400",le="2nd Place!",de=Nv):me===3?(Y="bg-orange-600",le="3rd Place!",de=Nv):(le=`You placed ${me}th`,de=cX),A.jsxs("div",{className:`min-h-screen ${Y} flex flex-col items-center justify-center p-8 pb-20 text-white text-center animate-in zoom-in duration-500 z-50 fixed inset-0`,children:[A.jsx("div",{className:"bg-black/20 p-8 rounded-full mb-6 shadow-xl",children:A.jsx(de,{className:"w-24 h-24"})}),A.jsx("h1",{className:"text-6xl font-black mb-4 drop-shadow-md",children:le}),A.jsxs("div",{className:"bg-black/20 px-10 py-6 rounded-2xl backdrop-blur-sm border border-white/10",children:[A.jsx("p",{className:"text-xl font-bold opacity-80 mb-1 uppercase tracking-wider",children:"Final Score"}),A.jsx("p",{className:"text-5xl font-black",children:z})]}),A.jsx(cr,{})]})}if((M==null?void 0:M.gameState)===Fe.REVEAL){const ie=$==="correct";return A.jsxs("div",{className:`min-h-screen flex flex-col items-center justify-center p-8 pb-20 text-white text-center fixed inset-0 z-50 ${ie?"bg-green-600":"bg-red-600"} animate-in fade-in`,children:[A.jsx("div",{className:"bg-white/20 p-10 rounded-full mb-8 shadow-2xl animate-in zoom-in delay-200 duration-500",children:ie?A.jsx(o1,{className:"w-20 h-20"}):A.jsx(l1,{className:"w-20 h-20"})}),A.jsx("h1",{className:"text-5xl font-black mb-4 drop-shadow-md",children:ie?"Correct!":"Incorrect"}),A.jsx("div",{className:"bg-black/20 px-8 py-3 rounded-full font-bold text-xl inline-block",children:ie?"+ Points":"Stay focused!"}),A.jsx(cr,{})]})}if((M==null?void 0:M.gameState)===Fe.QUESTION){const ie=M.timeLeft||0,J=ie<=5;if(q)return A.jsxs("div",{className:"min-h-screen bg-[#46178f] flex flex-col items-center justify-center p-8 pb-20 text-white text-center",children:[A.jsx("div",{className:"mb-8",children:A.jsx("div",{className:`w-24 h-24 rounded-full border-4 ${J?"border-red-500 bg-red-500 animate-pulse":"border-white bg-white/20"} flex items-center justify-center shadow-xl transition-all mx-auto`,children:A.jsx("span",{className:"text-4xl font-black text-white",children:ie})})}),A.jsxs("div",{className:"bg-white/10 backdrop-blur-md p-12 rounded-3xl border border-white/20 shadow-2xl animate-in zoom-in",children:[A.jsx("h1",{className:"text-4xl font-black mb-4",children:"Answer Sent!"}),A.jsx("div",{className:"animate-pulse opacity-70 font-bold",children:"Waiting for results..."})]}),A.jsx(cr,{})]});const me=M.currentQuestion;if((me==null?void 0:me.type)==="SHORT_ANSWER"||(me==null?void 0:me.type)==="FILL_IN_THE_BLANK")return A.jsxs("div",{className:"min-h-screen bg-white p-6 pb-20 flex flex-col items-center justify-center fixed inset-0 z-50",children:[A.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2",children:A.jsx("div",{className:`w-20 h-20 rounded-full border-4 ${J?"border-red-500 bg-red-500 animate-pulse":"border-[#46178f] bg-[#46178f]"} flex items-center justify-center shadow-xl transition-all`,children:A.jsx("span",{className:"text-3xl font-black text-white",children:ie})})}),A.jsxs("div",{className:"w-full max-w-2xl px-4",children:[A.jsx("div",{className:"bg-white/90 backdrop-blur-sm p-6 rounded-2xl shadow-xl mb-6",children:A.jsx("p",{className:"text-gray-800 font-bold text-xl sm:text-2xl text-center leading-relaxed",children:me==null?void 0:me.text})}),A.jsx("h2",{className:"text-[#46178f] font-black text-xl sm:text-2xl mb-6 text-center uppercase tracking-wide",children:(me==null?void 0:me.type)==="FILL_IN_THE_BLANK"?"Fill in the blank":"Type your answer"}),A.jsxs("form",{onSubmit:Z,className:"space-y-6",children:[A.jsx("input",{value:V,onChange:le=>D(le.target.value),placeholder:"Type here...",className:"w-full border-b-4 border-gray-200 text-2xl sm:text-4xl font-black text-center py-4 focus:outline-none focus:border-[#46178f] text-gray-800 transition-colors placeholder:text-gray-300",autoFocus:!0}),A.jsxs("button",{className:"w-full bg-[#46178f] text-white py-4 sm:py-6 rounded-2xl font-black text-xl sm:text-2xl shadow-xl active:scale-95 transition-all flex items-center justify-center gap-3 hover:bg-[#35126f]",children:["Submit Answer ",A.jsx(MX,{className:"w-5 h-5 sm:w-6 sm:h-6"})]})]})]}),A.jsx(cr,{})]});const Y=(me==null?void 0:me.type)==="TRUE_FALSE";return A.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#46178f] to-[#764ba2] p-3 sm:p-4 pb-24 flex flex-col items-center justify-center relative z-50",children:[A.jsx("div",{className:"mb-4 sm:mb-6",children:A.jsx("div",{className:`w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 rounded-full border-4 sm:border-8 ${J?"border-red-500 bg-red-500 animate-pulse":"border-white bg-[#46178f]"} flex items-center justify-center shadow-2xl transition-all`,children:A.jsx("span",{className:"text-2xl sm:text-3xl md:text-4xl font-black text-white",children:ie})})}),A.jsx("div",{className:"bg-white p-4 sm:p-8 md:p-12 rounded-2xl sm:rounded-3xl shadow-2xl mb-4 sm:mb-8 w-full max-w-4xl",children:A.jsx("p",{className:"text-[#46178f] font-black text-xl sm:text-3xl md:text-4xl lg:text-5xl text-center leading-tight",children:me==null?void 0:me.text})}),A.jsx("div",{className:`w-full max-w-4xl px-2 ${Y?"flex flex-col sm:flex-row gap-3 sm:gap-4":"grid grid-cols-2 gap-3 sm:gap-4"}`,children:wme.slice(0,Y?2:4).map((le,de)=>{const _e=le.icon;return A.jsxs("button",{onClick:()=>{console.log("Button clicked:",de),Te(de)},className:`${le.color} ${le.shadow} rounded-xl sm:rounded-2xl flex items-center ${Y?"justify-start px-4 sm:px-8":"justify-center flex-col sm:flex-row"} gap-2 sm:gap-4 py-4 sm:py-6 shadow-[0_8px_0_rgba(0,0,0,0.2)] active:shadow-none active:translate-y-[8px] transition-all cursor-pointer touch-manipulation ${Y?"flex-1":"min-h-[100px] sm:min-h-[120px]"}`,children:[A.jsx("div",{className:"bg-black/20 p-2 sm:p-3 rounded-lg sm:rounded-xl",children:A.jsx(_e,{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 text-white fill-current"})}),Y&&A.jsx("span",{className:"text-white font-black text-xl sm:text-2xl md:text-3xl uppercase tracking-wider",children:de===0?"True":"False"})]},de)})}),A.jsx(cr,{})]})}return console.log("Fallback render. hostState:",M,"joined:",n),A.jsxs("div",{className:"min-h-screen bg-[#46178f] flex flex-col items-center justify-center text-white p-8 pb-20",children:[A.jsx(cw,{className:"w-10 h-10 animate-spin mb-4"}),A.jsxs("p",{className:"text-sm opacity-70",children:["State: ",(M==null?void 0:M.gameState)||"null"]}),A.jsxs("p",{className:"text-xs opacity-50 mt-2",children:["Joined: ",n?"Yes":"No"]}),A.jsx(cr,{})]})},xme=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[i,a]=T.useState(""),[l,c]=T.useState(!1),{login:f}=rm(),h=jd(),m=async p=>{p.preventDefault(),a(""),c(!0);try{await f(t,n),h("/host")}catch(y){a(y.message||"Failed to login")}finally{c(!1)}};return A.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"20px"},children:A.jsxs("div",{style:{background:"white",borderRadius:"20px",padding:"40px",maxWidth:"400px",width:"100%",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[A.jsx("h1",{style:{fontSize:"32px",fontWeight:"bold",marginBottom:"10px",textAlign:"center",color:"#333"},children:"Host Login"}),A.jsx("p",{style:{textAlign:"center",color:"#666",marginBottom:"30px"},children:"Sign in to manage your quizzes"}),A.jsxs("form",{onSubmit:m,children:[A.jsxs("div",{style:{marginBottom:"20px"},children:[A.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#333"},children:"Email"}),A.jsx("input",{type:"email",value:t,onChange:p=>e(p.target.value),required:!0,style:{width:"100%",padding:"12px",border:"2px solid #e0e0e0",borderRadius:"10px",fontSize:"16px",transition:"border-color 0.3s",outline:"none",color:"#333",backgroundColor:"#fff"},onFocus:p=>p.target.style.borderColor="#667eea",onBlur:p=>p.target.style.borderColor="#e0e0e0"})]}),A.jsxs("div",{style:{marginBottom:"20px"},children:[A.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#333"},children:"Password"}),A.jsx("input",{type:"password",value:n,onChange:p=>r(p.target.value),required:!0,style:{width:"100%",padding:"12px",border:"2px solid #e0e0e0",borderRadius:"10px",fontSize:"16px",transition:"border-color 0.3s",outline:"none",color:"#333",backgroundColor:"#fff"},onFocus:p=>p.target.style.borderColor="#667eea",onBlur:p=>p.target.style.borderColor="#e0e0e0"})]}),i&&A.jsx("div",{style:{padding:"12px",background:"#fee",border:"1px solid #fcc",borderRadius:"8px",color:"#c33",marginBottom:"20px",fontSize:"14px"},children:i}),A.jsx("button",{type:"submit",disabled:l,style:{width:"100%",padding:"14px",background:l?"#ccc":"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"10px",fontSize:"18px",fontWeight:"bold",cursor:l?"not-allowed":"pointer",transition:"transform 0.2s"},onMouseEnter:p=>!l&&(p.currentTarget.style.transform="scale(1.02)"),onMouseLeave:p=>p.currentTarget.style.transform="scale(1)",children:l?"Signing in...":"Sign In"})]}),A.jsx("div",{style:{marginTop:"20px",textAlign:"center",color:"#666",fontSize:"14px"},children:A.jsx("button",{onClick:()=>h("/"),style:{background:"none",border:"none",color:"#667eea",cursor:"pointer",textDecoration:"underline",fontSize:"14px"},children:"Back to Home"})})]})})},Tme=({children:t})=>{const{user:e,loading:n}=rm();return n?A.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:A.jsx("div",{style:{color:"white",fontSize:"24px"},children:"Loading..."})}):e?t:A.jsx(YM,{to:"/login",replace:!0})},Sme=()=>A.jsxs(A9,{children:[A.jsx(lc,{path:"/",element:A.jsx(KX,{})}),A.jsx(lc,{path:"/login",element:A.jsx(xme,{})}),A.jsx(lc,{path:"/host",element:A.jsx(Tme,{children:A.jsx(bme,{})})}),A.jsx(lc,{path:"/join",element:A.jsx(Eme,{})}),A.jsx(lc,{path:"*",element:A.jsx(YM,{to:"/",replace:!0})})]}),Ame=()=>A.jsx(W9,{basename:"/quiz",children:A.jsx(LQ,{children:A.jsx(Sme,{})})}),HU=document.getElementById("root");if(!HU)throw new Error("Could not find root element to mount to");const Cme=M8.createRoot(HU);Cme.render(A.jsx(Rt.StrictMode,{children:A.jsx(Ame,{})}));
