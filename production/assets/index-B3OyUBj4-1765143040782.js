var t9=Object.defineProperty;var n9=(t,e,n)=>e in t?t9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ob=(t,e,n)=>n9(t,typeof e!="symbol"?e+"":e,n);function r9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Es(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pb={exports:{}},yh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ER;function i9(){if(ER)return yh;ER=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return yh.Fragment=e,yh.jsx=n,yh.jsxs=n,yh}var xR;function a9(){return xR||(xR=1,Pb.exports=i9()),Pb.exports}var C=a9(),kb={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TR;function s9(){if(TR)return Le;TR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),_=Symbol.iterator;function b(j){return j===null||typeof j!="object"?null:(j=_&&j[_]||j["@@iterator"],typeof j=="function"?j:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,A={};function O(j,K,ee){this.props=j,this.context=K,this.refs=A,this.updater=ee||E}O.prototype.isReactComponent={},O.prototype.setState=function(j,K){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,K,"setState")},O.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function z(){}z.prototype=O.prototype;function D(j,K,ee){this.props=j,this.context=K,this.refs=A,this.updater=ee||E}var H=D.prototype=new z;H.constructor=D,x(H,O.prototype),H.isPureReactComponent=!0;var F=Array.isArray;function $(){}var P={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function k(j,K,ee){var he=ee.ref;return{$$typeof:t,type:j,key:K,ref:he!==void 0?he:null,props:ee}}function V(j,K){return k(j.type,K,j.props)}function L(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function B(j){var K={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ee){return K[ee]})}var U=/\/+/g;function xe(j,K){return typeof j=="object"&&j!==null&&j.key!=null?B(""+j.key):K.toString(36)}function Ie(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then($,$):(j.status="pending",j.then(function(K){j.status==="pending"&&(j.status="fulfilled",j.value=K)},function(K){j.status==="pending"&&(j.status="rejected",j.reason=K)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Z(j,K,ee,he,_e){var Te=typeof j;(Te==="undefined"||Te==="boolean")&&(j=null);var Re=!1;if(j===null)Re=!0;else switch(Te){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(j.$$typeof){case t:case e:Re=!0;break;case m:return Re=j._init,Z(Re(j._payload),K,ee,he,_e)}}if(Re)return _e=_e(j),Re=he===""?"."+xe(j,0):he,F(_e)?(ee="",Re!=null&&(ee=Re.replace(U,"$&/")+"/"),Z(_e,K,ee,"",function(Me){return Me})):_e!=null&&(L(_e)&&(_e=V(_e,ee+(_e.key==null||j&&j.key===_e.key?"":(""+_e.key).replace(U,"$&/")+"/")+Re)),K.push(_e)),1;Re=0;var rt=he===""?".":he+":";if(F(j))for(var ae=0;ae<j.length;ae++)he=j[ae],Te=rt+xe(he,ae),Re+=Z(he,K,ee,Te,_e);else if(ae=b(j),typeof ae=="function")for(j=ae.call(j),ae=0;!(he=j.next()).done;)he=he.value,Te=rt+xe(he,ae++),Re+=Z(he,K,ee,Te,_e);else if(Te==="object"){if(typeof j.then=="function")return Z(Ie(j),K,ee,he,_e);throw K=String(j),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Re}function ue(j,K,ee){if(j==null)return j;var he=[],_e=0;return Z(j,he,"","",function(Te){return K.call(ee,Te,_e++)}),he}function ie(j){if(j._status===-1){var K=j._result;K=K(),K.then(function(ee){(j._status===0||j._status===-1)&&(j._status=1,j._result=ee)},function(ee){(j._status===0||j._status===-1)&&(j._status=2,j._result=ee)}),j._status===-1&&(j._status=0,j._result=K)}if(j._status===1)return j._result.default;throw j._result}var pe=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},me={map:ue,forEach:function(j,K,ee){ue(j,function(){K.apply(this,arguments)},ee)},count:function(j){var K=0;return ue(j,function(){K++}),K},toArray:function(j){return ue(j,function(K){return K})||[]},only:function(j){if(!L(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Le.Activity=p,Le.Children=me,Le.Component=O,Le.Fragment=n,Le.Profiler=i,Le.PureComponent=D,Le.StrictMode=r,Le.Suspense=f,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Le.__COMPILER_RUNTIME={__proto__:null,c:function(j){return P.H.useMemoCache(j)}},Le.cache=function(j){return function(){return j.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(j,K,ee){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var he=x({},j.props),_e=j.key;if(K!=null)for(Te in K.key!==void 0&&(_e=""+K.key),K)!R.call(K,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&K.ref===void 0||(he[Te]=K[Te]);var Te=arguments.length-2;if(Te===1)he.children=ee;else if(1<Te){for(var Re=Array(Te),rt=0;rt<Te;rt++)Re[rt]=arguments[rt+2];he.children=Re}return k(j.type,_e,he)},Le.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:s,_context:j},j},Le.createElement=function(j,K,ee){var he,_e={},Te=null;if(K!=null)for(he in K.key!==void 0&&(Te=""+K.key),K)R.call(K,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(_e[he]=K[he]);var Re=arguments.length-2;if(Re===1)_e.children=ee;else if(1<Re){for(var rt=Array(Re),ae=0;ae<Re;ae++)rt[ae]=arguments[ae+2];_e.children=rt}if(j&&j.defaultProps)for(he in Re=j.defaultProps,Re)_e[he]===void 0&&(_e[he]=Re[he]);return k(j,Te,_e)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(j){return{$$typeof:c,render:j}},Le.isValidElement=L,Le.lazy=function(j){return{$$typeof:m,_payload:{_status:-1,_result:j},_init:ie}},Le.memo=function(j,K){return{$$typeof:h,type:j,compare:K===void 0?null:K}},Le.startTransition=function(j){var K=P.T,ee={};P.T=ee;try{var he=j(),_e=P.S;_e!==null&&_e(ee,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then($,pe)}catch(Te){pe(Te)}finally{K!==null&&ee.types!==null&&(K.types=ee.types),P.T=K}},Le.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Le.use=function(j){return P.H.use(j)},Le.useActionState=function(j,K,ee){return P.H.useActionState(j,K,ee)},Le.useCallback=function(j,K){return P.H.useCallback(j,K)},Le.useContext=function(j){return P.H.useContext(j)},Le.useDebugValue=function(){},Le.useDeferredValue=function(j,K){return P.H.useDeferredValue(j,K)},Le.useEffect=function(j,K){return P.H.useEffect(j,K)},Le.useEffectEvent=function(j){return P.H.useEffectEvent(j)},Le.useId=function(){return P.H.useId()},Le.useImperativeHandle=function(j,K,ee){return P.H.useImperativeHandle(j,K,ee)},Le.useInsertionEffect=function(j,K){return P.H.useInsertionEffect(j,K)},Le.useLayoutEffect=function(j,K){return P.H.useLayoutEffect(j,K)},Le.useMemo=function(j,K){return P.H.useMemo(j,K)},Le.useOptimistic=function(j,K){return P.H.useOptimistic(j,K)},Le.useReducer=function(j,K,ee){return P.H.useReducer(j,K,ee)},Le.useRef=function(j){return P.H.useRef(j)},Le.useState=function(j){return P.H.useState(j)},Le.useSyncExternalStore=function(j,K,ee){return P.H.useSyncExternalStore(j,K,ee)},Le.useTransition=function(){return P.H.useTransition()},Le.version="19.2.1",Le}var SR;function Wc(){return SR||(SR=1,kb.exports=s9()),kb.exports}var T=Wc();const Vl=Es(T),o9=r9({__proto__:null,default:Vl},[T]);var Mb={exports:{}},_h={},Db={exports:{}},Lb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AR;function l9(){return AR||(AR=1,(function(t){function e(Z,ue){var ie=Z.length;Z.push(ue);e:for(;0<ie;){var pe=ie-1>>>1,me=Z[pe];if(0<i(me,ue))Z[pe]=ue,Z[ie]=me,ie=pe;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ue=Z[0],ie=Z.pop();if(ie!==ue){Z[0]=ie;e:for(var pe=0,me=Z.length,j=me>>>1;pe<j;){var K=2*(pe+1)-1,ee=Z[K],he=K+1,_e=Z[he];if(0>i(ee,ie))he<me&&0>i(_e,ee)?(Z[pe]=_e,Z[he]=ie,pe=he):(Z[pe]=ee,Z[K]=ie,pe=K);else if(he<me&&0>i(_e,ie))Z[pe]=_e,Z[he]=ie,pe=he;else break e}}return ue}function i(Z,ue){var ie=Z.sortIndex-ue.sortIndex;return ie!==0?ie:Z.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],h=[],m=1,p=null,_=3,b=!1,E=!1,x=!1,A=!1,O=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function H(Z){for(var ue=n(h);ue!==null;){if(ue.callback===null)r(h);else if(ue.startTime<=Z)r(h),ue.sortIndex=ue.expirationTime,e(f,ue);else break;ue=n(h)}}function F(Z){if(x=!1,H(Z),!E)if(n(f)!==null)E=!0,$||($=!0,B());else{var ue=n(h);ue!==null&&Ie(F,ue.startTime-Z)}}var $=!1,P=-1,R=5,k=-1;function V(){return A?!0:!(t.unstable_now()-k<R)}function L(){if(A=!1,$){var Z=t.unstable_now();k=Z;var ue=!0;try{e:{E=!1,x&&(x=!1,z(P),P=-1),b=!0;var ie=_;try{t:{for(H(Z),p=n(f);p!==null&&!(p.expirationTime>Z&&V());){var pe=p.callback;if(typeof pe=="function"){p.callback=null,_=p.priorityLevel;var me=pe(p.expirationTime<=Z);if(Z=t.unstable_now(),typeof me=="function"){p.callback=me,H(Z),ue=!0;break t}p===n(f)&&r(f),H(Z)}else r(f);p=n(f)}if(p!==null)ue=!0;else{var j=n(h);j!==null&&Ie(F,j.startTime-Z),ue=!1}}break e}finally{p=null,_=ie,b=!1}ue=void 0}}finally{ue?B():$=!1}}}var B;if(typeof D=="function")B=function(){D(L)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,xe=U.port2;U.port1.onmessage=L,B=function(){xe.postMessage(null)}}else B=function(){O(L,0)};function Ie(Z,ue){P=O(function(){Z(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(Z){switch(_){case 1:case 2:case 3:var ue=3;break;default:ue=_}var ie=_;_=ue;try{return Z()}finally{_=ie}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(Z,ue){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ie=_;_=Z;try{return ue()}finally{_=ie}},t.unstable_scheduleCallback=function(Z,ue,ie){var pe=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?pe+ie:pe):ie=pe,Z){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=ie+me,Z={id:m++,callback:ue,priorityLevel:Z,startTime:ie,expirationTime:me,sortIndex:-1},ie>pe?(Z.sortIndex=ie,e(h,Z),n(f)===null&&Z===n(h)&&(x?(z(P),P=-1):x=!0,Ie(F,ie-pe))):(Z.sortIndex=me,e(f,Z),E||b||(E=!0,$||($=!0,B()))),Z},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(Z){var ue=_;return function(){var ie=_;_=ue;try{return Z.apply(this,arguments)}finally{_=ie}}}})(Lb)),Lb}var CR;function u9(){return CR||(CR=1,Db.exports=l9()),Db.exports}var jb={exports:{}},Qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IR;function c9(){if(IR)return Qn;IR=1;var t=Wc();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,h,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:f,containerInfo:h,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qn.createPortal=function(f,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,m)},Qn.flushSync=function(f){var h=l.T,m=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=m,r.d.f()}},Qn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},Qn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Qn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var m=h.as,p=c(m,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:_,fetchPriority:b}):m==="script"&&r.d.X(f,{crossOrigin:p,integrity:_,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Qn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},Qn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,p=c(m,h.crossOrigin);r.d.L(f,m,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Qn.preloadModule=function(f,h){if(typeof f=="string")if(h){var m=c(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},Qn.requestFormReset=function(f){r.d.r(f)},Qn.unstable_batchedUpdates=function(f,h){return f(h)},Qn.useFormState=function(f,h,m){return l.H.useFormState(f,h,m)},Qn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Qn.version="19.2.1",Qn}var RR;function NM(){if(RR)return jb.exports;RR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jb.exports=c9(),jb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NR;function f9(){if(NR)return _h;NR=1;var t=u9(),e=Wc(),n=NM();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,d=o;;){var v=u.return;if(v===null)break;var y=v.alternate;if(y===null){if(d=v.return,d!==null){u=d;continue}break}if(v.child===y.child){for(y=v.child;y;){if(y===u)return f(v),a;if(y===d)return f(v),o;y=y.sibling}throw Error(r(188))}if(u.return!==d.return)u=v,d=y;else{for(var S=!1,N=v.child;N;){if(N===u){S=!0,u=v,d=y;break}if(N===d){S=!0,d=v,u=y;break}N=N.sibling}if(!S){for(N=y.child;N;){if(N===u){S=!0,u=y,d=v;break}if(N===d){S=!0,d=y,u=v;break}N=N.sibling}if(!S)throw Error(r(189))}}if(u.alternate!==d)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function m(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=m(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),D=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function B(a){return a===null||typeof a!="object"?null:(a=L&&a[L]||a["@@iterator"],typeof a=="function"?a:null)}var U=Symbol.for("react.client.reference");function xe(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===U?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case x:return"Fragment";case O:return"Profiler";case A:return"StrictMode";case F:return"Suspense";case $:return"SuspenseList";case k:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case E:return"Portal";case D:return a.displayName||"Context";case z:return(a._context.displayName||"Context")+".Consumer";case H:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case P:return o=a.displayName||null,o!==null?o:xe(a.type)||"Memo";case R:o=a._payload,a=a._init;try{return xe(a(o))}catch{}}return null}var Ie=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},pe=[],me=-1;function j(a){return{current:a}}function K(a){0>me||(a.current=pe[me],pe[me]=null,me--)}function ee(a,o){me++,pe[me]=a.current,a.current=o}var he=j(null),_e=j(null),Te=j(null),Re=j(null);function rt(a,o){switch(ee(Te,o),ee(_e,a),ee(he,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?$I(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=$I(o),a=GI(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}K(he),ee(he,a)}function ae(){K(he),K(_e),K(Te)}function Me(a){a.memoizedState!==null&&ee(Re,a);var o=he.current,u=GI(o,a.type);o!==u&&(ee(_e,a),ee(he,u))}function Be(a){_e.current===a&&(K(he),K(_e)),Re.current===a&&(K(Re),mh._currentValue=ie)}var de,qt;function $e(a){if(de===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);de=o&&o[1]||"",qt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+a+qt}var mn=!1;function Ht(a,o){if(!a||mn)return"";mn=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ne){var J=ne}Reflect.construct(a,[],le)}else{try{le.call()}catch(ne){J=ne}a.call(le.prototype)}}else{try{throw Error()}catch(ne){J=ne}(le=a())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ne){if(ne&&J&&typeof ne.stack=="string")return[ne.stack,J.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),S=y[0],N=y[1];if(S&&N){var q=S.split(`
`),X=N.split(`
`);for(v=d=0;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;for(;v<X.length&&!X[v].includes("DetermineComponentFrameRoot");)v++;if(d===q.length||v===X.length)for(d=q.length-1,v=X.length-1;1<=d&&0<=v&&q[d]!==X[v];)v--;for(;1<=d&&0<=v;d--,v--)if(q[d]!==X[v]){if(d!==1||v!==1)do if(d--,v--,0>v||q[d]!==X[v]){var se=`
`+q[d].replace(" at new "," at ");return a.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",a.displayName)),se}while(1<=d&&0<=v);break}}}finally{mn=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?$e(u):""}function Ar(a,o){switch(a.tag){case 26:case 27:case 5:return $e(a.type);case 16:return $e("Lazy");case 13:return a.child!==o&&o!==null?$e("Suspense Fallback"):$e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return Ht(a.type,!1);case 11:return Ht(a.type.render,!1);case 1:return Ht(a.type,!0);case 31:return $e("Activity");default:return""}}function Os(a){try{var o="",u=null;do o+=Ar(a,u),u=a,a=a.return;while(a);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Jt=Object.prototype.hasOwnProperty,pn=t.unstable_scheduleCallback,Ps=t.unstable_cancelCallback,k_=t.unstable_shouldYield,Tm=t.unstable_requestPaint,ir=t.unstable_now,Zo=t.unstable_getCurrentPriorityLevel,vf=t.unstable_ImmediatePriority,yf=t.unstable_UserBlockingPriority,ks=t.unstable_NormalPriority,M_=t.unstable_LowPriority,Sm=t.unstable_IdlePriority,Am=t.log,Cm=t.unstable_setDisableYieldValue,gi=null,jn=null;function Hr(a){if(typeof Am=="function"&&Cm(a),jn&&typeof jn.setStrictMode=="function")try{jn.setStrictMode(gi,a)}catch{}}var $t=Math.clz32?Math.clz32:Rm,Im=Math.log,mu=Math.LN2;function Rm(a){return a>>>=0,a===0?32:31-(Im(a)/mu|0)|0}var $i=256,Jo=262144,en=4194304;function Gi(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ki(a,o,u){var d=a.pendingLanes;if(d===0)return 0;var v=0,y=a.suspendedLanes,S=a.pingedLanes;a=a.warmLanes;var N=d&134217727;return N!==0?(d=N&~y,d!==0?v=Gi(d):(S&=N,S!==0?v=Gi(S):u||(u=N&~a,u!==0&&(v=Gi(u))))):(N=d&~y,N!==0?v=Gi(N):S!==0?v=Gi(S):u||(u=d&~a,u!==0&&(v=Gi(u)))),v===0?0:o!==0&&o!==v&&(o&y)===0&&(y=v&-v,u=o&-o,y>=u||y===32&&(u&4194048)!==0)?o:v}function vi(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function D_(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nm(){var a=en;return en<<=1,(en&62914560)===0&&(en=4194304),a}function Wi(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function el(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function L_(a,o,u,d,v,y){var S=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var N=a.entanglements,q=a.expirationTimes,X=a.hiddenUpdates;for(u=S&~u;0<u;){var se=31-$t(u),le=1<<se;N[se]=0,q[se]=-1;var J=X[se];if(J!==null)for(X[se]=null,se=0;se<J.length;se++){var ne=J[se];ne!==null&&(ne.lane&=-536870913)}u&=~le}d!==0&&tl(a,d,0),y!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=y&~(S&~o))}function tl(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var d=31-$t(o);a.entangledLanes|=o,a.entanglements[d]=a.entanglements[d]|1073741824|u&261930}function _f(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var d=31-$t(u),v=1<<d;v&o|a[d]&o&&(a[d]|=o),u&=~v}}function bf(a,o){var u=o&-o;return u=(u&42)!==0?1:nl(u),(u&(a.suspendedLanes|o))!==0?0:u}function nl(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Pa(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Om(){var a=ue.p;return a!==0?a:(a=window.event,a===void 0?32:pR(a.type))}function yi(a,o){var u=ue.p;try{return ue.p=a,o()}finally{ue.p=u}}var _i=Math.random().toString(36).slice(2),tn="__reactFiber$"+_i,An="__reactProps$"+_i,Yi="__reactContainer$"+_i,pu="__reactEvents$"+_i,j_="__reactListeners$"+_i,Pm="__reactHandles$"+_i,km="__reactResources$"+_i,Qi="__reactMarker$"+_i;function gu(a){delete a[tn],delete a[An],delete a[pu],delete a[j_],delete a[Pm]}function Xi(a){var o=a[tn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[Yi]||u[tn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=JI(a);a!==null;){if(u=a[tn])return u;a=JI(a)}return o}a=u,u=a.parentNode}return null}function $r(a){if(a=a[tn]||a[Yi]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Cr(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function Zi(a){var o=a[km];return o||(o=a[km]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function nn(a){a[Qi]=!0}var wf=new Set,Ef={};function Ji(a,o){ea(a,o),ea(a+"Capture",o)}function ea(a,o){for(Ef[a]=o,a=0;a<o.length;a++)wf.add(o[a])}var xf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tf={},Sf={};function Mm(a){return Jt.call(Sf,a)?!0:Jt.call(Tf,a)?!1:xf.test(a)?Sf[a]=!0:(Tf[a]=!0,!1)}function vu(a,o,u){if(Mm(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function Ir(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function rn(a,o,u,d){if(d===null)a.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+d)}}function Cn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ms(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Af(a,o,u){var d=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,y=d.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(S){u=""+S,y.call(this,S)}}),Object.defineProperty(a,o,{enumerable:d.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function dt(a){if(!a._valueTracker){var o=Ms(a)?"checked":"value";a._valueTracker=Af(a,o,""+a[o])}}function rl(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return a&&(d=Ms(a)?a.checked?"true":"false":a.value),a=d,a!==u?(o.setValue(a),!0):!1}function ta(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var il=/[\n"\\]/g;function dr(a){return a.replace(il,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function yu(a,o,u,d,v,y,S,N){a.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?a.type=S:a.removeAttribute("type"),o!=null?S==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Cn(o)):a.value!==""+Cn(o)&&(a.value=""+Cn(o)):S!=="submit"&&S!=="reset"||a.removeAttribute("value"),o!=null?Cf(a,S,Cn(o)):u!=null?Cf(a,S,Cn(u)):d!=null&&a.removeAttribute("value"),v==null&&y!=null&&(a.defaultChecked=!!y),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.name=""+Cn(N):a.removeAttribute("name")}function Dm(a,o,u,d,v,y,S,N){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(a.type=y),o!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||o!=null)){dt(a);return}u=u!=null?""+Cn(u):"",o=o!=null?""+Cn(o):u,N||o===a.value||(a.value=o),a.defaultValue=o}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=N?a.checked:!!d,a.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.name=S),dt(a)}function Cf(a,o,u){o==="number"&&ta(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Ds(a,o,u,d){if(a=a.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<a.length;u++)v=o.hasOwnProperty("$"+a[u].value),a[u].selected!==v&&(a[u].selected=v),v&&d&&(a[u].defaultSelected=!0)}else{for(u=""+Cn(u),o=null,v=0;v<a.length;v++){if(a[v].value===u){a[v].selected=!0,d&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function Lm(a,o,u){if(o!=null&&(o=""+Cn(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+Cn(u):""}function Ls(a,o,u,d){if(o==null){if(d!=null){if(u!=null)throw Error(r(92));if(Ie(d)){if(1<d.length)throw Error(r(93));d=d[0]}u=d}u==null&&(u=""),o=u}u=Cn(o),a.defaultValue=u,d=a.textContent,d===u&&d!==""&&d!==null&&(a.value=d),dt(a)}function mr(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var jm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function If(a,o,u){var d=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":d?a.setProperty(o,u):typeof u!="number"||u===0||jm.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function Rf(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var v in o)d=o[v],o.hasOwnProperty(v)&&u[v]!==d&&If(a,v,d)}else for(var y in o)o.hasOwnProperty(y)&&If(a,y,o[y])}function _u(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),js=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bu(a){return js.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function bi(){}var Nf=null;function Gr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Vs=null,na=null;function al(a){var o=$r(a);if(o&&(a=o.stateNode)){var u=a[An]||null;e:switch(a=o.stateNode,o.type){case"input":if(yu(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+dr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==a&&d.form===a.form){var v=d[An]||null;if(!v)throw Error(r(90));yu(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)d=u[o],d.form===a.form&&rl(d)}break e;case"textarea":Lm(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Ds(a,!!u.multiple,o,!1)}}}var wu=!1;function Us(a,o,u){if(wu)return a(o,u);wu=!0;try{var d=a(o);return d}finally{if(wu=!1,(Vs!==null||na!==null)&&(Op(),Vs&&(o=Vs,a=na,na=Vs=null,al(o),a)))for(o=0;o<a.length;o++)al(a[o])}}function wi(a,o){var u=a.stateNode;if(u===null)return null;var d=u[An]||null;if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sl=!1;if(Kr)try{var _t={};Object.defineProperty(_t,"passive",{get:function(){sl=!0}}),window.addEventListener("test",_t,_t),window.removeEventListener("test",_t,_t)}catch{sl=!1}var ra=null,Of=null,ol=null;function Pf(){if(ol)return ol;var a,o=Of,u=o.length,d,v="value"in ra?ra.value:ra.textContent,y=v.length;for(a=0;a<u&&o[a]===v[a];a++);var S=u-a;for(d=1;d<=S&&o[u-d]===v[y-d];d++);return ol=v.slice(a,1<d?1-d:void 0)}function ll(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function ka(){return!0}function Ei(){return!1}function Vn(a){function o(u,d,v,y,S){this._reactName=u,this._targetInst=v,this.type=d,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var N in a)a.hasOwnProperty(N)&&(u=a[N],this[N]=u?u(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ka:Ei,this.isPropagationStopped=Ei,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ka)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ka)},persist:function(){},isPersistent:ka}),o}var Ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ia=Vn(Ma),zs=p({},Ma,{view:0,detail:0}),kf=Vn(zs),Bs,Eu,aa,xu=p({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fs,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==aa&&(aa&&a.type==="mousemove"?(Bs=a.screenX-aa.screenX,Eu=a.screenY-aa.screenY):Eu=Bs=0,aa=a),Bs)},movementY:function(a){return"movementY"in a?a.movementY:Eu}}),Mf=Vn(xu),ul=p({},xu,{dataTransfer:0}),Um=Vn(ul),zm=p({},zs,{relatedTarget:0}),cl=Vn(zm),Df=p({},Ma,{animationName:0,elapsedTime:0,pseudoElement:0}),Bm=Vn(Df),Tu=p({},Ma,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Fm=Vn(Tu),qm=p({},Ma,{data:0}),sa=Vn(qm),Hm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$m={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Km(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Gm[a])?!!o[a]:!1}function Fs(){return Km}var ar=p({},zs,{key:function(a){if(a.key){var o=Hm[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=ll(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?$m[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fs,charCode:function(a){return a.type==="keypress"?ll(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ll(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Wm=Vn(ar),Ym=p({},xu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Da=Vn(Ym),g=p({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fs}),w=Vn(g),I=p({},Ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),M=Vn(I),Y=p({},xu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),te=Vn(Y),ve=p({},Ma,{newState:0,oldState:0}),Ve=Vn(ve),Gt=[9,13,27,32],ct=Kr&&"CompositionEvent"in window,Mt=null;Kr&&"documentMode"in document&&(Mt=document.documentMode);var Wr=Kr&&"TextEvent"in window&&!Mt,oa=Kr&&(!ct||Mt&&8<Mt&&11>=Mt),xi=" ",Ti=!1;function fl(a,o){switch(a){case"keyup":return Gt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Su(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Au=!1;function SU(a,o){switch(a){case"compositionend":return Su(o);case"keypress":return o.which!==32?null:(Ti=!0,xi);case"textInput":return a=o.data,a===xi&&Ti?null:a;default:return null}}function AU(a,o){if(Au)return a==="compositionend"||!ct&&fl(a,o)?(a=Pf(),ol=Of=ra=null,Au=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return oa&&o.locale!=="ko"?null:o.data;default:return null}}var CU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nA(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!CU[a.type]:o==="textarea"}function rA(a,o,u,d){Vs?na?na.push(d):na=[d]:Vs=d,o=Vp(o,"onChange"),0<o.length&&(u=new ia("onChange","change",null,u,d),a.push({event:u,listeners:o}))}var Lf=null,jf=null;function IU(a){UI(a,0)}function Qm(a){var o=Cr(a);if(rl(o))return a}function iA(a,o){if(a==="change")return o}var aA=!1;if(Kr){var V_;if(Kr){var U_="oninput"in document;if(!U_){var sA=document.createElement("div");sA.setAttribute("oninput","return;"),U_=typeof sA.oninput=="function"}V_=U_}else V_=!1;aA=V_&&(!document.documentMode||9<document.documentMode)}function oA(){Lf&&(Lf.detachEvent("onpropertychange",lA),jf=Lf=null)}function lA(a){if(a.propertyName==="value"&&Qm(jf)){var o=[];rA(o,jf,a,Gr(a)),Us(IU,o)}}function RU(a,o,u){a==="focusin"?(oA(),Lf=o,jf=u,Lf.attachEvent("onpropertychange",lA)):a==="focusout"&&oA()}function NU(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Qm(jf)}function OU(a,o){if(a==="click")return Qm(o)}function PU(a,o){if(a==="input"||a==="change")return Qm(o)}function kU(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Rr=typeof Object.is=="function"?Object.is:kU;function Vf(a,o){if(Rr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var v=u[d];if(!Jt.call(o,v)||!Rr(a[v],o[v]))return!1}return!0}function uA(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function cA(a,o){var u=uA(a);a=0;for(var d;u;){if(u.nodeType===3){if(d=a+u.textContent.length,a<=o&&d>=o)return{node:u,offset:o-a};a=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=uA(u)}}function fA(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?fA(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function hA(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=ta(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=ta(a.document)}return o}function z_(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var MU=Kr&&"documentMode"in document&&11>=document.documentMode,Cu=null,B_=null,Uf=null,F_=!1;function dA(a,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;F_||Cu==null||Cu!==ta(d)||(d=Cu,"selectionStart"in d&&z_(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Uf&&Vf(Uf,d)||(Uf=d,d=Vp(B_,"onSelect"),0<d.length&&(o=new ia("onSelect","select",null,o,u),a.push({event:o,listeners:d}),o.target=Cu)))}function hl(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var Iu={animationend:hl("Animation","AnimationEnd"),animationiteration:hl("Animation","AnimationIteration"),animationstart:hl("Animation","AnimationStart"),transitionrun:hl("Transition","TransitionRun"),transitionstart:hl("Transition","TransitionStart"),transitioncancel:hl("Transition","TransitionCancel"),transitionend:hl("Transition","TransitionEnd")},q_={},mA={};Kr&&(mA=document.createElement("div").style,"AnimationEvent"in window||(delete Iu.animationend.animation,delete Iu.animationiteration.animation,delete Iu.animationstart.animation),"TransitionEvent"in window||delete Iu.transitionend.transition);function dl(a){if(q_[a])return q_[a];if(!Iu[a])return a;var o=Iu[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in mA)return q_[a]=o[u];return a}var pA=dl("animationend"),gA=dl("animationiteration"),vA=dl("animationstart"),DU=dl("transitionrun"),LU=dl("transitionstart"),jU=dl("transitioncancel"),yA=dl("transitionend"),_A=new Map,H_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");H_.push("scrollEnd");function Si(a,o){_A.set(a,o),Ji(o,[a])}var Xm=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Yr=[],Ru=0,$_=0;function Zm(){for(var a=Ru,o=$_=Ru=0;o<a;){var u=Yr[o];Yr[o++]=null;var d=Yr[o];Yr[o++]=null;var v=Yr[o];Yr[o++]=null;var y=Yr[o];if(Yr[o++]=null,d!==null&&v!==null){var S=d.pending;S===null?v.next=v:(v.next=S.next,S.next=v),d.pending=v}y!==0&&bA(u,v,y)}}function Jm(a,o,u,d){Yr[Ru++]=a,Yr[Ru++]=o,Yr[Ru++]=u,Yr[Ru++]=d,$_|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function G_(a,o,u,d){return Jm(a,o,u,d),ep(a)}function ml(a,o){return Jm(a,null,null,o),ep(a)}function bA(a,o,u){a.lanes|=u;var d=a.alternate;d!==null&&(d.lanes|=u);for(var v=!1,y=a.return;y!==null;)y.childLanes|=u,d=y.alternate,d!==null&&(d.childLanes|=u),y.tag===22&&(a=y.stateNode,a===null||a._visibility&1||(v=!0)),a=y,y=y.return;return a.tag===3?(y=a.stateNode,v&&o!==null&&(v=31-$t(u),a=y.hiddenUpdates,d=a[v],d===null?a[v]=[o]:d.push(o),o.lane=u|536870912),y):null}function ep(a){if(50<oh)throw oh=0,tb=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Nu={};function VU(a,o,u,d){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(a,o,u,d){return new VU(a,o,u,d)}function K_(a){return a=a.prototype,!(!a||!a.isReactComponent)}function La(a,o){var u=a.alternate;return u===null?(u=Nr(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function wA(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function tp(a,o,u,d,v,y){var S=0;if(d=a,typeof a=="function")K_(a)&&(S=1);else if(typeof a=="string")S=qz(a,u,he.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case k:return a=Nr(31,u,o,v),a.elementType=k,a.lanes=y,a;case x:return pl(u.children,v,y,o);case A:S=8,v|=24;break;case O:return a=Nr(12,u,o,v|2),a.elementType=O,a.lanes=y,a;case F:return a=Nr(13,u,o,v),a.elementType=F,a.lanes=y,a;case $:return a=Nr(19,u,o,v),a.elementType=$,a.lanes=y,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case D:S=10;break e;case z:S=9;break e;case H:S=11;break e;case P:S=14;break e;case R:S=16,d=null;break e}S=29,u=Error(r(130,a===null?"null":typeof a,"")),d=null}return o=Nr(S,u,o,v),o.elementType=a,o.type=d,o.lanes=y,o}function pl(a,o,u,d){return a=Nr(7,a,d,o),a.lanes=u,a}function W_(a,o,u){return a=Nr(6,a,null,o),a.lanes=u,a}function EA(a){var o=Nr(18,null,null,0);return o.stateNode=a,o}function Y_(a,o,u){return o=Nr(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var xA=new WeakMap;function Qr(a,o){if(typeof a=="object"&&a!==null){var u=xA.get(a);return u!==void 0?u:(o={value:a,source:o,stack:Os(o)},xA.set(a,o),o)}return{value:a,source:o,stack:Os(o)}}var Ou=[],Pu=0,np=null,zf=0,Xr=[],Zr=0,qs=null,la=1,ua="";function ja(a,o){Ou[Pu++]=zf,Ou[Pu++]=np,np=a,zf=o}function TA(a,o,u){Xr[Zr++]=la,Xr[Zr++]=ua,Xr[Zr++]=qs,qs=a;var d=la;a=ua;var v=32-$t(d)-1;d&=~(1<<v),u+=1;var y=32-$t(o)+v;if(30<y){var S=v-v%5;y=(d&(1<<S)-1).toString(32),d>>=S,v-=S,la=1<<32-$t(o)+v|u<<v|d,ua=y+a}else la=1<<y|u<<v|d,ua=a}function Q_(a){a.return!==null&&(ja(a,1),TA(a,1,0))}function X_(a){for(;a===np;)np=Ou[--Pu],Ou[Pu]=null,zf=Ou[--Pu],Ou[Pu]=null;for(;a===qs;)qs=Xr[--Zr],Xr[Zr]=null,ua=Xr[--Zr],Xr[Zr]=null,la=Xr[--Zr],Xr[Zr]=null}function SA(a,o){Xr[Zr++]=la,Xr[Zr++]=ua,Xr[Zr++]=qs,la=o.id,ua=o.overflow,qs=a}var Un=null,Nt=null,nt=!1,Hs=null,Jr=!1,Z_=Error(r(519));function $s(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bf(Qr(o,a)),Z_}function AA(a){var o=a.stateNode,u=a.type,d=a.memoizedProps;switch(o[tn]=a,o[An]=d,u){case"dialog":Ke("cancel",o),Ke("close",o);break;case"iframe":case"object":case"embed":Ke("load",o);break;case"video":case"audio":for(u=0;u<uh.length;u++)Ke(uh[u],o);break;case"source":Ke("error",o);break;case"img":case"image":case"link":Ke("error",o),Ke("load",o);break;case"details":Ke("toggle",o);break;case"input":Ke("invalid",o),Dm(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Ke("invalid",o);break;case"textarea":Ke("invalid",o),Ls(o,d.value,d.defaultValue,d.children)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||d.suppressHydrationWarning===!0||qI(o.textContent,u)?(d.popover!=null&&(Ke("beforetoggle",o),Ke("toggle",o)),d.onScroll!=null&&Ke("scroll",o),d.onScrollEnd!=null&&Ke("scrollend",o),d.onClick!=null&&(o.onclick=bi),o=!0):o=!1,o||$s(a,!0)}function CA(a){for(Un=a.return;Un;)switch(Un.tag){case 5:case 31:case 13:Jr=!1;return;case 27:case 3:Jr=!0;return;default:Un=Un.return}}function ku(a){if(a!==Un)return!1;if(!nt)return CA(a),nt=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||gb(a.type,a.memoizedProps)),u=!u),u&&Nt&&$s(a),CA(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Nt=ZI(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Nt=ZI(a)}else o===27?(o=Nt,ao(a.type)?(a=wb,wb=null,Nt=a):Nt=o):Nt=Un?ti(a.stateNode.nextSibling):null;return!0}function gl(){Nt=Un=null,nt=!1}function J_(){var a=Hs;return a!==null&&(yr===null?yr=a:yr.push.apply(yr,a),Hs=null),a}function Bf(a){Hs===null?Hs=[a]:Hs.push(a)}var e0=j(null),vl=null,Va=null;function Gs(a,o,u){ee(e0,o._currentValue),o._currentValue=u}function Ua(a){a._currentValue=e0.current,K(e0)}function t0(a,o,u){for(;a!==null;){var d=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),a===u)break;a=a.return}}function n0(a,o,u,d){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var y=v.dependencies;if(y!==null){var S=v.child;y=y.firstContext;e:for(;y!==null;){var N=y;y=v;for(var q=0;q<o.length;q++)if(N.context===o[q]){y.lanes|=u,N=y.alternate,N!==null&&(N.lanes|=u),t0(y.return,u,a),d||(S=null);break e}y=N.next}}else if(v.tag===18){if(S=v.return,S===null)throw Error(r(341));S.lanes|=u,y=S.alternate,y!==null&&(y.lanes|=u),t0(S,u,a),S=null}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===a){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}}function Mu(a,o,u,d){a=null;for(var v=o,y=!1;v!==null;){if(!y){if((v.flags&524288)!==0)y=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var S=v.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var N=v.type;Rr(v.pendingProps.value,S.value)||(a!==null?a.push(N):a=[N])}}else if(v===Re.current){if(S=v.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(mh):a=[mh])}v=v.return}a!==null&&n0(o,a,u,d),o.flags|=262144}function rp(a){for(a=a.firstContext;a!==null;){if(!Rr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function yl(a){vl=a,Va=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function zn(a){return IA(vl,a)}function ip(a,o){return vl===null&&yl(a),IA(a,o)}function IA(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Va===null){if(a===null)throw Error(r(308));Va=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Va=Va.next=o;return u}var UU=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,d){a.push(d)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},zU=t.unstable_scheduleCallback,BU=t.unstable_NormalPriority,an={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function r0(){return{controller:new UU,data:new Map,refCount:0}}function Ff(a){a.refCount--,a.refCount===0&&zU(BU,function(){a.controller.abort()})}var qf=null,i0=0,Du=0,Lu=null;function FU(a,o){if(qf===null){var u=qf=[];i0=0,Du=ob(),Lu={status:"pending",value:void 0,then:function(d){u.push(d)}}}return i0++,o.then(RA,RA),o}function RA(){if(--i0===0&&qf!==null){Lu!==null&&(Lu.status="fulfilled");var a=qf;qf=null,Du=0,Lu=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function qU(a,o){var u=[],d={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return a.then(function(){d.status="fulfilled",d.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(d.status="rejected",d.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),d}var NA=Z.S;Z.S=function(a,o){dI=ir(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&FU(a,o),NA!==null&&NA(a,o)};var _l=j(null);function a0(){var a=_l.current;return a!==null?a:Tt.pooledCache}function ap(a,o){o===null?ee(_l,_l.current):ee(_l,o.pool)}function OA(){var a=a0();return a===null?null:{parent:an._currentValue,pool:a}}var ju=Error(r(460)),s0=Error(r(474)),sp=Error(r(542)),op={then:function(){}};function PA(a){return a=a.status,a==="fulfilled"||a==="rejected"}function kA(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(bi,bi),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,DA(a),a;default:if(typeof o.status=="string")o.then(bi,bi);else{if(a=Tt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(d){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=d}},function(d){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,DA(a),a}throw wl=o,ju}}function bl(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(wl=u,ju):u}}var wl=null;function MA(){if(wl===null)throw Error(r(459));var a=wl;return wl=null,a}function DA(a){if(a===ju||a===sp)throw Error(r(483))}var Vu=null,Hf=0;function lp(a){var o=Hf;return Hf+=1,Vu===null&&(Vu=[]),kA(Vu,a,o)}function $f(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function up(a,o){throw o.$$typeof===_?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function LA(a){function o(W,G){if(a){var Q=W.deletions;Q===null?(W.deletions=[G],W.flags|=16):Q.push(G)}}function u(W,G){if(!a)return null;for(;G!==null;)o(W,G),G=G.sibling;return null}function d(W){for(var G=new Map;W!==null;)W.key!==null?G.set(W.key,W):G.set(W.index,W),W=W.sibling;return G}function v(W,G){return W=La(W,G),W.index=0,W.sibling=null,W}function y(W,G,Q){return W.index=Q,a?(Q=W.alternate,Q!==null?(Q=Q.index,Q<G?(W.flags|=67108866,G):Q):(W.flags|=67108866,G)):(W.flags|=1048576,G)}function S(W){return a&&W.alternate===null&&(W.flags|=67108866),W}function N(W,G,Q,oe){return G===null||G.tag!==6?(G=W_(Q,W.mode,oe),G.return=W,G):(G=v(G,Q),G.return=W,G)}function q(W,G,Q,oe){var Ae=Q.type;return Ae===x?se(W,G,Q.props.children,oe,Q.key):G!==null&&(G.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===R&&bl(Ae)===G.type)?(G=v(G,Q.props),$f(G,Q),G.return=W,G):(G=tp(Q.type,Q.key,Q.props,null,W.mode,oe),$f(G,Q),G.return=W,G)}function X(W,G,Q,oe){return G===null||G.tag!==4||G.stateNode.containerInfo!==Q.containerInfo||G.stateNode.implementation!==Q.implementation?(G=Y_(Q,W.mode,oe),G.return=W,G):(G=v(G,Q.children||[]),G.return=W,G)}function se(W,G,Q,oe,Ae){return G===null||G.tag!==7?(G=pl(Q,W.mode,oe,Ae),G.return=W,G):(G=v(G,Q),G.return=W,G)}function le(W,G,Q){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=W_(""+G,W.mode,Q),G.return=W,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return Q=tp(G.type,G.key,G.props,null,W.mode,Q),$f(Q,G),Q.return=W,Q;case E:return G=Y_(G,W.mode,Q),G.return=W,G;case R:return G=bl(G),le(W,G,Q)}if(Ie(G)||B(G))return G=pl(G,W.mode,Q,null),G.return=W,G;if(typeof G.then=="function")return le(W,lp(G),Q);if(G.$$typeof===D)return le(W,ip(W,G),Q);up(W,G)}return null}function J(W,G,Q,oe){var Ae=G!==null?G.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ae!==null?null:N(W,G,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return Q.key===Ae?q(W,G,Q,oe):null;case E:return Q.key===Ae?X(W,G,Q,oe):null;case R:return Q=bl(Q),J(W,G,Q,oe)}if(Ie(Q)||B(Q))return Ae!==null?null:se(W,G,Q,oe,null);if(typeof Q.then=="function")return J(W,G,lp(Q),oe);if(Q.$$typeof===D)return J(W,G,ip(W,Q),oe);up(W,Q)}return null}function ne(W,G,Q,oe,Ae){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return W=W.get(Q)||null,N(G,W,""+oe,Ae);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case b:return W=W.get(oe.key===null?Q:oe.key)||null,q(G,W,oe,Ae);case E:return W=W.get(oe.key===null?Q:oe.key)||null,X(G,W,oe,Ae);case R:return oe=bl(oe),ne(W,G,Q,oe,Ae)}if(Ie(oe)||B(oe))return W=W.get(Q)||null,se(G,W,oe,Ae,null);if(typeof oe.then=="function")return ne(W,G,Q,lp(oe),Ae);if(oe.$$typeof===D)return ne(W,G,Q,ip(G,oe),Ae);up(G,oe)}return null}function Ee(W,G,Q,oe){for(var Ae=null,at=null,Se=G,ze=G=0,Ze=null;Se!==null&&ze<Q.length;ze++){Se.index>ze?(Ze=Se,Se=null):Ze=Se.sibling;var st=J(W,Se,Q[ze],oe);if(st===null){Se===null&&(Se=Ze);break}a&&Se&&st.alternate===null&&o(W,Se),G=y(st,G,ze),at===null?Ae=st:at.sibling=st,at=st,Se=Ze}if(ze===Q.length)return u(W,Se),nt&&ja(W,ze),Ae;if(Se===null){for(;ze<Q.length;ze++)Se=le(W,Q[ze],oe),Se!==null&&(G=y(Se,G,ze),at===null?Ae=Se:at.sibling=Se,at=Se);return nt&&ja(W,ze),Ae}for(Se=d(Se);ze<Q.length;ze++)Ze=ne(Se,W,ze,Q[ze],oe),Ze!==null&&(a&&Ze.alternate!==null&&Se.delete(Ze.key===null?ze:Ze.key),G=y(Ze,G,ze),at===null?Ae=Ze:at.sibling=Ze,at=Ze);return a&&Se.forEach(function(co){return o(W,co)}),nt&&ja(W,ze),Ae}function Ne(W,G,Q,oe){if(Q==null)throw Error(r(151));for(var Ae=null,at=null,Se=G,ze=G=0,Ze=null,st=Q.next();Se!==null&&!st.done;ze++,st=Q.next()){Se.index>ze?(Ze=Se,Se=null):Ze=Se.sibling;var co=J(W,Se,st.value,oe);if(co===null){Se===null&&(Se=Ze);break}a&&Se&&co.alternate===null&&o(W,Se),G=y(co,G,ze),at===null?Ae=co:at.sibling=co,at=co,Se=Ze}if(st.done)return u(W,Se),nt&&ja(W,ze),Ae;if(Se===null){for(;!st.done;ze++,st=Q.next())st=le(W,st.value,oe),st!==null&&(G=y(st,G,ze),at===null?Ae=st:at.sibling=st,at=st);return nt&&ja(W,ze),Ae}for(Se=d(Se);!st.done;ze++,st=Q.next())st=ne(Se,W,ze,st.value,oe),st!==null&&(a&&st.alternate!==null&&Se.delete(st.key===null?ze:st.key),G=y(st,G,ze),at===null?Ae=st:at.sibling=st,at=st);return a&&Se.forEach(function(e9){return o(W,e9)}),nt&&ja(W,ze),Ae}function Et(W,G,Q,oe){if(typeof Q=="object"&&Q!==null&&Q.type===x&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:e:{for(var Ae=Q.key;G!==null;){if(G.key===Ae){if(Ae=Q.type,Ae===x){if(G.tag===7){u(W,G.sibling),oe=v(G,Q.props.children),oe.return=W,W=oe;break e}}else if(G.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===R&&bl(Ae)===G.type){u(W,G.sibling),oe=v(G,Q.props),$f(oe,Q),oe.return=W,W=oe;break e}u(W,G);break}else o(W,G);G=G.sibling}Q.type===x?(oe=pl(Q.props.children,W.mode,oe,Q.key),oe.return=W,W=oe):(oe=tp(Q.type,Q.key,Q.props,null,W.mode,oe),$f(oe,Q),oe.return=W,W=oe)}return S(W);case E:e:{for(Ae=Q.key;G!==null;){if(G.key===Ae)if(G.tag===4&&G.stateNode.containerInfo===Q.containerInfo&&G.stateNode.implementation===Q.implementation){u(W,G.sibling),oe=v(G,Q.children||[]),oe.return=W,W=oe;break e}else{u(W,G);break}else o(W,G);G=G.sibling}oe=Y_(Q,W.mode,oe),oe.return=W,W=oe}return S(W);case R:return Q=bl(Q),Et(W,G,Q,oe)}if(Ie(Q))return Ee(W,G,Q,oe);if(B(Q)){if(Ae=B(Q),typeof Ae!="function")throw Error(r(150));return Q=Ae.call(Q),Ne(W,G,Q,oe)}if(typeof Q.then=="function")return Et(W,G,lp(Q),oe);if(Q.$$typeof===D)return Et(W,G,ip(W,Q),oe);up(W,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,G!==null&&G.tag===6?(u(W,G.sibling),oe=v(G,Q),oe.return=W,W=oe):(u(W,G),oe=W_(Q,W.mode,oe),oe.return=W,W=oe),S(W)):u(W,G)}return function(W,G,Q,oe){try{Hf=0;var Ae=Et(W,G,Q,oe);return Vu=null,Ae}catch(Se){if(Se===ju||Se===sp)throw Se;var at=Nr(29,Se,null,W.mode);return at.lanes=oe,at.return=W,at}finally{}}}var El=LA(!0),jA=LA(!1),Ks=!1;function o0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function l0(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ws(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ys(a,o,u){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(ft&2)!==0){var v=d.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),d.pending=o,o=ep(a),bA(a,null,u),o}return Jm(a,d,o,u),ep(a)}function Gf(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var d=o.lanes;d&=a.pendingLanes,u|=d,o.lanes=u,_f(a,u)}}function u0(a,o){var u=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var v=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var S={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?v=y=S:y=y.next=S,u=u.next}while(u!==null);y===null?v=y=o:y=y.next=o}else v=y=o;u={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var c0=!1;function Kf(){if(c0){var a=Lu;if(a!==null)throw a}}function Wf(a,o,u,d){c0=!1;var v=a.updateQueue;Ks=!1;var y=v.firstBaseUpdate,S=v.lastBaseUpdate,N=v.shared.pending;if(N!==null){v.shared.pending=null;var q=N,X=q.next;q.next=null,S===null?y=X:S.next=X,S=q;var se=a.alternate;se!==null&&(se=se.updateQueue,N=se.lastBaseUpdate,N!==S&&(N===null?se.firstBaseUpdate=X:N.next=X,se.lastBaseUpdate=q))}if(y!==null){var le=v.baseState;S=0,se=X=q=null,N=y;do{var J=N.lane&-536870913,ne=J!==N.lane;if(ne?(Xe&J)===J:(d&J)===J){J!==0&&J===Du&&(c0=!0),se!==null&&(se=se.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ee=a,Ne=N;J=o;var Et=u;switch(Ne.tag){case 1:if(Ee=Ne.payload,typeof Ee=="function"){le=Ee.call(Et,le,J);break e}le=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Ne.payload,J=typeof Ee=="function"?Ee.call(Et,le,J):Ee,J==null)break e;le=p({},le,J);break e;case 2:Ks=!0}}J=N.callback,J!==null&&(a.flags|=64,ne&&(a.flags|=8192),ne=v.callbacks,ne===null?v.callbacks=[J]:ne.push(J))}else ne={lane:J,tag:N.tag,payload:N.payload,callback:N.callback,next:null},se===null?(X=se=ne,q=le):se=se.next=ne,S|=J;if(N=N.next,N===null){if(N=v.shared.pending,N===null)break;ne=N,N=ne.next,ne.next=null,v.lastBaseUpdate=ne,v.shared.pending=null}}while(!0);se===null&&(q=le),v.baseState=q,v.firstBaseUpdate=X,v.lastBaseUpdate=se,y===null&&(v.shared.lanes=0),eo|=S,a.lanes=S,a.memoizedState=le}}function VA(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function UA(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)VA(u[a],o)}var Uu=j(null),cp=j(0);function zA(a,o){a=Wa,ee(cp,a),ee(Uu,o),Wa=a|o.baseLanes}function f0(){ee(cp,Wa),ee(Uu,Uu.current)}function h0(){Wa=cp.current,K(Uu),K(cp)}var Or=j(null),ei=null;function Qs(a){var o=a.alternate;ee(Kt,Kt.current&1),ee(Or,a),ei===null&&(o===null||Uu.current!==null||o.memoizedState!==null)&&(ei=a)}function d0(a){ee(Kt,Kt.current),ee(Or,a),ei===null&&(ei=a)}function BA(a){a.tag===22?(ee(Kt,Kt.current),ee(Or,a),ei===null&&(ei=a)):Xs()}function Xs(){ee(Kt,Kt.current),ee(Or,Or.current)}function Pr(a){K(Or),ei===a&&(ei=null),K(Kt)}var Kt=j(0);function fp(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||_b(u)||bb(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var za=0,Ue=null,bt=null,sn=null,hp=!1,zu=!1,xl=!1,dp=0,Yf=0,Bu=null,HU=0;function zt(){throw Error(r(321))}function m0(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Rr(a[u],o[u]))return!1;return!0}function p0(a,o,u,d,v,y){return za=y,Ue=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Z.H=a===null||a.memoizedState===null?TC:N0,xl=!1,y=u(d,v),xl=!1,zu&&(y=qA(o,u,d,v)),FA(a),y}function FA(a){Z.H=Zf;var o=bt!==null&&bt.next!==null;if(za=0,sn=bt=Ue=null,hp=!1,Yf=0,Bu=null,o)throw Error(r(300));a===null||on||(a=a.dependencies,a!==null&&rp(a)&&(on=!0))}function qA(a,o,u,d){Ue=a;var v=0;do{if(zu&&(Bu=null),Yf=0,zu=!1,25<=v)throw Error(r(301));if(v+=1,sn=bt=null,a.updateQueue!=null){var y=a.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Z.H=SC,y=o(u,d)}while(zu);return y}function $U(){var a=Z.H,o=a.useState()[0];return o=typeof o.then=="function"?Qf(o):o,a=a.useState()[0],(bt!==null?bt.memoizedState:null)!==a&&(Ue.flags|=1024),o}function g0(){var a=dp!==0;return dp=0,a}function v0(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function y0(a){if(hp){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}hp=!1}za=0,sn=bt=Ue=null,zu=!1,Yf=dp=0,Bu=null}function sr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Ue.memoizedState=sn=a:sn=sn.next=a,sn}function Wt(){if(bt===null){var a=Ue.alternate;a=a!==null?a.memoizedState:null}else a=bt.next;var o=sn===null?Ue.memoizedState:sn.next;if(o!==null)sn=o,bt=a;else{if(a===null)throw Ue.alternate===null?Error(r(467)):Error(r(310));bt=a,a={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},sn===null?Ue.memoizedState=sn=a:sn=sn.next=a}return sn}function mp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qf(a){var o=Yf;return Yf+=1,Bu===null&&(Bu=[]),a=kA(Bu,a,o),o=Ue,(sn===null?o.memoizedState:sn.next)===null&&(o=o.alternate,Z.H=o===null||o.memoizedState===null?TC:N0),a}function pp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Qf(a);if(a.$$typeof===D)return zn(a)}throw Error(r(438,String(a)))}function _0(a){var o=null,u=Ue.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var d=Ue.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=mp(),Ue.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),d=0;d<a;d++)u[d]=V;return o.index++,u}function Ba(a,o){return typeof o=="function"?o(a):o}function gp(a){var o=Wt();return b0(o,bt,a)}function b0(a,o,u){var d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=u;var v=a.baseQueue,y=d.pending;if(y!==null){if(v!==null){var S=v.next;v.next=y.next,y.next=S}o.baseQueue=v=y,d.pending=null}if(y=a.baseState,v===null)a.memoizedState=y;else{o=v.next;var N=S=null,q=null,X=o,se=!1;do{var le=X.lane&-536870913;if(le!==X.lane?(Xe&le)===le:(za&le)===le){var J=X.revertLane;if(J===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),le===Du&&(se=!0);else if((za&J)===J){X=X.next,J===Du&&(se=!0);continue}else le={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},q===null?(N=q=le,S=y):q=q.next=le,Ue.lanes|=J,eo|=J;le=X.action,xl&&u(y,le),y=X.hasEagerState?X.eagerState:u(y,le)}else J={lane:le,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},q===null?(N=q=J,S=y):q=q.next=J,Ue.lanes|=le,eo|=le;X=X.next}while(X!==null&&X!==o);if(q===null?S=y:q.next=N,!Rr(y,a.memoizedState)&&(on=!0,se&&(u=Lu,u!==null)))throw u;a.memoizedState=y,a.baseState=S,a.baseQueue=q,d.lastRenderedState=y}return v===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function w0(a){var o=Wt(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var d=u.dispatch,v=u.pending,y=o.memoizedState;if(v!==null){u.pending=null;var S=v=v.next;do y=a(y,S.action),S=S.next;while(S!==v);Rr(y,o.memoizedState)||(on=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),u.lastRenderedState=y}return[y,d]}function HA(a,o,u){var d=Ue,v=Wt(),y=nt;if(y){if(u===void 0)throw Error(r(407));u=u()}else u=o();var S=!Rr((bt||v).memoizedState,u);if(S&&(v.memoizedState=u,on=!0),v=v.queue,T0(KA.bind(null,d,v,a),[a]),v.getSnapshot!==o||S||sn!==null&&sn.memoizedState.tag&1){if(d.flags|=2048,Fu(9,{destroy:void 0},GA.bind(null,d,v,u,o),null),Tt===null)throw Error(r(349));y||(za&127)!==0||$A(d,o,u)}return u}function $A(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=Ue.updateQueue,o===null?(o=mp(),Ue.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function GA(a,o,u,d){o.value=u,o.getSnapshot=d,WA(o)&&YA(a)}function KA(a,o,u){return u(function(){WA(o)&&YA(a)})}function WA(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Rr(a,u)}catch{return!0}}function YA(a){var o=ml(a,2);o!==null&&_r(o,a,2)}function E0(a){var o=sr();if(typeof a=="function"){var u=a;if(a=u(),xl){Hr(!0);try{u()}finally{Hr(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:a},o}function QA(a,o,u,d){return a.baseState=u,b0(a,bt,typeof d=="function"?d:Ba)}function GU(a,o,u,d,v){if(_p(a))throw Error(r(485));if(a=o.action,a!==null){var y={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};Z.T!==null?u(!0):y.isTransition=!1,d(y),u=o.pending,u===null?(y.next=o.pending=y,XA(o,y)):(y.next=u.next,o.pending=u.next=y)}}function XA(a,o){var u=o.action,d=o.payload,v=a.state;if(o.isTransition){var y=Z.T,S={};Z.T=S;try{var N=u(v,d),q=Z.S;q!==null&&q(S,N),ZA(a,o,N)}catch(X){x0(a,o,X)}finally{y!==null&&S.types!==null&&(y.types=S.types),Z.T=y}}else try{y=u(v,d),ZA(a,o,y)}catch(X){x0(a,o,X)}}function ZA(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){JA(a,o,d)},function(d){return x0(a,o,d)}):JA(a,o,u)}function JA(a,o,u){o.status="fulfilled",o.value=u,eC(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,XA(a,u)))}function x0(a,o,u){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=u,eC(o),o=o.next;while(o!==d)}a.action=null}function eC(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function tC(a,o){return o}function nC(a,o){if(nt){var u=Tt.formState;if(u!==null){e:{var d=Ue;if(nt){if(Nt){t:{for(var v=Nt,y=Jr;v.nodeType!==8;){if(!y){v=null;break t}if(v=ti(v.nextSibling),v===null){v=null;break t}}y=v.data,v=y==="F!"||y==="F"?v:null}if(v){Nt=ti(v.nextSibling),d=v.data==="F!";break e}}$s(d)}d=!1}d&&(o=u[0])}}return u=sr(),u.memoizedState=u.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tC,lastRenderedState:o},u.queue=d,u=wC.bind(null,Ue,d),d.dispatch=u,d=E0(!1),y=R0.bind(null,Ue,!1,d.queue),d=sr(),v={state:o,dispatch:null,action:a,pending:null},d.queue=v,u=GU.bind(null,Ue,v,y,u),v.dispatch=u,d.memoizedState=a,[o,u,!1]}function rC(a){var o=Wt();return iC(o,bt,a)}function iC(a,o,u){if(o=b0(a,o,tC)[0],a=gp(Ba)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=Qf(o)}catch(S){throw S===ju?sp:S}else d=o;o=Wt();var v=o.queue,y=v.dispatch;return u!==o.memoizedState&&(Ue.flags|=2048,Fu(9,{destroy:void 0},KU.bind(null,v,u),null)),[d,y,a]}function KU(a,o){a.action=o}function aC(a){var o=Wt(),u=bt;if(u!==null)return iC(o,u,a);Wt(),o=o.memoizedState,u=Wt();var d=u.queue.dispatch;return u.memoizedState=a,[o,d,!1]}function Fu(a,o,u,d){return a={tag:a,create:u,deps:d,inst:o,next:null},o=Ue.updateQueue,o===null&&(o=mp(),Ue.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(d=u.next,u.next=a,a.next=d,o.lastEffect=a),a}function sC(){return Wt().memoizedState}function vp(a,o,u,d){var v=sr();Ue.flags|=a,v.memoizedState=Fu(1|o,{destroy:void 0},u,d===void 0?null:d)}function yp(a,o,u,d){var v=Wt();d=d===void 0?null:d;var y=v.memoizedState.inst;bt!==null&&d!==null&&m0(d,bt.memoizedState.deps)?v.memoizedState=Fu(o,y,u,d):(Ue.flags|=a,v.memoizedState=Fu(1|o,y,u,d))}function oC(a,o){vp(8390656,8,a,o)}function T0(a,o){yp(2048,8,a,o)}function WU(a){Ue.flags|=4;var o=Ue.updateQueue;if(o===null)o=mp(),Ue.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function lC(a){var o=Wt().memoizedState;return WU({ref:o,nextImpl:a}),function(){if((ft&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function uC(a,o){return yp(4,2,a,o)}function cC(a,o){return yp(4,4,a,o)}function fC(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function hC(a,o,u){u=u!=null?u.concat([a]):null,yp(4,4,fC.bind(null,o,a),u)}function S0(){}function dC(a,o){var u=Wt();o=o===void 0?null:o;var d=u.memoizedState;return o!==null&&m0(o,d[1])?d[0]:(u.memoizedState=[a,o],a)}function mC(a,o){var u=Wt();o=o===void 0?null:o;var d=u.memoizedState;if(o!==null&&m0(o,d[1]))return d[0];if(d=a(),xl){Hr(!0);try{a()}finally{Hr(!1)}}return u.memoizedState=[d,o],d}function A0(a,o,u){return u===void 0||(za&1073741824)!==0&&(Xe&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=pI(),Ue.lanes|=a,eo|=a,u)}function pC(a,o,u,d){return Rr(u,o)?u:Uu.current!==null?(a=A0(a,u,d),Rr(a,o)||(on=!0),a):(za&42)===0||(za&1073741824)!==0&&(Xe&261930)===0?(on=!0,a.memoizedState=u):(a=pI(),Ue.lanes|=a,eo|=a,o)}function gC(a,o,u,d,v){var y=ue.p;ue.p=y!==0&&8>y?y:8;var S=Z.T,N={};Z.T=N,R0(a,!1,o,u);try{var q=v(),X=Z.S;if(X!==null&&X(N,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var se=qU(q,d);Xf(a,o,se,Dr(a))}else Xf(a,o,d,Dr(a))}catch(le){Xf(a,o,{then:function(){},status:"rejected",reason:le},Dr())}finally{ue.p=y,S!==null&&N.types!==null&&(S.types=N.types),Z.T=S}}function YU(){}function C0(a,o,u,d){if(a.tag!==5)throw Error(r(476));var v=vC(a).queue;gC(a,v,o,ie,u===null?YU:function(){return yC(a),u(d)})}function vC(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:ie},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function yC(a){var o=vC(a);o.next===null&&(o=a.alternate.memoizedState),Xf(a,o.next.queue,{},Dr())}function I0(){return zn(mh)}function _C(){return Wt().memoizedState}function bC(){return Wt().memoizedState}function QU(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=Dr();a=Ws(u);var d=Ys(o,a,u);d!==null&&(_r(d,o,u),Gf(d,o,u)),o={cache:r0()},a.payload=o;return}o=o.return}}function XU(a,o,u){var d=Dr();u={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},_p(a)?EC(o,u):(u=G_(a,o,u,d),u!==null&&(_r(u,a,d),xC(u,o,d)))}function wC(a,o,u){var d=Dr();Xf(a,o,u,d)}function Xf(a,o,u,d){var v={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(_p(a))EC(o,v);else{var y=a.alternate;if(a.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var S=o.lastRenderedState,N=y(S,u);if(v.hasEagerState=!0,v.eagerState=N,Rr(N,S))return Jm(a,o,v,0),Tt===null&&Zm(),!1}catch{}finally{}if(u=G_(a,o,v,d),u!==null)return _r(u,a,d),xC(u,o,d),!0}return!1}function R0(a,o,u,d){if(d={lane:2,revertLane:ob(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},_p(a)){if(o)throw Error(r(479))}else o=G_(a,u,d,2),o!==null&&_r(o,a,2)}function _p(a){var o=a.alternate;return a===Ue||o!==null&&o===Ue}function EC(a,o){zu=hp=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function xC(a,o,u){if((u&4194048)!==0){var d=o.lanes;d&=a.pendingLanes,u|=d,o.lanes=u,_f(a,u)}}var Zf={readContext:zn,use:pp,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt};Zf.useEffectEvent=zt;var TC={readContext:zn,use:pp,useCallback:function(a,o){return sr().memoizedState=[a,o===void 0?null:o],a},useContext:zn,useEffect:oC,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,vp(4194308,4,fC.bind(null,o,a),u)},useLayoutEffect:function(a,o){return vp(4194308,4,a,o)},useInsertionEffect:function(a,o){vp(4,2,a,o)},useMemo:function(a,o){var u=sr();o=o===void 0?null:o;var d=a();if(xl){Hr(!0);try{a()}finally{Hr(!1)}}return u.memoizedState=[d,o],d},useReducer:function(a,o,u){var d=sr();if(u!==void 0){var v=u(o);if(xl){Hr(!0);try{u(o)}finally{Hr(!1)}}}else v=o;return d.memoizedState=d.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},d.queue=a,a=a.dispatch=XU.bind(null,Ue,a),[d.memoizedState,a]},useRef:function(a){var o=sr();return a={current:a},o.memoizedState=a},useState:function(a){a=E0(a);var o=a.queue,u=wC.bind(null,Ue,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:S0,useDeferredValue:function(a,o){var u=sr();return A0(u,a,o)},useTransition:function(){var a=E0(!1);return a=gC.bind(null,Ue,a.queue,!0,!1),sr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var d=Ue,v=sr();if(nt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Tt===null)throw Error(r(349));(Xe&127)!==0||$A(d,o,u)}v.memoizedState=u;var y={value:u,getSnapshot:o};return v.queue=y,oC(KA.bind(null,d,y,a),[a]),d.flags|=2048,Fu(9,{destroy:void 0},GA.bind(null,d,y,u,o),null),u},useId:function(){var a=sr(),o=Tt.identifierPrefix;if(nt){var u=ua,d=la;u=(d&~(1<<32-$t(d)-1)).toString(32)+u,o="_"+o+"R_"+u,u=dp++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=HU++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:I0,useFormState:nC,useActionState:nC,useOptimistic:function(a){var o=sr();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=R0.bind(null,Ue,!0,u),u.dispatch=o,[a,o]},useMemoCache:_0,useCacheRefresh:function(){return sr().memoizedState=QU.bind(null,Ue)},useEffectEvent:function(a){var o=sr(),u={impl:a};return o.memoizedState=u,function(){if((ft&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},N0={readContext:zn,use:pp,useCallback:dC,useContext:zn,useEffect:T0,useImperativeHandle:hC,useInsertionEffect:uC,useLayoutEffect:cC,useMemo:mC,useReducer:gp,useRef:sC,useState:function(){return gp(Ba)},useDebugValue:S0,useDeferredValue:function(a,o){var u=Wt();return pC(u,bt.memoizedState,a,o)},useTransition:function(){var a=gp(Ba)[0],o=Wt().memoizedState;return[typeof a=="boolean"?a:Qf(a),o]},useSyncExternalStore:HA,useId:_C,useHostTransitionStatus:I0,useFormState:rC,useActionState:rC,useOptimistic:function(a,o){var u=Wt();return QA(u,bt,a,o)},useMemoCache:_0,useCacheRefresh:bC};N0.useEffectEvent=lC;var SC={readContext:zn,use:pp,useCallback:dC,useContext:zn,useEffect:T0,useImperativeHandle:hC,useInsertionEffect:uC,useLayoutEffect:cC,useMemo:mC,useReducer:w0,useRef:sC,useState:function(){return w0(Ba)},useDebugValue:S0,useDeferredValue:function(a,o){var u=Wt();return bt===null?A0(u,a,o):pC(u,bt.memoizedState,a,o)},useTransition:function(){var a=w0(Ba)[0],o=Wt().memoizedState;return[typeof a=="boolean"?a:Qf(a),o]},useSyncExternalStore:HA,useId:_C,useHostTransitionStatus:I0,useFormState:aC,useActionState:aC,useOptimistic:function(a,o){var u=Wt();return bt!==null?QA(u,bt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:_0,useCacheRefresh:bC};SC.useEffectEvent=lC;function O0(a,o,u,d){o=a.memoizedState,u=u(d,o),u=u==null?o:p({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var P0={enqueueSetState:function(a,o,u){a=a._reactInternals;var d=Dr(),v=Ws(d);v.payload=o,u!=null&&(v.callback=u),o=Ys(a,v,d),o!==null&&(_r(o,a,d),Gf(o,a,d))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var d=Dr(),v=Ws(d);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Ys(a,v,d),o!==null&&(_r(o,a,d),Gf(o,a,d))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=Dr(),d=Ws(u);d.tag=2,o!=null&&(d.callback=o),o=Ys(a,d,u),o!==null&&(_r(o,a,u),Gf(o,a,u))}};function AC(a,o,u,d,v,y,S){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,y,S):o.prototype&&o.prototype.isPureReactComponent?!Vf(u,d)||!Vf(v,y):!0}function CC(a,o,u,d){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==a&&P0.enqueueReplaceState(o,o.state,null)}function Tl(a,o){var u=o;if("ref"in o){u={};for(var d in o)d!=="ref"&&(u[d]=o[d])}if(a=a.defaultProps){u===o&&(u=p({},u));for(var v in a)u[v]===void 0&&(u[v]=a[v])}return u}function IC(a){Xm(a)}function RC(a){console.error(a)}function NC(a){Xm(a)}function bp(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function OC(a,o,u){try{var d=a.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function k0(a,o,u){return u=Ws(u),u.tag=3,u.payload={element:null},u.callback=function(){bp(a,o)},u}function PC(a){return a=Ws(a),a.tag=3,a}function kC(a,o,u,d){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var y=d.value;a.payload=function(){return v(y)},a.callback=function(){OC(o,u,d)}}var S=u.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(a.callback=function(){OC(o,u,d),typeof v!="function"&&(to===null?to=new Set([this]):to.add(this));var N=d.stack;this.componentDidCatch(d.value,{componentStack:N!==null?N:""})})}function ZU(a,o,u,d,v){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=u.alternate,o!==null&&Mu(o,u,v,!0),u=Or.current,u!==null){switch(u.tag){case 31:case 13:return ei===null?Pp():u.alternate===null&&Bt===0&&(Bt=3),u.flags&=-257,u.flags|=65536,u.lanes=v,d===op?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([d]):o.add(d),ib(a,d,v)),!1;case 22:return u.flags|=65536,d===op?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([d]):u.add(d)),ib(a,d,v)),!1}throw Error(r(435,u.tag))}return ib(a,d,v),Pp(),!1}if(nt)return o=Or.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,d!==Z_&&(a=Error(r(422),{cause:d}),Bf(Qr(a,u)))):(d!==Z_&&(o=Error(r(423),{cause:d}),Bf(Qr(o,u))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,d=Qr(d,u),v=k0(a.stateNode,d,v),u0(a,v),Bt!==4&&(Bt=2)),!1;var y=Error(r(520),{cause:d});if(y=Qr(y,u),sh===null?sh=[y]:sh.push(y),Bt!==4&&(Bt=2),o===null)return!0;d=Qr(d,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=v&-v,u.lanes|=a,a=k0(u.stateNode,d,a),u0(u,a),!1;case 1:if(o=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(to===null||!to.has(y))))return u.flags|=65536,v&=-v,u.lanes|=v,v=PC(v),kC(v,a,u,d),u0(u,v),!1}u=u.return}while(u!==null);return!1}var M0=Error(r(461)),on=!1;function Bn(a,o,u,d){o.child=a===null?jA(o,null,u,d):El(o,a.child,u,d)}function MC(a,o,u,d,v){u=u.render;var y=o.ref;if("ref"in d){var S={};for(var N in d)N!=="ref"&&(S[N]=d[N])}else S=d;return yl(o),d=p0(a,o,u,S,y,v),N=g0(),a!==null&&!on?(v0(a,o,v),Fa(a,o,v)):(nt&&N&&Q_(o),o.flags|=1,Bn(a,o,d,v),o.child)}function DC(a,o,u,d,v){if(a===null){var y=u.type;return typeof y=="function"&&!K_(y)&&y.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=y,LC(a,o,y,d,v)):(a=tp(u.type,null,d,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(y=a.child,!F0(a,v)){var S=y.memoizedProps;if(u=u.compare,u=u!==null?u:Vf,u(S,d)&&a.ref===o.ref)return Fa(a,o,v)}return o.flags|=1,a=La(y,d),a.ref=o.ref,a.return=o,o.child=a}function LC(a,o,u,d,v){if(a!==null){var y=a.memoizedProps;if(Vf(y,d)&&a.ref===o.ref)if(on=!1,o.pendingProps=d=y,F0(a,v))(a.flags&131072)!==0&&(on=!0);else return o.lanes=a.lanes,Fa(a,o,v)}return D0(a,o,u,d,v)}function jC(a,o,u,d){var v=d.children,y=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((o.flags&128)!==0){if(y=y!==null?y.baseLanes|u:u,a!==null){for(d=o.child=a.child,v=0;d!==null;)v=v|d.lanes|d.childLanes,d=d.sibling;d=v&~y}else d=0,o.child=null;return VC(a,o,y,u,d)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&ap(o,y!==null?y.cachePool:null),y!==null?zA(o,y):f0(),BA(o);else return d=o.lanes=536870912,VC(a,o,y!==null?y.baseLanes|u:u,u,d)}else y!==null?(ap(o,y.cachePool),zA(o,y),Xs(),o.memoizedState=null):(a!==null&&ap(o,null),f0(),Xs());return Bn(a,o,v,u),o.child}function Jf(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function VC(a,o,u,d,v){var y=a0();return y=y===null?null:{parent:an._currentValue,pool:y},o.memoizedState={baseLanes:u,cachePool:y},a!==null&&ap(o,null),f0(),BA(o),a!==null&&Mu(a,o,d,!0),o.childLanes=v,null}function wp(a,o){return o=xp({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function UC(a,o,u){return El(o,a.child,null,u),a=wp(o,o.pendingProps),a.flags|=2,Pr(o),o.memoizedState=null,a}function JU(a,o,u){var d=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(nt){if(d.mode==="hidden")return a=wp(o,d),o.lanes=536870912,Jf(null,a);if(d0(o),(a=Nt)?(a=XI(a,Jr),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:qs!==null?{id:la,overflow:ua}:null,retryLane:536870912,hydrationErrors:null},u=EA(a),u.return=o,o.child=u,Un=o,Nt=null)):a=null,a===null)throw $s(o);return o.lanes=536870912,null}return wp(o,d)}var y=a.memoizedState;if(y!==null){var S=y.dehydrated;if(d0(o),v)if(o.flags&256)o.flags&=-257,o=UC(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(on||Mu(a,o,u,!1),v=(u&a.childLanes)!==0,on||v){if(d=Tt,d!==null&&(S=bf(d,u),S!==0&&S!==y.retryLane))throw y.retryLane=S,ml(a,S),_r(d,a,S),M0;Pp(),o=UC(a,o,u)}else a=y.treeContext,Nt=ti(S.nextSibling),Un=o,nt=!0,Hs=null,Jr=!1,a!==null&&SA(o,a),o=wp(o,d),o.flags|=4096;return o}return a=La(a.child,{mode:d.mode,children:d.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Ep(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function D0(a,o,u,d,v){return yl(o),u=p0(a,o,u,d,void 0,v),d=g0(),a!==null&&!on?(v0(a,o,v),Fa(a,o,v)):(nt&&d&&Q_(o),o.flags|=1,Bn(a,o,u,v),o.child)}function zC(a,o,u,d,v,y){return yl(o),o.updateQueue=null,u=qA(o,d,u,v),FA(a),d=g0(),a!==null&&!on?(v0(a,o,y),Fa(a,o,y)):(nt&&d&&Q_(o),o.flags|=1,Bn(a,o,u,y),o.child)}function BC(a,o,u,d,v){if(yl(o),o.stateNode===null){var y=Nu,S=u.contextType;typeof S=="object"&&S!==null&&(y=zn(S)),y=new u(d,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=P0,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=d,y.state=o.memoizedState,y.refs={},o0(o),S=u.contextType,y.context=typeof S=="object"&&S!==null?zn(S):Nu,y.state=o.memoizedState,S=u.getDerivedStateFromProps,typeof S=="function"&&(O0(o,u,S,d),y.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&P0.enqueueReplaceState(y,y.state,null),Wf(o,d,y,v),Kf(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(a===null){y=o.stateNode;var N=o.memoizedProps,q=Tl(u,N);y.props=q;var X=y.context,se=u.contextType;S=Nu,typeof se=="object"&&se!==null&&(S=zn(se));var le=u.getDerivedStateFromProps;se=typeof le=="function"||typeof y.getSnapshotBeforeUpdate=="function",N=o.pendingProps!==N,se||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N||X!==S)&&CC(o,y,d,S),Ks=!1;var J=o.memoizedState;y.state=J,Wf(o,d,y,v),Kf(),X=o.memoizedState,N||J!==X||Ks?(typeof le=="function"&&(O0(o,u,le,d),X=o.memoizedState),(q=Ks||AC(o,u,q,d,J,X,S))?(se||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=X),y.props=d,y.state=X,y.context=S,d=q):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{y=o.stateNode,l0(a,o),S=o.memoizedProps,se=Tl(u,S),y.props=se,le=o.pendingProps,J=y.context,X=u.contextType,q=Nu,typeof X=="object"&&X!==null&&(q=zn(X)),N=u.getDerivedStateFromProps,(X=typeof N=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==le||J!==q)&&CC(o,y,d,q),Ks=!1,J=o.memoizedState,y.state=J,Wf(o,d,y,v),Kf();var ne=o.memoizedState;S!==le||J!==ne||Ks||a!==null&&a.dependencies!==null&&rp(a.dependencies)?(typeof N=="function"&&(O0(o,u,N,d),ne=o.memoizedState),(se=Ks||AC(o,u,se,d,J,ne,q)||a!==null&&a.dependencies!==null&&rp(a.dependencies))?(X||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,ne,q),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,ne,q)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===a.memoizedProps&&J===a.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===a.memoizedProps&&J===a.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=ne),y.props=d,y.state=ne,y.context=q,d=se):(typeof y.componentDidUpdate!="function"||S===a.memoizedProps&&J===a.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===a.memoizedProps&&J===a.memoizedState||(o.flags|=1024),d=!1)}return y=d,Ep(a,o),d=(o.flags&128)!==0,y||d?(y=o.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,a!==null&&d?(o.child=El(o,a.child,null,v),o.child=El(o,null,u,v)):Bn(a,o,u,v),o.memoizedState=y.state,a=o.child):a=Fa(a,o,v),a}function FC(a,o,u,d){return gl(),o.flags|=256,Bn(a,o,u,d),o.child}var L0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function j0(a){return{baseLanes:a,cachePool:OA()}}function V0(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=Mr),a}function qC(a,o,u){var d=o.pendingProps,v=!1,y=(o.flags&128)!==0,S;if((S=y)||(S=a!==null&&a.memoizedState===null?!1:(Kt.current&2)!==0),S&&(v=!0,o.flags&=-129),S=(o.flags&32)!==0,o.flags&=-33,a===null){if(nt){if(v?Qs(o):Xs(),(a=Nt)?(a=XI(a,Jr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:qs!==null?{id:la,overflow:ua}:null,retryLane:536870912,hydrationErrors:null},u=EA(a),u.return=o,o.child=u,Un=o,Nt=null)):a=null,a===null)throw $s(o);return bb(a)?o.lanes=32:o.lanes=536870912,null}var N=d.children;return d=d.fallback,v?(Xs(),v=o.mode,N=xp({mode:"hidden",children:N},v),d=pl(d,v,u,null),N.return=o,d.return=o,N.sibling=d,o.child=N,d=o.child,d.memoizedState=j0(u),d.childLanes=V0(a,S,u),o.memoizedState=L0,Jf(null,d)):(Qs(o),U0(o,N))}var q=a.memoizedState;if(q!==null&&(N=q.dehydrated,N!==null)){if(y)o.flags&256?(Qs(o),o.flags&=-257,o=z0(a,o,u)):o.memoizedState!==null?(Xs(),o.child=a.child,o.flags|=128,o=null):(Xs(),N=d.fallback,v=o.mode,d=xp({mode:"visible",children:d.children},v),N=pl(N,v,u,null),N.flags|=2,d.return=o,N.return=o,d.sibling=N,o.child=d,El(o,a.child,null,u),d=o.child,d.memoizedState=j0(u),d.childLanes=V0(a,S,u),o.memoizedState=L0,o=Jf(null,d));else if(Qs(o),bb(N)){if(S=N.nextSibling&&N.nextSibling.dataset,S)var X=S.dgst;S=X,d=Error(r(419)),d.stack="",d.digest=S,Bf({value:d,source:null,stack:null}),o=z0(a,o,u)}else if(on||Mu(a,o,u,!1),S=(u&a.childLanes)!==0,on||S){if(S=Tt,S!==null&&(d=bf(S,u),d!==0&&d!==q.retryLane))throw q.retryLane=d,ml(a,d),_r(S,a,d),M0;_b(N)||Pp(),o=z0(a,o,u)}else _b(N)?(o.flags|=192,o.child=a.child,o=null):(a=q.treeContext,Nt=ti(N.nextSibling),Un=o,nt=!0,Hs=null,Jr=!1,a!==null&&SA(o,a),o=U0(o,d.children),o.flags|=4096);return o}return v?(Xs(),N=d.fallback,v=o.mode,q=a.child,X=q.sibling,d=La(q,{mode:"hidden",children:d.children}),d.subtreeFlags=q.subtreeFlags&65011712,X!==null?N=La(X,N):(N=pl(N,v,u,null),N.flags|=2),N.return=o,d.return=o,d.sibling=N,o.child=d,Jf(null,d),d=o.child,N=a.child.memoizedState,N===null?N=j0(u):(v=N.cachePool,v!==null?(q=an._currentValue,v=v.parent!==q?{parent:q,pool:q}:v):v=OA(),N={baseLanes:N.baseLanes|u,cachePool:v}),d.memoizedState=N,d.childLanes=V0(a,S,u),o.memoizedState=L0,Jf(a.child,d)):(Qs(o),u=a.child,a=u.sibling,u=La(u,{mode:"visible",children:d.children}),u.return=o,u.sibling=null,a!==null&&(S=o.deletions,S===null?(o.deletions=[a],o.flags|=16):S.push(a)),o.child=u,o.memoizedState=null,u)}function U0(a,o){return o=xp({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function xp(a,o){return a=Nr(22,a,null,o),a.lanes=0,a}function z0(a,o,u){return El(o,a.child,null,u),a=U0(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function HC(a,o,u){a.lanes|=o;var d=a.alternate;d!==null&&(d.lanes|=o),t0(a.return,o,u)}function B0(a,o,u,d,v,y){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:v,treeForkCount:y}:(S.isBackwards=o,S.rendering=null,S.renderingStartTime=0,S.last=d,S.tail=u,S.tailMode=v,S.treeForkCount=y)}function $C(a,o,u){var d=o.pendingProps,v=d.revealOrder,y=d.tail;d=d.children;var S=Kt.current,N=(S&2)!==0;if(N?(S=S&1|2,o.flags|=128):S&=1,ee(Kt,S),Bn(a,o,d,u),d=nt?zf:0,!N&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&HC(a,u,o);else if(a.tag===19)HC(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)a=u.alternate,a!==null&&fp(a)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),B0(o,!1,v,u,y,d);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&fp(a)===null){o.child=v;break}a=v.sibling,v.sibling=u,u=v,v=a}B0(o,!0,u,null,y,d);break;case"together":B0(o,!1,null,null,void 0,d);break;default:o.memoizedState=null}return o.child}function Fa(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),eo|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(Mu(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=La(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=La(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function F0(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&rp(a)))}function ez(a,o,u){switch(o.tag){case 3:rt(o,o.stateNode.containerInfo),Gs(o,an,a.memoizedState.cache),gl();break;case 27:case 5:Me(o);break;case 4:rt(o,o.stateNode.containerInfo);break;case 10:Gs(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,d0(o),null;break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(Qs(o),o.flags|=128,null):(u&o.child.childLanes)!==0?qC(a,o,u):(Qs(o),a=Fa(a,o,u),a!==null?a.sibling:null);Qs(o);break;case 19:var v=(a.flags&128)!==0;if(d=(u&o.childLanes)!==0,d||(Mu(a,o,u,!1),d=(u&o.childLanes)!==0),v){if(d)return $C(a,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ee(Kt,Kt.current),d)break;return null;case 22:return o.lanes=0,jC(a,o,u,o.pendingProps);case 24:Gs(o,an,a.memoizedState.cache)}return Fa(a,o,u)}function GC(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)on=!0;else{if(!F0(a,u)&&(o.flags&128)===0)return on=!1,ez(a,o,u);on=(a.flags&131072)!==0}else on=!1,nt&&(o.flags&1048576)!==0&&TA(o,zf,o.index);switch(o.lanes=0,o.tag){case 16:e:{var d=o.pendingProps;if(a=bl(o.elementType),o.type=a,typeof a=="function")K_(a)?(d=Tl(a,d),o.tag=1,o=BC(null,o,a,d,u)):(o.tag=0,o=D0(null,o,a,d,u));else{if(a!=null){var v=a.$$typeof;if(v===H){o.tag=11,o=MC(null,o,a,d,u);break e}else if(v===P){o.tag=14,o=DC(null,o,a,d,u);break e}}throw o=xe(a)||a,Error(r(306,o,""))}}return o;case 0:return D0(a,o,o.type,o.pendingProps,u);case 1:return d=o.type,v=Tl(d,o.pendingProps),BC(a,o,d,v,u);case 3:e:{if(rt(o,o.stateNode.containerInfo),a===null)throw Error(r(387));d=o.pendingProps;var y=o.memoizedState;v=y.element,l0(a,o),Wf(o,d,null,u);var S=o.memoizedState;if(d=S.cache,Gs(o,an,d),d!==y.cache&&n0(o,[an],u,!0),Kf(),d=S.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:S.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=FC(a,o,d,u);break e}else if(d!==v){v=Qr(Error(r(424)),o),Bf(v),o=FC(a,o,d,u);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Nt=ti(a.firstChild),Un=o,nt=!0,Hs=null,Jr=!0,u=jA(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(gl(),d===v){o=Fa(a,o,u);break e}Bn(a,o,d,u)}o=o.child}return o;case 26:return Ep(a,o),a===null?(u=rR(o.type,null,o.pendingProps,null))?o.memoizedState=u:nt||(u=o.type,a=o.pendingProps,d=Up(Te.current).createElement(u),d[tn]=o,d[An]=a,Fn(d,u,a),nn(d),o.stateNode=d):o.memoizedState=rR(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Me(o),a===null&&nt&&(d=o.stateNode=eR(o.type,o.pendingProps,Te.current),Un=o,Jr=!0,v=Nt,ao(o.type)?(wb=v,Nt=ti(d.firstChild)):Nt=v),Bn(a,o,o.pendingProps.children,u),Ep(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&nt&&((v=d=Nt)&&(d=Nz(d,o.type,o.pendingProps,Jr),d!==null?(o.stateNode=d,Un=o,Nt=ti(d.firstChild),Jr=!1,v=!0):v=!1),v||$s(o)),Me(o),v=o.type,y=o.pendingProps,S=a!==null?a.memoizedProps:null,d=y.children,gb(v,y)?d=null:S!==null&&gb(v,S)&&(o.flags|=32),o.memoizedState!==null&&(v=p0(a,o,$U,null,null,u),mh._currentValue=v),Ep(a,o),Bn(a,o,d,u),o.child;case 6:return a===null&&nt&&((a=u=Nt)&&(u=Oz(u,o.pendingProps,Jr),u!==null?(o.stateNode=u,Un=o,Nt=null,a=!0):a=!1),a||$s(o)),null;case 13:return qC(a,o,u);case 4:return rt(o,o.stateNode.containerInfo),d=o.pendingProps,a===null?o.child=El(o,null,d,u):Bn(a,o,d,u),o.child;case 11:return MC(a,o,o.type,o.pendingProps,u);case 7:return Bn(a,o,o.pendingProps,u),o.child;case 8:return Bn(a,o,o.pendingProps.children,u),o.child;case 12:return Bn(a,o,o.pendingProps.children,u),o.child;case 10:return d=o.pendingProps,Gs(o,o.type,d.value),Bn(a,o,d.children,u),o.child;case 9:return v=o.type._context,d=o.pendingProps.children,yl(o),v=zn(v),d=d(v),o.flags|=1,Bn(a,o,d,u),o.child;case 14:return DC(a,o,o.type,o.pendingProps,u);case 15:return LC(a,o,o.type,o.pendingProps,u);case 19:return $C(a,o,u);case 31:return JU(a,o,u);case 22:return jC(a,o,u,o.pendingProps);case 24:return yl(o),d=zn(an),a===null?(v=a0(),v===null&&(v=Tt,y=r0(),v.pooledCache=y,y.refCount++,y!==null&&(v.pooledCacheLanes|=u),v=y),o.memoizedState={parent:d,cache:v},o0(o),Gs(o,an,v)):((a.lanes&u)!==0&&(l0(a,o),Wf(o,null,null,u),Kf()),v=a.memoizedState,y=o.memoizedState,v.parent!==d?(v={parent:d,cache:d},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),Gs(o,an,d)):(d=y.cache,Gs(o,an,d),d!==v.cache&&n0(o,[an],u,!0))),Bn(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function qa(a){a.flags|=4}function q0(a,o,u,d,v){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(_I())a.flags|=8192;else throw wl=op,s0}else a.flags&=-16777217}function KC(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!lR(o))if(_I())a.flags|=8192;else throw wl=op,s0}function Tp(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Nm():536870912,a.lanes|=o,Gu|=o)}function eh(a,o){if(!nt)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function Ot(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,d=0;if(o)for(var v=a.child;v!==null;)u|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)u|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=d,a.childLanes=u,o}function tz(a,o,u){var d=o.pendingProps;switch(X_(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(o),null;case 1:return Ot(o),null;case 3:return u=o.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Ua(an),ae(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(ku(o)?qa(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,J_())),Ot(o),null;case 26:var v=o.type,y=o.memoizedState;return a===null?(qa(o),y!==null?(Ot(o),KC(o,y)):(Ot(o),q0(o,v,null,d,u))):y?y!==a.memoizedState?(qa(o),Ot(o),KC(o,y)):(Ot(o),o.flags&=-16777217):(a=a.memoizedProps,a!==d&&qa(o),Ot(o),q0(o,v,a,d,u)),null;case 27:if(Be(o),u=Te.current,v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==d&&qa(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return Ot(o),null}a=he.current,ku(o)?AA(o):(a=eR(v,d,u),o.stateNode=a,qa(o))}return Ot(o),null;case 5:if(Be(o),v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==d&&qa(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return Ot(o),null}if(y=he.current,ku(o))AA(o);else{var S=Up(Te.current);switch(y){case 1:y=S.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:y=S.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":y=S.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":y=S.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":y=S.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof d.is=="string"?S.createElement("select",{is:d.is}):S.createElement("select"),d.multiple?y.multiple=!0:d.size&&(y.size=d.size);break;default:y=typeof d.is=="string"?S.createElement(v,{is:d.is}):S.createElement(v)}}y[tn]=o,y[An]=d;e:for(S=o.child;S!==null;){if(S.tag===5||S.tag===6)y.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===o)break e;for(;S.sibling===null;){if(S.return===null||S.return===o)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}o.stateNode=y;e:switch(Fn(y,v,d),v){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&qa(o)}}return Ot(o),q0(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==d&&qa(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(r(166));if(a=Te.current,ku(o)){if(a=o.stateNode,u=o.memoizedProps,d=null,v=Un,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}a[tn]=o,a=!!(a.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||qI(a.nodeValue,u)),a||$s(o,!0)}else a=Up(a).createTextNode(d),a[tn]=o,o.stateNode=a}return Ot(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(d=ku(o),u!==null){if(a===null){if(!d)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[tn]=o}else gl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ot(o),a=!1}else u=J_(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(Pr(o),o):(Pr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Ot(o),null;case 13:if(d=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=ku(o),d!==null&&d.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[tn]=o}else gl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ot(o),v=!1}else v=J_(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Pr(o),o):(Pr(o),null)}return Pr(o),(o.flags&128)!==0?(o.lanes=u,o):(u=d!==null,a=a!==null&&a.memoizedState!==null,u&&(d=o.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==v&&(d.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),Tp(o,o.updateQueue),Ot(o),null);case 4:return ae(),a===null&&fb(o.stateNode.containerInfo),Ot(o),null;case 10:return Ua(o.type),Ot(o),null;case 19:if(K(Kt),d=o.memoizedState,d===null)return Ot(o),null;if(v=(o.flags&128)!==0,y=d.rendering,y===null)if(v)eh(d,!1);else{if(Bt!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(y=fp(a),y!==null){for(o.flags|=128,eh(d,!1),a=y.updateQueue,o.updateQueue=a,Tp(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)wA(u,a),u=u.sibling;return ee(Kt,Kt.current&1|2),nt&&ja(o,d.treeForkCount),o.child}a=a.sibling}d.tail!==null&&ir()>Rp&&(o.flags|=128,v=!0,eh(d,!1),o.lanes=4194304)}else{if(!v)if(a=fp(y),a!==null){if(o.flags|=128,v=!0,a=a.updateQueue,o.updateQueue=a,Tp(o,a),eh(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!nt)return Ot(o),null}else 2*ir()-d.renderingStartTime>Rp&&u!==536870912&&(o.flags|=128,v=!0,eh(d,!1),o.lanes=4194304);d.isBackwards?(y.sibling=o.child,o.child=y):(a=d.last,a!==null?a.sibling=y:o.child=y,d.last=y)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=ir(),a.sibling=null,u=Kt.current,ee(Kt,v?u&1|2:u&1),nt&&ja(o,d.treeForkCount),a):(Ot(o),null);case 22:case 23:return Pr(o),h0(),d=o.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(u&536870912)!==0&&(o.flags&128)===0&&(Ot(o),o.subtreeFlags&6&&(o.flags|=8192)):Ot(o),u=o.updateQueue,u!==null&&Tp(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==u&&(o.flags|=2048),a!==null&&K(_l),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Ua(an),Ot(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function nz(a,o){switch(X_(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Ua(an),ae(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Be(o),null;case 31:if(o.memoizedState!==null){if(Pr(o),o.alternate===null)throw Error(r(340));gl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Pr(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));gl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return K(Kt),null;case 4:return ae(),null;case 10:return Ua(o.type),null;case 22:case 23:return Pr(o),h0(),a!==null&&K(_l),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Ua(an),null;case 25:return null;default:return null}}function WC(a,o){switch(X_(o),o.tag){case 3:Ua(an),ae();break;case 26:case 27:case 5:Be(o);break;case 4:ae();break;case 31:o.memoizedState!==null&&Pr(o);break;case 13:Pr(o);break;case 19:K(Kt);break;case 10:Ua(o.type);break;case 22:case 23:Pr(o),h0(),a!==null&&K(_l);break;case 24:Ua(an)}}function th(a,o){try{var u=o.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var v=d.next;u=v;do{if((u.tag&a)===a){d=void 0;var y=u.create,S=u.inst;d=y(),S.destroy=d}u=u.next}while(u!==v)}}catch(N){pt(o,o.return,N)}}function Zs(a,o,u){try{var d=o.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var y=v.next;d=y;do{if((d.tag&a)===a){var S=d.inst,N=S.destroy;if(N!==void 0){S.destroy=void 0,v=o;var q=u,X=N;try{X()}catch(se){pt(v,q,se)}}}d=d.next}while(d!==y)}}catch(se){pt(o,o.return,se)}}function YC(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{UA(o,u)}catch(d){pt(a,a.return,d)}}}function QC(a,o,u){u.props=Tl(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(d){pt(a,o,d)}}function nh(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof u=="function"?a.refCleanup=u(d):u.current=d}}catch(v){pt(a,o,v)}}function ca(a,o){var u=a.ref,d=a.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(v){pt(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){pt(a,o,v)}else u.current=null}function XC(a){var o=a.type,u=a.memoizedProps,d=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(v){pt(a,a.return,v)}}function H0(a,o,u){try{var d=a.stateNode;Tz(d,a.type,u,o),d[An]=o}catch(v){pt(a,a.return,v)}}function ZC(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ao(a.type)||a.tag===4}function $0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||ZC(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ao(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function G0(a,o,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=bi));else if(d!==4&&(d===27&&ao(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(G0(a,o,u),a=a.sibling;a!==null;)G0(a,o,u),a=a.sibling}function Sp(a,o,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(d!==4&&(d===27&&ao(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Sp(a,o,u),a=a.sibling;a!==null;)Sp(a,o,u),a=a.sibling}function JC(a){var o=a.stateNode,u=a.memoizedProps;try{for(var d=a.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);Fn(o,d,u),o[tn]=a,o[An]=u}catch(y){pt(a,a.return,y)}}var Ha=!1,ln=!1,K0=!1,eI=typeof WeakSet=="function"?WeakSet:Set,In=null;function rz(a,o){if(a=a.containerInfo,mb=Gp,a=hA(a),z_(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var v=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var S=0,N=-1,q=-1,X=0,se=0,le=a,J=null;t:for(;;){for(var ne;le!==u||v!==0&&le.nodeType!==3||(N=S+v),le!==y||d!==0&&le.nodeType!==3||(q=S+d),le.nodeType===3&&(S+=le.nodeValue.length),(ne=le.firstChild)!==null;)J=le,le=ne;for(;;){if(le===a)break t;if(J===u&&++X===v&&(N=S),J===y&&++se===d&&(q=S),(ne=le.nextSibling)!==null)break;le=J,J=le.parentNode}le=ne}u=N===-1||q===-1?null:{start:N,end:q}}else u=null}u=u||{start:0,end:0}}else u=null;for(pb={focusedElem:a,selectionRange:u},Gp=!1,In=o;In!==null;)if(o=In,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,In=a;else for(;In!==null;){switch(o=In,y=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)v=a[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&y!==null){a=void 0,u=o,v=y.memoizedProps,y=y.memoizedState,d=u.stateNode;try{var Ee=Tl(u.type,v);a=d.getSnapshotBeforeUpdate(Ee,y),d.__reactInternalSnapshotBeforeUpdate=a}catch(Ne){pt(u,u.return,Ne)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)yb(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":yb(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,In=a;break}In=o.return}}function tI(a,o,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Ga(a,u),d&4&&th(5,u);break;case 1:if(Ga(a,u),d&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(S){pt(u,u.return,S)}else{var v=Tl(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(S){pt(u,u.return,S)}}d&64&&YC(u),d&512&&nh(u,u.return);break;case 3:if(Ga(a,u),d&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{UA(a,o)}catch(S){pt(u,u.return,S)}}break;case 27:o===null&&d&4&&JC(u);case 26:case 5:Ga(a,u),o===null&&d&4&&XC(u),d&512&&nh(u,u.return);break;case 12:Ga(a,u);break;case 31:Ga(a,u),d&4&&iI(a,u);break;case 13:Ga(a,u),d&4&&aI(a,u),d&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=hz.bind(null,u),Pz(a,u))));break;case 22:if(d=u.memoizedState!==null||Ha,!d){o=o!==null&&o.memoizedState!==null||ln,v=Ha;var y=ln;Ha=d,(ln=o)&&!y?Ka(a,u,(u.subtreeFlags&8772)!==0):Ga(a,u),Ha=v,ln=y}break;case 30:break;default:Ga(a,u)}}function nI(a){var o=a.alternate;o!==null&&(a.alternate=null,nI(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&gu(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Dt=null,pr=!1;function $a(a,o,u){for(u=u.child;u!==null;)rI(a,o,u),u=u.sibling}function rI(a,o,u){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(gi,u)}catch{}switch(u.tag){case 26:ln||ca(u,o),$a(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:ln||ca(u,o);var d=Dt,v=pr;ao(u.type)&&(Dt=u.stateNode,pr=!1),$a(a,o,u),fh(u.stateNode),Dt=d,pr=v;break;case 5:ln||ca(u,o);case 6:if(d=Dt,v=pr,Dt=null,$a(a,o,u),Dt=d,pr=v,Dt!==null)if(pr)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(u.stateNode)}catch(y){pt(u,o,y)}else try{Dt.removeChild(u.stateNode)}catch(y){pt(u,o,y)}break;case 18:Dt!==null&&(pr?(a=Dt,YI(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),ec(a)):YI(Dt,u.stateNode));break;case 4:d=Dt,v=pr,Dt=u.stateNode.containerInfo,pr=!0,$a(a,o,u),Dt=d,pr=v;break;case 0:case 11:case 14:case 15:Zs(2,u,o),ln||Zs(4,u,o),$a(a,o,u);break;case 1:ln||(ca(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"&&QC(u,o,d)),$a(a,o,u);break;case 21:$a(a,o,u);break;case 22:ln=(d=ln)||u.memoizedState!==null,$a(a,o,u),ln=d;break;default:$a(a,o,u)}}function iI(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{ec(a)}catch(u){pt(o,o.return,u)}}}function aI(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{ec(a)}catch(u){pt(o,o.return,u)}}function iz(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new eI),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new eI),o;default:throw Error(r(435,a.tag))}}function Ap(a,o){var u=iz(a);o.forEach(function(d){if(!u.has(d)){u.add(d);var v=dz.bind(null,a,d);d.then(v,v)}})}function gr(a,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var v=u[d],y=a,S=o,N=S;e:for(;N!==null;){switch(N.tag){case 27:if(ao(N.type)){Dt=N.stateNode,pr=!1;break e}break;case 5:Dt=N.stateNode,pr=!1;break e;case 3:case 4:Dt=N.stateNode.containerInfo,pr=!0;break e}N=N.return}if(Dt===null)throw Error(r(160));rI(y,S,v),Dt=null,pr=!1,y=v.alternate,y!==null&&(y.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)sI(o,a),o=o.sibling}var Ai=null;function sI(a,o){var u=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:gr(o,a),vr(a),d&4&&(Zs(3,a,a.return),th(3,a),Zs(5,a,a.return));break;case 1:gr(o,a),vr(a),d&512&&(ln||u===null||ca(u,u.return)),d&64&&Ha&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var v=Ai;if(gr(o,a),vr(a),d&512&&(ln||u===null||ca(u,u.return)),d&4){var y=u!==null?u.memoizedState:null;if(d=a.memoizedState,u===null)if(d===null)if(a.stateNode===null){e:{d=a.type,u=a.memoizedProps,v=v.ownerDocument||v;t:switch(d){case"title":y=v.getElementsByTagName("title")[0],(!y||y[Qi]||y[tn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=v.createElement(d),v.head.insertBefore(y,v.querySelector("head > title"))),Fn(y,d,u),y[tn]=a,nn(y),d=y;break e;case"link":var S=sR("link","href",v).get(d+(u.href||""));if(S){for(var N=0;N<S.length;N++)if(y=S[N],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){S.splice(N,1);break t}}y=v.createElement(d),Fn(y,d,u),v.head.appendChild(y);break;case"meta":if(S=sR("meta","content",v).get(d+(u.content||""))){for(N=0;N<S.length;N++)if(y=S[N],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){S.splice(N,1);break t}}y=v.createElement(d),Fn(y,d,u),v.head.appendChild(y);break;default:throw Error(r(468,d))}y[tn]=a,nn(y),d=y}a.stateNode=d}else oR(v,a.type,a.stateNode);else a.stateNode=aR(v,d,a.memoizedProps);else y!==d?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,d===null?oR(v,a.type,a.stateNode):aR(v,d,a.memoizedProps)):d===null&&a.stateNode!==null&&H0(a,a.memoizedProps,u.memoizedProps)}break;case 27:gr(o,a),vr(a),d&512&&(ln||u===null||ca(u,u.return)),u!==null&&d&4&&H0(a,a.memoizedProps,u.memoizedProps);break;case 5:if(gr(o,a),vr(a),d&512&&(ln||u===null||ca(u,u.return)),a.flags&32){v=a.stateNode;try{mr(v,"")}catch(Ee){pt(a,a.return,Ee)}}d&4&&a.stateNode!=null&&(v=a.memoizedProps,H0(a,v,u!==null?u.memoizedProps:v)),d&1024&&(K0=!0);break;case 6:if(gr(o,a),vr(a),d&4){if(a.stateNode===null)throw Error(r(162));d=a.memoizedProps,u=a.stateNode;try{u.nodeValue=d}catch(Ee){pt(a,a.return,Ee)}}break;case 3:if(Fp=null,v=Ai,Ai=zp(o.containerInfo),gr(o,a),Ai=v,vr(a),d&4&&u!==null&&u.memoizedState.isDehydrated)try{ec(o.containerInfo)}catch(Ee){pt(a,a.return,Ee)}K0&&(K0=!1,oI(a));break;case 4:d=Ai,Ai=zp(a.stateNode.containerInfo),gr(o,a),vr(a),Ai=d;break;case 12:gr(o,a),vr(a);break;case 31:gr(o,a),vr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Ap(a,d)));break;case 13:gr(o,a),vr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Ip=ir()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Ap(a,d)));break;case 22:v=a.memoizedState!==null;var q=u!==null&&u.memoizedState!==null,X=Ha,se=ln;if(Ha=X||v,ln=se||q,gr(o,a),ln=se,Ha=X,vr(a),d&8192)e:for(o=a.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||q||Ha||ln||Sl(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){q=u=o;try{if(y=q.stateNode,v)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{N=q.stateNode;var le=q.memoizedProps.style,J=le!=null&&le.hasOwnProperty("display")?le.display:null;N.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Ee){pt(q,q.return,Ee)}}}else if(o.tag===6){if(u===null){q=o;try{q.stateNode.nodeValue=v?"":q.memoizedProps}catch(Ee){pt(q,q.return,Ee)}}}else if(o.tag===18){if(u===null){q=o;try{var ne=q.stateNode;v?QI(ne,!0):QI(q.stateNode,!1)}catch(Ee){pt(q,q.return,Ee)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=a.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,Ap(a,u))));break;case 19:gr(o,a),vr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Ap(a,d)));break;case 30:break;case 21:break;default:gr(o,a),vr(a)}}function vr(a){var o=a.flags;if(o&2){try{for(var u,d=a.return;d!==null;){if(ZC(d)){u=d;break}d=d.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,y=$0(a);Sp(a,y,v);break;case 5:var S=u.stateNode;u.flags&32&&(mr(S,""),u.flags&=-33);var N=$0(a);Sp(a,N,S);break;case 3:case 4:var q=u.stateNode.containerInfo,X=$0(a);G0(a,X,q);break;default:throw Error(r(161))}}catch(se){pt(a,a.return,se)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function oI(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;oI(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Ga(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)tI(a,o.alternate,o),o=o.sibling}function Sl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Zs(4,o,o.return),Sl(o);break;case 1:ca(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&QC(o,o.return,u),Sl(o);break;case 27:fh(o.stateNode);case 26:case 5:ca(o,o.return),Sl(o);break;case 22:o.memoizedState===null&&Sl(o);break;case 30:Sl(o);break;default:Sl(o)}a=a.sibling}}function Ka(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,v=a,y=o,S=y.flags;switch(y.tag){case 0:case 11:case 15:Ka(v,y,u),th(4,y);break;case 1:if(Ka(v,y,u),d=y,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(X){pt(d,d.return,X)}if(d=y,v=d.updateQueue,v!==null){var N=d.stateNode;try{var q=v.shared.hiddenCallbacks;if(q!==null)for(v.shared.hiddenCallbacks=null,v=0;v<q.length;v++)VA(q[v],N)}catch(X){pt(d,d.return,X)}}u&&S&64&&YC(y),nh(y,y.return);break;case 27:JC(y);case 26:case 5:Ka(v,y,u),u&&d===null&&S&4&&XC(y),nh(y,y.return);break;case 12:Ka(v,y,u);break;case 31:Ka(v,y,u),u&&S&4&&iI(v,y);break;case 13:Ka(v,y,u),u&&S&4&&aI(v,y);break;case 22:y.memoizedState===null&&Ka(v,y,u),nh(y,y.return);break;case 30:break;default:Ka(v,y,u)}o=o.sibling}}function W0(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Ff(u))}function Y0(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Ff(a))}function Ci(a,o,u,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)lI(a,o,u,d),o=o.sibling}function lI(a,o,u,d){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Ci(a,o,u,d),v&2048&&th(9,o);break;case 1:Ci(a,o,u,d);break;case 3:Ci(a,o,u,d),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Ff(a)));break;case 12:if(v&2048){Ci(a,o,u,d),a=o.stateNode;try{var y=o.memoizedProps,S=y.id,N=y.onPostCommit;typeof N=="function"&&N(S,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(q){pt(o,o.return,q)}}else Ci(a,o,u,d);break;case 31:Ci(a,o,u,d);break;case 13:Ci(a,o,u,d);break;case 23:break;case 22:y=o.stateNode,S=o.alternate,o.memoizedState!==null?y._visibility&2?Ci(a,o,u,d):rh(a,o):y._visibility&2?Ci(a,o,u,d):(y._visibility|=2,qu(a,o,u,d,(o.subtreeFlags&10256)!==0||!1)),v&2048&&W0(S,o);break;case 24:Ci(a,o,u,d),v&2048&&Y0(o.alternate,o);break;default:Ci(a,o,u,d)}}function qu(a,o,u,d,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var y=a,S=o,N=u,q=d,X=S.flags;switch(S.tag){case 0:case 11:case 15:qu(y,S,N,q,v),th(8,S);break;case 23:break;case 22:var se=S.stateNode;S.memoizedState!==null?se._visibility&2?qu(y,S,N,q,v):rh(y,S):(se._visibility|=2,qu(y,S,N,q,v)),v&&X&2048&&W0(S.alternate,S);break;case 24:qu(y,S,N,q,v),v&&X&2048&&Y0(S.alternate,S);break;default:qu(y,S,N,q,v)}o=o.sibling}}function rh(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,d=o,v=d.flags;switch(d.tag){case 22:rh(u,d),v&2048&&W0(d.alternate,d);break;case 24:rh(u,d),v&2048&&Y0(d.alternate,d);break;default:rh(u,d)}o=o.sibling}}var ih=8192;function Hu(a,o,u){if(a.subtreeFlags&ih)for(a=a.child;a!==null;)uI(a,o,u),a=a.sibling}function uI(a,o,u){switch(a.tag){case 26:Hu(a,o,u),a.flags&ih&&a.memoizedState!==null&&Hz(u,Ai,a.memoizedState,a.memoizedProps);break;case 5:Hu(a,o,u);break;case 3:case 4:var d=Ai;Ai=zp(a.stateNode.containerInfo),Hu(a,o,u),Ai=d;break;case 22:a.memoizedState===null&&(d=a.alternate,d!==null&&d.memoizedState!==null?(d=ih,ih=16777216,Hu(a,o,u),ih=d):Hu(a,o,u));break;default:Hu(a,o,u)}}function cI(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function ah(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];In=d,hI(d,a)}cI(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)fI(a),a=a.sibling}function fI(a){switch(a.tag){case 0:case 11:case 15:ah(a),a.flags&2048&&Zs(9,a,a.return);break;case 3:ah(a);break;case 12:ah(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Cp(a)):ah(a);break;default:ah(a)}}function Cp(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];In=d,hI(d,a)}cI(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Zs(8,o,o.return),Cp(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Cp(o));break;default:Cp(o)}a=a.sibling}}function hI(a,o){for(;In!==null;){var u=In;switch(u.tag){case 0:case 11:case 15:Zs(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Ff(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,In=d;else e:for(u=a;In!==null;){d=In;var v=d.sibling,y=d.return;if(nI(d),d===u){In=null;break e}if(v!==null){v.return=y,In=v;break e}In=y}}}var az={getCacheForType:function(a){var o=zn(an),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return zn(an).controller.signal}},sz=typeof WeakMap=="function"?WeakMap:Map,ft=0,Tt=null,Ge=null,Xe=0,mt=0,kr=null,Js=!1,$u=!1,Q0=!1,Wa=0,Bt=0,eo=0,Al=0,X0=0,Mr=0,Gu=0,sh=null,yr=null,Z0=!1,Ip=0,dI=0,Rp=1/0,Np=null,to=null,gn=0,no=null,Ku=null,Ya=0,J0=0,eb=null,mI=null,oh=0,tb=null;function Dr(){return(ft&2)!==0&&Xe!==0?Xe&-Xe:Z.T!==null?ob():Om()}function pI(){if(Mr===0)if((Xe&536870912)===0||nt){var a=Jo;Jo<<=1,(Jo&3932160)===0&&(Jo=262144),Mr=a}else Mr=536870912;return a=Or.current,a!==null&&(a.flags|=32),Mr}function _r(a,o,u){(a===Tt&&(mt===2||mt===9)||a.cancelPendingCommit!==null)&&(Wu(a,0),ro(a,Xe,Mr,!1)),el(a,u),((ft&2)===0||a!==Tt)&&(a===Tt&&((ft&2)===0&&(Al|=u),Bt===4&&ro(a,Xe,Mr,!1)),fa(a))}function gI(a,o,u){if((ft&6)!==0)throw Error(r(327));var d=!u&&(o&127)===0&&(o&a.expiredLanes)===0||vi(a,o),v=d?uz(a,o):rb(a,o,!0),y=d;do{if(v===0){$u&&!d&&ro(a,o,0,!1);break}else{if(u=a.current.alternate,y&&!oz(u)){v=rb(a,o,!1),y=!1;continue}if(v===2){if(y=o,a.errorRecoveryDisabledLanes&y)var S=0;else S=a.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){o=S;e:{var N=a;v=sh;var q=N.current.memoizedState.isDehydrated;if(q&&(Wu(N,S).flags|=256),S=rb(N,S,!1),S!==2){if(Q0&&!q){N.errorRecoveryDisabledLanes|=y,Al|=y,v=4;break e}y=yr,yr=v,y!==null&&(yr===null?yr=y:yr.push.apply(yr,y))}v=S}if(y=!1,v!==2)continue}}if(v===1){Wu(a,0),ro(a,o,0,!0);break}e:{switch(d=a,y=v,y){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:ro(d,o,Mr,!Js);break e;case 2:yr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=Ip+300-ir(),10<v)){if(ro(d,o,Mr,!Js),Ki(d,0,!0)!==0)break e;Ya=o,d.timeoutHandle=KI(vI.bind(null,d,u,yr,Np,Z0,o,Mr,Al,Gu,Js,y,"Throttled",-0,0),v);break e}vI(d,u,yr,Np,Z0,o,Mr,Al,Gu,Js,y,null,-0,0)}}break}while(!0);fa(a)}function vI(a,o,u,d,v,y,S,N,q,X,se,le,J,ne){if(a.timeoutHandle=-1,le=o.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bi},uI(o,y,le);var Ee=(y&62914560)===y?Ip-ir():(y&4194048)===y?dI-ir():0;if(Ee=$z(le,Ee),Ee!==null){Ya=y,a.cancelPendingCommit=Ee(SI.bind(null,a,o,y,u,d,v,S,N,q,se,le,null,J,ne)),ro(a,y,S,!X);return}}SI(a,o,y,u,d,v,S,N,q)}function oz(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var v=u[d],y=v.getSnapshot;v=v.value;try{if(!Rr(y(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ro(a,o,u,d){o&=~X0,o&=~Al,a.suspendedLanes|=o,a.pingedLanes&=~o,d&&(a.warmLanes|=o),d=a.expirationTimes;for(var v=o;0<v;){var y=31-$t(v),S=1<<y;d[y]=-1,v&=~S}u!==0&&tl(a,u,o)}function Op(){return(ft&6)===0?(lh(0),!1):!0}function nb(){if(Ge!==null){if(mt===0)var a=Ge.return;else a=Ge,Va=vl=null,y0(a),Vu=null,Hf=0,a=Ge;for(;a!==null;)WC(a.alternate,a),a=a.return;Ge=null}}function Wu(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,Cz(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Ya=0,nb(),Tt=a,Ge=u=La(a.current,null),Xe=o,mt=0,kr=null,Js=!1,$u=vi(a,o),Q0=!1,Gu=Mr=X0=Al=eo=Bt=0,yr=sh=null,Z0=!1,(o&8)!==0&&(o|=o&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=o;0<d;){var v=31-$t(d),y=1<<v;o|=a[v],d&=~y}return Wa=o,Zm(),u}function yI(a,o){Ue=null,Z.H=Zf,o===ju||o===sp?(o=MA(),mt=3):o===s0?(o=MA(),mt=4):mt=o===M0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,kr=o,Ge===null&&(Bt=1,bp(a,Qr(o,a.current)))}function _I(){var a=Or.current;return a===null?!0:(Xe&4194048)===Xe?ei===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?a===ei:!1}function bI(){var a=Z.H;return Z.H=Zf,a===null?Zf:a}function wI(){var a=Z.A;return Z.A=az,a}function Pp(){Bt=4,Js||(Xe&4194048)!==Xe&&Or.current!==null||($u=!0),(eo&134217727)===0&&(Al&134217727)===0||Tt===null||ro(Tt,Xe,Mr,!1)}function rb(a,o,u){var d=ft;ft|=2;var v=bI(),y=wI();(Tt!==a||Xe!==o)&&(Np=null,Wu(a,o)),o=!1;var S=Bt;e:do try{if(mt!==0&&Ge!==null){var N=Ge,q=kr;switch(mt){case 8:nb(),S=6;break e;case 3:case 2:case 9:case 6:Or.current===null&&(o=!0);var X=mt;if(mt=0,kr=null,Yu(a,N,q,X),u&&$u){S=0;break e}break;default:X=mt,mt=0,kr=null,Yu(a,N,q,X)}}lz(),S=Bt;break}catch(se){yI(a,se)}while(!0);return o&&a.shellSuspendCounter++,Va=vl=null,ft=d,Z.H=v,Z.A=y,Ge===null&&(Tt=null,Xe=0,Zm()),S}function lz(){for(;Ge!==null;)EI(Ge)}function uz(a,o){var u=ft;ft|=2;var d=bI(),v=wI();Tt!==a||Xe!==o?(Np=null,Rp=ir()+500,Wu(a,o)):$u=vi(a,o);e:do try{if(mt!==0&&Ge!==null){o=Ge;var y=kr;t:switch(mt){case 1:mt=0,kr=null,Yu(a,o,y,1);break;case 2:case 9:if(PA(y)){mt=0,kr=null,xI(o);break}o=function(){mt!==2&&mt!==9||Tt!==a||(mt=7),fa(a)},y.then(o,o);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:PA(y)?(mt=0,kr=null,xI(o)):(mt=0,kr=null,Yu(a,o,y,7));break;case 5:var S=null;switch(Ge.tag){case 26:S=Ge.memoizedState;case 5:case 27:var N=Ge;if(S?lR(S):N.stateNode.complete){mt=0,kr=null;var q=N.sibling;if(q!==null)Ge=q;else{var X=N.return;X!==null?(Ge=X,kp(X)):Ge=null}break t}}mt=0,kr=null,Yu(a,o,y,5);break;case 6:mt=0,kr=null,Yu(a,o,y,6);break;case 8:nb(),Bt=6;break e;default:throw Error(r(462))}}cz();break}catch(se){yI(a,se)}while(!0);return Va=vl=null,Z.H=d,Z.A=v,ft=u,Ge!==null?0:(Tt=null,Xe=0,Zm(),Bt)}function cz(){for(;Ge!==null&&!k_();)EI(Ge)}function EI(a){var o=GC(a.alternate,a,Wa);a.memoizedProps=a.pendingProps,o===null?kp(a):Ge=o}function xI(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=zC(u,o,o.pendingProps,o.type,void 0,Xe);break;case 11:o=zC(u,o,o.pendingProps,o.type.render,o.ref,Xe);break;case 5:y0(o);default:WC(u,o),o=Ge=wA(o,Wa),o=GC(u,o,Wa)}a.memoizedProps=a.pendingProps,o===null?kp(a):Ge=o}function Yu(a,o,u,d){Va=vl=null,y0(o),Vu=null,Hf=0;var v=o.return;try{if(ZU(a,v,o,u,Xe)){Bt=1,bp(a,Qr(u,a.current)),Ge=null;return}}catch(y){if(v!==null)throw Ge=v,y;Bt=1,bp(a,Qr(u,a.current)),Ge=null;return}o.flags&32768?(nt||d===1?a=!0:$u||(Xe&536870912)!==0?a=!1:(Js=a=!0,(d===2||d===9||d===3||d===6)&&(d=Or.current,d!==null&&d.tag===13&&(d.flags|=16384))),TI(o,a)):kp(o)}function kp(a){var o=a;do{if((o.flags&32768)!==0){TI(o,Js);return}a=o.return;var u=tz(o.alternate,o,Wa);if(u!==null){Ge=u;return}if(o=o.sibling,o!==null){Ge=o;return}Ge=o=a}while(o!==null);Bt===0&&(Bt=5)}function TI(a,o){do{var u=nz(a.alternate,a);if(u!==null){u.flags&=32767,Ge=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){Ge=a;return}Ge=a=u}while(a!==null);Bt=6,Ge=null}function SI(a,o,u,d,v,y,S,N,q){a.cancelPendingCommit=null;do Mp();while(gn!==0);if((ft&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(y=o.lanes|o.childLanes,y|=$_,L_(a,u,y,S,N,q),a===Tt&&(Ge=Tt=null,Xe=0),Ku=o,no=a,Ya=u,J0=y,eb=v,mI=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,mz(ks,function(){return NI(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=Z.T,Z.T=null,v=ue.p,ue.p=2,S=ft,ft|=4;try{rz(a,o,u)}finally{ft=S,ue.p=v,Z.T=d}}gn=1,AI(),CI(),II()}}function AI(){if(gn===1){gn=0;var a=no,o=Ku,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null;var d=ue.p;ue.p=2;var v=ft;ft|=4;try{sI(o,a);var y=pb,S=hA(a.containerInfo),N=y.focusedElem,q=y.selectionRange;if(S!==N&&N&&N.ownerDocument&&fA(N.ownerDocument.documentElement,N)){if(q!==null&&z_(N)){var X=q.start,se=q.end;if(se===void 0&&(se=X),"selectionStart"in N)N.selectionStart=X,N.selectionEnd=Math.min(se,N.value.length);else{var le=N.ownerDocument||document,J=le&&le.defaultView||window;if(J.getSelection){var ne=J.getSelection(),Ee=N.textContent.length,Ne=Math.min(q.start,Ee),Et=q.end===void 0?Ne:Math.min(q.end,Ee);!ne.extend&&Ne>Et&&(S=Et,Et=Ne,Ne=S);var W=cA(N,Ne),G=cA(N,Et);if(W&&G&&(ne.rangeCount!==1||ne.anchorNode!==W.node||ne.anchorOffset!==W.offset||ne.focusNode!==G.node||ne.focusOffset!==G.offset)){var Q=le.createRange();Q.setStart(W.node,W.offset),ne.removeAllRanges(),Ne>Et?(ne.addRange(Q),ne.extend(G.node,G.offset)):(Q.setEnd(G.node,G.offset),ne.addRange(Q))}}}}for(le=[],ne=N;ne=ne.parentNode;)ne.nodeType===1&&le.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<le.length;N++){var oe=le[N];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Gp=!!mb,pb=mb=null}finally{ft=v,ue.p=d,Z.T=u}}a.current=o,gn=2}}function CI(){if(gn===2){gn=0;var a=no,o=Ku,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=Z.T,Z.T=null;var d=ue.p;ue.p=2;var v=ft;ft|=4;try{tI(a,o.alternate,o)}finally{ft=v,ue.p=d,Z.T=u}}gn=3}}function II(){if(gn===4||gn===3){gn=0,Tm();var a=no,o=Ku,u=Ya,d=mI;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?gn=5:(gn=0,Ku=no=null,RI(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(to=null),Pa(u),o=o.stateNode,jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(gi,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=Z.T,v=ue.p,ue.p=2,Z.T=null;try{for(var y=a.onRecoverableError,S=0;S<d.length;S++){var N=d[S];y(N.value,{componentStack:N.stack})}}finally{Z.T=o,ue.p=v}}(Ya&3)!==0&&Mp(),fa(a),v=a.pendingLanes,(u&261930)!==0&&(v&42)!==0?a===tb?oh++:(oh=0,tb=a):oh=0,lh(0)}}function RI(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Ff(o)))}function Mp(){return AI(),CI(),II(),NI()}function NI(){if(gn!==5)return!1;var a=no,o=J0;J0=0;var u=Pa(Ya),d=Z.T,v=ue.p;try{ue.p=32>u?32:u,Z.T=null,u=eb,eb=null;var y=no,S=Ya;if(gn=0,Ku=no=null,Ya=0,(ft&6)!==0)throw Error(r(331));var N=ft;if(ft|=4,fI(y.current),lI(y,y.current,S,u),ft=N,lh(0,!1),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(gi,y)}catch{}return!0}finally{ue.p=v,Z.T=d,RI(a,o)}}function OI(a,o,u){o=Qr(u,o),o=k0(a.stateNode,o,2),a=Ys(a,o,2),a!==null&&(el(a,2),fa(a))}function pt(a,o,u){if(a.tag===3)OI(a,a,u);else for(;o!==null;){if(o.tag===3){OI(o,a,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(to===null||!to.has(d))){a=Qr(u,a),u=PC(2),d=Ys(o,u,2),d!==null&&(kC(u,d,o,a),el(d,2),fa(d));break}}o=o.return}}function ib(a,o,u){var d=a.pingCache;if(d===null){d=a.pingCache=new sz;var v=new Set;d.set(o,v)}else v=d.get(o),v===void 0&&(v=new Set,d.set(o,v));v.has(u)||(Q0=!0,v.add(u),a=fz.bind(null,a,o,u),o.then(a,a))}function fz(a,o,u){var d=a.pingCache;d!==null&&d.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,Tt===a&&(Xe&u)===u&&(Bt===4||Bt===3&&(Xe&62914560)===Xe&&300>ir()-Ip?(ft&2)===0&&Wu(a,0):X0|=u,Gu===Xe&&(Gu=0)),fa(a)}function PI(a,o){o===0&&(o=Nm()),a=ml(a,o),a!==null&&(el(a,o),fa(a))}function hz(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),PI(a,u)}function dz(a,o){var u=0;switch(a.tag){case 31:case 13:var d=a.stateNode,v=a.memoizedState;v!==null&&(u=v.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(o),PI(a,u)}function mz(a,o){return pn(a,o)}var Dp=null,Qu=null,ab=!1,Lp=!1,sb=!1,io=0;function fa(a){a!==Qu&&a.next===null&&(Qu===null?Dp=Qu=a:Qu=Qu.next=a),Lp=!0,ab||(ab=!0,gz())}function lh(a,o){if(!sb&&Lp){sb=!0;do for(var u=!1,d=Dp;d!==null;){if(a!==0){var v=d.pendingLanes;if(v===0)var y=0;else{var S=d.suspendedLanes,N=d.pingedLanes;y=(1<<31-$t(42|a)+1)-1,y&=v&~(S&~N),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,LI(d,y))}else y=Xe,y=Ki(d,d===Tt?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||vi(d,y)||(u=!0,LI(d,y));d=d.next}while(u);sb=!1}}function pz(){kI()}function kI(){Lp=ab=!1;var a=0;io!==0&&Az()&&(a=io);for(var o=ir(),u=null,d=Dp;d!==null;){var v=d.next,y=MI(d,o);y===0?(d.next=null,u===null?Dp=v:u.next=v,v===null&&(Qu=u)):(u=d,(a!==0||(y&3)!==0)&&(Lp=!0)),d=v}gn!==0&&gn!==5||lh(a),io!==0&&(io=0)}function MI(a,o){for(var u=a.suspendedLanes,d=a.pingedLanes,v=a.expirationTimes,y=a.pendingLanes&-62914561;0<y;){var S=31-$t(y),N=1<<S,q=v[S];q===-1?((N&u)===0||(N&d)!==0)&&(v[S]=D_(N,o)):q<=o&&(a.expiredLanes|=N),y&=~N}if(o=Tt,u=Xe,u=Ki(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,u===0||a===o&&(mt===2||mt===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&Ps(d),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||vi(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(d!==null&&Ps(d),Pa(u)){case 2:case 8:u=yf;break;case 32:u=ks;break;case 268435456:u=Sm;break;default:u=ks}return d=DI.bind(null,a),u=pn(u,d),a.callbackPriority=o,a.callbackNode=u,o}return d!==null&&d!==null&&Ps(d),a.callbackPriority=2,a.callbackNode=null,2}function DI(a,o){if(gn!==0&&gn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Mp()&&a.callbackNode!==u)return null;var d=Xe;return d=Ki(a,a===Tt?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(gI(a,d,o),MI(a,ir()),a.callbackNode!=null&&a.callbackNode===u?DI.bind(null,a):null)}function LI(a,o){if(Mp())return null;gI(a,o,!0)}function gz(){Iz(function(){(ft&6)!==0?pn(vf,pz):kI()})}function ob(){if(io===0){var a=Du;a===0&&(a=$i,$i<<=1,($i&261888)===0&&($i=256)),io=a}return io}function jI(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:bu(""+a)}function VI(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function vz(a,o,u,d,v){if(o==="submit"&&u&&u.stateNode===v){var y=jI((v[An]||null).action),S=d.submitter;S&&(o=(o=S[An]||null)?jI(o.formAction):S.getAttribute("formAction"),o!==null&&(y=o,S=null));var N=new ia("action","action",null,d,v);a.push({event:N,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(io!==0){var q=S?VI(v,S):new FormData(v);C0(u,{pending:!0,data:q,method:v.method,action:y},null,q)}}else typeof y=="function"&&(N.preventDefault(),q=S?VI(v,S):new FormData(v),C0(u,{pending:!0,data:q,method:v.method,action:y},y,q))},currentTarget:v}]})}}for(var lb=0;lb<H_.length;lb++){var ub=H_[lb],yz=ub.toLowerCase(),_z=ub[0].toUpperCase()+ub.slice(1);Si(yz,"on"+_z)}Si(pA,"onAnimationEnd"),Si(gA,"onAnimationIteration"),Si(vA,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(DU,"onTransitionRun"),Si(LU,"onTransitionStart"),Si(jU,"onTransitionCancel"),Si(yA,"onTransitionEnd"),ea("onMouseEnter",["mouseout","mouseover"]),ea("onMouseLeave",["mouseout","mouseover"]),ea("onPointerEnter",["pointerout","pointerover"]),ea("onPointerLeave",["pointerout","pointerover"]),Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uh));function UI(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var d=a[u],v=d.event;d=d.listeners;e:{var y=void 0;if(o)for(var S=d.length-1;0<=S;S--){var N=d[S],q=N.instance,X=N.currentTarget;if(N=N.listener,q!==y&&v.isPropagationStopped())break e;y=N,v.currentTarget=X;try{y(v)}catch(se){Xm(se)}v.currentTarget=null,y=q}else for(S=0;S<d.length;S++){if(N=d[S],q=N.instance,X=N.currentTarget,N=N.listener,q!==y&&v.isPropagationStopped())break e;y=N,v.currentTarget=X;try{y(v)}catch(se){Xm(se)}v.currentTarget=null,y=q}}}}function Ke(a,o){var u=o[pu];u===void 0&&(u=o[pu]=new Set);var d=a+"__bubble";u.has(d)||(zI(o,a,2,!1),u.add(d))}function cb(a,o,u){var d=0;o&&(d|=4),zI(u,a,d,o)}var jp="_reactListening"+Math.random().toString(36).slice(2);function fb(a){if(!a[jp]){a[jp]=!0,wf.forEach(function(u){u!=="selectionchange"&&(bz.has(u)||cb(u,!1,a),cb(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[jp]||(o[jp]=!0,cb("selectionchange",!1,o))}}function zI(a,o,u,d){switch(pR(o)){case 2:var v=Wz;break;case 8:v=Yz;break;default:v=Ab}u=v.bind(null,o,u,a),v=void 0,!sl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),d?v!==void 0?a.addEventListener(o,u,{capture:!0,passive:v}):a.addEventListener(o,u,!0):v!==void 0?a.addEventListener(o,u,{passive:v}):a.addEventListener(o,u,!1)}function hb(a,o,u,d,v){var y=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var N=d.stateNode.containerInfo;if(N===v)break;if(S===4)for(S=d.return;S!==null;){var q=S.tag;if((q===3||q===4)&&S.stateNode.containerInfo===v)return;S=S.return}for(;N!==null;){if(S=Xi(N),S===null)return;if(q=S.tag,q===5||q===6||q===26||q===27){d=y=S;continue e}N=N.parentNode}}d=d.return}Us(function(){var X=y,se=Gr(u),le=[];e:{var J=_A.get(a);if(J!==void 0){var ne=ia,Ee=a;switch(a){case"keypress":if(ll(u)===0)break e;case"keydown":case"keyup":ne=Wm;break;case"focusin":Ee="focus",ne=cl;break;case"focusout":Ee="blur",ne=cl;break;case"beforeblur":case"afterblur":ne=cl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Mf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Um;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=w;break;case pA:case gA:case vA:ne=Bm;break;case yA:ne=M;break;case"scroll":case"scrollend":ne=kf;break;case"wheel":ne=te;break;case"copy":case"cut":case"paste":ne=Fm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Da;break;case"toggle":case"beforetoggle":ne=Ve}var Ne=(o&4)!==0,Et=!Ne&&(a==="scroll"||a==="scrollend"),W=Ne?J!==null?J+"Capture":null:J;Ne=[];for(var G=X,Q;G!==null;){var oe=G;if(Q=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Q===null||W===null||(oe=wi(G,W),oe!=null&&Ne.push(ch(G,oe,Q))),Et)break;G=G.return}0<Ne.length&&(J=new ne(J,Ee,null,u,se),le.push({event:J,listeners:Ne}))}}if((o&7)===0){e:{if(J=a==="mouseover"||a==="pointerover",ne=a==="mouseout"||a==="pointerout",J&&u!==Nf&&(Ee=u.relatedTarget||u.fromElement)&&(Xi(Ee)||Ee[Yi]))break e;if((ne||J)&&(J=se.window===se?se:(J=se.ownerDocument)?J.defaultView||J.parentWindow:window,ne?(Ee=u.relatedTarget||u.toElement,ne=X,Ee=Ee?Xi(Ee):null,Ee!==null&&(Et=s(Ee),Ne=Ee.tag,Ee!==Et||Ne!==5&&Ne!==27&&Ne!==6)&&(Ee=null)):(ne=null,Ee=X),ne!==Ee)){if(Ne=Mf,oe="onMouseLeave",W="onMouseEnter",G="mouse",(a==="pointerout"||a==="pointerover")&&(Ne=Da,oe="onPointerLeave",W="onPointerEnter",G="pointer"),Et=ne==null?J:Cr(ne),Q=Ee==null?J:Cr(Ee),J=new Ne(oe,G+"leave",ne,u,se),J.target=Et,J.relatedTarget=Q,oe=null,Xi(se)===X&&(Ne=new Ne(W,G+"enter",Ee,u,se),Ne.target=Q,Ne.relatedTarget=Et,oe=Ne),Et=oe,ne&&Ee)t:{for(Ne=wz,W=ne,G=Ee,Q=0,oe=W;oe;oe=Ne(oe))Q++;oe=0;for(var Ae=G;Ae;Ae=Ne(Ae))oe++;for(;0<Q-oe;)W=Ne(W),Q--;for(;0<oe-Q;)G=Ne(G),oe--;for(;Q--;){if(W===G||G!==null&&W===G.alternate){Ne=W;break t}W=Ne(W),G=Ne(G)}Ne=null}else Ne=null;ne!==null&&BI(le,J,ne,Ne,!1),Ee!==null&&Et!==null&&BI(le,Et,Ee,Ne,!0)}}e:{if(J=X?Cr(X):window,ne=J.nodeName&&J.nodeName.toLowerCase(),ne==="select"||ne==="input"&&J.type==="file")var at=iA;else if(nA(J))if(aA)at=PU;else{at=NU;var Se=RU}else ne=J.nodeName,!ne||ne.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?X&&_u(X.elementType)&&(at=iA):at=OU;if(at&&(at=at(a,X))){rA(le,at,u,se);break e}Se&&Se(a,J,X),a==="focusout"&&X&&J.type==="number"&&X.memoizedProps.value!=null&&Cf(J,"number",J.value)}switch(Se=X?Cr(X):window,a){case"focusin":(nA(Se)||Se.contentEditable==="true")&&(Cu=Se,B_=X,Uf=null);break;case"focusout":Uf=B_=Cu=null;break;case"mousedown":F_=!0;break;case"contextmenu":case"mouseup":case"dragend":F_=!1,dA(le,u,se);break;case"selectionchange":if(MU)break;case"keydown":case"keyup":dA(le,u,se)}var ze;if(ct)e:{switch(a){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else Au?fl(a,u)&&(Ze="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Ze="onCompositionStart");Ze&&(oa&&u.locale!=="ko"&&(Au||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&Au&&(ze=Pf()):(ra=se,Of="value"in ra?ra.value:ra.textContent,Au=!0)),Se=Vp(X,Ze),0<Se.length&&(Ze=new sa(Ze,a,null,u,se),le.push({event:Ze,listeners:Se}),ze?Ze.data=ze:(ze=Su(u),ze!==null&&(Ze.data=ze)))),(ze=Wr?SU(a,u):AU(a,u))&&(Ze=Vp(X,"onBeforeInput"),0<Ze.length&&(Se=new sa("onBeforeInput","beforeinput",null,u,se),le.push({event:Se,listeners:Ze}),Se.data=ze)),vz(le,a,X,u,se)}UI(le,o)})}function ch(a,o,u){return{instance:a,listener:o,currentTarget:u}}function Vp(a,o){for(var u=o+"Capture",d=[];a!==null;){var v=a,y=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||y===null||(v=wi(a,u),v!=null&&d.unshift(ch(a,v,y)),v=wi(a,o),v!=null&&d.push(ch(a,v,y))),a.tag===3)return d;a=a.return}return[]}function wz(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function BI(a,o,u,d,v){for(var y=o._reactName,S=[];u!==null&&u!==d;){var N=u,q=N.alternate,X=N.stateNode;if(N=N.tag,q!==null&&q===d)break;N!==5&&N!==26&&N!==27||X===null||(q=X,v?(X=wi(u,y),X!=null&&S.unshift(ch(u,X,q))):v||(X=wi(u,y),X!=null&&S.push(ch(u,X,q)))),u=u.return}S.length!==0&&a.push({event:o,listeners:S})}var Ez=/\r\n?/g,xz=/\u0000|\uFFFD/g;function FI(a){return(typeof a=="string"?a:""+a).replace(Ez,`
`).replace(xz,"")}function qI(a,o){return o=FI(o),FI(a)===o}function wt(a,o,u,d,v,y){switch(u){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||mr(a,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&mr(a,""+d);break;case"className":Ir(a,"class",d);break;case"tabIndex":Ir(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Ir(a,u,d);break;case"style":Rf(a,d,y);break;case"data":if(o!=="object"){Ir(a,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=bu(""+d),a.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(o!=="input"&&wt(a,o,"name",v.name,v,null),wt(a,o,"formEncType",v.formEncType,v,null),wt(a,o,"formMethod",v.formMethod,v,null),wt(a,o,"formTarget",v.formTarget,v,null)):(wt(a,o,"encType",v.encType,v,null),wt(a,o,"method",v.method,v,null),wt(a,o,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=bu(""+d),a.setAttribute(u,d);break;case"onClick":d!=null&&(a.onclick=bi);break;case"onScroll":d!=null&&Ke("scroll",a);break;case"onScrollEnd":d!=null&&Ke("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}u=bu(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""+d):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":d===!0?a.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,d):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(u,d):a.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(u):a.setAttribute(u,d);break;case"popover":Ke("beforetoggle",a),Ke("toggle",a),vu(a,"popover",d);break;case"xlinkActuate":rn(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":rn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":rn(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":rn(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":rn(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":rn(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":rn(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":rn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":rn(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":vu(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Vm.get(u)||u,vu(a,u,d))}}function db(a,o,u,d,v,y){switch(u){case"style":Rf(a,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof d=="string"?mr(a,d):(typeof d=="number"||typeof d=="bigint")&&mr(a,""+d);break;case"onScroll":d!=null&&Ke("scroll",a);break;case"onScrollEnd":d!=null&&Ke("scrollend",a);break;case"onClick":d!=null&&(a.onclick=bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ef.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),y=a[An]||null,y=y!=null?y[u]:null,typeof y=="function"&&a.removeEventListener(o,y,v),typeof d=="function")){typeof y!="function"&&y!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,d,v);break e}u in a?a[u]=d:d===!0?a.setAttribute(u,""):vu(a,u,d)}}}function Fn(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",a),Ke("load",a);var d=!1,v=!1,y;for(y in u)if(u.hasOwnProperty(y)){var S=u[y];if(S!=null)switch(y){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:wt(a,o,y,S,u,null)}}v&&wt(a,o,"srcSet",u.srcSet,u,null),d&&wt(a,o,"src",u.src,u,null);return;case"input":Ke("invalid",a);var N=y=S=v=null,q=null,X=null;for(d in u)if(u.hasOwnProperty(d)){var se=u[d];if(se!=null)switch(d){case"name":v=se;break;case"type":S=se;break;case"checked":q=se;break;case"defaultChecked":X=se;break;case"value":y=se;break;case"defaultValue":N=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,o));break;default:wt(a,o,d,se,u,null)}}Dm(a,y,N,q,X,S,v,!1);return;case"select":Ke("invalid",a),d=S=y=null;for(v in u)if(u.hasOwnProperty(v)&&(N=u[v],N!=null))switch(v){case"value":y=N;break;case"defaultValue":S=N;break;case"multiple":d=N;default:wt(a,o,v,N,u,null)}o=y,u=S,a.multiple=!!d,o!=null?Ds(a,!!d,o,!1):u!=null&&Ds(a,!!d,u,!0);return;case"textarea":Ke("invalid",a),y=v=d=null;for(S in u)if(u.hasOwnProperty(S)&&(N=u[S],N!=null))switch(S){case"value":d=N;break;case"defaultValue":v=N;break;case"children":y=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:wt(a,o,S,N,u,null)}Ls(a,d,v,y);return;case"option":for(q in u)if(u.hasOwnProperty(q)&&(d=u[q],d!=null))switch(q){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:wt(a,o,q,d,u,null)}return;case"dialog":Ke("beforetoggle",a),Ke("toggle",a),Ke("cancel",a),Ke("close",a);break;case"iframe":case"object":Ke("load",a);break;case"video":case"audio":for(d=0;d<uh.length;d++)Ke(uh[d],a);break;case"image":Ke("error",a),Ke("load",a);break;case"details":Ke("toggle",a);break;case"embed":case"source":case"link":Ke("error",a),Ke("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in u)if(u.hasOwnProperty(X)&&(d=u[X],d!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:wt(a,o,X,d,u,null)}return;default:if(_u(o)){for(se in u)u.hasOwnProperty(se)&&(d=u[se],d!==void 0&&db(a,o,se,d,u,void 0));return}}for(N in u)u.hasOwnProperty(N)&&(d=u[N],d!=null&&wt(a,o,N,d,u,null))}function Tz(a,o,u,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,y=null,S=null,N=null,q=null,X=null,se=null;for(ne in u){var le=u[ne];if(u.hasOwnProperty(ne)&&le!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":q=le;default:d.hasOwnProperty(ne)||wt(a,o,ne,null,d,le)}}for(var J in d){var ne=d[J];if(le=u[J],d.hasOwnProperty(J)&&(ne!=null||le!=null))switch(J){case"type":y=ne;break;case"name":v=ne;break;case"checked":X=ne;break;case"defaultChecked":se=ne;break;case"value":S=ne;break;case"defaultValue":N=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,o));break;default:ne!==le&&wt(a,o,J,ne,d,le)}}yu(a,S,N,q,X,se,y,v);return;case"select":ne=S=N=J=null;for(y in u)if(q=u[y],u.hasOwnProperty(y)&&q!=null)switch(y){case"value":break;case"multiple":ne=q;default:d.hasOwnProperty(y)||wt(a,o,y,null,d,q)}for(v in d)if(y=d[v],q=u[v],d.hasOwnProperty(v)&&(y!=null||q!=null))switch(v){case"value":J=y;break;case"defaultValue":N=y;break;case"multiple":S=y;default:y!==q&&wt(a,o,v,y,d,q)}o=N,u=S,d=ne,J!=null?Ds(a,!!u,J,!1):!!d!=!!u&&(o!=null?Ds(a,!!u,o,!0):Ds(a,!!u,u?[]:"",!1));return;case"textarea":ne=J=null;for(N in u)if(v=u[N],u.hasOwnProperty(N)&&v!=null&&!d.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:wt(a,o,N,null,d,v)}for(S in d)if(v=d[S],y=u[S],d.hasOwnProperty(S)&&(v!=null||y!=null))switch(S){case"value":J=v;break;case"defaultValue":ne=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==y&&wt(a,o,S,v,d,y)}Lm(a,J,ne);return;case"option":for(var Ee in u)if(J=u[Ee],u.hasOwnProperty(Ee)&&J!=null&&!d.hasOwnProperty(Ee))switch(Ee){case"selected":a.selected=!1;break;default:wt(a,o,Ee,null,d,J)}for(q in d)if(J=d[q],ne=u[q],d.hasOwnProperty(q)&&J!==ne&&(J!=null||ne!=null))switch(q){case"selected":a.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:wt(a,o,q,J,d,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in u)J=u[Ne],u.hasOwnProperty(Ne)&&J!=null&&!d.hasOwnProperty(Ne)&&wt(a,o,Ne,null,d,J);for(X in d)if(J=d[X],ne=u[X],d.hasOwnProperty(X)&&J!==ne&&(J!=null||ne!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,o));break;default:wt(a,o,X,J,d,ne)}return;default:if(_u(o)){for(var Et in u)J=u[Et],u.hasOwnProperty(Et)&&J!==void 0&&!d.hasOwnProperty(Et)&&db(a,o,Et,void 0,d,J);for(se in d)J=d[se],ne=u[se],!d.hasOwnProperty(se)||J===ne||J===void 0&&ne===void 0||db(a,o,se,J,d,ne);return}}for(var W in u)J=u[W],u.hasOwnProperty(W)&&J!=null&&!d.hasOwnProperty(W)&&wt(a,o,W,null,d,J);for(le in d)J=d[le],ne=u[le],!d.hasOwnProperty(le)||J===ne||J==null&&ne==null||wt(a,o,le,J,d,ne)}function HI(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Sz(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),d=0;d<u.length;d++){var v=u[d],y=v.transferSize,S=v.initiatorType,N=v.duration;if(y&&N&&HI(S)){for(S=0,N=v.responseEnd,d+=1;d<u.length;d++){var q=u[d],X=q.startTime;if(X>N)break;var se=q.transferSize,le=q.initiatorType;se&&HI(le)&&(q=q.responseEnd,S+=se*(q<N?1:(N-X)/(q-X)))}if(--d,o+=8*(y+S)/(v.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var mb=null,pb=null;function Up(a){return a.nodeType===9?a:a.ownerDocument}function $I(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function GI(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function gb(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var vb=null;function Az(){var a=window.event;return a&&a.type==="popstate"?a===vb?!1:(vb=a,!0):(vb=null,!1)}var KI=typeof setTimeout=="function"?setTimeout:void 0,Cz=typeof clearTimeout=="function"?clearTimeout:void 0,WI=typeof Promise=="function"?Promise:void 0,Iz=typeof queueMicrotask=="function"?queueMicrotask:typeof WI<"u"?function(a){return WI.resolve(null).then(a).catch(Rz)}:KI;function Rz(a){setTimeout(function(){throw a})}function ao(a){return a==="head"}function YI(a,o){var u=o,d=0;do{var v=u.nextSibling;if(a.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(d===0){a.removeChild(v),ec(o);return}d--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")d++;else if(u==="html")fh(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,fh(u);for(var y=u.firstChild;y;){var S=y.nextSibling,N=y.nodeName;y[Qi]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&y.rel.toLowerCase()==="stylesheet"||u.removeChild(y),y=S}}else u==="body"&&fh(a.ownerDocument.body);u=v}while(u);ec(o)}function QI(a,o){var u=a;a=0;do{var d=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),d&&d.nodeType===8)if(u=d.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=d}while(u)}function yb(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":yb(u),gu(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function Nz(a,o,u,d){for(;a.nodeType===1;){var v=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[Qi])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(y=a.getAttribute("rel"),y==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(y!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(y=a.getAttribute("src"),(y!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&y&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var y=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===y)return a}else return a;if(a=ti(a.nextSibling),a===null)break}return null}function Oz(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=ti(a.nextSibling),a===null))return null;return a}function XI(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=ti(a.nextSibling),a===null))return null;return a}function _b(a){return a.data==="$?"||a.data==="$~"}function bb(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function Pz(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var d=function(){o(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function ti(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var wb=null;function ZI(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return ti(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function JI(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function eR(a,o,u){switch(o=Up(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function fh(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);gu(a)}var ni=new Map,tR=new Set;function zp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Qa=ue.d;ue.d={f:kz,r:Mz,D:Dz,C:Lz,L:jz,m:Vz,X:zz,S:Uz,M:Bz};function kz(){var a=Qa.f(),o=Op();return a||o}function Mz(a){var o=$r(a);o!==null&&o.tag===5&&o.type==="form"?yC(o):Qa.r(a)}var Xu=typeof document>"u"?null:document;function nR(a,o,u){var d=Xu;if(d&&typeof o=="string"&&o){var v=dr(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),tR.has(v)||(tR.add(v),a={rel:a,crossOrigin:u,href:o},d.querySelector(v)===null&&(o=d.createElement("link"),Fn(o,"link",a),nn(o),d.head.appendChild(o)))}}function Dz(a){Qa.D(a),nR("dns-prefetch",a,null)}function Lz(a,o){Qa.C(a,o),nR("preconnect",a,o)}function jz(a,o,u){Qa.L(a,o,u);var d=Xu;if(d&&a&&o){var v='link[rel="preload"][as="'+dr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+dr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+dr(u.imageSizes)+'"]')):v+='[href="'+dr(a)+'"]';var y=v;switch(o){case"style":y=Zu(a);break;case"script":y=Ju(a)}ni.has(y)||(a=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),ni.set(y,a),d.querySelector(v)!==null||o==="style"&&d.querySelector(hh(y))||o==="script"&&d.querySelector(dh(y))||(o=d.createElement("link"),Fn(o,"link",a),nn(o),d.head.appendChild(o)))}}function Vz(a,o){Qa.m(a,o);var u=Xu;if(u&&a){var d=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+dr(d)+'"][href="'+dr(a)+'"]',y=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ju(a)}if(!ni.has(y)&&(a=p({rel:"modulepreload",href:a},o),ni.set(y,a),u.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(dh(y)))return}d=u.createElement("link"),Fn(d,"link",a),nn(d),u.head.appendChild(d)}}}function Uz(a,o,u){Qa.S(a,o,u);var d=Xu;if(d&&a){var v=Zi(d).hoistableStyles,y=Zu(a);o=o||"default";var S=v.get(y);if(!S){var N={loading:0,preload:null};if(S=d.querySelector(hh(y)))N.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},u),(u=ni.get(y))&&Eb(a,u);var q=S=d.createElement("link");nn(q),Fn(q,"link",a),q._p=new Promise(function(X,se){q.onload=X,q.onerror=se}),q.addEventListener("load",function(){N.loading|=1}),q.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Bp(S,o,d)}S={type:"stylesheet",instance:S,count:1,state:N},v.set(y,S)}}}function zz(a,o){Qa.X(a,o);var u=Xu;if(u&&a){var d=Zi(u).hoistableScripts,v=Ju(a),y=d.get(v);y||(y=u.querySelector(dh(v)),y||(a=p({src:a,async:!0},o),(o=ni.get(v))&&xb(a,o),y=u.createElement("script"),nn(y),Fn(y,"link",a),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(v,y))}}function Bz(a,o){Qa.M(a,o);var u=Xu;if(u&&a){var d=Zi(u).hoistableScripts,v=Ju(a),y=d.get(v);y||(y=u.querySelector(dh(v)),y||(a=p({src:a,async:!0,type:"module"},o),(o=ni.get(v))&&xb(a,o),y=u.createElement("script"),nn(y),Fn(y,"link",a),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(v,y))}}function rR(a,o,u,d){var v=(v=Te.current)?zp(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Zu(u.href),u=Zi(v).hoistableStyles,d=u.get(o),d||(d={type:"style",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Zu(u.href);var y=Zi(v).hoistableStyles,S=y.get(a);if(S||(v=v.ownerDocument||v,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(a,S),(y=v.querySelector(hh(a)))&&!y._p&&(S.instance=y,S.state.loading=5),ni.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ni.set(a,u),y||Fz(v,a,u,S.state))),o&&d===null)throw Error(r(528,""));return S}if(o&&d!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ju(u),u=Zi(v).hoistableScripts,d=u.get(o),d||(d={type:"script",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Zu(a){return'href="'+dr(a)+'"'}function hh(a){return'link[rel="stylesheet"]['+a+"]"}function iR(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function Fz(a,o,u,d){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=a.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),Fn(o,"link",u),nn(o),a.head.appendChild(o))}function Ju(a){return'[src="'+dr(a)+'"]'}function dh(a){return"script[async]"+a}function aR(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var d=a.querySelector('style[data-href~="'+dr(u.href)+'"]');if(d)return o.instance=d,nn(d),d;var v=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),nn(d),Fn(d,"style",v),Bp(d,u.precedence,a),o.instance=d;case"stylesheet":v=Zu(u.href);var y=a.querySelector(hh(v));if(y)return o.state.loading|=4,o.instance=y,nn(y),y;d=iR(u),(v=ni.get(v))&&Eb(d,v),y=(a.ownerDocument||a).createElement("link"),nn(y);var S=y;return S._p=new Promise(function(N,q){S.onload=N,S.onerror=q}),Fn(y,"link",d),o.state.loading|=4,Bp(y,u.precedence,a),o.instance=y;case"script":return y=Ju(u.src),(v=a.querySelector(dh(y)))?(o.instance=v,nn(v),v):(d=u,(v=ni.get(y))&&(d=p({},u),xb(d,v)),a=a.ownerDocument||a,v=a.createElement("script"),nn(v),Fn(v,"link",d),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Bp(d,u.precedence,a));return o.instance}function Bp(a,o,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,y=v,S=0;S<d.length;S++){var N=d[S];if(N.dataset.precedence===o)y=N;else if(y!==v)break}y?y.parentNode.insertBefore(a,y.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function Eb(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function xb(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Fp=null;function sR(a,o,u){if(Fp===null){var d=new Map,v=Fp=new Map;v.set(u,d)}else v=Fp,d=v.get(u),d||(d=new Map,v.set(u,d));if(d.has(a))return d;for(d.set(a,null),u=u.getElementsByTagName(a),v=0;v<u.length;v++){var y=u[v];if(!(y[Qi]||y[tn]||a==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(o)||"";S=a+S;var N=d.get(S);N?N.push(y):d.set(S,[y])}}return d}function oR(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function qz(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function lR(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function Hz(a,o,u,d){if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=Zu(d.href),y=o.querySelector(hh(v));if(y){o=y._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=qp.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=y,nn(y);return}y=o.ownerDocument||o,d=iR(d),(v=ni.get(v))&&Eb(d,v),y=y.createElement("link"),nn(y);var S=y;S._p=new Promise(function(N,q){S.onload=N,S.onerror=q}),Fn(y,"link",d),u.instance=y}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=qp.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var Tb=0;function $z(a,o){return a.stylesheets&&a.count===0&&$p(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var d=setTimeout(function(){if(a.stylesheets&&$p(a,a.stylesheets),a.unsuspend){var y=a.unsuspend;a.unsuspend=null,y()}},6e4+o);0<a.imgBytes&&Tb===0&&(Tb=62500*Sz());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&$p(a,a.stylesheets),a.unsuspend)){var y=a.unsuspend;a.unsuspend=null,y()}},(a.imgBytes>Tb?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(d),clearTimeout(v)}}:null}function qp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$p(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Hp=null;function $p(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Hp=new Map,o.forEach(Gz,a),Hp=null,qp.call(a))}function Gz(a,o){if(!(o.state.loading&4)){var u=Hp.get(a);if(u)var d=u.get(null);else{u=new Map,Hp.set(a,u);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<v.length;y++){var S=v[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(u.set(S.dataset.precedence,S),d=S)}d&&u.set(null,d)}v=o.instance,S=v.getAttribute("data-precedence"),y=u.get(S)||d,y===d&&u.set(null,v),u.set(S,v),this.count++,d=qp.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),y?y.parentNode.insertBefore(v,y.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var mh={$$typeof:D,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function Kz(a,o,u,d,v,y,S,N,q){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wi(0),this.hiddenUpdates=Wi(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function uR(a,o,u,d,v,y,S,N,q,X,se,le){return a=new Kz(a,o,u,S,q,X,se,le,N),o=1,y===!0&&(o|=24),y=Nr(3,null,null,o),a.current=y,y.stateNode=a,o=r0(),o.refCount++,a.pooledCache=o,o.refCount++,y.memoizedState={element:d,isDehydrated:u,cache:o},o0(y),a}function cR(a){return a?(a=Nu,a):Nu}function fR(a,o,u,d,v,y){v=cR(v),d.context===null?d.context=v:d.pendingContext=v,d=Ws(o),d.payload={element:u},y=y===void 0?null:y,y!==null&&(d.callback=y),u=Ys(a,d,o),u!==null&&(_r(u,a,o),Gf(u,a,o))}function hR(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function Sb(a,o){hR(a,o),(a=a.alternate)&&hR(a,o)}function dR(a){if(a.tag===13||a.tag===31){var o=ml(a,67108864);o!==null&&_r(o,a,67108864),Sb(a,67108864)}}function mR(a){if(a.tag===13||a.tag===31){var o=Dr();o=nl(o);var u=ml(a,o);u!==null&&_r(u,a,o),Sb(a,o)}}var Gp=!0;function Wz(a,o,u,d){var v=Z.T;Z.T=null;var y=ue.p;try{ue.p=2,Ab(a,o,u,d)}finally{ue.p=y,Z.T=v}}function Yz(a,o,u,d){var v=Z.T;Z.T=null;var y=ue.p;try{ue.p=8,Ab(a,o,u,d)}finally{ue.p=y,Z.T=v}}function Ab(a,o,u,d){if(Gp){var v=Cb(d);if(v===null)hb(a,o,d,Kp,u),gR(a,d);else if(Xz(v,a,o,u,d))d.stopPropagation();else if(gR(a,d),o&4&&-1<Qz.indexOf(a)){for(;v!==null;){var y=$r(v);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=Gi(y.pendingLanes);if(S!==0){var N=y;for(N.pendingLanes|=2,N.entangledLanes|=2;S;){var q=1<<31-$t(S);N.entanglements[1]|=q,S&=~q}fa(y),(ft&6)===0&&(Rp=ir()+500,lh(0))}}break;case 31:case 13:N=ml(y,2),N!==null&&_r(N,y,2),Op(),Sb(y,2)}if(y=Cb(d),y===null&&hb(a,o,d,Kp,u),y===v)break;v=y}v!==null&&d.stopPropagation()}else hb(a,o,d,null,u)}}function Cb(a){return a=Gr(a),Ib(a)}var Kp=null;function Ib(a){if(Kp=null,a=Xi(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Kp=a,null}function pR(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zo()){case vf:return 2;case yf:return 8;case ks:case M_:return 32;case Sm:return 268435456;default:return 32}default:return 32}}var Rb=!1,so=null,oo=null,lo=null,ph=new Map,gh=new Map,uo=[],Qz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gR(a,o){switch(a){case"focusin":case"focusout":so=null;break;case"dragenter":case"dragleave":oo=null;break;case"mouseover":case"mouseout":lo=null;break;case"pointerover":case"pointerout":ph.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":gh.delete(o.pointerId)}}function vh(a,o,u,d,v,y){return a===null||a.nativeEvent!==y?(a={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:y,targetContainers:[v]},o!==null&&(o=$r(o),o!==null&&dR(o)),a):(a.eventSystemFlags|=d,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function Xz(a,o,u,d,v){switch(o){case"focusin":return so=vh(so,a,o,u,d,v),!0;case"dragenter":return oo=vh(oo,a,o,u,d,v),!0;case"mouseover":return lo=vh(lo,a,o,u,d,v),!0;case"pointerover":var y=v.pointerId;return ph.set(y,vh(ph.get(y)||null,a,o,u,d,v)),!0;case"gotpointercapture":return y=v.pointerId,gh.set(y,vh(gh.get(y)||null,a,o,u,d,v)),!0}return!1}function vR(a){var o=Xi(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,yi(a.priority,function(){mR(u)});return}}else if(o===31){if(o=c(u),o!==null){a.blockedOn=o,yi(a.priority,function(){mR(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Wp(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=Cb(a.nativeEvent);if(u===null){u=a.nativeEvent;var d=new u.constructor(u.type,u);Nf=d,u.target.dispatchEvent(d),Nf=null}else return o=$r(u),o!==null&&dR(o),a.blockedOn=u,!1;o.shift()}return!0}function yR(a,o,u){Wp(a)&&u.delete(o)}function Zz(){Rb=!1,so!==null&&Wp(so)&&(so=null),oo!==null&&Wp(oo)&&(oo=null),lo!==null&&Wp(lo)&&(lo=null),ph.forEach(yR),gh.forEach(yR)}function Yp(a,o){a.blockedOn===o&&(a.blockedOn=null,Rb||(Rb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Zz)))}var Qp=null;function _R(a){Qp!==a&&(Qp=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Qp===a&&(Qp=null);for(var o=0;o<a.length;o+=3){var u=a[o],d=a[o+1],v=a[o+2];if(typeof d!="function"){if(Ib(d||u)===null)continue;break}var y=$r(u);y!==null&&(a.splice(o,3),o-=3,C0(y,{pending:!0,data:v,method:u.method,action:d},d,v))}}))}function ec(a){function o(q){return Yp(q,a)}so!==null&&Yp(so,a),oo!==null&&Yp(oo,a),lo!==null&&Yp(lo,a),ph.forEach(o),gh.forEach(o);for(var u=0;u<uo.length;u++){var d=uo[u];d.blockedOn===a&&(d.blockedOn=null)}for(;0<uo.length&&(u=uo[0],u.blockedOn===null);)vR(u),u.blockedOn===null&&uo.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var v=u[d],y=u[d+1],S=v[An]||null;if(typeof y=="function")S||_R(u);else if(S){var N=null;if(y&&y.hasAttribute("formAction")){if(v=y,S=y[An]||null)N=S.formAction;else if(Ib(v)!==null)continue}else N=S.action;typeof N=="function"?u[d+1]=N:(u.splice(d,3),d-=3),_R(u)}}}function bR(){function a(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(S){return v=S})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),d||setTimeout(u,20)}function u(){if(!d&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){d=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function Nb(a){this._internalRoot=a}Xp.prototype.render=Nb.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,d=Dr();fR(u,d,a,o,null,null)},Xp.prototype.unmount=Nb.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;fR(a.current,2,null,a,null,null),Op(),o[Yi]=null}};function Xp(a){this._internalRoot=a}Xp.prototype.unstable_scheduleHydration=function(a){if(a){var o=Om();a={blockedOn:null,target:a,priority:o};for(var u=0;u<uo.length&&o!==0&&o<uo[u].priority;u++);uo.splice(u,0,a),u===0&&vR(a)}};var wR=e.version;if(wR!=="19.2.1")throw Error(r(527,wR,"19.2.1"));ue.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(o),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var Jz={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zp.isDisabled&&Zp.supportsFiber)try{gi=Zp.inject(Jz),jn=Zp}catch{}}return _h.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,d="",v=IC,y=RC,S=NC;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError)),o=uR(a,1,!1,null,null,u,d,null,v,y,S,bR),a[Yi]=o.current,fb(a),new Nb(o)},_h.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var d=!1,v="",y=IC,S=RC,N=NC,q=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(S=u.onCaughtError),u.onRecoverableError!==void 0&&(N=u.onRecoverableError),u.formState!==void 0&&(q=u.formState)),o=uR(a,1,!0,o,u??null,d,v,q,y,S,N,bR),o.context=cR(null),u=o.current,d=Dr(),d=nl(d),v=Ws(d),v.callback=null,Ys(u,v,d),u=d,o.current.lanes=u,el(o,u),fa(o),a[Yi]=o.current,fb(a),new Xp(o)},_h.version="19.2.1",_h}var OR;function h9(){if(OR)return Mb.exports;OR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Mb.exports=f9(),Mb.exports}var d9=h9();const m9=Es(d9);/**
 * react-router v7.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PR="popstate";function p9(t={}){function e(r,i){let{pathname:s,search:l,hash:c}=r.location;return gE("",{pathname:s,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Jh(i)}return v9(e,n,null,t)}function Vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ci(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function g9(){return Math.random().toString(36).substring(2,10)}function kR(t,e){return{usr:t.state,key:t.key,idx:e}}function gE(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Yc(e):e,state:n,key:e&&e.key||r||g9()}}function Jh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Yc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function v9(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,c="POP",f=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function p(){c="POP";let A=m(),O=A==null?null:A-h;h=A,f&&f({action:c,location:x.location,delta:O})}function _(A,O){c="PUSH";let z=gE(x.location,A,O);h=m()+1;let D=kR(z,h),H=x.createHref(z);try{l.pushState(D,"",H)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(H)}s&&f&&f({action:c,location:x.location,delta:1})}function b(A,O){c="REPLACE";let z=gE(x.location,A,O);h=m();let D=kR(z,h),H=x.createHref(z);l.replaceState(D,"",H),s&&f&&f({action:c,location:x.location,delta:0})}function E(A){return y9(A)}let x={get action(){return c},get location(){return t(i,l)},listen(A){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(PR,p),f=A,()=>{i.removeEventListener(PR,p),f=null}},createHref(A){return e(i,A)},createURL:E,encodeLocation(A){let O=E(A);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:_,replace:b,go(A){return l.go(A)}};return x}function y9(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Vt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Jh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function OM(t,e,n="/"){return _9(t,e,n,!1)}function _9(t,e,n,r){let i=typeof e=="string"?Yc(e):e,s=ls(i.pathname||"/",n);if(s==null)return null;let l=PM(t);b9(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let h=O9(s);c=R9(l[f],h,r)}return c}function PM(t,e=[],n=[],r="",i=!1){let s=(l,c,f=i,h)=>{let m={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&f)return;Vt(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let p=as([r,m.relativePath]),_=n.concat(m);l.children&&l.children.length>0&&(Vt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),PM(l.children,e,_,p,f)),!(l.path==null&&!l.index)&&e.push({path:p,score:C9(p,l.index),routesMeta:_})};return t.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))s(l,c);else for(let h of kM(l.path))s(l,c,!0,h)}),e}function kM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=kM(r.join("/")),c=[];return c.push(...l.map(f=>f===""?s:[s,f].join("/"))),i&&c.push(...l),c.map(f=>t.startsWith("/")&&f===""?"/":f)}function b9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:I9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var w9=/^:[\w-]+$/,E9=3,x9=2,T9=1,S9=10,A9=-2,MR=t=>t==="*";function C9(t,e){let n=t.split("/"),r=n.length;return n.some(MR)&&(r+=A9),e&&(r+=x9),n.filter(i=>!MR(i)).reduce((i,s)=>i+(w9.test(s)?E9:s===""?T9:S9),r)}function I9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function R9(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],h=c===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",p=Hg({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),_=f.route;if(!p&&h&&n&&!r[r.length-1].route.index&&(p=Hg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:as([s,p.pathname]),pathnameBase:L9(as([s,p.pathnameBase])),route:_}),p.pathnameBase!=="/"&&(s=as([s,p.pathnameBase]))}return l}function Hg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=N9(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:p},_)=>{if(m==="*"){let E=c[_]||"";l=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const b=c[_];return p&&!b?h[m]=void 0:h[m]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:t}}function N9(t,e=!1,n=!0){ci(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function O9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ci(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ls(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var P9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,k9=t=>P9.test(t);function M9(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Yc(t):t,s;if(n)if(k9(n))s=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),ci(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?s=DR(n.substring(1),"/"):s=DR(n,e)}else s=e;return{pathname:s,search:j9(r),hash:V9(i)}}function DR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Vb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function D9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Y1(t){let e=D9(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Q1(t,e,n,r=!1){let i;typeof t=="string"?i=Yc(t):(i={...t},Vt(!i.pathname||!i.pathname.includes("?"),Vb("?","pathname","search",i)),Vt(!i.pathname||!i.pathname.includes("#"),Vb("#","pathname","hash",i)),Vt(!i.search||!i.search.includes("#"),Vb("#","search","hash",i)));let s=t===""||i.pathname==="",l=s?"/":i.pathname,c;if(l==null)c=n;else{let p=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),p-=1;i.pathname=_.join("/")}c=p>=0?e[p]:"/"}let f=M9(i,c),h=l&&l!=="/"&&l.endsWith("/"),m=(s||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}var as=t=>t.join("/").replace(/\/\/+/g,"/"),L9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),j9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,V9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function U9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function z9(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var MM=["POST","PUT","PATCH","DELETE"];new Set(MM);var B9=["GET",...MM];new Set(B9);var Qc=T.createContext(null);Qc.displayName="DataRouter";var gy=T.createContext(null);gy.displayName="DataRouterState";T.createContext(!1);var DM=T.createContext({isTransitioning:!1});DM.displayName="ViewTransition";var F9=T.createContext(new Map);F9.displayName="Fetchers";var q9=T.createContext(null);q9.displayName="Await";var di=T.createContext(null);di.displayName="Navigation";var Pd=T.createContext(null);Pd.displayName="Location";var Ca=T.createContext({outlet:null,matches:[],isDataRoute:!1});Ca.displayName="Route";var X1=T.createContext(null);X1.displayName="RouteError";function H9(t,{relative:e}={}){Vt(Xc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(di),{hash:i,pathname:s,search:l}=Md(t,{relative:e}),c=s;return n!=="/"&&(c=s==="/"?n:as([n,s])),r.createHref({pathname:c,search:l,hash:i})}function Xc(){return T.useContext(Pd)!=null}function $o(){return Vt(Xc(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Pd).location}var LM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jM(t){T.useContext(di).static||T.useLayoutEffect(t)}function kd(){let{isDataRoute:t}=T.useContext(Ca);return t?r8():$9()}function $9(){Vt(Xc(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(Qc),{basename:e,navigator:n}=T.useContext(di),{matches:r}=T.useContext(Ca),{pathname:i}=$o(),s=JSON.stringify(Y1(r)),l=T.useRef(!1);return jM(()=>{l.current=!0}),T.useCallback((f,h={})=>{if(ci(l.current,LM),!l.current)return;if(typeof f=="number"){n.go(f);return}let m=Q1(f,JSON.parse(s),i,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:as([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,s,i,t])}T.createContext(null);function Md(t,{relative:e}={}){let{matches:n}=T.useContext(Ca),{pathname:r}=$o(),i=JSON.stringify(Y1(n));return T.useMemo(()=>Q1(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function G9(t,e){return VM(t,e)}function VM(t,e,n,r,i){var z;Vt(Xc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=T.useContext(di),{matches:l}=T.useContext(Ca),c=l[l.length-1],f=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",p=c&&c.route;{let D=p&&p.path||"";UM(h,!p||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let _=$o(),b;if(e){let D=typeof e=="string"?Yc(e):e;Vt(m==="/"||((z=D.pathname)==null?void 0:z.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${D.pathname}" was given in the \`location\` prop.`),b=D}else b=_;let E=b.pathname||"/",x=E;if(m!=="/"){let D=m.replace(/^\//,"").split("/");x="/"+E.replace(/^\//,"").split("/").slice(D.length).join("/")}let A=OM(t,{pathname:x});ci(p||A!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ci(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=X9(A&&A.map(D=>Object.assign({},D,{params:Object.assign({},f,D.params),pathname:as([m,s.encodeLocation?s.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?m:as([m,s.encodeLocation?s.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),l,n,r,i);return e&&O?T.createElement(Pd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},O):O}function K9(){let t=n8(),e=U9(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:s},"ErrorBoundary")," or"," ",T.createElement("code",{style:s},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,l)}var W9=T.createElement(K9,null),Y9=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?T.createElement(Ca.Provider,{value:this.props.routeContext},T.createElement(X1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Q9({routeContext:t,match:e,children:n}){let r=T.useContext(Qc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Ca.Provider,{value:t},n)}function X9(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=n==null?void 0:n.errors;if(l!=null){let m=s.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);Vt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let c=!1,f=-1;if(n)for(let m=0;m<s.length;m++){let p=s[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:_,errors:b}=n,E=p.route.loader&&!_.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||E){c=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let h=n&&r?(m,p)=>{var _,b;r(m,{location:n.location,params:((b=(_=n.matches)==null?void 0:_[0])==null?void 0:b.params)??{},unstable_pattern:z9(n.matches),errorInfo:p})}:void 0;return s.reduceRight((m,p,_)=>{let b,E=!1,x=null,A=null;n&&(b=l&&p.route.id?l[p.route.id]:void 0,x=p.route.errorElement||W9,c&&(f<0&&_===0?(UM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,A=null):f===_&&(E=!0,A=p.route.hydrateFallbackElement||null)));let O=e.concat(s.slice(0,_+1)),z=()=>{let D;return b?D=x:E?D=A:p.route.Component?D=T.createElement(p.route.Component,null):p.route.element?D=p.route.element:D=m,T.createElement(Q9,{match:p,routeContext:{outlet:m,matches:O,isDataRoute:n!=null},children:D})};return n&&(p.route.ErrorBoundary||p.route.errorElement||_===0)?T.createElement(Y9,{location:n.location,revalidation:n.revalidation,component:x,error:b,children:z(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:h}):z()},null)}function Z1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z9(t){let e=T.useContext(Qc);return Vt(e,Z1(t)),e}function J9(t){let e=T.useContext(gy);return Vt(e,Z1(t)),e}function e8(t){let e=T.useContext(Ca);return Vt(e,Z1(t)),e}function J1(t){let e=e8(t),n=e.matches[e.matches.length-1];return Vt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function t8(){return J1("useRouteId")}function n8(){var r;let t=T.useContext(X1),e=J9("useRouteError"),n=J1("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function r8(){let{router:t}=Z9("useNavigate"),e=J1("useNavigate"),n=T.useRef(!1);return jM(()=>{n.current=!0}),T.useCallback(async(i,s={})=>{ci(n.current,LM),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var LR={};function UM(t,e,n){!e&&!LR[t]&&(LR[t]=!0,ci(!1,n))}T.memo(i8);function i8({routes:t,future:e,state:n,unstable_onError:r}){return VM(t,void 0,n,r,e)}function zM({to:t,replace:e,state:n,relative:r}){Vt(Xc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(di);ci(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=T.useContext(Ca),{pathname:l}=$o(),c=kd(),f=Q1(t,Y1(s),l,r==="path"),h=JSON.stringify(f);return T.useEffect(()=>{c(JSON.parse(h),{replace:e,state:n,relative:r})},[c,h,r,e,n]),null}function ac(t){Vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function a8({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:l}){Vt(!Xc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=T.useMemo(()=>({basename:c,navigator:i,static:s,unstable_useTransitions:l,future:{}}),[c,i,s,l]);typeof n=="string"&&(n=Yc(n));let{pathname:h="/",search:m="",hash:p="",state:_=null,key:b="default"}=n,E=T.useMemo(()=>{let x=ls(h,c);return x==null?null:{location:{pathname:x,search:m,hash:p,state:_,key:b},navigationType:r}},[c,h,m,p,_,b,r]);return ci(E!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:T.createElement(di.Provider,{value:f},T.createElement(Pd.Provider,{children:e,value:E}))}function s8({children:t,location:e}){return G9(vE(t),e)}function vE(t,e=[]){let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let s=[...e,i];if(r.type===T.Fragment){n.push.apply(n,vE(r.props.children,s));return}Vt(r.type===ac,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=vE(r.props.children,s)),n.push(l)}),n}var xg="get",Tg="application/x-www-form-urlencoded";function vy(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function o8(t){return vy(t)&&t.tagName.toLowerCase()==="button"}function l8(t){return vy(t)&&t.tagName.toLowerCase()==="form"}function u8(t){return vy(t)&&t.tagName.toLowerCase()==="input"}function c8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function f8(t,e){return t.button===0&&(!e||e==="_self")&&!c8(t)}var Jp=null;function h8(){if(Jp===null)try{new FormData(document.createElement("form"),0),Jp=!1}catch{Jp=!0}return Jp}var d8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ub(t){return t!=null&&!d8.has(t)?(ci(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tg}"`),null):t}function m8(t,e){let n,r,i,s,l;if(l8(t)){let c=t.getAttribute("action");r=c?ls(c,e):null,n=t.getAttribute("method")||xg,i=Ub(t.getAttribute("enctype"))||Tg,s=new FormData(t)}else if(o8(t)||u8(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||c.getAttribute("action");if(r=f?ls(f,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||xg,i=Ub(t.getAttribute("formenctype"))||Ub(c.getAttribute("enctype"))||Tg,s=new FormData(c,t),!h8()){let{name:h,type:m,value:p}=t;if(m==="image"){let _=h?`${h}.`:"";s.append(`${_}x`,"0"),s.append(`${_}y`,"0")}else h&&s.append(h,p)}}else{if(vy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xg,r=null,i=Tg,l=t}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ex(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function p8(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ls(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function g8(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function v8(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function y8(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await g8(s,n);return l.links?l.links():[]}return[]}));return E8(r.flat(1).filter(v8).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function jR(t,e,n,r,i,s){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,c=(f,h)=>{var m;return n[h].pathname!==f.pathname||((m=n[h].route.path)==null?void 0:m.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return s==="assets"?e.filter((f,h)=>l(f,h)||c(f,h)):s==="data"?e.filter((f,h)=>{var p;let m=r.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(l(f,h)||c(f,h))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function _8(t,e,{includeHydrateFallback:n}={}){return b8(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function b8(t){return[...new Set(t)]}function w8(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function E8(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(w8(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function BM(){let t=T.useContext(Qc);return ex(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function x8(){let t=T.useContext(gy);return ex(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var tx=T.createContext(void 0);tx.displayName="FrameworkContext";function FM(){let t=T.useContext(tx);return ex(t,"You must render this element inside a <HydratedRouter> element"),t}function T8(t,e){let n=T.useContext(tx),[r,i]=T.useState(!1),[s,l]=T.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:h,onMouseLeave:m,onTouchStart:p}=e,_=T.useRef(null);T.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let x=O=>{O.forEach(z=>{l(z.isIntersecting)})},A=new IntersectionObserver(x,{threshold:.5});return _.current&&A.observe(_.current),()=>{A.disconnect()}}},[t]),T.useEffect(()=>{if(r){let x=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(x)}}},[r]);let b=()=>{i(!0)},E=()=>{i(!1),l(!1)};return n?t!=="intent"?[s,_,{}]:[s,_,{onFocus:bh(c,b),onBlur:bh(f,E),onMouseEnter:bh(h,b),onMouseLeave:bh(m,E),onTouchStart:bh(p,b)}]:[!1,_,{}]}function bh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function S8({page:t,...e}){let{router:n}=BM(),r=T.useMemo(()=>OM(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(C8,{page:t,matches:r,...e}):null}function A8(t){let{manifest:e,routeModules:n}=FM(),[r,i]=T.useState([]);return T.useEffect(()=>{let s=!1;return y8(t,e,n).then(l=>{s||i(l)}),()=>{s=!0}},[t,e,n]),r}function C8({page:t,matches:e,...n}){let r=$o(),{manifest:i,routeModules:s}=FM(),{basename:l}=BM(),{loaderData:c,matches:f}=x8(),h=T.useMemo(()=>jR(t,e,f,i,r,"data"),[t,e,f,i,r]),m=T.useMemo(()=>jR(t,e,f,i,r,"assets"),[t,e,f,i,r]),p=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,x=!1;if(e.forEach(O=>{var D;let z=i.routes[O.route.id];!z||!z.hasLoader||(!h.some(H=>H.route.id===O.route.id)&&O.route.id in c&&((D=s[O.route.id])!=null&&D.shouldRevalidate)||z.hasClientLoader?x=!0:E.add(O.route.id))}),E.size===0)return[];let A=p8(t,l,"data");return x&&E.size>0&&A.searchParams.set("_routes",e.filter(O=>E.has(O.route.id)).map(O=>O.route.id).join(",")),[A.pathname+A.search]},[l,c,r,i,h,e,t,s]),_=T.useMemo(()=>_8(m,i),[m,i]),b=A8(m);return T.createElement(T.Fragment,null,p.map(E=>T.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),_.map(E=>T.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),b.map(({key:E,link:x})=>T.createElement("link",{key:E,nonce:n.nonce,...x})))}function I8(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var qM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qM&&(window.__reactRouterVersion="7.10.0")}catch{}function R8({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=T.useRef();i.current==null&&(i.current=p9({window:r,v5Compat:!0}));let s=i.current,[l,c]=T.useState({action:s.action,location:s.location}),f=T.useCallback(h=>{n===!1?c(h):T.startTransition(()=>c(h))},[n]);return T.useLayoutEffect(()=>s.listen(f),[s,f]),T.createElement(a8,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:n===!0})}var HM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$M=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:c,target:f,to:h,preventScrollReset:m,viewTransition:p,..._},b){let{basename:E,unstable_useTransitions:x}=T.useContext(di),A=typeof h=="string"&&HM.test(h),O,z=!1;if(typeof h=="string"&&A&&(O=h,qM))try{let V=new URL(window.location.href),L=h.startsWith("//")?new URL(V.protocol+h):new URL(h),B=ls(L.pathname,E);L.origin===V.origin&&B!=null?h=B+L.search+L.hash:z=!0}catch{ci(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=H9(h,{relative:i}),[H,F,$]=T8(r,_),P=k8(h,{replace:l,state:c,target:f,preventScrollReset:m,relative:i,viewTransition:p,unstable_useTransitions:x});function R(V){e&&e(V),V.defaultPrevented||P(V)}let k=T.createElement("a",{..._,...$,href:O||D,onClick:z||s?e:R,ref:I8(b,F),target:f,"data-discover":!A&&n==="render"?"true":void 0});return H&&!A?T.createElement(T.Fragment,null,k,T.createElement(S8,{page:D})):k});$M.displayName="Link";var N8=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:c,children:f,...h},m){let p=Md(l,{relative:h.relative}),_=$o(),b=T.useContext(gy),{navigator:E,basename:x}=T.useContext(di),A=b!=null&&V8(p)&&c===!0,O=E.encodeLocation?E.encodeLocation(p).pathname:p.pathname,z=_.pathname,D=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(z=z.toLowerCase(),D=D?D.toLowerCase():null,O=O.toLowerCase()),D&&x&&(D=ls(D,x)||D);const H=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let F=z===O||!i&&z.startsWith(O)&&z.charAt(H)==="/",$=D!=null&&(D===O||!i&&D.startsWith(O)&&D.charAt(O.length)==="/"),P={isActive:F,isPending:$,isTransitioning:A},R=F?e:void 0,k;typeof r=="function"?k=r(P):k=[r,F?"active":null,$?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let V=typeof s=="function"?s(P):s;return T.createElement($M,{...h,"aria-current":R,className:k,ref:m,style:V,to:l,viewTransition:c},typeof f=="function"?f(P):f)});N8.displayName="NavLink";var O8=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:l=xg,action:c,onSubmit:f,relative:h,preventScrollReset:m,viewTransition:p,..._},b)=>{let{unstable_useTransitions:E}=T.useContext(di),x=L8(),A=j8(c,{relative:h}),O=l.toLowerCase()==="get"?"get":"post",z=typeof c=="string"&&HM.test(c),D=H=>{if(f&&f(H),H.defaultPrevented)return;H.preventDefault();let F=H.nativeEvent.submitter,$=(F==null?void 0:F.getAttribute("formmethod"))||l,P=()=>x(F||H.currentTarget,{fetcherKey:e,method:$,navigate:n,replace:i,state:s,relative:h,preventScrollReset:m,viewTransition:p});E&&n!==!1?T.startTransition(()=>P()):P()};return T.createElement("form",{ref:b,method:O,action:A,onSubmit:r?f:D,..._,"data-discover":!z&&t==="render"?"true":void 0})});O8.displayName="Form";function P8(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GM(t){let e=T.useContext(Qc);return Vt(e,P8(t)),e}function k8(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:l,unstable_useTransitions:c}={}){let f=kd(),h=$o(),m=Md(t,{relative:s});return T.useCallback(p=>{if(f8(p,e)){p.preventDefault();let _=n!==void 0?n:Jh(h)===Jh(m),b=()=>f(t,{replace:_,state:r,preventScrollReset:i,relative:s,viewTransition:l});c?T.startTransition(()=>b()):b()}},[h,f,m,n,r,e,t,i,s,l,c])}var M8=0,D8=()=>`__${String(++M8)}__`;function L8(){let{router:t}=GM("useSubmit"),{basename:e}=T.useContext(di),n=t8(),r=t.fetch,i=t.navigate;return T.useCallback(async(s,l={})=>{let{action:c,method:f,encType:h,formData:m,body:p}=m8(s,e);if(l.navigate===!1){let _=l.fetcherKey||D8();await r(_,n,l.action||c,{preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||f,formEncType:l.encType||h,flushSync:l.flushSync})}else await i(l.action||c,{preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||f,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,n])}function j8(t,{relative:e}={}){let{basename:n}=T.useContext(di),r=T.useContext(Ca);Vt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Md(t||".",{relative:e})},l=$o();if(t==null){s.search=l.search;let c=new URLSearchParams(s.search),f=c.getAll("index");if(f.some(m=>m==="")){c.delete("index"),f.filter(p=>p).forEach(p=>c.append("index",p));let m=c.toString();s.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:as([n,s.pathname])),Jh(s)}function V8(t,{relative:e}={}){let n=T.useContext(DM);Vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=GM("useViewTransitionState"),i=Md(t,{relative:e});if(!n.isTransitioning)return!1;let s=ls(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ls(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Hg(i.pathname,l)!=null||Hg(i.pathname,s)!=null}var U8=NM();const z8=()=>{};var VR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge=function(t,e){if(!t)throw Zc(e)},Zc=function(t){return new Error("Firebase Database ("+KM.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},B8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],c=t[n++],f=((i&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},nx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,c=l?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,m=s>>2,p=(s&3)<<4|c>>4;let _=(c&15)<<2|h>>6,b=h&63;f||(b=64,l||(_=64)),r.push(n[m],n[p],n[_],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(WM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):B8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||h==null||p==null)throw new F8;const _=s<<2|c>>4;if(r.push(_),h!==64){const b=c<<4&240|h>>2;if(r.push(b),p!==64){const E=h<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class F8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YM=function(t){const e=WM(t);return nx.encodeByteArray(e,!0)},$g=function(t){return YM(t).replace(/\./g,"")},Gg=function(t){try{return nx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(t){return QM(void 0,t)}function QM(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!H8(n)||(t[n]=QM(t[n],e[n]));return t}function H8(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8=()=>$8().__FIREBASE_DEFAULTS__,K8=()=>{if(typeof process>"u"||typeof VR>"u")return;const t=VR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},W8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Gg(t[1]);return e&&JSON.parse(e)},yy=()=>{try{return z8()||G8()||K8()||W8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},XM=t=>{var e,n;return(n=(e=yy())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},ZM=t=>{const e=XM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},JM=()=>{var t;return(t=yy())==null?void 0:t.config},eD=t=>{var e;return(e=yy())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[$g(JSON.stringify(n)),$g(JSON.stringify(l)),""].join(".")}const zh={};function Y8(){const t={prod:[],emulator:[]};for(const e of Object.keys(zh))zh[e]?t.emulator.push(e):t.prod.push(e);return t}function Q8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let UR=!1;function ix(t,e){if(typeof window>"u"||typeof document>"u"||!Go(window.location.host)||zh[t]===e||zh[t]||UR)return;zh[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",s=Y8().prod.length>0;function l(){const _=document.getElementById(r);_&&_.remove()}function c(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,b){_.setAttribute("width","24"),_.setAttribute("id",b),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function h(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{UR=!0,l()},_}function m(_,b){_.setAttribute("id",b),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function p(){const _=Q8(r),b=n("text"),E=document.getElementById(b)||document.createElement("span"),x=n("learnmore"),A=document.getElementById(x)||document.createElement("a"),O=n("preprendIcon"),z=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const D=_.element;c(D),m(A,x);const H=h();f(z,O),D.append(z,E,A,H),document.body.appendChild(D)}s?(E.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ax(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rr())}function X8(){var e;const t=(e=yy())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Z8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function J8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eB(){const t=rr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tB(){return KM.NODE_ADMIN===!0}function nB(){return!X8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rB(){try{return typeof indexedDB=="object"}catch{return!1}}function iB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB="FirebaseError";class xs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aB,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dd.prototype.create)}}class Dd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?sB(s,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new xs(i,c,r)}}function sB(t,e){return t.replace(oB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const oB=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t){return JSON.parse(t)}function yn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=ed(Gg(s[0])||""),n=ed(Gg(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},lB=function(t){const e=rD(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},uB=function(t){const e=rD(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Sc(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function yE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kg(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Oo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(zR(s)&&zR(l)){if(!Oo(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ph(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function kh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)r[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)r[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){const _=r[p-3]^r[p-8]^r[p-14]^r[p-16];r[p]=(_<<1|_>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],l=this.chain_[2],c=this.chain_[3],f=this.chain_[4],h,m;for(let p=0;p<80;p++){p<40?p<20?(h=c^s&(l^c),m=1518500249):(h=s^l^c,m=1859775393):p<60?(h=s&l|c&(s|l),m=2400959708):(h=s^l^c,m=3395469782);const _=(i<<5|i>>>27)+h+f+m+r[p]&4294967295;f=c,c=l,l=(s<<30|s>>>2)&4294967295,s=i,i=_}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let l=this.inbuf_;for(;i<n;){if(l===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[l]=e.charCodeAt(i),++l,++i,l===this.blockSize){this.compress_(s),l=0;break}}else for(;i<n;)if(s[l]=e[i],++l,++i,l===this.blockSize){this.compress_(s),l=0;break}}this.inbuf_=l,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function fB(t,e){const n=new hB(t,e);return n.subscribe.bind(n)}class hB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=zb),i.error===void 0&&(i.error=zb),i.complete===void 0&&(i.complete=zb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zb(){}function sx(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ge(r<t.length,"Surrogate pair missing trail surrogate.");const l=t.charCodeAt(r)-56320;i=65536+(s<<10)+l}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},by=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t){return t&&t._delegate?t._delegate:t}class Po{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pB=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _y;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vB(e))try{this.getOrInitializeService({instanceIdentifier:Il})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Il){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Il){return this.instances.has(e)}getOptions(e=Il){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Il){return this.component?this.component.multipleInstances?e:Il:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function gB(t){return t===Il?void 0:t}function vB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const _B={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},bB=We.INFO,wB={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},EB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=wB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wy{constructor(e){this.name=e,this._logLevel=bB,this._logHandler=EB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_B[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const xB=(t,e)=>e.some(n=>t instanceof n);let BR,FR;function TB(){return BR||(BR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SB(){return FR||(FR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iD=new WeakMap,_E=new WeakMap,aD=new WeakMap,Bb=new WeakMap,ox=new WeakMap;function AB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Eo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&iD.set(n,t)}).catch(()=>{}),ox.set(e,t),e}function CB(t){if(_E.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});_E.set(t,e)}let bE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _E.get(t);if(e==="objectStoreNames")return t.objectStoreNames||aD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Eo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IB(t){bE=t(bE)}function RB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fb(this),e,...n);return aD.set(r,e.sort?e.sort():[e]),Eo(r)}:SB().includes(t)?function(...e){return t.apply(Fb(this),e),Eo(iD.get(this))}:function(...e){return Eo(t.apply(Fb(this),e))}}function NB(t){return typeof t=="function"?RB(t):(t instanceof IDBTransaction&&CB(t),xB(t,TB())?new Proxy(t,bE):t)}function Eo(t){if(t instanceof IDBRequest)return AB(t);if(Bb.has(t))return Bb.get(t);const e=NB(t);return e!==t&&(Bb.set(t,e),ox.set(e,t)),e}const Fb=t=>ox.get(t);function OB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),c=Eo(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Eo(l.result),f.oldVersion,f.newVersion,Eo(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const PB=["get","getKey","getAll","getAllKeys","count"],kB=["put","add","delete","clear"],qb=new Map;function qR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qb.get(e))return qb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=kB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||PB.includes(n)))return;const s=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),i&&f.done]))[0]};return qb.set(e,s),s}IB(t=>({...t,get:(e,n,r)=>qR(e,n)||t.get(e,n,r),has:(e,n)=>!!qR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function DB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wE="@firebase/app",HR="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new wy("@firebase/app"),LB="@firebase/app-compat",jB="@firebase/analytics-compat",VB="@firebase/analytics",UB="@firebase/app-check-compat",zB="@firebase/app-check",BB="@firebase/auth",FB="@firebase/auth-compat",qB="@firebase/database",HB="@firebase/data-connect",$B="@firebase/database-compat",GB="@firebase/functions",KB="@firebase/functions-compat",WB="@firebase/installations",YB="@firebase/installations-compat",QB="@firebase/messaging",XB="@firebase/messaging-compat",ZB="@firebase/performance",JB="@firebase/performance-compat",eF="@firebase/remote-config",tF="@firebase/remote-config-compat",nF="@firebase/storage",rF="@firebase/storage-compat",iF="@firebase/firestore",aF="@firebase/ai",sF="@firebase/firestore-compat",oF="firebase",lF="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="[DEFAULT]",uF={[wE]:"fire-core",[LB]:"fire-core-compat",[VB]:"fire-analytics",[jB]:"fire-analytics-compat",[zB]:"fire-app-check",[UB]:"fire-app-check-compat",[BB]:"fire-auth",[FB]:"fire-auth-compat",[qB]:"fire-rtdb",[HB]:"fire-data-connect",[$B]:"fire-rtdb-compat",[GB]:"fire-fn",[KB]:"fire-fn-compat",[WB]:"fire-iid",[YB]:"fire-iid-compat",[QB]:"fire-fcm",[XB]:"fire-fcm-compat",[ZB]:"fire-perf",[JB]:"fire-perf-compat",[eF]:"fire-rc",[tF]:"fire-rc-compat",[nF]:"fire-gcs",[rF]:"fire-gcs-compat",[iF]:"fire-fst",[sF]:"fire-fst-compat",[aF]:"fire-vertex","fire-js":"fire-js",[oF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=new Map,cF=new Map,xE=new Map;function $R(t,e){try{t.container.addComponent(e)}catch(n){us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ql(t){const e=t.name;if(xE.has(e))return us.debug(`There were multiple attempts to register component ${e}.`),!1;xE.set(e,t);for(const n of Wg.values())$R(n,t);for(const n of cF.values())$R(n,t);return!0}function Ey(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function si(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xo=new Dd("app","Firebase",fF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=lF;function sD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:EE,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw xo.create("bad-app-name",{appName:String(i)});if(n||(n=JM()),!n)throw xo.create("no-options");const s=Wg.get(i);if(s){if(Oo(n,s.options)&&Oo(r,s.config))return s;throw xo.create("duplicate-app",{appName:i})}const l=new yB(i);for(const f of xE.values())l.addComponent(f);const c=new hF(n,r,l);return Wg.set(i,c),c}function lx(t=EE){const e=Wg.get(t);if(!e&&t===EE&&JM())return sD();if(!e)throw xo.create("no-app",{appName:t});return e}function pa(t,e,n){let r=uF[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),us.warn(l.join(" "));return}ql(new Po(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF="firebase-heartbeat-database",mF=1,td="firebase-heartbeat-store";let Hb=null;function oD(){return Hb||(Hb=OB(dF,mF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(td)}catch(n){console.warn(n)}}}}).catch(t=>{throw xo.create("idb-open",{originalErrorMessage:t.message})})),Hb}async function pF(t){try{const n=(await oD()).transaction(td),r=await n.objectStore(td).get(lD(t));return await n.done,r}catch(e){if(e instanceof xs)us.warn(e.message);else{const n=xo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});us.warn(n.message)}}}async function GR(t,e){try{const r=(await oD()).transaction(td,"readwrite");await r.objectStore(td).put(e,lD(t)),await r.done}catch(n){if(n instanceof xs)us.warn(n.message);else{const r=xo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});us.warn(r.message)}}}function lD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF=1024,vF=30;class yF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=KR();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>vF){const l=wF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){us.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=KR(),{heartbeatsToSend:r,unsentEntries:i}=_F(this._heartbeatsCache.heartbeats),s=$g(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return us.warn(n),""}}}function KR(){return new Date().toISOString().substring(0,10)}function _F(t,e=gF){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),WR(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),WR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class bF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rB()?iB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return GR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return GR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function WR(t){return $g(JSON.stringify({version:2,heartbeats:t})).length}function wF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(t){ql(new Po("platform-logger",e=>new MB(e),"PRIVATE")),ql(new Po("heartbeat",e=>new yF(e),"PRIVATE")),pa(wE,HR,t),pa(wE,HR,"esm2020"),pa("fire-js","")}EF("");function uD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xF=uD,cD=new Dd("auth","Firebase",uD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg=new wy("@firebase/auth");function TF(t,...e){Yg.logLevel<=We.WARN&&Yg.warn(`Auth (${nu}): ${t}`,...e)}function Sg(t,...e){Yg.logLevel<=We.ERROR&&Yg.error(`Auth (${nu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t,...e){throw ux(t,...e)}function ga(t,...e){return ux(t,...e)}function fD(t,e,n){const r={...xF(),[e]:n};return new Dd("auth","Firebase",r).create(e,{appName:t.name})}function To(t){return fD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ux(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return cD.create(t,...e)}function Oe(t,e,...n){if(!t)throw ux(e,...n)}function es(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sg(e),new Error(e)}function cs(t,e){t||es(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function SF(){return YR()==="http:"||YR()==="https:"}function YR(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SF()||J8()||"connection"in navigator)?navigator.onLine:!0}function CF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n){this.shortDelay=e,this.longDelay=n,cs(n>e,"Short delay should be less than long delay!"),this.isMobile=ax()||nD()}get(){return AF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(t,e){cs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NF=new Ld(3e4,6e4);function ru(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ko(t,e,n,r,i={}){return dD(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const c=Jc({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...s};return Z8()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Go(t.emulatorConfig.host)&&(h.credentials="include"),hD.fetch()(await mD(t,t.config.apiHost,n,c),h)})}async function dD(t,e,n){t._canInitEmulator=!1;const r={...IF,...e};try{const i=new PF(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw eg(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const c=s.ok?l.errorMessage:l.error.message,[f,h]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw eg(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw eg(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw eg(t,"user-disabled",l);const m=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw fD(t,m,h);Ui(t,m)}}catch(i){if(i instanceof xs)throw i;Ui(t,"network-request-failed",{message:String(i)})}}async function xy(t,e,n,r,i={}){const s=await Ko(t,e,n,r,i);return"mfaPendingCredential"in s&&Ui(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function mD(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?cx(t.config,i):`${t.config.apiScheme}://${i}`;return RF.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}function OF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ga(this.auth,"network-request-failed")),NF.get())})}}function eg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ga(t,e,r);return i.customData._tokenResponse=n,i}function QR(t){return t!==void 0&&t.enterprise!==void 0}class kF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return OF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MF(t,e){return Ko(t,"GET","/v2/recaptchaConfig",ru(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DF(t,e){return Ko(t,"POST","/v1/accounts:delete",e)}async function Qg(t,e){return Ko(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LF(t,e=!1){const n=Xt(t),r=await n.getIdToken(e),i=fx(r);Oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Bh($b(i.auth_time)),issuedAtTime:Bh($b(i.iat)),expirationTime:Bh($b(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function $b(t){return Number(t)*1e3}function fx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Gg(n);return i?JSON.parse(i):(Sg("Failed to decode base64 JWT payload"),null)}catch(i){return Sg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function XR(t){const e=fx(t);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xs&&jF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function jF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bh(this.lastLoginAt),this.creationTime=Bh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xg(t){var p;const e=t.auth,n=await t.getIdToken(),r=await nd(t,Qg(e,{idToken:n}));Oe(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(p=i.providerUserInfo)!=null&&p.length?pD(i.providerUserInfo):[],l=zF(t.providerData,s),c=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=c?f:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new SE(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function UF(t){const e=Xt(t);await Xg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function pD(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BF(t,e){const n=await dD(t,{},async()=>{const r=Jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await mD(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return t.emulatorConfig&&Go(t.emulatorConfig.host)&&(f.credentials="include"),hD.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FF(t,e){return Ko(t,"POST","/v2/accounts:revokeToken",ru(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=XR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await BF(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new pc;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Oe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(Oe(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pc,this.toJSON())}_performRefresh(){return es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(t,e){Oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new VF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new SE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await nd(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return LF(this,e)}reload(){return UF(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(To(this.auth));const e=await this.getIdToken();return await nd(this,DF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:p,emailVerified:_,isAnonymous:b,providerData:E,stsTokenManager:x}=n;Oe(p&&x,e,"internal-error");const A=pc.fromJSON(this.name,x);Oe(typeof p=="string",e,"internal-error"),fo(r,e.name),fo(i,e.name),Oe(typeof _=="boolean",e,"internal-error"),Oe(typeof b=="boolean",e,"internal-error"),fo(s,e.name),fo(l,e.name),fo(c,e.name),fo(f,e.name),fo(h,e.name),fo(m,e.name);const O=new Pi({uid:p,auth:e,email:i,emailVerified:_,displayName:r,isAnonymous:b,photoURL:l,phoneNumber:s,tenantId:c,stsTokenManager:A,createdAt:h,lastLoginAt:m});return E&&Array.isArray(E)&&(O.providerData=E.map(z=>({...z}))),f&&(O._redirectEventId=f),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new pc;i.updateFromServerResponse(n);const s=new Pi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Xg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Oe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?pD(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),c=new pc;c.updateFromIdToken(r);const f=new Pi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new SE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=new Map;function ts(t){cs(t instanceof Function,"Expected a class definition");let e=ZR.get(t);return e?(cs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ZR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gD.type="NONE";const JR=gD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(t,e,n){return`firebase:${t}:${e}:${n}`}class gc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ag(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ag("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Qg(this.auth,{idToken:e}).catch(()=>{});return n?Pi._fromGetAccountInfoResponse(this.auth,n,e):null}return Pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new gc(ts(JR),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||ts(JR);const l=Ag(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const m=await h._get(l);if(m){let p;if(typeof m=="string"){const _=await Qg(e,{idToken:m}).catch(()=>{});if(!_)break;p=await Pi._fromGetAccountInfoResponse(e,_,m)}else p=Pi._fromJSON(e,m);h!==s&&(c=p),s=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new gc(s,e,r):(s=f[0],c&&await s._set(l,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new gc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ED(e))return"Blackberry";if(xD(e))return"Webos";if(yD(e))return"Safari";if((e.includes("chrome/")||_D(e))&&!e.includes("edge/"))return"Chrome";if(wD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function vD(t=rr()){return/firefox\//i.test(t)}function yD(t=rr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _D(t=rr()){return/crios\//i.test(t)}function bD(t=rr()){return/iemobile/i.test(t)}function wD(t=rr()){return/android/i.test(t)}function ED(t=rr()){return/blackberry/i.test(t)}function xD(t=rr()){return/webos/i.test(t)}function hx(t=rr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qF(t=rr()){var e;return hx(t)&&!!((e=window.navigator)!=null&&e.standalone)}function HF(){return eB()&&document.documentMode===10}function TD(t=rr()){return hx(t)||wD(t)||xD(t)||ED(t)||/windows phone/i.test(t)||bD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t,e=[]){let n;switch(t){case"Browser":n=eN(rr());break;case"Worker":n=`${eN(rr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${nu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,c)=>{try{const f=e(s);l(f)}catch(f){c(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GF(t,e={}){return Ko(t,"GET","/v2/passwordPolicy",ru(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF=6;class WF{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??KF,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tN(this),this.idTokenSubscription=new tN(this),this.beforeStateQueue=new $F(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ts(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await gc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qg(this,{idToken:e}),r=await Pi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(si(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(s=this.redirectUser)==null?void 0:s._redirectEventId,c=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&(f!=null&&f.user)&&(r=f.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(si(this.app))return Promise.reject(To(this));const n=e?Xt(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(To(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return si(this.app)?Promise.reject(To(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GF(this),n=new WF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Dd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await FF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ts(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await gc.create(this,[ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(c,this,"internal-error"),c.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&TF(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ef(t){return Xt(t)}class tN{constructor(e){this.auth=e,this.observer=null,this.addObserver=fB(n=>this.observer=n)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ty={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QF(t){Ty=t}function AD(t){return Ty.loadJS(t)}function XF(){return Ty.recaptchaEnterpriseScript}function ZF(){return Ty.gapiScript}function JF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class e7{constructor(){this.enterprise=new t7}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class t7{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const n7="recaptcha-enterprise",CD="NO_RECAPTCHA";class r7{constructor(e){this.type=n7,this.auth=ef(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,c)=>{MF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new kF(f);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,l(h.siteKey)}}).catch(f=>{c(f)})})}function i(s,l,c){const f=window.grecaptcha;QR(f)?f.enterprise.ready(()=>{f.enterprise.execute(s,{action:e}).then(h=>{l(h)}).catch(()=>{l(CD)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new e7().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(c=>{if(!n&&QR(window.grecaptcha))i(c,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=XF();f.length!==0&&(f+=c),AD(f).then(()=>{i(c,s,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function nN(t,e,n,r=!1,i=!1){const s=new r7(t);let l;if(i)l=CD;else try{l=await s.verify(n)}catch{l=await s.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function rN(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await nN(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await nN(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i7(t,e){const n=Ey(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Oo(s,e??{}))return i;Ui(i,"already-initialized")}return n.initialize({options:e})}function a7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ts);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function s7(t,e,n){const r=ef(t);Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=ID(e),{host:l,port:c}=o7(e),f=c===null?"":`:${c}`,h={url:`${s}//${l}${f}/`},m=Object.freeze({host:l,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Oe(Oo(h,r.config.emulator)&&Oo(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Go(l)?(rx(`${s}//${l}${f}`),ix("Auth",!0)):l7()}function ID(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function o7(t){const e=ID(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:iN(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:iN(l)}}}function iN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function l7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return es("not implemented")}_getIdTokenResponse(e){return es("not implemented")}_linkToIdToken(e,n){return es("not implemented")}_getReauthenticationResolver(e){return es("not implemented")}}async function u7(t,e){return Ko(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c7(t,e){return xy(t,"POST","/v1/accounts:signInWithPassword",ru(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f7(t,e){return xy(t,"POST","/v1/accounts:signInWithEmailLink",ru(t,e))}async function h7(t,e){return xy(t,"POST","/v1/accounts:signInWithEmailLink",ru(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends dx{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new rd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new rd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rN(e,n,"signInWithPassword",c7);case"emailLink":return f7(e,{email:this._email,oobCode:this._password});default:Ui(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rN(e,r,"signUpPassword",u7);case"emailLink":return h7(e,{idToken:n,email:this._email,oobCode:this._password});default:Ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vc(t,e){return xy(t,"POST","/v1/accounts:signInWithIdp",ru(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7="http://localhost";class Hl extends dx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new Hl(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return vc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vc(e,n)}buildRequest(){const e={requestUri:d7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function p7(t){const e=Ph(kh(t)).link,n=e?Ph(kh(e)).deep_link_id:null,r=Ph(kh(t)).deep_link_id;return(r?Ph(kh(r)).link:null)||r||n||e||t}class mx{constructor(e){const n=Ph(kh(e)),r=n.apiKey??null,i=n.oobCode??null,s=m7(n.mode??null);Oe(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=p7(e);try{return new mx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(){this.providerId=tf.PROVIDER_ID}static credential(e,n){return rd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=mx.parseLink(n);return Oe(r,"argument-error"),rd._fromEmailAndCode(e,r.code,r.tenantId)}}tf.PROVIDER_ID="password";tf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends RD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends jd{constructor(){super("facebook.com")}static credential(e){return Hl._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return go.credential(e.oauthAccessToken)}catch{return null}}}go.FACEBOOK_SIGN_IN_METHOD="facebook.com";go.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends jd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hl._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return vo.credential(n,r)}catch{return null}}}vo.GOOGLE_SIGN_IN_METHOD="google.com";vo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends jd{constructor(){super("github.com")}static credential(e){return Hl._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yo.credential(e.oauthAccessToken)}catch{return null}}}yo.GITHUB_SIGN_IN_METHOD="github.com";yo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends jd{constructor(){super("twitter.com")}static credential(e,n){return Hl._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return _o.credential(n,r)}catch{return null}}}_o.TWITTER_SIGN_IN_METHOD="twitter.com";_o.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Pi._fromIdTokenResponse(e,r,i),l=aN(r);return new Ac({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=aN(r);return new Ac({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function aN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg extends xs{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Zg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Zg(e,n,r,i)}}function ND(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Zg._fromErrorAndOperation(t,s,e,r):s})}async function g7(t,e,n=!1){const r=await nd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ac._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v7(t,e,n=!1){const{auth:r}=t;if(si(r.app))return Promise.reject(To(r));const i="reauthenticate";try{const s=await nd(t,ND(r,i,e,t),n);Oe(s.idToken,r,"internal-error");const l=fx(s.idToken);Oe(l,r,"internal-error");const{sub:c}=l;return Oe(t.uid===c,r,"user-mismatch"),Ac._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ui(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(t,e,n=!1){if(si(t.app))return Promise.reject(To(t));const r="signIn",i=await ND(t,r,e),s=await Ac._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function y7(t,e){return OD(ef(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _7(t){const e=ef(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function b7(t,e,n){return si(t.app)?Promise.reject(To(t)):y7(Xt(t),tf.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_7(t),r})}function w7(t,e,n,r){return Xt(t).onIdTokenChanged(e,n,r)}function E7(t,e,n){return Xt(t).beforeAuthStateChanged(e,n)}function x7(t,e,n,r){return Xt(t).onAuthStateChanged(e,n,r)}function T7(t){return Xt(t).signOut()}const Jg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jg,"1"),this.storage.removeItem(Jg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7=1e3,A7=10;class kD extends PD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);HF()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,A7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},S7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kD.type="LOCAL";const C7=kD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD extends PD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MD.type="SESSION";const DD=MD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Sy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async h=>h(n.origin,s)),f=await I7(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((c,f)=>{const h=px("",20);i.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(p){const _=p;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(_.data.response);break;default:clearTimeout(m),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(){return window}function N7(t){va().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(){return typeof va().WorkerGlobalScope<"u"&&typeof va().importScripts=="function"}async function O7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function P7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function k7(){return LD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="firebaseLocalStorageDb",M7=1,ev="firebaseLocalStorage",VD="fbase_key";class Vd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ay(t,e){return t.transaction([ev],e?"readwrite":"readonly").objectStore(ev)}function D7(){const t=indexedDB.deleteDatabase(jD);return new Vd(t).toPromise()}function AE(){const t=indexedDB.open(jD,M7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ev,{keyPath:VD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ev)?e(r):(r.close(),await D7(),e(await AE()))})})}async function sN(t,e,n){const r=Ay(t,!0).put({[VD]:e,value:n});return new Vd(r).toPromise()}async function L7(t,e){const n=Ay(t,!1).get(e),r=await new Vd(n).toPromise();return r===void 0?null:r.value}function oN(t,e){const n=Ay(t,!0).delete(e);return new Vd(n).toPromise()}const j7=800,V7=3;class UD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await AE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>V7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sy._getInstance(k7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await O7(),!this.activeServiceWorker)return;this.sender=new R7(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||P7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await AE();return await sN(e,Jg,"1"),await oN(e,Jg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>sN(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>L7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>oN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ay(i,!1).getAll();return new Vd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),j7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UD.type="LOCAL";const U7=UD;new Ld(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z7(t,e){return e?ts(e):(Oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx extends dx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function B7(t){return OD(t.auth,new gx(t),t.bypassAuthState)}function F7(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),v7(n,new gx(t),t.bypassAuthState)}async function q7(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),g7(n,new gx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B7;case"linkViaPopup":case"linkViaRedirect":return q7;case"reauthViaPopup":case"reauthViaRedirect":return F7;default:Ui(this.auth,"internal-error")}}resolve(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H7=new Ld(2e3,1e4);class fc extends zD{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,fc.currentPopupAction&&fc.currentPopupAction.cancel(),fc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){cs(this.filter.length===1,"Popup operations only handle one event");const e=px();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ga(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ga(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ga(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,H7.get())};e()}}fc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7="pendingRedirect",Cg=new Map;class G7 extends zD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cg.get(this.auth._key());if(!e){try{const r=await K7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cg.set(this.auth._key(),e)}return this.bypassAuthState||Cg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function K7(t,e){const n=Q7(e),r=Y7(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function W7(t,e){Cg.set(t._key(),e)}function Y7(t){return ts(t._redirectPersistence)}function Q7(t){return Ag($7,t.config.apiKey,t.name)}async function X7(t,e,n=!1){if(si(t.app))return Promise.reject(To(t));const r=ef(t),i=z7(r,e),l=await new G7(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7=600*1e3;class J7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eq(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!BD(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ga(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Z7&&this.cachedEventUids.clear(),this.cachedEventUids.has(lN(e))}saveEventToCache(e){this.cachedEventUids.add(lN(e)),this.lastProcessedEventTime=Date.now()}}function lN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function BD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tq(t,e={}){return Ko(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rq=/^https?/;async function iq(t){if(t.config.emulator)return;const{authorizedDomains:e}=await tq(t);for(const n of e)try{if(aq(n))return}catch{}Ui(t,"unauthorized-domain")}function aq(t){const e=TE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!rq.test(n))return!1;if(nq.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sq=new Ld(3e4,6e4);function uN(){const t=va().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function oq(t){return new Promise((e,n)=>{var i,s,l;function r(){uN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uN(),n(ga(t,"network-request-failed"))},timeout:sq.get()})}if((s=(i=va().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((l=va().gapi)!=null&&l.load)r();else{const c=JF("iframefcb");return va()[c]=()=>{gapi.load?r():n(ga(t,"network-request-failed"))},AD(`${ZF()}?onload=${c}`).catch(f=>n(f))}}).catch(e=>{throw Ig=null,e})}let Ig=null;function lq(t){return Ig=Ig||oq(t),Ig}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq=new Ld(5e3,15e3),cq="__/auth/iframe",fq="emulator/auth/iframe",hq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mq(t){const e=t.config;Oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cx(e,fq):`https://${t.config.authDomain}/${cq}`,r={apiKey:e.apiKey,appName:t.name,v:nu},i=dq.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Jc(r).slice(1)}`}async function pq(t){const e=await lq(t),n=va().gapi;return Oe(n,t,"internal-error"),e.open({where:document.body,url:mq(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hq,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=ga(t,"network-request-failed"),c=va().setTimeout(()=>{s(l)},uq.get());function f(){va().clearTimeout(c),i(r)}r.ping(f).then(f,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vq=500,yq=600,_q="_blank",bq="http://localhost";class cN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wq(t,e,n,r=vq,i=yq){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f={...gq,width:r.toString(),height:i.toString(),top:s,left:l},h=rr().toLowerCase();n&&(c=_D(h)?_q:n),vD(h)&&(e=e||bq,f.scrollbars="yes");const m=Object.entries(f).reduce((_,[b,E])=>`${_}${b}=${E},`,"");if(qF(h)&&c!=="_self")return Eq(e||"",c),new cN(null);const p=window.open(e||"",c,m);Oe(p,t,"popup-blocked");try{p.focus()}catch{}return new cN(p)}function Eq(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xq="__/auth/handler",Tq="emulator/auth/handler",Sq=encodeURIComponent("fac");async function fN(t,e,n,r,i,s){Oe(t.config.authDomain,t,"auth-domain-config-required"),Oe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:nu,eventId:i};if(e instanceof RD){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",yE(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,p]of Object.entries({}))l[m]=p}if(e instanceof jd){const m=e.getScopes().filter(p=>p!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const f=await t._getAppCheckToken(),h=f?`#${Sq}=${encodeURIComponent(f)}`:"";return`${Aq(t)}?${Jc(c).slice(1)}${h}`}function Aq({config:t}){return t.emulator?cx(t,Tq):`https://${t.authDomain}/${xq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="webStorageSupport";class Cq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DD,this._completeRedirectFn=X7,this._overrideRedirectResult=W7}async _openPopup(e,n,r,i){var l;cs((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const s=await fN(e,n,r,TE(),i);return wq(e,s,px())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await fN(e,n,r,TE(),i);return N7(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(cs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await pq(e),r=new J7(e);return n.register("authEvent",i=>(Oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gb,{type:Gb},i=>{var l;const s=(l=i==null?void 0:i[0])==null?void 0:l[Gb];s!==void 0&&n(!!s),Ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iq(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return TD()||yD()||hx()}}const Iq=Cq;var hN="@firebase/auth",dN="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Oq(t){ql(new Po("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Oe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SD(t)},h=new YF(r,i,s,f);return a7(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ql(new Po("auth-internal",e=>{const n=ef(e.getProvider("auth").getImmediate());return(r=>new Rq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pa(hN,dN,Nq(t)),pa(hN,dN,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq=300,kq=eD("authIdTokenMaxAge")||Pq;let mN=null;const Mq=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>kq)return;const i=n==null?void 0:n.token;mN!==i&&(mN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Dq(t=lx()){const e=Ey(t,"auth");if(e.isInitialized())return e.getImmediate();const n=i7(t,{popupRedirectResolver:Iq,persistence:[U7,C7,DD]}),r=eD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=Mq(s.toString());E7(n,l,()=>l(n.currentUser)),w7(n,c=>l(c))}}const i=XM("auth");return i&&s7(n,`http://${i}`),n}function Lq(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}QF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ga("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Lq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Oq("Browser");var jq="firebase",Vq="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pa(jq,Vq,"app");var pN={};const gN="@firebase/database",vN="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FD="";function Uq(t){FD=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),yn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ed(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ts(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new zq(e)}}catch{}return new Bq},kl=qD("localStorage"),Fq=qD("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=new wy("@firebase/database"),qq=(function(){let t=1;return function(){return t++}})(),HD=function(t){const e=mB(t),n=new cB;n.update(e);const r=n.digest();return nx.encodeByteArray(r)},Ud=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ud.apply(null,r):typeof r=="object"?e+=yn(r):e+=r,e+=" "}return e};let Fh=null,yN=!0;const Hq=function(t,e){ge(!0,"Can't turn on custom loggers persistently."),yc.logLevel=We.VERBOSE,Fh=yc.log.bind(yc)},er=function(...t){if(yN===!0&&(yN=!1,Fh===null&&Fq.get("logging_enabled")===!0&&Hq()),Fh){const e=Ud.apply(null,t);Fh(e)}},zd=function(t){return function(...e){er(t,...e)}},CE=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ud(...t);yc.error(e)},fs=function(...t){const e=`FIREBASE FATAL ERROR: ${Ud(...t)}`;throw yc.error(e),new Error(e)},xr=function(...t){const e="FIREBASE WARNING: "+Ud(...t);yc.warn(e)},$q=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&xr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},$D=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Gq=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Cc="[MIN_NAME]",$l="[MAX_NAME]",nf=function(t,e){if(t===e)return 0;if(t===Cc||e===$l)return-1;if(e===Cc||t===$l)return 1;{const n=_N(t),r=_N(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Kq=function(t,e){return t===e?0:t<e?-1:1},wh=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+yn(e))},vx=function(t){if(typeof t!="object"||t===null)return yn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=yn(e[r]),n+=":",n+=vx(t[e[r]]);return n+="}",n},GD=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Tr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const KD=function(t){ge(!$D(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,l,c,f;t===0?(s=0,l=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=c+r,l=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,l=Math.round(t/Math.pow(2,1-r-n))));const h=[];for(f=n;f;f-=1)h.push(l%2?1:0),l=Math.floor(l/2);for(f=e;f;f-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();const m=h.join("");let p="";for(f=0;f<64;f+=8){let _=parseInt(m.substr(f,8),2).toString(16);_.length===1&&(_="0"+_),p=p+_}return p.toLowerCase()},Wq=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Yq=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Qq(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Xq=new RegExp("^-?(0*)\\d{1,10}$"),Zq=-2147483648,Jq=2147483647,_N=function(t){if(Xq.test(t)){const e=Number(t);if(e>=Zq&&e<=Jq)return e}return null},rf=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw xr("Exception was thrown by user callback.",n),e},Math.floor(0))}},eH=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},qh=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,si(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){xr(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(er("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xr(e)}}class Rg{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Rg.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="5",WD="v",YD="s",QD="r",XD="f",ZD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,JD="ls",eL="p",IE="ac",tL="websocket",nL="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n,r,i,s=!1,l="",c=!1,f=!1,h=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=f,this.emulatorOptions=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=kl.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&kl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function rH(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function iL(t,e,n){ge(typeof e=="string","typeof type must == string"),ge(typeof n=="object","typeof params must == object");let r;if(e===tL)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===nL)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);rH(t)&&(n.ns=t.namespace);const i=[];return Tr(n,(s,l)=>{i.push(s+"="+l)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(){this.counters_={}}incrementCounter(e,n=1){Ts(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return q8(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb={},Wb={};function _x(t){const e=t.toString();return Kb[e]||(Kb[e]=new iH),Kb[e]}function aH(t,e){const n=t.toString();return Wb[n]||(Wb[n]=e()),Wb[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&rf(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="start",oH="close",lH="pLPCommand",uH="pRTLPCB",aL="id",sL="pw",oL="ser",cH="cb",fH="seg",hH="ts",dH="d",mH="dframe",lL=1870,uL=30,pH=lL-uL,gH=25e3,vH=3e4;class hc{constructor(e,n,r,i,s,l,c){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=l,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=zd(e),this.stats_=_x(n),this.urlFn=f=>(this.appCheckToken&&(f[IE]=this.appCheckToken),iL(n,nL,f))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new sH(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(vH)),Gq(()=>{if(this.isClosed_)return;this.scriptTagHolder=new bx((...s)=>{const[l,c,f,h,m]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===bN)this.id=c,this.password=f;else if(l===oH)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...s)=>{const[l,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[bN]="t",r[oL]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[cH]=this.scriptTagHolder.uniqueCallbackIdentifier),r[WD]=yx,this.transportSessionId&&(r[YD]=this.transportSessionId),this.lastSessionId&&(r[JD]=this.lastSessionId),this.applicationId&&(r[eL]=this.applicationId),this.appCheckToken&&(r[IE]=this.appCheckToken),typeof location<"u"&&location.hostname&&ZD.test(location.hostname)&&(r[QD]=XD);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){hc.forceAllow_=!0}static forceDisallow(){hc.forceDisallow_=!0}static isAvailable(){return hc.forceAllow_?!0:!hc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Wq()&&!Yq()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=yn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=YM(n),i=GD(r,pH);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[mH]="t",r[aL]=e,r[sL]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=yn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class bx{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=qq(),window[lH+this.uniqueCallbackIdentifier]=e,window[uH+this.uniqueCallbackIdentifier]=n,this.myIFrame=bx.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){er("frame writing exception"),c.stack&&er(c.stack),er(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||er("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[aL]=this.myID,e[sL]=this.myPW,e[oL]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+uL+r.length<=lL;){const l=this.pendingSegs.shift();r=r+"&"+fH+i+"="+l.seg+"&"+hH+i+"="+l.ts+"&"+dH+i+"="+l.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(gH)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{er("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yH=16384,_H=45e3;let tv=null;typeof MozWebSocket<"u"?tv=MozWebSocket:typeof WebSocket<"u"&&(tv=WebSocket);class Ii{constructor(e,n,r,i,s,l,c){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=zd(this.connId),this.stats_=_x(n),this.connURL=Ii.connectionURL_(n,l,c,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const l={};return l[WD]=yx,typeof location<"u"&&location.hostname&&ZD.test(location.hostname)&&(l[QD]=XD),n&&(l[YD]=n),r&&(l[JD]=r),i&&(l[IE]=i),s&&(l[eL]=s),iL(e,tL,l)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,kl.set("previous_websocket_failure",!0);try{let r;tB(),this.mySock=new tv(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Ii.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&tv!==null&&!Ii.forceDisallow_}static previouslyFailed(){return kl.isInMemoryStorage||kl.get("previous_websocket_failure")===!0}markConnectionHealthy(){kl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ed(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ge(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=yn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=GD(n,yH);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(_H))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ii.responsesRequiredToBeHealthy=2;Ii.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{static get ALL_TRANSPORTS(){return[hc,Ii]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Ii&&Ii.isAvailable();let r=n&&!Ii.previouslyFailed();if(e.webSocketOnly&&(n||xr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ii];else{const i=this.transports_=[];for(const s of id.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);id.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}id.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH=6e4,wH=5e3,EH=10*1024,xH=100*1024,Yb="t",wN="d",TH="s",EN="r",SH="e",xN="o",TN="a",SN="n",AN="p",AH="h";class CH{constructor(e,n,r,i,s,l,c,f,h,m){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=l,this.onReady_=c,this.onDisconnect_=f,this.onKill_=h,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=zd("c:"+this.id+":"),this.transportManager_=new id(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=qh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>xH?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>EH?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Yb in e){const n=e[Yb];n===TN?this.upgradeIfSecondaryHealthy_():n===EN?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===xN&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=wh("t",e),r=wh("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:AN,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:TN,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:SN,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=wh("t",e),r=wh("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=wh(Yb,e);if(wN in e){const r=e[wN];if(n===AH){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===SN){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===TH?this.onConnectionShutdown_(r):n===EN?this.onReset_(r):n===SH?CE("Server Error: "+r):n===xN?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):CE("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),yx!==r&&xr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),qh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(bH))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):qh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(wH))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:AN,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(kl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fL=class{constructor(e){this.allowedEvents_=e,this.listeners_={},ge(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){ge(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv extends fL{static getInstance(){return new nv}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ax()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ge(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=32,IN=768;let At=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function lt(){return new At("")}function qe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ko(t){return t.pieces_.length-t.pieceNum_}function It(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new At(t.pieces_,e)}function hL(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function IH(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function dL(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function mL(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new At(e,0)}function _n(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof At)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new At(n,0)}function Ye(t){return t.pieceNum_>=t.pieces_.length}function ur(t,e){const n=qe(t),r=qe(e);if(n===null)return e;if(n===r)return ur(It(t),It(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function wx(t,e){if(ko(t)!==ko(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function ki(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ko(t)>ko(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class RH{constructor(e,n){this.errorPrefix_=n,this.parts_=dL(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=by(this.parts_[r]);pL(this)}}function NH(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=by(e),pL(t)}function OH(t){const e=t.parts_.pop();t.byteLength_-=by(e),t.parts_.length>0&&(t.byteLength_-=1)}function pL(t){if(t.byteLength_>IN)throw new Error(t.errorPrefix_+"has a key path longer than "+IN+" bytes ("+t.byteLength_+").");if(t.parts_.length>CN)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+CN+") or object contains a cycle "+Rl(t))}function Rl(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex extends fL{static getInstance(){return new Ex}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ge(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=1e3,PH=300*1e3,RN=30*1e3,kH=1.3,MH=3e4,DH="server_kill",NN=3;class ss extends cL{constructor(e,n,r,i,s,l,c,f){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=l,this.appCheckTokenProvider_=c,this.authOverride_=f,this.id=ss.nextPersistentConnectionId_++,this.log_=zd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Eh,this.maxReconnectDelay_=PH,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ex.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&nv.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(yn(s)),ge(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new _y,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const c=l.d;l.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+s),this.listens.has(l)||this.listens.set(l,new Map),ge(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ge(!this.listens.get(l).has(s),"listen() called twice for same path/queryId.");const c={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(l).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},l="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(l,s,c=>{const f=c.d,h=c.s;ss.warnOnListenWarnings_(f,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",c),h!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(h,f))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ts(e,"w")){const r=Sc(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();xr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||uB(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=RN)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=lB(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,l=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ge(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},l="n";i&&(s.q=r,s.t=i),this.sendRequest(l,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,l=>{i&&setTimeout(()=>{i(l.s,l.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const l={p:n,d:r};s!==void 0&&(l.h=s),this.outstandingPuts_.push({action:e,request:l,onComplete:i}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+yn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):CE("Unrecognized action received from server: "+yn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ge(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Eh,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Eh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>MH&&(this.reconnectDelay_=Eh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*kH)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+ss.nextConnectionId_++,s=this.lastSessionId;let l=!1,c=null;const f=function(){c?c.close():(l=!0,r())},h=function(p){ge(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(p)};this.realtime_={close:f,sendRequest:h};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,_]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);l?er("getToken() completed but was canceled"):(er("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=_&&_.token,c=new CH(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,b=>{xr(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(DH)},s))}catch(p){this.log_("Failed to get token: "+p),l||(this.repoInfo_.nodeAdmin&&xr(p),f())}}}interrupt(e){er("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){er("Resuming connection for reason: "+e),delete this.interruptReasons_[e],yE(this.interruptReasons_)&&(this.reconnectDelay_=Eh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>vx(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new At(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){er("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=NN&&(this.reconnectDelay_=RN,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){er("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=NN&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+FD.replace(/\./g,"-")]=1,ax()?e["framework.cordova"]=1:nD()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=nv.getInstance().currentlyOnline();return yE(this.interruptReasons_)&&e}}ss.nextPersistentConnectionId_=0;ss.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new He(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new He(Cc,e),i=new He(Cc,n);return this.compare(r,i)!==0}minPost(){return He.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tg;class gL extends Cy{static get __EMPTY_NODE(){return tg}static set __EMPTY_NODE(e){tg=e}compare(e,n){return nf(e.name,n.name)}isDefinedOn(e){throw Zc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return He.MIN}maxPost(){return new He($l,tg)}makePost(e,n){return ge(typeof e=="string","KeyIndex indexValue must always be a string."),new He(e,tg)}toString(){return".key"}}const _c=new gL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ng=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=n?r(e.key,n):1,i&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Lr=class Mh{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Mh.RED,this.left=i??da.EMPTY_NODE,this.right=s??da.EMPTY_NODE}copy(e,n,r,i,s){return new Mh(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return da.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return da.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Mh.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Mh.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};Lr.RED=!0;Lr.BLACK=!1;class LH{copy(e,n,r,i,s){return this}insert(e,n,r){return new Lr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let da=class Ng{constructor(e,n=Ng.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ng(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Lr.BLACK,null,null))}remove(e){return new Ng(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Lr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ng(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ng(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ng(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ng(this.root_,null,this.comparator_,!0,e)}};da.EMPTY_NODE=new LH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jH(t,e){return nf(t.name,e.name)}function xx(t,e){return nf(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RE;function VH(t){RE=t}const vL=function(t){return typeof t=="number"?"number:"+KD(t):"string:"+t},yL=function(t){if(t.isLeafNode()){const e=t.val();ge(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ts(e,".sv"),"Priority must be a string or number.")}else ge(t===RE||t.isEmpty(),"priority of unexpected type.");ge(t===RE||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ON;class Nn{static set __childrenNodeConstructor(e){ON=e}static get __childrenNodeConstructor(){return ON}constructor(e,n=Nn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ge(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),yL(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Nn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Nn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ye(e)?this:qe(e)===".priority"?this.priorityNode_:Nn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Nn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=qe(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ge(r!==".priority"||ko(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Nn.__childrenNodeConstructor.EMPTY_NODE.updateChild(It(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+vL(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=KD(this.value_):e+=this.value_,this.lazyHash_=HD(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Nn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Nn.__childrenNodeConstructor?-1:(ge(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Nn.VALUE_TYPE_ORDER.indexOf(n),s=Nn.VALUE_TYPE_ORDER.indexOf(r);return ge(i>=0,"Unknown leaf type: "+n),ge(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Nn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _L,bL;function UH(t){_L=t}function zH(t){bL=t}class BH extends Cy{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?nf(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return He.MIN}maxPost(){return new He($l,new Nn("[PRIORITY-POST]",bL))}makePost(e,n){const r=_L(e);return new He(n,new Nn("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ft=new BH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH=Math.log(2);class qH{constructor(e){const n=s=>parseInt(Math.log(s)/FH,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const rv=function(t,e,n,r){t.sort(e);const i=function(f,h){const m=h-f;let p,_;if(m===0)return null;if(m===1)return p=t[f],_=n?n(p):p,new Lr(_,p.node,Lr.BLACK,null,null);{const b=parseInt(m/2,10)+f,E=i(f,b),x=i(b+1,h);return p=t[b],_=n?n(p):p,new Lr(_,p.node,Lr.BLACK,E,x)}},s=function(f){let h=null,m=null,p=t.length;const _=function(E,x){const A=p-E,O=p;p-=E;const z=i(A+1,O),D=t[A],H=n?n(D):D;b(new Lr(H,D.node,x,null,z))},b=function(E){h?(h.left=E,h=E):(m=E,h=E)};for(let E=0;E<f.count;++E){const x=f.nextBitIsOne(),A=Math.pow(2,f.count-(E+1));x?_(A,Lr.BLACK):(_(A,Lr.BLACK),_(A,Lr.RED))}return m},l=new qH(t.length),c=s(l);return new da(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qb;const tc={};class ns{static get Default(){return ge(tc&&Ft,"ChildrenNode.ts has not been loaded"),Qb=Qb||new ns({".priority":tc},{".priority":Ft}),Qb}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Sc(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof da?n:null}hasIndex(e){return Ts(this.indexSet_,e.toString())}addIndex(e,n){ge(e!==_c,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(He.Wrap);let l=s.getNext();for(;l;)i=i||e.isDefinedOn(l.node),r.push(l),l=s.getNext();let c;i?c=rv(r,e.getCompare()):c=tc;const f=e.toString(),h={...this.indexSet_};h[f]=e;const m={...this.indexes_};return m[f]=c,new ns(m,h)}addToIndexes(e,n){const r=Kg(this.indexes_,(i,s)=>{const l=Sc(this.indexSet_,s);if(ge(l,"Missing index implementation for "+s),i===tc)if(l.isDefinedOn(e.node)){const c=[],f=n.getIterator(He.Wrap);let h=f.getNext();for(;h;)h.name!==e.name&&c.push(h),h=f.getNext();return c.push(e),rv(c,l.getCompare())}else return tc;else{const c=n.get(e.name);let f=i;return c&&(f=f.remove(new He(e.name,c))),f.insert(e,e.node)}});return new ns(r,this.indexSet_)}removeFromIndexes(e,n){const r=Kg(this.indexes_,i=>{if(i===tc)return i;{const s=n.get(e.name);return s?i.remove(new He(e.name,s)):i}});return new ns(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh;class Pe{static get EMPTY_NODE(){return xh||(xh=new Pe(new da(xx),null,ns.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&yL(this.priorityNode_),this.children_.isEmpty()&&ge(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xh}updatePriority(e){return this.children_.isEmpty()?this:new Pe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?xh:n}}getChild(e){const n=qe(e);return n===null?this:this.getImmediateChild(n).getChild(It(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ge(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new He(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const l=i.isEmpty()?xh:this.priorityNode_;return new Pe(i,l,s)}}updateChild(e,n){const r=qe(e);if(r===null)return n;{ge(qe(e)!==".priority"||ko(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(It(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Ft,(l,c)=>{n[l]=c.val(e),r++,s&&Pe.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):s=!1}),!e&&s&&i<2*r){const l=[];for(const c in n)l[c]=n[c];return l}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+vL(this.getPriority().val())+":"),this.forEachChild(Ft,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":HD(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new He(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new He(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new He(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,He.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,He.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Bd?-1:0}withIndex(e){if(e===_c||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Pe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===_c||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ft),i=n.getIterator(Ft);let s=r.getNext(),l=i.getNext();for(;s&&l;){if(s.name!==l.name||!s.node.equals(l.node))return!1;s=r.getNext(),l=i.getNext()}return s===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===_c?null:this.indexMap_.get(e.toString())}}Pe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class HH extends Pe{constructor(){super(new da(xx),Pe.EMPTY_NODE,ns.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Pe.EMPTY_NODE}isEmpty(){return!1}}const Bd=new HH;Object.defineProperties(He,{MIN:{value:new He(Cc,Pe.EMPTY_NODE)},MAX:{value:new He($l,Bd)}});gL.__EMPTY_NODE=Pe.EMPTY_NODE;Nn.__childrenNodeConstructor=Pe;VH(Bd);zH(Bd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $H=!0;function kn(t,e=null){if(t===null)return Pe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ge(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Nn(n,kn(e))}if(!(t instanceof Array)&&$H){const n=[];let r=!1;if(Tr(t,(l,c)=>{if(l.substring(0,1)!=="."){const f=kn(c);f.isEmpty()||(r=r||!f.getPriority().isEmpty(),n.push(new He(l,f)))}}),n.length===0)return Pe.EMPTY_NODE;const s=rv(n,jH,l=>l.name,xx);if(r){const l=rv(n,Ft.getCompare());return new Pe(s,kn(e),new ns({".priority":l},{".priority":Ft}))}else return new Pe(s,kn(e),ns.Default)}else{let n=Pe.EMPTY_NODE;return Tr(t,(r,i)=>{if(Ts(t,r)&&r.substring(0,1)!=="."){const s=kn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(kn(e))}}UH(kn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH extends Cy{constructor(e){super(),this.indexPath_=e,ge(!Ye(e)&&qe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?nf(e.name,n.name):s}makePost(e,n){const r=kn(e),i=Pe.EMPTY_NODE.updateChild(this.indexPath_,r);return new He(n,i)}maxPost(){const e=Pe.EMPTY_NODE.updateChild(this.indexPath_,Bd);return new He($l,e)}toString(){return dL(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH extends Cy{compare(e,n){const r=e.node.compareTo(n.node);return r===0?nf(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return He.MIN}maxPost(){return He.MAX}makePost(e,n){const r=kn(e);return new He(n,r)}toString(){return".value"}}const WH=new KH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(t){return{type:"value",snapshotNode:t}}function Ic(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ad(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function sd(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function YH(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.index_=e}updateChild(e,n,r,i,s,l){ge(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(n);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(l!=null&&(r.isEmpty()?e.hasChild(n)?l.trackChildChange(ad(n,c)):ge(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?l.trackChildChange(Ic(n,r)):l.trackChildChange(sd(n,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ft,(i,s)=>{n.hasChild(i)||r.trackChildChange(ad(i,s))}),n.isLeafNode()||n.forEachChild(Ft,(i,s)=>{if(e.hasChild(i)){const l=e.getImmediateChild(i);l.equals(s)||r.trackChildChange(sd(i,s,l))}else r.trackChildChange(Ic(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Pe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this.indexedFilter_=new Tx(e.getIndex()),this.index_=e.getIndex(),this.startPost_=od.getStartPost_(e),this.endPost_=od.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,l){return this.matches(new He(n,r))||(r=Pe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,l)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Pe.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Pe.EMPTY_NODE);const s=this;return n.forEachChild(Ft,(l,c)=>{s.matches(new He(l,c))||(i=i.updateImmediateChild(l,Pe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new od(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,l){return this.rangedFilter_.matches(new He(n,r))||(r=Pe.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,l):this.fullLimitUpdateChild_(e,n,r,s,l)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Pe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Pe.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;s.hasNext()&&l<this.limit_;){const c=s.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))i=i.updateImmediateChild(c.name,c.node),l++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Pe.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let l=0;for(;s.hasNext();){const c=s.getNext();l<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?l++:i=i.updateImmediateChild(c.name,Pe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let l;if(this.reverse_){const p=this.index_.getCompare();l=(_,b)=>p(b,_)}else l=this.index_.getCompare();const c=e;ge(c.numChildren()===this.limit_,"");const f=new He(n,r),h=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),m=this.rangedFilter_.matches(f);if(c.hasChild(n)){const p=c.getImmediateChild(n);let _=i.getChildAfterChild(this.index_,h,this.reverse_);for(;_!=null&&(_.name===n||c.hasChild(_.name));)_=i.getChildAfterChild(this.index_,_,this.reverse_);const b=_==null?1:l(_,f);if(m&&!r.isEmpty()&&b>=0)return s!=null&&s.trackChildChange(sd(n,r,p)),c.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(ad(n,p));const x=c.updateImmediateChild(n,Pe.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(s!=null&&s.trackChildChange(Ic(_.name,_.node)),x.updateImmediateChild(_.name,_.node)):x}}else return r.isEmpty()?e:m&&l(h,f)>=0?(s!=null&&(s.trackChildChange(ad(h.name,h.node)),s.trackChildChange(Ic(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(h.name,Pe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ft}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ge(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ge(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Cc}hasEnd(){return this.endSet_}getIndexEndValue(){return ge(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ge(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:$l}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ge(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ft}copy(){const e=new Sx;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function XH(t){return t.loadsAllData()?new Tx(t.getIndex()):t.hasLimit()?new QH(t):new od(t)}function PN(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ft?n="$priority":t.index_===WH?n="$value":t.index_===_c?n="$key":(ge(t.index_ instanceof GH,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=yn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=yn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+yn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=yn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+yn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function kN(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ft&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv extends cL{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ge(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=zd("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const l=iv.getListenId_(e,r),c={};this.listens_[l]=c;const f=PN(e._queryParams);this.restRequest_(s+".json",f,(h,m)=>{let p=m;if(h===404&&(p=null,h=null),h===null&&this.onDataUpdate_(s,p,!1,r),Sc(this.listens_,l)===c){let _;h?h===401?_="permission_denied":_="rest_error:"+h:_="ok",i(_,null)}})}unlisten(e,n){const r=iv.getListenId_(e,n);delete this.listens_[r]}get(e){const n=PN(e._queryParams),r=e._path.toString(),i=new _y;return this.restRequest_(r+".json",n,(s,l)=>{let c=l;s===404&&(c=null,s=null),s===null?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Jc(n);this.log_("Sending REST request for "+l);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);let f=null;if(c.status>=200&&c.status<300){try{f=ed(c.responseText)}catch{xr("Failed to parse JSON response for "+l+": "+c.responseText)}r(null,f)}else c.status!==401&&c.status!==404&&xr("Got unsuccessful REST response for "+l+" Status: "+c.status),r(c.status);r=null}},c.open("GET",l,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(){this.rootNode_=Pe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(){return{value:null,children:new Map}}function EL(t,e,n){if(Ye(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=qe(e);t.children.has(r)||t.children.set(r,av());const i=t.children.get(r);e=It(e),EL(i,e,n)}}function NE(t,e,n){t.value!==null?n(e,t.value):JH(t,(r,i)=>{const s=new At(e.toString()+"/"+r);NE(i,s,n)})}function JH(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Tr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=10*1e3,t$=30*1e3,n$=300*1e3;class r${constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new e$(e);const r=MN+(t$-MN)*Math.random();qh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Tr(e,(i,s)=>{s>0&&Ts(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),qh(this.reportStats_.bind(this),Math.floor(Math.random()*2*n$))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Mi||(Mi={}));function xL(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ax(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Cx(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Mi.ACK_USER_WRITE,this.source=xL()}operationForChild(e){if(Ye(this.path)){if(this.affectedTree.value!=null)return ge(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new At(e));return new sv(lt(),n,this.revert)}}else return ge(qe(this.path)===e,"operationForChild called for unrelated child."),new sv(It(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n){this.source=e,this.path=n,this.type=Mi.LISTEN_COMPLETE}operationForChild(e){return Ye(this.path)?new ld(this.source,lt()):new ld(this.source,It(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Mi.OVERWRITE}operationForChild(e){return Ye(this.path)?new Gl(this.source,lt(),this.snap.getImmediateChild(e)):new Gl(this.source,It(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Mi.MERGE}operationForChild(e){if(Ye(this.path)){const n=this.children.subtree(new At(e));return n.isEmpty()?null:n.value?new Gl(this.source,lt(),n.value):new ud(this.source,lt(),n)}else return ge(qe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ud(this.source,It(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ye(e))return this.isFullyInitialized()&&!this.filtered_;const n=qe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function a$(t,e,n,r){const i=[],s=[];return e.forEach(l=>{l.type==="child_changed"&&t.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(YH(l.childName,l.snapshotNode))}),Th(t,i,"child_removed",e,r,n),Th(t,i,"child_added",e,r,n),Th(t,i,"child_moved",s,r,n),Th(t,i,"child_changed",e,r,n),Th(t,i,"value",e,r,n),i}function Th(t,e,n,r,i,s){const l=r.filter(c=>c.type===n);l.sort((c,f)=>o$(t,c,f)),l.forEach(c=>{const f=s$(t,c,s);i.forEach(h=>{h.respondsTo(c.type)&&e.push(h.createEvent(f,t.query_))})})}function s$(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function o$(t,e,n){if(e.childName==null||n.childName==null)throw Zc("Should only compare child_ events.");const r=new He(e.childName,e.snapshotNode),i=new He(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t,e){return{eventCache:t,serverCache:e}}function Hh(t,e,n,r){return Iy(new Mo(e,n,r),t.serverCache)}function TL(t,e,n,r){return Iy(t.eventCache,new Mo(e,n,r))}function ov(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Kl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xb;const l$=()=>(Xb||(Xb=new da(Kq)),Xb);class Pt{static fromObject(e){let n=new Pt(null);return Tr(e,(r,i)=>{n=n.set(new At(r),i)}),n}constructor(e,n=l$()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:lt(),value:this.value};if(Ye(e))return null;{const r=qe(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(It(e),n);return s!=null?{path:_n(new At(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ye(e))return this;{const n=qe(e),r=this.children.get(n);return r!==null?r.subtree(It(e)):new Pt(null)}}set(e,n){if(Ye(e))return new Pt(n,this.children);{const r=qe(e),s=(this.children.get(r)||new Pt(null)).set(It(e),n),l=this.children.insert(r,s);return new Pt(this.value,l)}}remove(e){if(Ye(e))return this.children.isEmpty()?new Pt(null):new Pt(null,this.children);{const n=qe(e),r=this.children.get(n);if(r){const i=r.remove(It(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Pt(null):new Pt(this.value,s)}else return this}}get(e){if(Ye(e))return this.value;{const n=qe(e),r=this.children.get(n);return r?r.get(It(e)):null}}setTree(e,n){if(Ye(e))return n;{const r=qe(e),s=(this.children.get(r)||new Pt(null)).setTree(It(e),n);let l;return s.isEmpty()?l=this.children.remove(r):l=this.children.insert(r,s),new Pt(this.value,l)}}fold(e){return this.fold_(lt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(_n(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,lt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Ye(e))return null;{const s=qe(e),l=this.children.get(s);return l?l.findOnPath_(It(e),_n(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,lt(),n)}foreachOnPath_(e,n,r){if(Ye(e))return this;{this.value&&r(n,this.value);const i=qe(e),s=this.children.get(i);return s?s.foreachOnPath_(It(e),_n(n,i),r):new Pt(null)}}foreach(e){this.foreach_(lt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(_n(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this.writeTree_=e}static empty(){return new Li(new Pt(null))}}function $h(t,e,n){if(Ye(e))return new Li(new Pt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const l=ur(i,e);return s=s.updateChild(l,n),new Li(t.writeTree_.set(i,s))}else{const i=new Pt(n),s=t.writeTree_.setTree(e,i);return new Li(s)}}}function DN(t,e,n){let r=t;return Tr(n,(i,s)=>{r=$h(r,_n(e,i),s)}),r}function LN(t,e){if(Ye(e))return Li.empty();{const n=t.writeTree_.setTree(e,new Pt(null));return new Li(n)}}function OE(t,e){return iu(t,e)!=null}function iu(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ur(n.path,e)):null}function jN(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ft,(r,i)=>{e.push(new He(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new He(r,i.value))}),e}function So(t,e){if(Ye(e))return t;{const n=iu(t,e);return n!=null?new Li(new Pt(n)):new Li(t.writeTree_.subtree(e))}}function PE(t){return t.writeTree_.isEmpty()}function Rc(t,e){return SL(lt(),t.writeTree_,e)}function SL(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(ge(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=SL(_n(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(_n(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(t,e){return RL(e,t)}function u$(t,e,n,r,i){ge(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=$h(t.visibleWrites,e,n)),t.lastWriteId=r}function c$(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function f$(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);ge(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,l=t.allWrites.length-1;for(;i&&l>=0;){const c=t.allWrites[l];c.visible&&(l>=n&&h$(c,r.path)?i=!1:ki(r.path,c.path)&&(s=!0)),l--}if(i){if(s)return d$(t),!0;if(r.snap)t.visibleWrites=LN(t.visibleWrites,r.path);else{const c=r.children;Tr(c,f=>{t.visibleWrites=LN(t.visibleWrites,_n(r.path,f))})}return!0}else return!1}function h$(t,e){if(t.snap)return ki(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ki(_n(t.path,n),e))return!0;return!1}function d$(t){t.visibleWrites=AL(t.allWrites,m$,lt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function m$(t){return t.visible}function AL(t,e,n){let r=Li.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const l=s.path;let c;if(s.snap)ki(n,l)?(c=ur(n,l),r=$h(r,c,s.snap)):ki(l,n)&&(c=ur(l,n),r=$h(r,lt(),s.snap.getChild(c)));else if(s.children){if(ki(n,l))c=ur(n,l),r=DN(r,c,s.children);else if(ki(l,n))if(c=ur(l,n),Ye(c))r=DN(r,lt(),s.children);else{const f=Sc(s.children,qe(c));if(f){const h=f.getChild(It(c));r=$h(r,lt(),h)}}}else throw Zc("WriteRecord should have .snap or .children")}}return r}function CL(t,e,n,r,i){if(!r&&!i){const s=iu(t.visibleWrites,e);if(s!=null)return s;{const l=So(t.visibleWrites,e);if(PE(l))return n;if(n==null&&!OE(l,lt()))return null;{const c=n||Pe.EMPTY_NODE;return Rc(l,c)}}}else{const s=So(t.visibleWrites,e);if(!i&&PE(s))return n;if(!i&&n==null&&!OE(s,lt()))return null;{const l=function(h){return(h.visible||i)&&(!r||!~r.indexOf(h.writeId))&&(ki(h.path,e)||ki(e,h.path))},c=AL(t.allWrites,l,e),f=n||Pe.EMPTY_NODE;return Rc(c,f)}}}function p$(t,e,n){let r=Pe.EMPTY_NODE;const i=iu(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ft,(s,l)=>{r=r.updateImmediateChild(s,l)}),r;if(n){const s=So(t.visibleWrites,e);return n.forEachChild(Ft,(l,c)=>{const f=Rc(So(s,new At(l)),c);r=r.updateImmediateChild(l,f)}),jN(s).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}else{const s=So(t.visibleWrites,e);return jN(s).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}}function g$(t,e,n,r,i){ge(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=_n(e,n);if(OE(t.visibleWrites,s))return null;{const l=So(t.visibleWrites,s);return PE(l)?i.getChild(n):Rc(l,i.getChild(n))}}function v$(t,e,n,r){const i=_n(e,n),s=iu(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const l=So(t.visibleWrites,i);return Rc(l,r.getNode().getImmediateChild(n))}else return null}function y$(t,e){return iu(t.visibleWrites,e)}function _$(t,e,n,r,i,s,l){let c;const f=So(t.visibleWrites,e),h=iu(f,lt());if(h!=null)c=h;else if(n!=null)c=Rc(f,n);else return[];if(c=c.withIndex(l),!c.isEmpty()&&!c.isLeafNode()){const m=[],p=l.getCompare(),_=s?c.getReverseIteratorFrom(r,l):c.getIteratorFrom(r,l);let b=_.getNext();for(;b&&m.length<i;)p(b,r)!==0&&m.push(b),b=_.getNext();return m}else return[]}function b$(){return{visibleWrites:Li.empty(),allWrites:[],lastWriteId:-1}}function lv(t,e,n,r){return CL(t.writeTree,t.treePath,e,n,r)}function Ix(t,e){return p$(t.writeTree,t.treePath,e)}function VN(t,e,n,r){return g$(t.writeTree,t.treePath,e,n,r)}function uv(t,e){return y$(t.writeTree,_n(t.treePath,e))}function w$(t,e,n,r,i,s){return _$(t.writeTree,t.treePath,e,n,r,i,s)}function Rx(t,e,n){return v$(t.writeTree,t.treePath,e,n)}function IL(t,e){return RL(_n(t.treePath,e),t.writeTree)}function RL(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ge(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ge(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,sd(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,ad(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Ic(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,sd(r,e.snapshotNode,i.oldSnap));else throw Zc("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const NL=new x$;class Nx{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Mo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Rx(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Kl(this.viewCache_),s=w$(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T$(t){return{filter:t}}function S$(t,e){ge(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ge(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function A$(t,e,n,r,i){const s=new E$;let l,c;if(n.type===Mi.OVERWRITE){const h=n;h.source.fromUser?l=kE(t,e,h.path,h.snap,r,i,s):(ge(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered()&&!Ye(h.path),l=cv(t,e,h.path,h.snap,r,i,c,s))}else if(n.type===Mi.MERGE){const h=n;h.source.fromUser?l=I$(t,e,h.path,h.children,r,i,s):(ge(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered(),l=ME(t,e,h.path,h.children,r,i,c,s))}else if(n.type===Mi.ACK_USER_WRITE){const h=n;h.revert?l=O$(t,e,h.path,r,i,s):l=R$(t,e,h.path,h.affectedTree,r,i,s)}else if(n.type===Mi.LISTEN_COMPLETE)l=N$(t,e,n.path,r,s);else throw Zc("Unknown operation type: "+n.type);const f=s.getChanges();return C$(e,l,f),{viewCache:l,changes:f}}function C$(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=ov(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(wL(ov(e)))}}function OL(t,e,n,r,i,s){const l=e.eventCache;if(uv(r,n)!=null)return e;{let c,f;if(Ye(n))if(ge(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=Kl(e),m=h instanceof Pe?h:Pe.EMPTY_NODE,p=Ix(r,m);c=t.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{const h=lv(r,Kl(e));c=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const h=qe(n);if(h===".priority"){ge(ko(n)===1,"Can't have a priority with additional path components");const m=l.getNode();f=e.serverCache.getNode();const p=VN(r,n,m,f);p!=null?c=t.filter.updatePriority(m,p):c=l.getNode()}else{const m=It(n);let p;if(l.isCompleteForChild(h)){f=e.serverCache.getNode();const _=VN(r,n,l.getNode(),f);_!=null?p=l.getNode().getImmediateChild(h).updateChild(m,_):p=l.getNode().getImmediateChild(h)}else p=Rx(r,h,e.serverCache);p!=null?c=t.filter.updateChild(l.getNode(),h,p,m,i,s):c=l.getNode()}}return Hh(e,c,l.isFullyInitialized()||Ye(n),t.filter.filtersNodes())}}function cv(t,e,n,r,i,s,l,c){const f=e.serverCache;let h;const m=l?t.filter:t.filter.getIndexedFilter();if(Ye(n))h=m.updateFullNode(f.getNode(),r,null);else if(m.filtersNodes()&&!f.isFiltered()){const b=f.getNode().updateChild(n,r);h=m.updateFullNode(f.getNode(),b,null)}else{const b=qe(n);if(!f.isCompleteForPath(n)&&ko(n)>1)return e;const E=It(n),A=f.getNode().getImmediateChild(b).updateChild(E,r);b===".priority"?h=m.updatePriority(f.getNode(),A):h=m.updateChild(f.getNode(),b,A,E,NL,null)}const p=TL(e,h,f.isFullyInitialized()||Ye(n),m.filtersNodes()),_=new Nx(i,p,s);return OL(t,p,n,i,_,c)}function kE(t,e,n,r,i,s,l){const c=e.eventCache;let f,h;const m=new Nx(i,e,s);if(Ye(n))h=t.filter.updateFullNode(e.eventCache.getNode(),r,l),f=Hh(e,h,!0,t.filter.filtersNodes());else{const p=qe(n);if(p===".priority")h=t.filter.updatePriority(e.eventCache.getNode(),r),f=Hh(e,h,c.isFullyInitialized(),c.isFiltered());else{const _=It(n),b=c.getNode().getImmediateChild(p);let E;if(Ye(_))E=r;else{const x=m.getCompleteChild(p);x!=null?hL(_)===".priority"&&x.getChild(mL(_)).isEmpty()?E=x:E=x.updateChild(_,r):E=Pe.EMPTY_NODE}if(b.equals(E))f=e;else{const x=t.filter.updateChild(c.getNode(),p,E,_,m,l);f=Hh(e,x,c.isFullyInitialized(),t.filter.filtersNodes())}}}return f}function UN(t,e){return t.eventCache.isCompleteForChild(e)}function I$(t,e,n,r,i,s,l){let c=e;return r.foreach((f,h)=>{const m=_n(n,f);UN(e,qe(m))&&(c=kE(t,c,m,h,i,s,l))}),r.foreach((f,h)=>{const m=_n(n,f);UN(e,qe(m))||(c=kE(t,c,m,h,i,s,l))}),c}function zN(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function ME(t,e,n,r,i,s,l,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f=e,h;Ye(n)?h=r:h=new Pt(null).setTree(n,r);const m=e.serverCache.getNode();return h.children.inorderTraversal((p,_)=>{if(m.hasChild(p)){const b=e.serverCache.getNode().getImmediateChild(p),E=zN(t,b,_);f=cv(t,f,new At(p),E,i,s,l,c)}}),h.children.inorderTraversal((p,_)=>{const b=!e.serverCache.isCompleteForChild(p)&&_.value===null;if(!m.hasChild(p)&&!b){const E=e.serverCache.getNode().getImmediateChild(p),x=zN(t,E,_);f=cv(t,f,new At(p),x,i,s,l,c)}}),f}function R$(t,e,n,r,i,s,l){if(uv(i,n)!=null)return e;const c=e.serverCache.isFiltered(),f=e.serverCache;if(r.value!=null){if(Ye(n)&&f.isFullyInitialized()||f.isCompleteForPath(n))return cv(t,e,n,f.getNode().getChild(n),i,s,c,l);if(Ye(n)){let h=new Pt(null);return f.getNode().forEachChild(_c,(m,p)=>{h=h.set(new At(m),p)}),ME(t,e,n,h,i,s,c,l)}else return e}else{let h=new Pt(null);return r.foreach((m,p)=>{const _=_n(n,m);f.isCompleteForPath(_)&&(h=h.set(m,f.getNode().getChild(_)))}),ME(t,e,n,h,i,s,c,l)}}function N$(t,e,n,r,i){const s=e.serverCache,l=TL(e,s.getNode(),s.isFullyInitialized()||Ye(n),s.isFiltered());return OL(t,l,n,r,NL,i)}function O$(t,e,n,r,i,s){let l;if(uv(r,n)!=null)return e;{const c=new Nx(r,e,i),f=e.eventCache.getNode();let h;if(Ye(n)||qe(n)===".priority"){let m;if(e.serverCache.isFullyInitialized())m=lv(r,Kl(e));else{const p=e.serverCache.getNode();ge(p instanceof Pe,"serverChildren would be complete if leaf node"),m=Ix(r,p)}m=m,h=t.filter.updateFullNode(f,m,s)}else{const m=qe(n);let p=Rx(r,m,e.serverCache);p==null&&e.serverCache.isCompleteForChild(m)&&(p=f.getImmediateChild(m)),p!=null?h=t.filter.updateChild(f,m,p,It(n),c,s):e.eventCache.getNode().hasChild(m)?h=t.filter.updateChild(f,m,Pe.EMPTY_NODE,It(n),c,s):h=f,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=lv(r,Kl(e)),l.isLeafNode()&&(h=t.filter.updateFullNode(h,l,s)))}return l=e.serverCache.isFullyInitialized()||uv(r,lt())!=null,Hh(e,h,l,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Tx(r.getIndex()),s=XH(r);this.processor_=T$(s);const l=n.serverCache,c=n.eventCache,f=i.updateFullNode(Pe.EMPTY_NODE,l.getNode(),null),h=s.updateFullNode(Pe.EMPTY_NODE,c.getNode(),null),m=new Mo(f,l.isFullyInitialized(),i.filtersNodes()),p=new Mo(h,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=Iy(p,m),this.eventGenerator_=new i$(this.query_)}get query(){return this.query_}}function k$(t){return t.viewCache_.serverCache.getNode()}function M$(t){return ov(t.viewCache_)}function D$(t,e){const n=Kl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ye(e)&&!n.getImmediateChild(qe(e)).isEmpty())?n.getChild(e):null}function BN(t){return t.eventRegistrations_.length===0}function L$(t,e){t.eventRegistrations_.push(e)}function FN(t,e,n){const r=[];if(n){ge(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const l=s.createCancelEvent(n,i);l&&r.push(l)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const l=t.eventRegistrations_[s];if(!l.matches(e))i.push(l);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function qN(t,e,n,r){e.type===Mi.MERGE&&e.source.queryId!==null&&(ge(Kl(t.viewCache_),"We should always have a full cache before handling merges"),ge(ov(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=A$(t.processor_,i,e,n,r);return S$(t.processor_,s.viewCache),ge(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,PL(t,s.changes,s.viewCache.eventCache.getNode(),null)}function j$(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ft,(s,l)=>{r.push(Ic(s,l))}),n.isFullyInitialized()&&r.push(wL(n.getNode())),PL(t,r,n.getNode(),e)}function PL(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return a$(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fv;class kL{constructor(){this.views=new Map}}function V$(t){ge(!fv,"__referenceConstructor has already been defined"),fv=t}function U$(){return ge(fv,"Reference.ts has not been loaded"),fv}function z$(t){return t.views.size===0}function Ox(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return ge(s!=null,"SyncTree gave us an op for an invalid query."),qN(s,e,n,r)}else{let s=[];for(const l of t.views.values())s=s.concat(qN(l,e,n,r));return s}}function ML(t,e,n,r,i){const s=e._queryIdentifier,l=t.views.get(s);if(!l){let c=lv(n,i?r:null),f=!1;c?f=!0:r instanceof Pe?(c=Ix(n,r),f=!1):(c=Pe.EMPTY_NODE,f=!1);const h=Iy(new Mo(c,f,!1),new Mo(r,i,!1));return new P$(e,h)}return l}function B$(t,e,n,r,i,s){const l=ML(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,l),L$(l,n),j$(l,n)}function F$(t,e,n,r){const i=e._queryIdentifier,s=[];let l=[];const c=Do(t);if(i==="default")for(const[f,h]of t.views.entries())l=l.concat(FN(h,n,r)),BN(h)&&(t.views.delete(f),h.query._queryParams.loadsAllData()||s.push(h.query));else{const f=t.views.get(i);f&&(l=l.concat(FN(f,n,r)),BN(f)&&(t.views.delete(i),f.query._queryParams.loadsAllData()||s.push(f.query)))}return c&&!Do(t)&&s.push(new(U$())(e._repo,e._path)),{removed:s,events:l}}function DL(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ao(t,e){let n=null;for(const r of t.views.values())n=n||D$(r,e);return n}function LL(t,e){if(e._queryParams.loadsAllData())return Ny(t);{const r=e._queryIdentifier;return t.views.get(r)}}function jL(t,e){return LL(t,e)!=null}function Do(t){return Ny(t)!=null}function Ny(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hv;function q$(t){ge(!hv,"__referenceConstructor has already been defined"),hv=t}function H$(){return ge(hv,"Reference.ts has not been loaded"),hv}let $$=1;class HN{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Pt(null),this.pendingWriteTree_=b$(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function VL(t,e,n,r,i){return u$(t.pendingWriteTree_,e,n,r,i),i?qd(t,new Gl(xL(),e,n)):[]}function Ml(t,e,n=!1){const r=c$(t.pendingWriteTree_,e);if(f$(t.pendingWriteTree_,e)){let s=new Pt(null);return r.snap!=null?s=s.set(lt(),!0):Tr(r.children,l=>{s=s.set(new At(l),!0)}),qd(t,new sv(r.path,s,n))}else return[]}function Fd(t,e,n){return qd(t,new Gl(Ax(),e,n))}function G$(t,e,n){const r=Pt.fromObject(n);return qd(t,new ud(Ax(),e,r))}function K$(t,e){return qd(t,new ld(Ax(),e))}function W$(t,e,n){const r=kx(t,n);if(r){const i=Mx(r),s=i.path,l=i.queryId,c=ur(s,e),f=new ld(Cx(l),c);return Dx(t,s,f)}else return[]}function dv(t,e,n,r,i=!1){const s=e._path,l=t.syncPointTree_.get(s);let c=[];if(l&&(e._queryIdentifier==="default"||jL(l,e))){const f=F$(l,e,n,r);z$(l)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const h=f.removed;if(c=f.events,!i){const m=h.findIndex(_=>_._queryParams.loadsAllData())!==-1,p=t.syncPointTree_.findOnPath(s,(_,b)=>Do(b));if(m&&!p){const _=t.syncPointTree_.subtree(s);if(!_.isEmpty()){const b=X$(_);for(let E=0;E<b.length;++E){const x=b[E],A=x.query,O=FL(t,x);t.listenProvider_.startListening(Gh(A),cd(t,A),O.hashFn,O.onComplete)}}}!p&&h.length>0&&!r&&(m?t.listenProvider_.stopListening(Gh(e),null):h.forEach(_=>{const b=t.queryToTagMap.get(Oy(_));t.listenProvider_.stopListening(Gh(_),b)}))}Z$(t,h)}return c}function UL(t,e,n,r){const i=kx(t,r);if(i!=null){const s=Mx(i),l=s.path,c=s.queryId,f=ur(l,e),h=new Gl(Cx(c),f,n);return Dx(t,l,h)}else return[]}function Y$(t,e,n,r){const i=kx(t,r);if(i){const s=Mx(i),l=s.path,c=s.queryId,f=ur(l,e),h=Pt.fromObject(n),m=new ud(Cx(c),f,h);return Dx(t,l,m)}else return[]}function DE(t,e,n,r=!1){const i=e._path;let s=null,l=!1;t.syncPointTree_.foreachOnPath(i,(_,b)=>{const E=ur(_,i);s=s||Ao(b,E),l=l||Do(b)});let c=t.syncPointTree_.get(i);c?(l=l||Do(c),s=s||Ao(c,lt())):(c=new kL,t.syncPointTree_=t.syncPointTree_.set(i,c));let f;s!=null?f=!0:(f=!1,s=Pe.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((b,E)=>{const x=Ao(E,lt());x&&(s=s.updateImmediateChild(b,x))}));const h=jL(c,e);if(!h&&!e._queryParams.loadsAllData()){const _=Oy(e);ge(!t.queryToTagMap.has(_),"View does not exist, but we have a tag");const b=J$();t.queryToTagMap.set(_,b),t.tagToQueryMap.set(b,_)}const m=Ry(t.pendingWriteTree_,i);let p=B$(c,e,n,m,s,f);if(!h&&!l&&!r){const _=LL(c,e);p=p.concat(eG(t,e,_))}return p}function Px(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(l,c)=>{const f=ur(l,e),h=Ao(c,f);if(h)return h});return CL(i,e,s,n,!0)}function Q$(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(h,m)=>{const p=ur(h,n);r=r||Ao(m,p)});let i=t.syncPointTree_.get(n);i?r=r||Ao(i,lt()):(i=new kL,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,l=s?new Mo(r,!0,!1):null,c=Ry(t.pendingWriteTree_,e._path),f=ML(i,e,c,s?l.getNode():Pe.EMPTY_NODE,s);return M$(f)}function qd(t,e){return zL(e,t.syncPointTree_,null,Ry(t.pendingWriteTree_,lt()))}function zL(t,e,n,r){if(Ye(t.path))return BL(t,e,n,r);{const i=e.get(lt());n==null&&i!=null&&(n=Ao(i,lt()));let s=[];const l=qe(t.path),c=t.operationForChild(l),f=e.children.get(l);if(f&&c){const h=n?n.getImmediateChild(l):null,m=IL(r,l);s=s.concat(zL(c,f,h,m))}return i&&(s=s.concat(Ox(i,t,r,n))),s}}function BL(t,e,n,r){const i=e.get(lt());n==null&&i!=null&&(n=Ao(i,lt()));let s=[];return e.children.inorderTraversal((l,c)=>{const f=n?n.getImmediateChild(l):null,h=IL(r,l),m=t.operationForChild(l);m&&(s=s.concat(BL(m,c,f,h)))}),i&&(s=s.concat(Ox(i,t,r,n))),s}function FL(t,e){const n=e.query,r=cd(t,n);return{hashFn:()=>(k$(e)||Pe.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?W$(t,n._path,r):K$(t,n._path);{const s=Qq(i,n);return dv(t,n,null,s)}}}}function cd(t,e){const n=Oy(e);return t.queryToTagMap.get(n)}function Oy(t){return t._path.toString()+"$"+t._queryIdentifier}function kx(t,e){return t.tagToQueryMap.get(e)}function Mx(t){const e=t.indexOf("$");return ge(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new At(t.substr(0,e))}}function Dx(t,e,n){const r=t.syncPointTree_.get(e);ge(r,"Missing sync point for query tag that we're tracking");const i=Ry(t.pendingWriteTree_,e);return Ox(r,n,i,null)}function X$(t){return t.fold((e,n,r)=>{if(n&&Do(n))return[Ny(n)];{let i=[];return n&&(i=DL(n)),Tr(r,(s,l)=>{i=i.concat(l)}),i}})}function Gh(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(H$())(t._repo,t._path):t}function Z$(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Oy(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function J$(){return $$++}function eG(t,e,n){const r=e._path,i=cd(t,e),s=FL(t,n),l=t.listenProvider_.startListening(Gh(e),i,s.hashFn,s.onComplete),c=t.syncPointTree_.subtree(r);if(i)ge(!Do(c.value),"If we're adding a query, it shouldn't be shadowed");else{const f=c.fold((h,m,p)=>{if(!Ye(h)&&m&&Do(m))return[Ny(m).query];{let _=[];return m&&(_=_.concat(DL(m).map(b=>b.query))),Tr(p,(b,E)=>{_=_.concat(E)}),_}});for(let h=0;h<f.length;++h){const m=f[h];t.listenProvider_.stopListening(Gh(m),cd(t,m))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Lx(n)}node(){return this.node_}}class jx{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=_n(this.path_,e);return new jx(this.syncTree_,n)}node(){return Px(this.syncTree_,this.path_)}}const tG=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},$N=function(t,e,n){if(!t||typeof t!="object")return t;if(ge(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return nG(t[".sv"],e,n);if(typeof t[".sv"]=="object")return rG(t[".sv"],e);ge(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},nG=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ge(!1,"Unexpected server value: "+t)}},rG=function(t,e,n){t.hasOwnProperty("increment")||ge(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ge(!1,"Unexpected increment value: "+r);const i=e.node();if(ge(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const l=i.getValue();return typeof l!="number"?r:l+r},iG=function(t,e,n,r){return Vx(e,new jx(n,t),r)},qL=function(t,e,n){return Vx(t,new Lx(e),n)};function Vx(t,e,n){const r=t.getPriority().val(),i=$N(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const l=t,c=$N(l.getValue(),e,n);return c!==l.getValue()||i!==l.getPriority().val()?new Nn(c,kn(i)):t}else{const l=t;return s=l,i!==l.getPriority().val()&&(s=s.updatePriority(new Nn(i))),l.forEachChild(Ft,(c,f)=>{const h=Vx(f,e.getImmediateChild(c),n);h!==f&&(s=s.updateImmediateChild(c,h))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function zx(t,e){let n=e instanceof At?e:new At(e),r=t,i=qe(n);for(;i!==null;){const s=Sc(r.node.children,i)||{children:{},childCount:0};r=new Ux(i,r,s),n=It(n),i=qe(n)}return r}function af(t){return t.node.value}function HL(t,e){t.node.value=e,LE(t)}function $L(t){return t.node.childCount>0}function aG(t){return af(t)===void 0&&!$L(t)}function Py(t,e){Tr(t.node.children,(n,r)=>{e(new Ux(n,t,r))})}function GL(t,e,n,r){n&&e(t),Py(t,i=>{GL(i,e,!0)})}function sG(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Hd(t){return new At(t.parent===null?t.name:Hd(t.parent)+"/"+t.name)}function LE(t){t.parent!==null&&oG(t.parent,t.name,t)}function oG(t,e,n){const r=aG(n),i=Ts(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,LE(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,LE(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG=/[\[\].#$\/\u0000-\u001F\u007F]/,uG=/[\[\].#$\u0000-\u001F\u007F]/,Zb=10*1024*1024,KL=function(t){return typeof t=="string"&&t.length!==0&&!lG.test(t)},WL=function(t){return typeof t=="string"&&t.length!==0&&!uG.test(t)},cG=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),WL(t)},fG=function(t,e,n,r){Bx(sx(t,"value"),e,n)},Bx=function(t,e,n){const r=n instanceof At?new RH(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Rl(r));if(typeof e=="function")throw new Error(t+"contains a function "+Rl(r)+" with contents = "+e.toString());if($D(e))throw new Error(t+"contains "+e.toString()+" "+Rl(r));if(typeof e=="string"&&e.length>Zb/3&&by(e)>Zb)throw new Error(t+"contains a string greater than "+Zb+" utf8 bytes "+Rl(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Tr(e,(l,c)=>{if(l===".value")i=!0;else if(l!==".priority"&&l!==".sv"&&(s=!0,!KL(l)))throw new Error(t+" contains an invalid key ("+l+") "+Rl(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);NH(r,l),Bx(t,c,r),OH(r)}),i&&s)throw new Error(t+' contains ".value" child '+Rl(r)+" in addition to actual children.")}},YL=function(t,e,n,r){if(!WL(n))throw new Error(sx(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},hG=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),YL(t,e,n)},QL=function(t,e){if(qe(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},dG=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!KL(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!cG(n))throw new Error(sx(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mG{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Fx(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!wx(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function XL(t,e,n){Fx(t,n),ZL(t,r=>wx(r,e))}function xa(t,e,n){Fx(t,n),ZL(t,r=>ki(r,e)||ki(e,r))}function ZL(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(pG(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function pG(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Fh&&er("event: "+n.toString()),rf(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gG="repo_interrupt",vG=25;class yG{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new mG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=av(),this.transactionQueueTree_=new Ux,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function _G(t,e,n){if(t.stats_=_x(t.repoInfo_),t.forceRestClient_||eH())t.server_=new iv(t.repoInfo_,(r,i,s,l)=>{GN(t,r,i,s,l)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>KN(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{yn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ss(t.repoInfo_,e,(r,i,s,l)=>{GN(t,r,i,s,l)},r=>{KN(t,r)},r=>{wG(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=aH(t.repoInfo_,()=>new r$(t.stats_,t.server_)),t.infoData_=new ZH,t.infoSyncTree_=new HN({startListening:(r,i,s,l)=>{let c=[];const f=t.infoData_.getNode(r._path);return f.isEmpty()||(c=Fd(t.infoSyncTree_,r._path,f),setTimeout(()=>{l("ok")},0)),c},stopListening:()=>{}}),Hx(t,"connected",!1),t.serverSyncTree_=new HN({startListening:(r,i,s,l)=>(t.server_.listen(r,s,i,(c,f)=>{const h=l(c,f);xa(t.eventQueue_,r._path,h)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function bG(t){const n=t.infoData_.getNode(new At(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function qx(t){return tG({timestamp:bG(t)})}function GN(t,e,n,r,i){t.dataUpdateCount++;const s=new At(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let l=[];if(i)if(r){const f=Kg(n,h=>kn(h));l=Y$(t.serverSyncTree_,s,f,i)}else{const f=kn(n);l=UL(t.serverSyncTree_,s,f,i)}else if(r){const f=Kg(n,h=>kn(h));l=G$(t.serverSyncTree_,s,f)}else{const f=kn(n);l=Fd(t.serverSyncTree_,s,f)}let c=s;l.length>0&&(c=My(t,s)),xa(t.eventQueue_,c,l)}function KN(t,e){Hx(t,"connected",e),e===!1&&TG(t)}function wG(t,e){Tr(e,(n,r)=>{Hx(t,n,r)})}function Hx(t,e,n){const r=new At("/.info/"+e),i=kn(n);t.infoData_.updateSnapshot(r,i);const s=Fd(t.infoSyncTree_,r,i);xa(t.eventQueue_,r,s)}function JL(t){return t.nextWriteId_++}function EG(t,e,n){const r=Q$(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=kn(i).withIndex(e._queryParams.getIndex());DE(t.serverSyncTree_,e,n,!0);let l;if(e._queryParams.loadsAllData())l=Fd(t.serverSyncTree_,e._path,s);else{const c=cd(t.serverSyncTree_,e);l=UL(t.serverSyncTree_,e._path,s,c)}return xa(t.eventQueue_,e._path,l),dv(t.serverSyncTree_,e,n,null,!0),s},i=>(ky(t,"get for query "+yn(e)+" failed: "+i),Promise.reject(new Error(i))))}function xG(t,e,n,r,i){ky(t,"set",{path:e.toString(),value:n,priority:r});const s=qx(t),l=kn(n,r),c=Px(t.serverSyncTree_,e),f=qL(l,c,s),h=JL(t),m=VL(t.serverSyncTree_,e,f,h,!0);Fx(t.eventQueue_,m),t.server_.put(e.toString(),l.val(!0),(_,b)=>{const E=_==="ok";E||xr("set at "+e+" failed: "+_);const x=Ml(t.serverSyncTree_,h,!E);xa(t.eventQueue_,e,x),IG(t,i,_,b)});const p=i4(t,e);My(t,p),xa(t.eventQueue_,p,[])}function TG(t){ky(t,"onDisconnectEvents");const e=qx(t),n=av();NE(t.onDisconnect_,lt(),(i,s)=>{const l=iG(i,s,t.serverSyncTree_,e);EL(n,i,l)});let r=[];NE(n,lt(),(i,s)=>{r=r.concat(Fd(t.serverSyncTree_,i,s));const l=i4(t,i);My(t,l)}),t.onDisconnect_=av(),xa(t.eventQueue_,lt(),r)}function SG(t,e,n){let r;qe(e._path)===".info"?r=DE(t.infoSyncTree_,e,n):r=DE(t.serverSyncTree_,e,n),XL(t.eventQueue_,e._path,r)}function AG(t,e,n){let r;qe(e._path)===".info"?r=dv(t.infoSyncTree_,e,n):r=dv(t.serverSyncTree_,e,n),XL(t.eventQueue_,e._path,r)}function CG(t){t.persistentConnection_&&t.persistentConnection_.interrupt(gG)}function ky(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),er(n,...e)}function IG(t,e,n,r){e&&rf(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const l=new Error(s);l.code=i,e(l)}})}function e4(t,e,n){return Px(t.serverSyncTree_,e,n)||Pe.EMPTY_NODE}function $x(t,e=t.transactionQueueTree_){if(e||Dy(t,e),af(e)){const n=n4(t,e);ge(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&RG(t,Hd(e),n)}else $L(e)&&Py(e,n=>{$x(t,n)})}function RG(t,e,n){const r=n.map(h=>h.currentWriteId),i=e4(t,e,r);let s=i;const l=i.hash();for(let h=0;h<n.length;h++){const m=n[h];ge(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const p=ur(e,m.path);s=s.updateChild(p,m.currentOutputSnapshotRaw)}const c=s.val(!0),f=e;t.server_.put(f.toString(),c,h=>{ky(t,"transaction put response",{path:f.toString(),status:h});let m=[];if(h==="ok"){const p=[];for(let _=0;_<n.length;_++)n[_].status=2,m=m.concat(Ml(t.serverSyncTree_,n[_].currentWriteId)),n[_].onComplete&&p.push(()=>n[_].onComplete(null,!0,n[_].currentOutputSnapshotResolved)),n[_].unwatcher();Dy(t,zx(t.transactionQueueTree_,e)),$x(t,t.transactionQueueTree_),xa(t.eventQueue_,e,m);for(let _=0;_<p.length;_++)rf(p[_])}else{if(h==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{xr("transaction at "+f.toString()+" failed: "+h);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=h}My(t,e)}},l)}function My(t,e){const n=t4(t,e),r=Hd(n),i=n4(t,n);return NG(t,i,r),r}function NG(t,e,n){if(e.length===0)return;const r=[];let i=[];const l=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const f=e[c],h=ur(n,f.path);let m=!1,p;if(ge(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)m=!0,p=f.abortReason,i=i.concat(Ml(t.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=vG)m=!0,p="maxretry",i=i.concat(Ml(t.serverSyncTree_,f.currentWriteId,!0));else{const _=e4(t,f.path,l);f.currentInputSnapshot=_;const b=e[c].update(_.val());if(b!==void 0){Bx("transaction failed: Data returned ",b,f.path);let E=kn(b);typeof b=="object"&&b!=null&&Ts(b,".priority")||(E=E.updatePriority(_.getPriority()));const A=f.currentWriteId,O=qx(t),z=qL(E,_,O);f.currentOutputSnapshotRaw=E,f.currentOutputSnapshotResolved=z,f.currentWriteId=JL(t),l.splice(l.indexOf(A),1),i=i.concat(VL(t.serverSyncTree_,f.path,z,f.currentWriteId,f.applyLocally)),i=i.concat(Ml(t.serverSyncTree_,A,!0))}else m=!0,p="nodata",i=i.concat(Ml(t.serverSyncTree_,f.currentWriteId,!0))}xa(t.eventQueue_,n,i),i=[],m&&(e[c].status=2,(function(_){setTimeout(_,Math.floor(0))})(e[c].unwatcher),e[c].onComplete&&(p==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(p),!1,null))))}Dy(t,t.transactionQueueTree_);for(let c=0;c<r.length;c++)rf(r[c]);$x(t,t.transactionQueueTree_)}function t4(t,e){let n,r=t.transactionQueueTree_;for(n=qe(e);n!==null&&af(r)===void 0;)r=zx(r,n),e=It(e),n=qe(e);return r}function n4(t,e){const n=[];return r4(t,e,n),n.sort((r,i)=>r.order-i.order),n}function r4(t,e,n){const r=af(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Py(e,i=>{r4(t,i,n)})}function Dy(t,e){const n=af(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,HL(e,n.length>0?n:void 0)}Py(e,r=>{Dy(t,r)})}function i4(t,e){const n=Hd(t4(t,e)),r=zx(t.transactionQueueTree_,e);return sG(r,i=>{Jb(t,i)}),Jb(t,r),GL(r,i=>{Jb(t,i)}),n}function Jb(t,e){const n=af(e);if(n){const r=[];let i=[],s=-1;for(let l=0;l<n.length;l++)n[l].status===3||(n[l].status===1?(ge(s===l-1,"All SENT items should be at beginning of queue."),s=l,n[l].status=3,n[l].abortReason="set"):(ge(n[l].status===0,"Unexpected transaction status in abort"),n[l].unwatcher(),i=i.concat(Ml(t.serverSyncTree_,n[l].currentWriteId,!0)),n[l].onComplete&&r.push(n[l].onComplete.bind(null,new Error("set"),!1,null))));s===-1?HL(e,void 0):n.length=s+1,xa(t.eventQueue_,Hd(e),i);for(let l=0;l<r.length;l++)rf(r[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OG(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function PG(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):xr(`Invalid query segment '${n}' in query '${t}'`)}return e}const WN=function(t,e){const n=kG(t),r=n.namespace;n.domain==="firebase.com"&&fs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&fs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||$q();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new rL(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new At(n.pathString)}},kG=function(t){let e="",n="",r="",i="",s="",l=!0,c="https",f=443;if(typeof t=="string"){let h=t.indexOf("//");h>=0&&(c=t.substring(0,h-1),t=t.substring(h+2));let m=t.indexOf("/");m===-1&&(m=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(m,p)),m<p&&(i=OG(t.substring(m,p)));const _=PG(t.substring(Math.min(t.length,p)));h=e.indexOf(":"),h>=0?(l=c==="https"||c==="wss",f=parseInt(e.substring(h+1),10)):h=e.length;const b=e.slice(0,h);if(b.toLowerCase()==="localhost")n="localhost";else if(b.split(".").length<=2)n=b;else{const E=e.indexOf(".");r=e.substring(0,E).toLowerCase(),n=e.substring(E+1),s=r}"ns"in _&&(s=_.ns)}return{host:e,port:f,domain:n,subdomain:r,secure:l,scheme:c,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+yn(this.snapshot.exportVal())}}class DG{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ge(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Ye(this._path)?null:hL(this._path)}get ref(){return new Ss(this._repo,this._path)}get _queryIdentifier(){const e=kN(this._queryParams),n=vx(e);return n==="{}"?"default":n}get _queryObject(){return kN(this._queryParams)}isEqual(e){if(e=Xt(e),!(e instanceof Gx))return!1;const n=this._repo===e._repo,r=wx(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+IH(this._path)}}class Ss extends Gx{constructor(e,n){super(e,n,new Sx,!1)}get parent(){const e=mL(this._path);return e===null?null:new Ss(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class fd{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new At(e),r=jE(this.ref,e);return new fd(this._node.getChild(n),r,Ft)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new fd(i,jE(this.ref,r),Ft)))}hasChild(e){const n=new At(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ia(t,e){return t=Xt(t),t._checkNotDeleted("ref"),e!==void 0?jE(t._root,e):t._root}function jE(t,e){return t=Xt(t),qe(t._path)===null?hG("child","path",e):YL("child","path",e),new Ss(t._repo,_n(t._path,e))}function s4(t){return QL("remove",t._path),$d(t,null)}function $d(t,e){t=Xt(t),QL("set",t._path),fG("set",e,t._path);const n=new _y;return xG(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function LG(t){t=Xt(t);const e=new a4(()=>{}),n=new Ly(e);return EG(t._repo,t,n).then(r=>new fd(r,new Ss(t._repo,t._path),t._queryParams.getIndex()))}class Ly{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new MG("value",this,new fd(e.snapshotNode,new Ss(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new DG(this,e,n):null}matches(e){return e instanceof Ly?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function jG(t,e,n,r,i){const s=new a4(n,void 0),l=new Ly(s);return SG(t._repo,t,l),()=>AG(t._repo,t,l)}function Kx(t,e,n,r){return jG(t,"value",e)}V$(Ss);q$(Ss);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VG="FIREBASE_DATABASE_EMULATOR_HOST",VE={};let UG=!1;function zG(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),l=Go(s);t.repoInfo_=new rL(e,l,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function BG(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||fs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),er("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l=WN(s,i),c=l.repoInfo,f;typeof process<"u"&&pN&&(f=pN[VG]),f?(s=`http://${f}?ns=${c.namespace}`,l=WN(s,i),c=l.repoInfo):l.repoInfo.secure;const h=new nH(t.name,t.options,e);dG("Invalid Firebase Database URL",l),Ye(l.path)||fs("Database URL must point to the root of a Firebase Database (not including a child path).");const m=qG(c,t,h,new tH(t,n));return new HG(m,t)}function FG(t,e){const n=VE[e];(!n||n[t.key]!==t)&&fs(`Database ${e}(${t.repoInfo_}) has already been deleted.`),CG(t),delete n[t.key]}function qG(t,e,n,r){let i=VE[e.name];i||(i={},VE[e.name]=i);let s=i[t.toURLString()];return s&&fs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new yG(t,UG,n,r),i[t.toURLString()]=s,s}let HG=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(_G(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ss(this._repo,lt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(FG(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&fs("Cannot call "+e+" on a deleted database.")}};function $G(t=lx(),e){const n=Ey(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=ZM("database");r&&GG(n,...r)}return n}function GG(t,e,n,r={}){t=Xt(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Oo(r,s.repoInfo_.emulatorOptions))return;fs("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let l;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&fs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new Rg(Rg.OWNER);else if(r.mockUserToken){const c=typeof r.mockUserToken=="string"?r.mockUserToken:tD(r.mockUserToken,t.app.options.projectId);l=new Rg(c)}Go(e)&&(rx(e),ix("Database",!0)),zG(s,i,r,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KG(t){Uq(nu),ql(new Po("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return BG(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),pa(gN,vN,t),pa(gN,vN,"esm2020")}ss.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ss.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};KG();var YN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Co,o4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,R){function k(){}k.prototype=R.prototype,P.F=R.prototype,P.prototype=new k,P.prototype.constructor=P,P.D=function(V,L,B){for(var U=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)U[xe-2]=arguments[xe];return R.prototype[L].apply(V,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,R,k){k||(k=0);const V=Array(16);if(typeof R=="string")for(var L=0;L<16;++L)V[L]=R.charCodeAt(k++)|R.charCodeAt(k++)<<8|R.charCodeAt(k++)<<16|R.charCodeAt(k++)<<24;else for(L=0;L<16;++L)V[L]=R[k++]|R[k++]<<8|R[k++]<<16|R[k++]<<24;R=P.g[0],k=P.g[1],L=P.g[2];let B=P.g[3],U;U=R+(B^k&(L^B))+V[0]+3614090360&4294967295,R=k+(U<<7&4294967295|U>>>25),U=B+(L^R&(k^L))+V[1]+3905402710&4294967295,B=R+(U<<12&4294967295|U>>>20),U=L+(k^B&(R^k))+V[2]+606105819&4294967295,L=B+(U<<17&4294967295|U>>>15),U=k+(R^L&(B^R))+V[3]+3250441966&4294967295,k=L+(U<<22&4294967295|U>>>10),U=R+(B^k&(L^B))+V[4]+4118548399&4294967295,R=k+(U<<7&4294967295|U>>>25),U=B+(L^R&(k^L))+V[5]+1200080426&4294967295,B=R+(U<<12&4294967295|U>>>20),U=L+(k^B&(R^k))+V[6]+2821735955&4294967295,L=B+(U<<17&4294967295|U>>>15),U=k+(R^L&(B^R))+V[7]+4249261313&4294967295,k=L+(U<<22&4294967295|U>>>10),U=R+(B^k&(L^B))+V[8]+1770035416&4294967295,R=k+(U<<7&4294967295|U>>>25),U=B+(L^R&(k^L))+V[9]+2336552879&4294967295,B=R+(U<<12&4294967295|U>>>20),U=L+(k^B&(R^k))+V[10]+4294925233&4294967295,L=B+(U<<17&4294967295|U>>>15),U=k+(R^L&(B^R))+V[11]+2304563134&4294967295,k=L+(U<<22&4294967295|U>>>10),U=R+(B^k&(L^B))+V[12]+1804603682&4294967295,R=k+(U<<7&4294967295|U>>>25),U=B+(L^R&(k^L))+V[13]+4254626195&4294967295,B=R+(U<<12&4294967295|U>>>20),U=L+(k^B&(R^k))+V[14]+2792965006&4294967295,L=B+(U<<17&4294967295|U>>>15),U=k+(R^L&(B^R))+V[15]+1236535329&4294967295,k=L+(U<<22&4294967295|U>>>10),U=R+(L^B&(k^L))+V[1]+4129170786&4294967295,R=k+(U<<5&4294967295|U>>>27),U=B+(k^L&(R^k))+V[6]+3225465664&4294967295,B=R+(U<<9&4294967295|U>>>23),U=L+(R^k&(B^R))+V[11]+643717713&4294967295,L=B+(U<<14&4294967295|U>>>18),U=k+(B^R&(L^B))+V[0]+3921069994&4294967295,k=L+(U<<20&4294967295|U>>>12),U=R+(L^B&(k^L))+V[5]+3593408605&4294967295,R=k+(U<<5&4294967295|U>>>27),U=B+(k^L&(R^k))+V[10]+38016083&4294967295,B=R+(U<<9&4294967295|U>>>23),U=L+(R^k&(B^R))+V[15]+3634488961&4294967295,L=B+(U<<14&4294967295|U>>>18),U=k+(B^R&(L^B))+V[4]+3889429448&4294967295,k=L+(U<<20&4294967295|U>>>12),U=R+(L^B&(k^L))+V[9]+568446438&4294967295,R=k+(U<<5&4294967295|U>>>27),U=B+(k^L&(R^k))+V[14]+3275163606&4294967295,B=R+(U<<9&4294967295|U>>>23),U=L+(R^k&(B^R))+V[3]+4107603335&4294967295,L=B+(U<<14&4294967295|U>>>18),U=k+(B^R&(L^B))+V[8]+1163531501&4294967295,k=L+(U<<20&4294967295|U>>>12),U=R+(L^B&(k^L))+V[13]+2850285829&4294967295,R=k+(U<<5&4294967295|U>>>27),U=B+(k^L&(R^k))+V[2]+4243563512&4294967295,B=R+(U<<9&4294967295|U>>>23),U=L+(R^k&(B^R))+V[7]+1735328473&4294967295,L=B+(U<<14&4294967295|U>>>18),U=k+(B^R&(L^B))+V[12]+2368359562&4294967295,k=L+(U<<20&4294967295|U>>>12),U=R+(k^L^B)+V[5]+4294588738&4294967295,R=k+(U<<4&4294967295|U>>>28),U=B+(R^k^L)+V[8]+2272392833&4294967295,B=R+(U<<11&4294967295|U>>>21),U=L+(B^R^k)+V[11]+1839030562&4294967295,L=B+(U<<16&4294967295|U>>>16),U=k+(L^B^R)+V[14]+4259657740&4294967295,k=L+(U<<23&4294967295|U>>>9),U=R+(k^L^B)+V[1]+2763975236&4294967295,R=k+(U<<4&4294967295|U>>>28),U=B+(R^k^L)+V[4]+1272893353&4294967295,B=R+(U<<11&4294967295|U>>>21),U=L+(B^R^k)+V[7]+4139469664&4294967295,L=B+(U<<16&4294967295|U>>>16),U=k+(L^B^R)+V[10]+3200236656&4294967295,k=L+(U<<23&4294967295|U>>>9),U=R+(k^L^B)+V[13]+681279174&4294967295,R=k+(U<<4&4294967295|U>>>28),U=B+(R^k^L)+V[0]+3936430074&4294967295,B=R+(U<<11&4294967295|U>>>21),U=L+(B^R^k)+V[3]+3572445317&4294967295,L=B+(U<<16&4294967295|U>>>16),U=k+(L^B^R)+V[6]+76029189&4294967295,k=L+(U<<23&4294967295|U>>>9),U=R+(k^L^B)+V[9]+3654602809&4294967295,R=k+(U<<4&4294967295|U>>>28),U=B+(R^k^L)+V[12]+3873151461&4294967295,B=R+(U<<11&4294967295|U>>>21),U=L+(B^R^k)+V[15]+530742520&4294967295,L=B+(U<<16&4294967295|U>>>16),U=k+(L^B^R)+V[2]+3299628645&4294967295,k=L+(U<<23&4294967295|U>>>9),U=R+(L^(k|~B))+V[0]+4096336452&4294967295,R=k+(U<<6&4294967295|U>>>26),U=B+(k^(R|~L))+V[7]+1126891415&4294967295,B=R+(U<<10&4294967295|U>>>22),U=L+(R^(B|~k))+V[14]+2878612391&4294967295,L=B+(U<<15&4294967295|U>>>17),U=k+(B^(L|~R))+V[5]+4237533241&4294967295,k=L+(U<<21&4294967295|U>>>11),U=R+(L^(k|~B))+V[12]+1700485571&4294967295,R=k+(U<<6&4294967295|U>>>26),U=B+(k^(R|~L))+V[3]+2399980690&4294967295,B=R+(U<<10&4294967295|U>>>22),U=L+(R^(B|~k))+V[10]+4293915773&4294967295,L=B+(U<<15&4294967295|U>>>17),U=k+(B^(L|~R))+V[1]+2240044497&4294967295,k=L+(U<<21&4294967295|U>>>11),U=R+(L^(k|~B))+V[8]+1873313359&4294967295,R=k+(U<<6&4294967295|U>>>26),U=B+(k^(R|~L))+V[15]+4264355552&4294967295,B=R+(U<<10&4294967295|U>>>22),U=L+(R^(B|~k))+V[6]+2734768916&4294967295,L=B+(U<<15&4294967295|U>>>17),U=k+(B^(L|~R))+V[13]+1309151649&4294967295,k=L+(U<<21&4294967295|U>>>11),U=R+(L^(k|~B))+V[4]+4149444226&4294967295,R=k+(U<<6&4294967295|U>>>26),U=B+(k^(R|~L))+V[11]+3174756917&4294967295,B=R+(U<<10&4294967295|U>>>22),U=L+(R^(B|~k))+V[2]+718787259&4294967295,L=B+(U<<15&4294967295|U>>>17),U=k+(B^(L|~R))+V[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(L+(U<<21&4294967295|U>>>11))&4294967295,P.g[2]=P.g[2]+L&4294967295,P.g[3]=P.g[3]+B&4294967295}r.prototype.v=function(P,R){R===void 0&&(R=P.length);const k=R-this.blockSize,V=this.C;let L=this.h,B=0;for(;B<R;){if(L==0)for(;B<=k;)i(this,P,B),B+=this.blockSize;if(typeof P=="string"){for(;B<R;)if(V[L++]=P.charCodeAt(B++),L==this.blockSize){i(this,V),L=0;break}}else for(;B<R;)if(V[L++]=P[B++],L==this.blockSize){i(this,V),L=0;break}}this.h=L,this.o+=R},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;R=this.o*8;for(var k=P.length-8;k<P.length;++k)P[k]=R&255,R/=256;for(this.v(P),P=Array(16),R=0,k=0;k<4;++k)for(let V=0;V<32;V+=8)P[R++]=this.g[k]>>>V&255;return P};function s(P,R){var k=c;return Object.prototype.hasOwnProperty.call(k,P)?k[P]:k[P]=R(P)}function l(P,R){this.h=R;const k=[];let V=!0;for(let L=P.length-1;L>=0;L--){const B=P[L]|0;V&&B==R||(k[L]=B,V=!1)}this.g=k}var c={};function f(P){return-128<=P&&P<128?s(P,function(R){return new l([R|0],R<0?-1:0)}):new l([P|0],P<0?-1:0)}function h(P){if(isNaN(P)||!isFinite(P))return p;if(P<0)return A(h(-P));const R=[];let k=1;for(let V=0;P>=k;V++)R[V]=P/k|0,k*=4294967296;return new l(R,0)}function m(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return A(m(P.substring(1),R));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=h(Math.pow(R,8));let V=p;for(let B=0;B<P.length;B+=8){var L=Math.min(8,P.length-B);const U=parseInt(P.substring(B,B+L),R);L<8?(L=h(Math.pow(R,L)),V=V.j(L).add(h(U))):(V=V.j(k),V=V.add(h(U)))}return V}var p=f(0),_=f(1),b=f(16777216);t=l.prototype,t.m=function(){if(x(this))return-A(this).m();let P=0,R=1;for(let k=0;k<this.g.length;k++){const V=this.i(k);P+=(V>=0?V:4294967296+V)*R,R*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(E(this))return"0";if(x(this))return"-"+A(this).toString(P);const R=h(Math.pow(P,6));var k=this;let V="";for(;;){const L=H(k,R).g;k=O(k,L.j(R));let B=((k.g.length>0?k.g[0]:k.h)>>>0).toString(P);if(k=L,E(k))return B+V;for(;B.length<6;)B="0"+B;V=B+V}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function E(P){if(P.h!=0)return!1;for(let R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function x(P){return P.h==-1}t.l=function(P){return P=O(this,P),x(P)?-1:E(P)?0:1};function A(P){const R=P.g.length,k=[];for(let V=0;V<R;V++)k[V]=~P.g[V];return new l(k,~P.h).add(_)}t.abs=function(){return x(this)?A(this):this},t.add=function(P){const R=Math.max(this.g.length,P.g.length),k=[];let V=0;for(let L=0;L<=R;L++){let B=V+(this.i(L)&65535)+(P.i(L)&65535),U=(B>>>16)+(this.i(L)>>>16)+(P.i(L)>>>16);V=U>>>16,B&=65535,U&=65535,k[L]=U<<16|B}return new l(k,k[k.length-1]&-2147483648?-1:0)};function O(P,R){return P.add(A(R))}t.j=function(P){if(E(this)||E(P))return p;if(x(this))return x(P)?A(this).j(A(P)):A(A(this).j(P));if(x(P))return A(this.j(A(P)));if(this.l(b)<0&&P.l(b)<0)return h(this.m()*P.m());const R=this.g.length+P.g.length,k=[];for(var V=0;V<2*R;V++)k[V]=0;for(V=0;V<this.g.length;V++)for(let L=0;L<P.g.length;L++){const B=this.i(V)>>>16,U=this.i(V)&65535,xe=P.i(L)>>>16,Ie=P.i(L)&65535;k[2*V+2*L]+=U*Ie,z(k,2*V+2*L),k[2*V+2*L+1]+=B*Ie,z(k,2*V+2*L+1),k[2*V+2*L+1]+=U*xe,z(k,2*V+2*L+1),k[2*V+2*L+2]+=B*xe,z(k,2*V+2*L+2)}for(P=0;P<R;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=R;P<2*R;P++)k[P]=0;return new l(k,0)};function z(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function D(P,R){this.g=P,this.h=R}function H(P,R){if(E(R))throw Error("division by zero");if(E(P))return new D(p,p);if(x(P))return R=H(A(P),R),new D(A(R.g),A(R.h));if(x(R))return R=H(P,A(R)),new D(A(R.g),R.h);if(P.g.length>30){if(x(P)||x(R))throw Error("slowDivide_ only works with positive integers.");for(var k=_,V=R;V.l(P)<=0;)k=F(k),V=F(V);var L=$(k,1),B=$(V,1);for(V=$(V,2),k=$(k,2);!E(V);){var U=B.add(V);U.l(P)<=0&&(L=L.add(k),B=U),V=$(V,1),k=$(k,1)}return R=O(P,L.j(R)),new D(L,R)}for(L=p;P.l(R)>=0;){for(k=Math.max(1,Math.floor(P.m()/R.m())),V=Math.ceil(Math.log(k)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),B=h(k),U=B.j(R);x(U)||U.l(P)>0;)k-=V,B=h(k),U=B.j(R);E(B)&&(B=_),L=L.add(B),P=O(P,U)}return new D(L,P)}t.B=function(P){return H(this,P).h},t.and=function(P){const R=Math.max(this.g.length,P.g.length),k=[];for(let V=0;V<R;V++)k[V]=this.i(V)&P.i(V);return new l(k,this.h&P.h)},t.or=function(P){const R=Math.max(this.g.length,P.g.length),k=[];for(let V=0;V<R;V++)k[V]=this.i(V)|P.i(V);return new l(k,this.h|P.h)},t.xor=function(P){const R=Math.max(this.g.length,P.g.length),k=[];for(let V=0;V<R;V++)k[V]=this.i(V)^P.i(V);return new l(k,this.h^P.h)};function F(P){const R=P.g.length+1,k=[];for(let V=0;V<R;V++)k[V]=P.i(V)<<1|P.i(V-1)>>>31;return new l(k,P.h)}function $(P,R){const k=R>>5;R%=32;const V=P.g.length-k,L=[];for(let B=0;B<V;B++)L[B]=R>0?P.i(B+k)>>>R|P.i(B+k+1)<<32-R:P.i(B+k);return new l(L,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,o4=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,Co=l}).apply(typeof YN<"u"?YN:typeof self<"u"?self:typeof window<"u"?window:{});var rg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var l4,Dh,u4,Og,UE,c4,f4,h4;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof rg=="object"&&rg];for(var w=0;w<g.length;++w){var I=g[w];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(g,w){if(w)e:{var I=r;g=g.split(".");for(var M=0;M<g.length-1;M++){var Y=g[M];if(!(Y in I))break e;I=I[Y]}g=g[g.length-1],M=I[g],w=w(M),w!=M&&w!=null&&e(I,g,{configurable:!0,writable:!0,value:w})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(w){var I=[],M;for(M in w)Object.prototype.hasOwnProperty.call(w,M)&&I.push([M,w[M]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(g){var w=typeof g;return w=="object"&&g!=null||w=="function"}function f(g,w,I){return g.call.apply(g.bind,arguments)}function h(g,w,I){return h=f,h.apply(null,arguments)}function m(g,w){var I=Array.prototype.slice.call(arguments,1);return function(){var M=I.slice();return M.push.apply(M,arguments),g.apply(this,M)}}function p(g,w){function I(){}I.prototype=w.prototype,g.Z=w.prototype,g.prototype=new I,g.prototype.constructor=g,g.Ob=function(M,Y,te){for(var ve=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ve[Ve-2]=arguments[Ve];return w.prototype[Y].apply(M,ve)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function b(g){const w=g.length;if(w>0){const I=Array(w);for(let M=0;M<w;M++)I[M]=g[M];return I}return[]}function E(g,w){for(let M=1;M<arguments.length;M++){const Y=arguments[M];var I=typeof Y;if(I=I!="object"?I:Y?Array.isArray(Y)?"array":I:"null",I=="array"||I=="object"&&typeof Y.length=="number"){I=g.length||0;const te=Y.length||0;g.length=I+te;for(let ve=0;ve<te;ve++)g[I+ve]=Y[ve]}else g.push(Y)}}class x{constructor(w,I){this.i=w,this.j=I,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function A(g){l.setTimeout(()=>{throw g},0)}function O(){var g=P;let w=null;return g.g&&(w=g.g,g.g=g.g.next,g.g||(g.h=null),w.next=null),w}class z{constructor(){this.h=this.g=null}add(w,I){const M=D.get();M.set(w,I),this.h?this.h.next=M:this.g=M,this.h=M}}var D=new x(()=>new H,g=>g.reset());class H{constructor(){this.next=this.g=this.h=null}set(w,I){this.h=w,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let F,$=!1,P=new z,R=()=>{const g=Promise.resolve(void 0);F=()=>{g.then(k)}};function k(){for(var g;g=O();){try{g.h.call(g.g)}catch(I){A(I)}var w=D;w.j(g),w.h<100&&(w.h++,g.next=w.g,w.g=g)}$=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(g,w){this.type=g,this.g=this.target=w,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,w=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const I=()=>{};l.addEventListener("test",I,w),l.removeEventListener("test",I,w)}catch{}return g})();function U(g){return/^[\s\xa0]*$/.test(g)}function xe(g,w){L.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,w)}p(xe,L),xe.prototype.init=function(g,w){const I=this.type=g.type,M=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=w,w=g.relatedTarget,w||(I=="mouseover"?w=g.fromElement:I=="mouseout"&&(w=g.toElement)),this.relatedTarget=w,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),Z=0;function ue(g,w,I,M,Y){this.listener=g,this.proxy=null,this.src=w,this.type=I,this.capture=!!M,this.ha=Y,this.key=++Z,this.da=this.fa=!1}function ie(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function pe(g,w,I){for(const M in g)w.call(I,g[M],M,g)}function me(g,w){for(const I in g)w.call(void 0,g[I],I,g)}function j(g){const w={};for(const I in g)w[I]=g[I];return w}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(g,w){let I,M;for(let Y=1;Y<arguments.length;Y++){M=arguments[Y];for(I in M)g[I]=M[I];for(let te=0;te<K.length;te++)I=K[te],Object.prototype.hasOwnProperty.call(M,I)&&(g[I]=M[I])}}function he(g){this.src=g,this.g={},this.h=0}he.prototype.add=function(g,w,I,M,Y){const te=g.toString();g=this.g[te],g||(g=this.g[te]=[],this.h++);const ve=Te(g,w,M,Y);return ve>-1?(w=g[ve],I||(w.fa=!1)):(w=new ue(w,this.src,te,!!M,Y),w.fa=I,g.push(w)),w};function _e(g,w){const I=w.type;if(I in g.g){var M=g.g[I],Y=Array.prototype.indexOf.call(M,w,void 0),te;(te=Y>=0)&&Array.prototype.splice.call(M,Y,1),te&&(ie(w),g.g[I].length==0&&(delete g.g[I],g.h--))}}function Te(g,w,I,M){for(let Y=0;Y<g.length;++Y){const te=g[Y];if(!te.da&&te.listener==w&&te.capture==!!I&&te.ha==M)return Y}return-1}var Re="closure_lm_"+(Math.random()*1e6|0),rt={};function ae(g,w,I,M,Y){if(Array.isArray(w)){for(let te=0;te<w.length;te++)ae(g,w[te],I,M,Y);return null}return I=Os(I),g&&g[Ie]?g.J(w,I,c(M)?!!M.capture:!1,Y):Me(g,w,I,!1,M,Y)}function Me(g,w,I,M,Y,te){if(!w)throw Error("Invalid event type");const ve=c(Y)?!!Y.capture:!!Y;let Ve=Ht(g);if(Ve||(g[Re]=Ve=new he(g)),I=Ve.add(w,I,M,ve,te),I.proxy)return I;if(M=Be(),I.proxy=M,M.src=g,M.listener=I,g.addEventListener)B||(Y=ve),Y===void 0&&(Y=!1),g.addEventListener(w.toString(),M,Y);else if(g.attachEvent)g.attachEvent($e(w.toString()),M);else if(g.addListener&&g.removeListener)g.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Be(){function g(I){return w.call(g.src,g.listener,I)}const w=mn;return g}function de(g,w,I,M,Y){if(Array.isArray(w))for(var te=0;te<w.length;te++)de(g,w[te],I,M,Y);else M=c(M)?!!M.capture:!!M,I=Os(I),g&&g[Ie]?(g=g.i,te=String(w).toString(),te in g.g&&(w=g.g[te],I=Te(w,I,M,Y),I>-1&&(ie(w[I]),Array.prototype.splice.call(w,I,1),w.length==0&&(delete g.g[te],g.h--)))):g&&(g=Ht(g))&&(w=g.g[w.toString()],g=-1,w&&(g=Te(w,I,M,Y)),(I=g>-1?w[g]:null)&&qt(I))}function qt(g){if(typeof g!="number"&&g&&!g.da){var w=g.src;if(w&&w[Ie])_e(w.i,g);else{var I=g.type,M=g.proxy;w.removeEventListener?w.removeEventListener(I,M,g.capture):w.detachEvent?w.detachEvent($e(I),M):w.addListener&&w.removeListener&&w.removeListener(M),(I=Ht(w))?(_e(I,g),I.h==0&&(I.src=null,w[Re]=null)):ie(g)}}}function $e(g){return g in rt?rt[g]:rt[g]="on"+g}function mn(g,w){if(g.da)g=!0;else{w=new xe(w,this);const I=g.listener,M=g.ha||g.src;g.fa&&qt(g),g=I.call(M,w)}return g}function Ht(g){return g=g[Re],g instanceof he?g:null}var Ar="__closure_events_fn_"+(Math.random()*1e9>>>0);function Os(g){return typeof g=="function"?g:(g[Ar]||(g[Ar]=function(w){return g.handleEvent(w)}),g[Ar])}function Jt(){V.call(this),this.i=new he(this),this.M=this,this.G=null}p(Jt,V),Jt.prototype[Ie]=!0,Jt.prototype.removeEventListener=function(g,w,I,M){de(this,g,w,I,M)};function pn(g,w){var I,M=g.G;if(M)for(I=[];M;M=M.G)I.push(M);if(g=g.M,M=w.type||w,typeof w=="string")w=new L(w,g);else if(w instanceof L)w.target=w.target||g;else{var Y=w;w=new L(M,g),ee(w,Y)}Y=!0;let te,ve;if(I)for(ve=I.length-1;ve>=0;ve--)te=w.g=I[ve],Y=Ps(te,M,!0,w)&&Y;if(te=w.g=g,Y=Ps(te,M,!0,w)&&Y,Y=Ps(te,M,!1,w)&&Y,I)for(ve=0;ve<I.length;ve++)te=w.g=I[ve],Y=Ps(te,M,!1,w)&&Y}Jt.prototype.N=function(){if(Jt.Z.N.call(this),this.i){var g=this.i;for(const w in g.g){const I=g.g[w];for(let M=0;M<I.length;M++)ie(I[M]);delete g.g[w],g.h--}}this.G=null},Jt.prototype.J=function(g,w,I,M){return this.i.add(String(g),w,!1,I,M)},Jt.prototype.K=function(g,w,I,M){return this.i.add(String(g),w,!0,I,M)};function Ps(g,w,I,M){if(w=g.i.g[String(w)],!w)return!0;w=w.concat();let Y=!0;for(let te=0;te<w.length;++te){const ve=w[te];if(ve&&!ve.da&&ve.capture==I){const Ve=ve.listener,Gt=ve.ha||ve.src;ve.fa&&_e(g.i,ve),Y=Ve.call(Gt,M)!==!1&&Y}}return Y&&!M.defaultPrevented}function k_(g,w){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=h(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:l.setTimeout(g,w||0)}function Tm(g){g.g=k_(()=>{g.g=null,g.i&&(g.i=!1,Tm(g))},g.l);const w=g.h;g.h=null,g.m.apply(null,w)}class ir extends V{constructor(w,I){super(),this.m=w,this.l=I,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Tm(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zo(g){V.call(this),this.h=g,this.g={}}p(Zo,V);var vf=[];function yf(g){pe(g.g,function(w,I){this.g.hasOwnProperty(I)&&qt(w)},g),g.g={}}Zo.prototype.N=function(){Zo.Z.N.call(this),yf(this)},Zo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ks=l.JSON.stringify,M_=l.JSON.parse,Sm=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function Am(){}function Cm(){}var gi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jn(){L.call(this,"d")}p(jn,L);function Hr(){L.call(this,"c")}p(Hr,L);var $t={},Im=null;function mu(){return Im=Im||new Jt}$t.Ia="serverreachability";function Rm(g){L.call(this,$t.Ia,g)}p(Rm,L);function $i(g){const w=mu();pn(w,new Rm(w))}$t.STAT_EVENT="statevent";function Jo(g,w){L.call(this,$t.STAT_EVENT,g),this.stat=w}p(Jo,L);function en(g){const w=mu();pn(w,new Jo(w,g))}$t.Ja="timingevent";function Gi(g,w){L.call(this,$t.Ja,g),this.size=w}p(Gi,L);function Ki(g,w){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},w)}function vi(){this.g=!0}vi.prototype.ua=function(){this.g=!1};function D_(g,w,I,M,Y,te){g.info(function(){if(g.g)if(te){var ve="",Ve=te.split("&");for(let ct=0;ct<Ve.length;ct++){var Gt=Ve[ct].split("=");if(Gt.length>1){const Mt=Gt[0];Gt=Gt[1];const Wr=Mt.split("_");ve=Wr.length>=2&&Wr[1]=="type"?ve+(Mt+"="+Gt+"&"):ve+(Mt+"=redacted&")}}}else ve=null;else ve=te;return"XMLHTTP REQ ("+M+") [attempt "+Y+"]: "+w+`
`+I+`
`+ve})}function Nm(g,w,I,M,Y,te,ve){g.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+Y+"]: "+w+`
`+I+`
`+te+" "+ve})}function Wi(g,w,I,M){g.info(function(){return"XMLHTTP TEXT ("+w+"): "+L_(g,I)+(M?" "+M:"")})}function el(g,w){g.info(function(){return"TIMEOUT: "+w})}vi.prototype.info=function(){};function L_(g,w){if(!g.g)return w;if(!w)return null;try{const te=JSON.parse(w);if(te){for(g=0;g<te.length;g++)if(Array.isArray(te[g])){var I=te[g];if(!(I.length<2)){var M=I[1];if(Array.isArray(M)&&!(M.length<1)){var Y=M[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let ve=1;ve<M.length;ve++)M[ve]=""}}}}return ks(te)}catch{return w}}var tl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_f={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bf;function nl(){}p(nl,Am),nl.prototype.g=function(){return new XMLHttpRequest},bf=new nl;function Pa(g){return encodeURIComponent(String(g))}function Om(g){var w=1;g=g.split(":");const I=[];for(;w>0&&g.length;)I.push(g.shift()),w--;return g.length&&I.push(g.join(":")),I}function yi(g,w,I,M){this.j=g,this.i=w,this.l=I,this.S=M||1,this.V=new Zo(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new _i}function _i(){this.i=null,this.g="",this.h=!1}var tn={},An={};function Yi(g,w,I){g.M=1,g.A=rl(rn(w)),g.u=I,g.R=!0,pu(g,null)}function pu(g,w){g.F=Date.now(),Qi(g),g.B=rn(g.A);var I=g.B,M=g.S;Array.isArray(M)||(M=[String(M)]),_u(I.i,"t",M),g.C=0,I=g.j.L,g.h=new _i,g.g=Gm(g.j,I?w:null,!g.u),g.P>0&&(g.O=new ir(h(g.Y,g,g.g),g.P)),w=g.V,I=g.g,M=g.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(vf[0]=Y.toString()),Y=vf);for(let te=0;te<Y.length;te++){const ve=ae(I,Y[te],M||w.handleEvent,!1,w.h||w);if(!ve)break;w.g[ve.key]=ve}w=g.J?j(g.J):{},g.u?(g.v||(g.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,w)):(g.v="GET",g.g.ea(g.B,g.v,null,w)),$i(),D_(g.i,g.v,g.B,g.l,g.S,g.u)}yi.prototype.ba=function(g){g=g.target;const w=this.O;w&&Ei(g)==3?w.j():this.Y(g)},yi.prototype.Y=function(g){try{if(g==this.g)e:{const Ve=Ei(this.g),Gt=this.g.ya(),ct=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||Vn(this.g)))){this.K||Ve!=4||Gt==7||(Gt==8||ct<=0?$i(3):$i(2)),Xi(this);var w=this.g.ca();this.X=w;var I=j_(this);if(this.o=w==200,Nm(this.i,this.v,this.B,this.l,this.S,Ve,w),this.o){if(this.U&&!this.L){t:{if(this.g){var M,Y=this.g;if((M=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(M)){var te=M;break t}}te=null}if(g=te)Wi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Zi(this,g);else{this.o=!1,this.m=3,en(12),Cr(this),$r(this);break e}}if(this.R){g=!0;let Mt;for(;!this.K&&this.C<I.length;)if(Mt=km(this,I),Mt==An){Ve==4&&(this.m=4,en(14),g=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==tn){this.m=4,en(15),Wi(this.i,this.l,I,"[Invalid Chunk]"),g=!1;break}else Wi(this.i,this.l,Mt,null),Zi(this,Mt);if(Pm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||I.length!=0||this.h.h||(this.m=1,en(16),g=!1),this.o=this.o&&g,!g)Wi(this.i,this.l,I,"[Invalid Chunked Response]"),Cr(this),$r(this);else if(I.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),Df(ve),ve.P=!0,en(11))}}else Wi(this.i,this.l,I,null),Zi(this,I);Ve==4&&Cr(this),this.o&&!this.K&&(Ve==4?Fm(this.j,this):(this.o=!1,Qi(this)))}else Ma(this.g),w==400&&I.indexOf("Unknown SID")>0?(this.m=3,en(12)):(this.m=0,en(13)),Cr(this),$r(this)}}}catch{}finally{}};function j_(g){if(!Pm(g))return g.g.la();const w=Vn(g.g);if(w==="")return"";let I="";const M=w.length,Y=Ei(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Cr(g),$r(g),"";g.h.i=new l.TextDecoder}for(let te=0;te<M;te++)g.h.h=!0,I+=g.h.i.decode(w[te],{stream:!(Y&&te==M-1)});return w.length=0,g.h.g+=I,g.C=0,g.h.g}function Pm(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function km(g,w){var I=g.C,M=w.indexOf(`
`,I);return M==-1?An:(I=Number(w.substring(I,M)),isNaN(I)?tn:(M+=1,M+I>w.length?An:(w=w.slice(M,M+I),g.C=M+I,w)))}yi.prototype.cancel=function(){this.K=!0,Cr(this)};function Qi(g){g.T=Date.now()+g.H,gu(g,g.H)}function gu(g,w){if(g.D!=null)throw Error("WatchDog timer not null");g.D=Ki(h(g.aa,g),w)}function Xi(g){g.D&&(l.clearTimeout(g.D),g.D=null)}yi.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(el(this.i,this.B),this.M!=2&&($i(),en(17)),Cr(this),this.m=2,$r(this)):gu(this,this.T-g)};function $r(g){g.j.I==0||g.K||Fm(g.j,g)}function Cr(g){Xi(g);var w=g.O;w&&typeof w.dispose=="function"&&w.dispose(),g.O=null,yf(g.V),g.g&&(w=g.g,g.g=null,w.abort(),w.dispose())}function Zi(g,w){try{var I=g.j;if(I.I!=0&&(I.g==g||ea(I.h,g))){if(!g.L&&ea(I.h,g)&&I.I==3){try{var M=I.Ba.g.parse(w)}catch{M=null}if(Array.isArray(M)&&M.length==3){var Y=M;if(Y[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<g.F)Tu(I),Bs(I);else break e;cl(I),en(18)}}else I.xa=Y[1],0<I.xa-I.K&&Y[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=Ki(h(I.Va,I),6e3));Ji(I.h)<=1&&I.ta&&(I.ta=void 0)}else sa(I,11)}else if((g.L||I.g==g)&&Tu(I),!U(w))for(Y=I.Ba.g.parse(w),w=0;w<Y.length;w++){let ct=Y[w];const Mt=ct[0];if(!(Mt<=I.K))if(I.K=Mt,ct=ct[1],I.I==2)if(ct[0]=="c"){I.M=ct[1],I.ba=ct[2];const Wr=ct[3];Wr!=null&&(I.ka=Wr,I.j.info("VER="+I.ka));const oa=ct[4];oa!=null&&(I.za=oa,I.j.info("SVER="+I.za));const xi=ct[5];xi!=null&&typeof xi=="number"&&xi>0&&(M=1.5*xi,I.O=M,I.j.info("backChannelRequestTimeoutMs_="+M)),M=I;const Ti=g.g;if(Ti){const fl=Ti.g?Ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fl){var te=M.h;te.g||fl.indexOf("spdy")==-1&&fl.indexOf("quic")==-1&&fl.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(xf(te,te.h),te.h=null))}if(M.G){const Su=Ti.g?Ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Su&&(M.wa=Su,dt(M.J,M.G,Su))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-g.F,I.j.info("Handshake RTT: "+I.T+"ms")),M=I;var ve=g;if(M.na=$m(M,M.L?M.ba:null,M.W),ve.L){Tf(M.h,ve);var Ve=ve,Gt=M.O;Gt&&(Ve.H=Gt),Ve.D&&(Xi(Ve),Qi(Ve)),M.g=ve}else zm(M);I.i.length>0&&aa(I)}else ct[0]!="stop"&&ct[0]!="close"||sa(I,7);else I.I==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?sa(I,7):kf(I):ct[0]!="noop"&&I.l&&I.l.qa(ct),I.A=0)}}$i(4)}catch{}}var nn=class{constructor(g,w){this.g=g,this.map=w}};function wf(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ef(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Ji(g){return g.h?1:g.g?g.g.size:0}function ea(g,w){return g.h?g.h==w:g.g?g.g.has(w):!1}function xf(g,w){g.g?g.g.add(w):g.h=w}function Tf(g,w){g.h&&g.h==w?g.h=null:g.g&&g.g.has(w)&&g.g.delete(w)}wf.prototype.cancel=function(){if(this.i=Sf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Sf(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let w=g.i;for(const I of g.g.values())w=w.concat(I.G);return w}return b(g.i)}var Mm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vu(g,w){if(g){g=g.split("&");for(let I=0;I<g.length;I++){const M=g[I].indexOf("=");let Y,te=null;M>=0?(Y=g[I].substring(0,M),te=g[I].substring(M+1)):Y=g[I],w(Y,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function Ir(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;g instanceof Ir?(this.l=g.l,Cn(this,g.j),this.o=g.o,this.g=g.g,Ms(this,g.u),this.h=g.h,Af(this,Vm(g.i)),this.m=g.m):g&&(w=String(g).match(Mm))?(this.l=!1,Cn(this,w[1]||"",!0),this.o=ta(w[2]||""),this.g=ta(w[3]||"",!0),Ms(this,w[4]),this.h=ta(w[5]||"",!0),Af(this,w[6]||"",!0),this.m=ta(w[7]||"")):(this.l=!1,this.i=new Ls(null,this.l))}Ir.prototype.toString=function(){const g=[];var w=this.j;w&&g.push(il(w,yu,!0),":");var I=this.g;return(I||w=="file")&&(g.push("//"),(w=this.o)&&g.push(il(w,yu,!0),"@"),g.push(Pa(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&g.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&g.push("/"),g.push(il(I,I.charAt(0)=="/"?Cf:Dm,!0))),(I=this.i.toString())&&g.push("?",I),(I=this.m)&&g.push("#",il(I,Lm)),g.join("")},Ir.prototype.resolve=function(g){const w=rn(this);let I=!!g.j;I?Cn(w,g.j):I=!!g.o,I?w.o=g.o:I=!!g.g,I?w.g=g.g:I=g.u!=null;var M=g.h;if(I)Ms(w,g.u);else if(I=!!g.h){if(M.charAt(0)!="/")if(this.g&&!this.h)M="/"+M;else{var Y=w.h.lastIndexOf("/");Y!=-1&&(M=w.h.slice(0,Y+1)+M)}if(Y=M,Y==".."||Y==".")M="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){M=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const te=[];for(let ve=0;ve<Y.length;){const Ve=Y[ve++];Ve=="."?M&&ve==Y.length&&te.push(""):Ve==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),M&&ve==Y.length&&te.push("")):(te.push(Ve),M=!0)}M=te.join("/")}else M=Y}return I?w.h=M:I=g.i.toString()!=="",I?Af(w,Vm(g.i)):I=!!g.m,I&&(w.m=g.m),w};function rn(g){return new Ir(g)}function Cn(g,w,I){g.j=I?ta(w,!0):w,g.j&&(g.j=g.j.replace(/:$/,""))}function Ms(g,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);g.u=w}else g.u=null}function Af(g,w,I){w instanceof Ls?(g.i=w,bu(g.i,g.l)):(I||(w=il(w,Ds)),g.i=new Ls(w,g.l))}function dt(g,w,I){g.i.set(w,I)}function rl(g){return dt(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function ta(g,w){return g?w?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function il(g,w,I){return typeof g=="string"?(g=encodeURI(g).replace(w,dr),I&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function dr(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var yu=/[#\/\?@]/g,Dm=/[#\?:]/g,Cf=/[#\?]/g,Ds=/[#\?@]/g,Lm=/#/g;function Ls(g,w){this.h=this.g=null,this.i=g||null,this.j=!!w}function mr(g){g.g||(g.g=new Map,g.h=0,g.i&&vu(g.i,function(w,I){g.add(decodeURIComponent(w.replace(/\+/g," ")),I)}))}t=Ls.prototype,t.add=function(g,w){mr(this),this.i=null,g=js(this,g);let I=this.g.get(g);return I||this.g.set(g,I=[]),I.push(w),this.h+=1,this};function jm(g,w){mr(g),w=js(g,w),g.g.has(w)&&(g.i=null,g.h-=g.g.get(w).length,g.g.delete(w))}function If(g,w){return mr(g),w=js(g,w),g.g.has(w)}t.forEach=function(g,w){mr(this),this.g.forEach(function(I,M){I.forEach(function(Y){g.call(w,Y,M,this)},this)},this)};function Rf(g,w){mr(g);let I=[];if(typeof w=="string")If(g,w)&&(I=I.concat(g.g.get(js(g,w))));else for(g=Array.from(g.g.values()),w=0;w<g.length;w++)I=I.concat(g[w]);return I}t.set=function(g,w){return mr(this),this.i=null,g=js(this,g),If(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[w]),this.h+=1,this},t.get=function(g,w){return g?(g=Rf(this,g),g.length>0?String(g[0]):w):w};function _u(g,w,I){jm(g,w),I.length>0&&(g.i=null,g.g.set(js(g,w),b(I)),g.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],w=Array.from(this.g.keys());for(let M=0;M<w.length;M++){var I=w[M];const Y=Pa(I);I=Rf(this,I);for(let te=0;te<I.length;te++){let ve=Y;I[te]!==""&&(ve+="="+Pa(I[te])),g.push(ve)}}return this.i=g.join("&")};function Vm(g){const w=new Ls;return w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),w}function js(g,w){return w=String(w),g.j&&(w=w.toLowerCase()),w}function bu(g,w){w&&!g.j&&(mr(g),g.i=null,g.g.forEach(function(I,M){const Y=M.toLowerCase();M!=Y&&(jm(this,M),_u(this,Y,I))},g)),g.j=w}function bi(g,w){const I=new vi;if(l.Image){const M=new Image;M.onload=m(Gr,I,"TestLoadImage: loaded",!0,w,M),M.onerror=m(Gr,I,"TestLoadImage: error",!1,w,M),M.onabort=m(Gr,I,"TestLoadImage: abort",!1,w,M),M.ontimeout=m(Gr,I,"TestLoadImage: timeout",!1,w,M),l.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=g}else w(!1)}function Nf(g,w){const I=new vi,M=new AbortController,Y=setTimeout(()=>{M.abort(),Gr(I,"TestPingServer: timeout",!1,w)},1e4);fetch(g,{signal:M.signal}).then(te=>{clearTimeout(Y),te.ok?Gr(I,"TestPingServer: ok",!0,w):Gr(I,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Y),Gr(I,"TestPingServer: error",!1,w)})}function Gr(g,w,I,M,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),M(I)}catch{}}function Vs(){this.g=new Sm}function na(g){this.i=g.Sb||null,this.h=g.ab||!1}p(na,Am),na.prototype.g=function(){return new al(this.i,this.h)};function al(g,w){Jt.call(this),this.H=g,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(al,Jt),t=al.prototype,t.open=function(g,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=w,this.readyState=1,wi(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(w.body=g),(this.H||l).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Us(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wu(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function wu(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var w=g.value?g.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!g.done}))&&(this.response=this.responseText+=w)}g.done?Us(this):wi(this),this.readyState==3&&wu(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,Us(this))},t.Na=function(g){this.g&&(this.response=g,Us(this))},t.ga=function(){this.g&&Us(this)};function Us(g){g.readyState=4,g.l=null,g.j=null,g.B=null,wi(g)}t.setRequestHeader=function(g,w){this.A.append(g,w)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],w=this.h.entries();for(var I=w.next();!I.done;)I=I.value,g.push(I[0]+": "+I[1]),I=w.next();return g.join(`\r
`)};function wi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(al.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Kr(g){let w="";return pe(g,function(I,M){w+=M,w+=":",w+=I,w+=`\r
`}),w}function sl(g,w,I){e:{for(M in I){var M=!1;break e}M=!0}M||(I=Kr(I),typeof g=="string"?I!=null&&Pa(I):dt(g,w,I))}function _t(g){Jt.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(_t,Jt);var ra=/^https?$/i,Of=["POST","PUT"];t=_t.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,w,I,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);w=w?w.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bf.g(),this.g.onreadystatechange=_(h(this.Ca,this));try{this.B=!0,this.g.open(w,String(g),!0),this.B=!1}catch(te){ol(this,te);return}if(g=I||"",I=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var Y in M)I.set(Y,M[Y]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const te of M.keys())I.set(te,M.get(te));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(I.keys()).find(te=>te.toLowerCase()=="content-type"),Y=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(Of,w,void 0)>=0)||M||Y||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ve]of I)this.g.setRequestHeader(te,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(te){ol(this,te)}};function ol(g,w){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=w,g.o=5,Pf(g),ka(g)}function Pf(g){g.A||(g.A=!0,pn(g,"complete"),pn(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,pn(this,"complete"),pn(this,"abort"),ka(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ka(this,!0)),_t.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ll(this):this.Xa())},t.Xa=function(){ll(this)};function ll(g){if(g.h&&typeof s<"u"){if(g.v&&Ei(g)==4)setTimeout(g.Ca.bind(g),0);else if(pn(g,"readystatechange"),Ei(g)==4){g.h=!1;try{const te=g.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var I;if(!(I=w)){var M;if(M=te===0){let ve=String(g.D).match(Mm)[1]||null;!ve&&l.self&&l.self.location&&(ve=l.self.location.protocol.slice(0,-1)),M=!ra.test(ve?ve.toLowerCase():"")}I=M}if(I)pn(g,"complete"),pn(g,"success");else{g.o=6;try{var Y=Ei(g)>2?g.g.statusText:""}catch{Y=""}g.l=Y+" ["+g.ca()+"]",Pf(g)}}finally{ka(g)}}}}function ka(g,w){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const I=g.g;g.g=null,w||pn(g,"ready");try{I.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ei(g){return g.g?g.g.readyState:0}t.ca=function(){try{return Ei(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var w=this.g.responseText;return g&&w.indexOf(g)==0&&(w=w.substring(g.length)),M_(w)}};function Vn(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Ma(g){const w={};g=(g.g&&Ei(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<g.length;M++){if(U(g[M]))continue;var I=Om(g[M]);const Y=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const te=w[Y]||[];w[Y]=te,te.push(I)}me(w,function(M){return M.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ia(g,w,I){return I&&I.internalChannelParams&&I.internalChannelParams[g]||w}function zs(g){this.za=0,this.i=[],this.j=new vi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ia("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ia("baseRetryDelayMs",5e3,g),this.Za=ia("retryDelaySeedMs",1e4,g),this.Ta=ia("forwardChannelMaxRetries",2,g),this.va=ia("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new wf(g&&g.concurrentRequestLimit),this.Ba=new Vs,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=zs.prototype,t.ka=8,t.I=1,t.connect=function(g,w,I,M){en(0),this.W=g,this.H=w||{},I&&M!==void 0&&(this.H.OSID=I,this.H.OAID=M),this.F=this.X,this.J=$m(this,null,this.W),aa(this)};function kf(g){if(Eu(g),g.I==3){var w=g.V++,I=rn(g.J);if(dt(I,"SID",g.M),dt(I,"RID",w),dt(I,"TYPE","terminate"),ul(g,I),w=new yi(g,g.j,w),w.M=2,w.A=rl(rn(I)),I=!1,l.navigator&&l.navigator.sendBeacon)try{I=l.navigator.sendBeacon(w.A.toString(),"")}catch{}!I&&l.Image&&(new Image().src=w.A,I=!0),I||(w.g=Gm(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Qi(w)}Hm(g)}function Bs(g){g.g&&(Df(g),g.g.cancel(),g.g=null)}function Eu(g){Bs(g),g.v&&(l.clearTimeout(g.v),g.v=null),Tu(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function aa(g){if(!Ef(g.h)&&!g.m){g.m=!0;var w=g.Ea;F||R(),$||(F(),$=!0),P.add(w,g),g.D=0}}function xu(g,w){return Ji(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=w.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=Ki(h(g.Ea,g,w),qm(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const Y=new yi(this,this.j,g);let te=this.o;if(this.U&&(te?(te=j(te),ee(te,this.U)):te=this.U),this.u!==null||this.R||(Y.J=te,te=null),this.S)e:{for(var w=0,I=0;I<this.i.length;I++){t:{var M=this.i[I];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(w+=M,w>4096){w=I;break e}if(w===4096||I===this.i.length-1){w=I+1;break e}}w=1e3}else w=1e3;w=Um(this,Y,w),I=rn(this.J),dt(I,"RID",g),dt(I,"CVER",22),this.G&&dt(I,"X-HTTP-Session-Id",this.G),ul(this,I),te&&(this.R?w="headers="+Pa(Kr(te))+"&"+w:this.u&&sl(I,this.u,te)),xf(this.h,Y),this.Ra&&dt(I,"TYPE","init"),this.S?(dt(I,"$req",w),dt(I,"SID","null"),Y.U=!0,Yi(Y,I,null)):Yi(Y,I,w),this.I=2}}else this.I==3&&(g?Mf(this,g):this.i.length==0||Ef(this.h)||Mf(this))};function Mf(g,w){var I;w?I=w.l:I=g.V++;const M=rn(g.J);dt(M,"SID",g.M),dt(M,"RID",I),dt(M,"AID",g.K),ul(g,M),g.u&&g.o&&sl(M,g.u,g.o),I=new yi(g,g.j,I,g.D+1),g.u===null&&(I.J=g.o),w&&(g.i=w.G.concat(g.i)),w=Um(g,I,1e3),I.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),xf(g.h,I),Yi(I,M,w)}function ul(g,w){g.H&&pe(g.H,function(I,M){dt(w,M,I)}),g.l&&pe({},function(I,M){dt(w,M,I)})}function Um(g,w,I){I=Math.min(g.i.length,I);const M=g.l?h(g.l.Ka,g.l,g):null;e:{var Y=g.i;let Ve=-1;for(;;){const Gt=["count="+I];Ve==-1?I>0?(Ve=Y[0].g,Gt.push("ofs="+Ve)):Ve=0:Gt.push("ofs="+Ve);let ct=!0;for(let Mt=0;Mt<I;Mt++){var te=Y[Mt].g;const Wr=Y[Mt].map;if(te-=Ve,te<0)Ve=Math.max(0,Y[Mt].g-100),ct=!1;else try{te="req"+te+"_"||"";try{var ve=Wr instanceof Map?Wr:Object.entries(Wr);for(const[oa,xi]of ve){let Ti=xi;c(xi)&&(Ti=ks(xi)),Gt.push(te+oa+"="+encodeURIComponent(Ti))}}catch(oa){throw Gt.push(te+"type="+encodeURIComponent("_badmap")),oa}}catch{M&&M(Wr)}}if(ct){ve=Gt.join("&");break e}}ve=void 0}return g=g.i.splice(0,I),w.G=g,ve}function zm(g){if(!g.g&&!g.v){g.Y=1;var w=g.Da;F||R(),$||(F(),$=!0),P.add(w,g),g.A=0}}function cl(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=Ki(h(g.Da,g),qm(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,Bm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=Ki(h(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,en(10),Bs(this),Bm(this))};function Df(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function Bm(g){g.g=new yi(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var w=rn(g.na);dt(w,"RID","rpc"),dt(w,"SID",g.M),dt(w,"AID",g.K),dt(w,"CI",g.F?"0":"1"),!g.F&&g.ia&&dt(w,"TO",g.ia),dt(w,"TYPE","xmlhttp"),ul(g,w),g.u&&g.o&&sl(w,g.u,g.o),g.O&&(g.g.H=g.O);var I=g.g;g=g.ba,I.M=1,I.A=rl(rn(w)),I.u=null,I.R=!0,pu(I,g)}t.Va=function(){this.C!=null&&(this.C=null,Bs(this),cl(this),en(19))};function Tu(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function Fm(g,w){var I=null;if(g.g==w){Tu(g),Df(g),g.g=null;var M=2}else if(ea(g.h,w))I=w.G,Tf(g.h,w),M=1;else return;if(g.I!=0){if(w.o)if(M==1){I=w.u?w.u.length:0,w=Date.now()-w.F;var Y=g.D;M=mu(),pn(M,new Gi(M,I)),aa(g)}else zm(g);else if(Y=w.m,Y==3||Y==0&&w.X>0||!(M==1&&xu(g,w)||M==2&&cl(g)))switch(I&&I.length>0&&(w=g.h,w.i=w.i.concat(I)),Y){case 1:sa(g,5);break;case 4:sa(g,10);break;case 3:sa(g,6);break;default:sa(g,2)}}}function qm(g,w){let I=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(I*=2),I*w}function sa(g,w){if(g.j.info("Error code "+w),w==2){var I=h(g.bb,g),M=g.Ua;const Y=!M;M=new Ir(M||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Cn(M,"https"),rl(M),Y?bi(M.toString(),I):Nf(M.toString(),I)}else en(2);g.I=0,g.l&&g.l.pa(w),Hm(g),Eu(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function Hm(g){if(g.I=0,g.ja=[],g.l){const w=Sf(g.h);(w.length!=0||g.i.length!=0)&&(E(g.ja,w),E(g.ja,g.i),g.h.i.length=0,b(g.i),g.i.length=0),g.l.oa()}}function $m(g,w,I){var M=I instanceof Ir?rn(I):new Ir(I);if(M.g!="")w&&(M.g=w+"."+M.g),Ms(M,M.u);else{var Y=l.location;M=Y.protocol,w=w?w+"."+Y.hostname:Y.hostname,Y=+Y.port;const te=new Ir(null);M&&Cn(te,M),w&&(te.g=w),Y&&Ms(te,Y),I&&(te.h=I),M=te}return I=g.G,w=g.wa,I&&w&&dt(M,I,w),dt(M,"VER",g.ka),ul(g,M),M}function Gm(g,w,I){if(w&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=g.Aa&&!g.ma?new _t(new na({ab:I})):new _t(g.ma),w.Fa(g.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Km(){}t=Km.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Fs(){}Fs.prototype.g=function(g,w){return new ar(g,w)};function ar(g,w){Jt.call(this),this.g=new zs(w),this.l=g,this.h=w&&w.messageUrlParams||null,g=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(g?g["X-WebChannel-Content-Type"]=w.messageContentType:g={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(g?g["X-WebChannel-Client-Profile"]=w.sa:g={"X-WebChannel-Client-Profile":w.sa}),this.g.U=g,(g=w&&w.Qb)&&!U(g)&&(this.g.u=g),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!U(w)&&(this.g.G=w,g=this.h,g!==null&&w in g&&(g=this.h,w in g&&delete g[w])),this.j=new Da(this)}p(ar,Jt),ar.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ar.prototype.close=function(){kf(this.g)},ar.prototype.o=function(g){var w=this.g;if(typeof g=="string"){var I={};I.__data__=g,g=I}else this.v&&(I={},I.__data__=ks(g),g=I);w.i.push(new nn(w.Ya++,g)),w.I==3&&aa(w)},ar.prototype.N=function(){this.g.l=null,delete this.j,kf(this.g),delete this.g,ar.Z.N.call(this)};function Wm(g){jn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var w=g.__sm__;if(w){e:{for(const I in w){g=I;break e}g=void 0}(this.i=g)&&(g=this.i,w=w!==null&&g in w?w[g]:void 0),this.data=w}else this.data=g}p(Wm,jn);function Ym(){Hr.call(this),this.status=1}p(Ym,Hr);function Da(g){this.g=g}p(Da,Km),Da.prototype.ra=function(){pn(this.g,"a")},Da.prototype.qa=function(g){pn(this.g,new Wm(g))},Da.prototype.pa=function(g){pn(this.g,new Ym)},Da.prototype.oa=function(){pn(this.g,"b")},Fs.prototype.createWebChannel=Fs.prototype.g,ar.prototype.send=ar.prototype.o,ar.prototype.open=ar.prototype.m,ar.prototype.close=ar.prototype.close,h4=function(){return new Fs},f4=function(){return mu()},c4=$t,UE={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},tl.NO_ERROR=0,tl.TIMEOUT=8,tl.HTTP_ERROR=6,Og=tl,_f.COMPLETE="complete",u4=_f,Cm.EventType=gi,gi.OPEN="a",gi.CLOSE="b",gi.ERROR="c",gi.MESSAGE="d",Jt.prototype.listen=Jt.prototype.J,Dh=Cm,_t.prototype.listenOnce=_t.prototype.K,_t.prototype.getLastError=_t.prototype.Ha,_t.prototype.getLastErrorCode=_t.prototype.ya,_t.prototype.getStatus=_t.prototype.ca,_t.prototype.getResponseJson=_t.prototype.La,_t.prototype.getResponseText=_t.prototype.la,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Fa,l4=_t}).apply(typeof rg<"u"?rg:typeof self<"u"?self:typeof window<"u"?window:{});const QN="@firebase/firestore",XN="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Jn.UNAUTHENTICATED=new Jn(null),Jn.GOOGLE_CREDENTIALS=new Jn("google-credentials-uid"),Jn.FIRST_PARTY=new Jn("first-party-uid"),Jn.MOCK_USER=new Jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sf="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=new wy("@firebase/firestore");function sc(){return Wl.logLevel}function be(t,...e){if(Wl.logLevel<=We.DEBUG){const n=e.map(Wx);Wl.debug(`Firestore (${sf}): ${t}`,...n)}}function hs(t,...e){if(Wl.logLevel<=We.ERROR){const n=e.map(Wx);Wl.error(`Firestore (${sf}): ${t}`,...n)}}function Nc(t,...e){if(Wl.logLevel<=We.WARN){const n=e.map(Wx);Wl.warn(`Firestore (${sf}): ${t}`,...n)}}function Wx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,d4(t,r,n)}function d4(t,e,n){let r=`FIRESTORE (${sf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw hs(r),new Error(r)}function ht(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||d4(e,i,r)}function je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends xs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jn.UNAUTHENTICATED)))}shutdown(){}}class YG{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class QG{constructor(e){this.t=e,this.currentUser=Jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ht(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new Io;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Io,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},c=f=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Io)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht(typeof r.accessToken=="string",31837,{l:r}),new m4(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new Jn(e)}}class XG{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZG{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new XG(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ZN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JG{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ht(this.o===void 0,3512);const r=s=>{s.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,be("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ZN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ZN(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=eK(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Je(t,e){return t<e?-1:t>e?1:0}function zE(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return ew(i)===ew(s)?Je(i,s):ew(i)?1:-1}return Je(t.length,e.length)}const tK=55296,nK=57343;function ew(t){const e=t.charCodeAt(0);return e>=tK&&e<=nK}function Oc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="__name__";class ha{constructor(e,n,r){n===void 0?n=0:n>e.length&&ke(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ke(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ha.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ha?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=ha.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Je(e.length,n.length)}static compareSegments(e,n){const r=ha.isNumericId(e),i=ha.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ha.extractNumericId(e).compare(ha.extractNumericId(n)):zE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Co.fromString(e.substring(4,e.length-2))}}class Rt extends ha{construct(e,n,r){return new Rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Rt(n)}static emptyPath(){return new Rt([])}}const rK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends ha{construct(e,n,r){return new Gn(e,n,r)}static isValidIdentifier(e){return rK.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===JN}static keyField(){return new Gn([JN])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ye(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ye(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ye(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(s(),i++)}if(s(),l)throw new ye(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gn(n)}static emptyPath(){return new Gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(Rt.fromString(e))}static fromName(e){return new Ce(Rt.fromString(e).popFirst(5))}static empty(){return new Ce(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new Rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(t,e,n){if(!n)throw new ye(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function iK(t,e,n,r){if(e===!0&&r===!0)throw new ye(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eO(t){if(!Ce.isDocumentKey(t))throw new ye(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tO(t){if(Ce.isDocumentKey(t))throw new ye(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function g4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function jy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke(12329,{type:typeof t})}function Yl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jy(t);throw new ye(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Gd(t,e){if(!g4(t))throw new ye(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new ye(ce.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=-62135596800,rO=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*rO);return new vt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<nO)throw new ye(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rO}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gd(e,vt._jsonSchema))return new vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vt._jsonSchemaVersion="firestore/timestamp/1.0",vt._jsonSchema={type:hn("string",vt._jsonSchemaVersion),seconds:hn("number"),nanoseconds:hn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new vt(0,0))}static max(){return new De(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=-1;function aK(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=De.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new Lo(i,Ce.empty(),e)}function sK(t){return new Lo(t.readTime,t.key,hd)}class Lo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Lo(De.min(),Ce.empty(),hd)}static max(){return new Lo(De.max(),Ce.empty(),hd)}}function oK(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function of(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==lK)throw t;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.reject(n)}static resolve(e){return new fe(((n,r)=>{n(e)}))}static reject(e){return new fe(((n,r)=>{r(e)}))}static waitFor(e){return new fe(((n,r)=>{let i=0,s=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++s,l&&s===i&&n()}),(f=>r(f)))})),l=!0,s===i&&n()}))}static or(e){let n=fe.resolve(!1);for(const r of e)n=n.next((i=>i?fe.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new fe(((r,i)=>{const s=e.length,l=new Array(s);let c=0;for(let f=0;f<s;f++){const h=f;n(e[h]).next((m=>{l[h]=m,++c,c===s&&r(l)}),(m=>i(m)))}}))}static doWhile(e,n){return new fe(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function cK(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vy.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=-1;function Uy(t){return t==null}function mv(t){return t===0&&1/t==-1/0}function fK(t){return typeof t=="number"&&Number.isInteger(t)&&!mv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4="";function hK(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=iO(e)),e=dK(t.get(n),e);return iO(e)}function dK(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case v4:n+="";break;default:n+=s}}return n}function iO(t){return t+v4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function au(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function y4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){this.comparator=e,this.root=n||Hn.EMPTY}insert(e,n){return new Ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Hn.BLACK,null,null))}remove(e){return new Ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ig(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ig(this.root,e,this.comparator,!1)}getReverseIterator(){return new ig(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ig(this.root,e,this.comparator,!0)}}class ig{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Hn.RED,this.left=i??Hn.EMPTY,this.right=s??Hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Hn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Hn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}Hn.EMPTY=null,Hn.RED=!0,Hn.BLACK=!1;Hn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sO(this.data.getIterator())}getIteratorFrom(e){return new sO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new wn(this.comparator);return n.data=e,n}}class sO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new Di([])}unionWith(e){let n=new wn(Gn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Di(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Oc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new _4("Invalid base64 string: "+s):s}})(e);return new Kn(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new Kn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kn.EMPTY_BYTE_STRING=new Kn("");const mK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jo(t){if(ht(!!t,39018),typeof t=="string"){let e=0;const n=mK.exec(t);if(ht(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qt(t.seconds),nanos:Qt(t.nanos)}}function Qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vo(t){return typeof t=="string"?Kn.fromBase64String(t):Kn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="server_timestamp",w4="__type__",E4="__previous_value__",x4="__local_write_time__";function Xx(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[w4])==null?void 0:r.stringValue)===b4}function zy(t){const e=t.mapValue.fields[E4];return Xx(e)?zy(e):e}function dd(t){const e=jo(t.mapValue.fields[x4].timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(e,n,r,i,s,l,c,f,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=m}}const pv="(default)";class md{constructor(e,n){this.projectId=e,this.database=n||pv}static empty(){return new md("","")}get isDefaultDatabase(){return this.database===pv}isEqual(e){return e instanceof md&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="__type__",gK="__max__",ag={mapValue:{}},S4="__vector__",gv="value";function Uo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xx(t)?4:yK(t)?9007199254740991:vK(t)?10:11:ke(28295,{value:t})}function Ta(t,e){if(t===e)return!0;const n=Uo(t);if(n!==Uo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dd(t).isEqual(dd(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=jo(i.timestampValue),c=jo(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Vo(i.bytesValue).isEqual(Vo(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Qt(i.geoPointValue.latitude)===Qt(s.geoPointValue.latitude)&&Qt(i.geoPointValue.longitude)===Qt(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Qt(i.integerValue)===Qt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Qt(i.doubleValue),c=Qt(s.doubleValue);return l===c?mv(l)===mv(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return Oc(t.arrayValue.values||[],e.arrayValue.values||[],Ta);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},c=s.mapValue.fields||{};if(aO(l)!==aO(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!Ta(l[f],c[f])))return!1;return!0})(t,e);default:return ke(52216,{left:t})}}function pd(t,e){return(t.values||[]).find((n=>Ta(n,e)))!==void 0}function Pc(t,e){if(t===e)return 0;const n=Uo(t),r=Uo(e);if(n!==r)return Je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const c=Qt(s.integerValue||s.doubleValue),f=Qt(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(t,e);case 3:return oO(t.timestampValue,e.timestampValue);case 4:return oO(dd(t),dd(e));case 5:return zE(t.stringValue,e.stringValue);case 6:return(function(s,l){const c=Vo(s),f=Vo(l);return c.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const c=s.split("/"),f=l.split("/");for(let h=0;h<c.length&&h<f.length;h++){const m=Je(c[h],f[h]);if(m!==0)return m}return Je(c.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const c=Je(Qt(s.latitude),Qt(l.latitude));return c!==0?c:Je(Qt(s.longitude),Qt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return lO(t.arrayValue,e.arrayValue);case 10:return(function(s,l){var _,b,E,x;const c=s.fields||{},f=l.fields||{},h=(_=c[gv])==null?void 0:_.arrayValue,m=(b=f[gv])==null?void 0:b.arrayValue,p=Je(((E=h==null?void 0:h.values)==null?void 0:E.length)||0,((x=m==null?void 0:m.values)==null?void 0:x.length)||0);return p!==0?p:lO(h,m)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===ag.mapValue&&l===ag.mapValue)return 0;if(s===ag.mapValue)return 1;if(l===ag.mapValue)return-1;const c=s.fields||{},f=Object.keys(c),h=l.fields||{},m=Object.keys(h);f.sort(),m.sort();for(let p=0;p<f.length&&p<m.length;++p){const _=zE(f[p],m[p]);if(_!==0)return _;const b=Pc(c[f[p]],h[m[p]]);if(b!==0)return b}return Je(f.length,m.length)})(t.mapValue,e.mapValue);default:throw ke(23264,{he:n})}}function oO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=jo(t),r=jo(e),i=Je(n.seconds,r.seconds);return i!==0?i:Je(n.nanos,r.nanos)}function lO(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Pc(n[i],r[i]);if(s)return s}return Je(n.length,r.length)}function kc(t){return BE(t)}function BE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=jo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Vo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ce.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=BE(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${BE(n.fields[l])}`;return i+"}"})(t.mapValue):ke(61005,{value:t})}function Pg(t){switch(Uo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zy(t);return e?16+Pg(e):16;case 5:return 2*t.stringValue.length;case 6:return Vo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Pg(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return au(r.fields,((s,l)=>{i+=s.length+Pg(l)})),i})(t.mapValue);default:throw ke(13486,{value:t})}}function uO(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function FE(t){return!!t&&"integerValue"in t}function Zx(t){return!!t&&"arrayValue"in t}function cO(t){return!!t&&"nullValue"in t}function fO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kg(t){return!!t&&"mapValue"in t}function vK(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[T4])==null?void 0:r.stringValue)===S4}function Kh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return au(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Kh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kh(t.arrayValue.values[n]);return e}return{...t}}function yK(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===gK}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.value=e}static empty(){return new oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!kg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kh(n)}setAll(e){let n=Gn.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=Kh(l):i.push(c.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());kg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ta(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];kg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){au(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new oi(Kh(this.value))}}function A4(t){const e=[];return au(t.fields,((n,r)=>{const i=new Gn([n]);if(kg(r)){const s=A4(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new Di(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n,r,i,s,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new tr(e,0,De.min(),De.min(),De.min(),oi.empty(),0)}static newFoundDocument(e,n,r,i){return new tr(e,1,n,De.min(),r,i,0)}static newNoDocument(e,n){return new tr(e,2,n,De.min(),De.min(),oi.empty(),0)}static newUnknownDocument(e,n){return new tr(e,3,n,De.min(),De.min(),oi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,n){this.position=e,this.inclusive=n}}function hO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=Ce.comparator(Ce.fromName(l.referenceValue),n.key):r=Pc(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function dO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ta(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,n="asc"){this.field=e,this.dir=n}}function _K(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{}class fn extends C4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new wK(e,n,r):n==="array-contains"?new TK(e,r):n==="in"?new SK(e,r):n==="not-in"?new AK(e,r):n==="array-contains-any"?new CK(e,r):new fn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new EK(e,r):new xK(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Pc(n,this.value)):n!==null&&Uo(this.value)===Uo(n)&&this.matchesComparison(Pc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zi extends C4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new zi(e,n)}matches(e){return I4(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function I4(t){return t.op==="and"}function R4(t){return bK(t)&&I4(t)}function bK(t){for(const e of t.filters)if(e instanceof zi)return!1;return!0}function qE(t){if(t instanceof fn)return t.field.canonicalString()+t.op.toString()+kc(t.value);if(R4(t))return t.filters.map((e=>qE(e))).join(",");{const e=t.filters.map((n=>qE(n))).join(",");return`${t.op}(${e})`}}function N4(t,e){return t instanceof fn?(function(r,i){return i instanceof fn&&r.op===i.op&&r.field.isEqual(i.field)&&Ta(r.value,i.value)})(t,e):t instanceof zi?(function(r,i){return i instanceof zi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,c)=>s&&N4(l,i.filters[c])),!0):!1})(t,e):void ke(19439)}function O4(t){return t instanceof fn?(function(n){return`${n.field.canonicalString()} ${n.op} ${kc(n.value)}`})(t):t instanceof zi?(function(n){return n.op.toString()+" {"+n.getFilters().map(O4).join(" ,")+"}"})(t):"Filter"}class wK extends fn{constructor(e,n,r){super(e,n,r),this.key=Ce.fromName(r.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class EK extends fn{constructor(e,n){super(e,"in",n),this.keys=P4("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class xK extends fn{constructor(e,n){super(e,"not-in",n),this.keys=P4("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function P4(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Ce.fromName(r.referenceValue)))}class TK extends fn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zx(n)&&pd(n.arrayValue,this.value)}}class SK extends fn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pd(this.value.arrayValue,n)}}class AK extends fn{constructor(e,n){super(e,"not-in",n)}matches(e){if(pd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pd(this.value.arrayValue,n)}}class CK extends fn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>pd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IK{constructor(e,n=null,r=[],i=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=c,this.Te=null}}function mO(t,e=null,n=[],r=[],i=null,s=null,l=null){return new IK(t,e,n,r,i,s,l)}function Jx(t){const e=je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>qE(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Uy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>kc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>kc(r))).join(",")),e.Te=n}return e.Te}function eT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_K(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!N4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dO(t.startAt,e.startAt)&&dO(t.endAt,e.endAt)}function HE(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n=null,r=[],i=[],s=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function RK(t,e,n,r,i,s,l,c){return new uf(t,e,n,r,i,s,l,c)}function k4(t){return new uf(t)}function pO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function M4(t){return t.collectionGroup!==null}function Wh(t){const e=je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new wn(Gn.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new gd(s,r))})),n.has(Gn.keyField().canonicalString())||e.Ie.push(new gd(Gn.keyField(),r))}return e.Ie}function ya(t){const e=je(t);return e.Ee||(e.Ee=NK(e,Wh(t))),e.Ee}function NK(t,e){if(t.limitType==="F")return mO(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new gd(i.field,s)}));const n=t.endAt?new vv(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vv(t.startAt.position,t.startAt.inclusive):null;return mO(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $E(t,e){const n=t.filters.concat([e]);return new uf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function GE(t,e,n){return new uf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function By(t,e){return eT(ya(t),ya(e))&&t.limitType===e.limitType}function D4(t){return`${Jx(ya(t))}|lt:${t.limitType}`}function oc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>O4(i))).join(", ")}]`),Uy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>kc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>kc(i))).join(",")),`Target(${r})`})(ya(t))}; limitType=${t.limitType})`}function Fy(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ce.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Wh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,f){const h=hO(l,c,f);return l.inclusive?h<=0:h<0})(r.startAt,Wh(r),i)||r.endAt&&!(function(l,c,f){const h=hO(l,c,f);return l.inclusive?h>=0:h>0})(r.endAt,Wh(r),i))})(t,e)}function OK(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function L4(t){return(e,n)=>{let r=!1;for(const i of Wh(t)){const s=PK(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function PK(t,e,n){const r=t.field.isKeyField()?Ce.comparator(e.key,n.key):(function(s,l,c){const f=l.data.field(s),h=c.data.field(s);return f!==null&&h!==null?Pc(f,h):ke(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ke(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){au(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return y4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kK=new Ut(Ce.comparator);function ds(){return kK}const j4=new Ut(Ce.comparator);function Lh(...t){let e=j4;for(const n of t)e=e.insert(n.key,n);return e}function V4(t){let e=j4;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Dl(){return Yh()}function U4(){return Yh()}function Yh(){return new su((t=>t.toString()),((t,e)=>t.isEqual(e)))}const MK=new Ut(Ce.comparator),DK=new wn(Ce.comparator);function et(...t){let e=DK;for(const n of t)e=e.add(n);return e}const LK=new wn(Je);function jK(){return LK}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mv(e)?"-0":e}}function z4(t){return{integerValue:""+t}}function VK(t,e){return fK(e)?z4(e):tT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(){this._=void 0}}function UK(t,e,n){return t instanceof yv?(function(i,s){const l={fields:{[w4]:{stringValue:b4},[x4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Xx(s)&&(s=zy(s)),s&&(l.fields[E4]=s),{mapValue:l}})(n,e):t instanceof vd?F4(t,e):t instanceof yd?q4(t,e):(function(i,s){const l=B4(i,s),c=gO(l)+gO(i.Ae);return FE(l)&&FE(i.Ae)?z4(c):tT(i.serializer,c)})(t,e)}function zK(t,e,n){return t instanceof vd?F4(t,e):t instanceof yd?q4(t,e):n}function B4(t,e){return t instanceof _v?(function(r){return FE(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class yv extends qy{}class vd extends qy{constructor(e){super(),this.elements=e}}function F4(t,e){const n=H4(e);for(const r of t.elements)n.some((i=>Ta(i,r)))||n.push(r);return{arrayValue:{values:n}}}class yd extends qy{constructor(e){super(),this.elements=e}}function q4(t,e){let n=H4(e);for(const r of t.elements)n=n.filter((i=>!Ta(i,r)));return{arrayValue:{values:n}}}class _v extends qy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function gO(t){return Qt(t.integerValue||t.doubleValue)}function H4(t){return Zx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function BK(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof vd&&i instanceof vd||r instanceof yd&&i instanceof yd?Oc(r.elements,i.elements,Ta):r instanceof _v&&i instanceof _v?Ta(r.Ae,i.Ae):r instanceof yv&&i instanceof yv})(t.transform,e.transform)}class FK{constructor(e,n){this.version=e,this.transformResults=n}}class ji{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ji}static exists(e){return new ji(void 0,e)}static updateTime(e){return new ji(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hy{}function $4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nT(t.key,ji.none()):new Kd(t.key,t.data,ji.none());{const n=t.data,r=oi.empty();let i=new wn(Gn.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new ou(t.key,r,new Di(i.toArray()),ji.none())}}function qK(t,e,n){t instanceof Kd?(function(i,s,l){const c=i.value.clone(),f=yO(i.fieldTransforms,s,l.transformResults);c.setAll(f),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof ou?(function(i,s,l){if(!Mg(i.precondition,s))return void s.convertToUnknownDocument(l.version);const c=yO(i.fieldTransforms,s,l.transformResults),f=s.data;f.setAll(G4(i)),f.setAll(c),s.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Qh(t,e,n,r){return t instanceof Kd?(function(s,l,c,f){if(!Mg(s.precondition,l))return c;const h=s.value.clone(),m=_O(s.fieldTransforms,f,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof ou?(function(s,l,c,f){if(!Mg(s.precondition,l))return c;const h=_O(s.fieldTransforms,f,l),m=l.data;return m.setAll(G4(s)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(s,l,c){return Mg(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function HK(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=B4(r.transform,i||null);s!=null&&(n===null&&(n=oi.empty()),n.set(r.field,s))}return n||null}function vO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Oc(r,i,((s,l)=>BK(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kd extends Hy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ou extends Hy{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function G4(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function yO(t,e,n){const r=new Map;ht(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,c=e.data.field(s.field);r.set(s.field,zK(l,c,n[i]))}return r}function _O(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,UK(s,l,e))}return r}class nT extends Hy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $K extends Hy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GK{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&qK(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=U4();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=n.has(i.key)?null:c;const f=$4(l,c);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(De.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),et())}isEqual(e){return this.batchId===e.batchId&&Oc(this.mutations,e.mutations,((n,r)=>vO(n,r)))&&Oc(this.baseMutations,e.baseMutations,((n,r)=>vO(n,r)))}}class rT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ht(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return MK})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new rT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KK{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WK{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un,it;function YK(t){switch(t){case ce.OK:return ke(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return ke(15467,{code:t})}}function K4(t){if(t===void 0)return hs("GRPC error has no .code"),ce.UNKNOWN;switch(t){case un.OK:return ce.OK;case un.CANCELLED:return ce.CANCELLED;case un.UNKNOWN:return ce.UNKNOWN;case un.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case un.INTERNAL:return ce.INTERNAL;case un.UNAVAILABLE:return ce.UNAVAILABLE;case un.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case un.NOT_FOUND:return ce.NOT_FOUND;case un.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case un.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case un.ABORTED:return ce.ABORTED;case un.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case un.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case un.DATA_LOSS:return ce.DATA_LOSS;default:return ke(39323,{code:t})}}(it=un||(un={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QK(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XK=new Co([4294967295,4294967295],0);function bO(t){const e=QK().encode(t),n=new o4;return n.update(e),new Uint8Array(n.digest())}function wO(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Co([n,r],0),new Co([i,s],0)]}class iT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new jh(`Invalid padding: ${n}`);if(r<0)throw new jh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new jh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Co.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Co.fromNumber(r)));return i.compare(XK)===1&&(i=new Co([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=bO(e),[r,i]=wO(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new iT(s,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=bO(e),[r,i]=wO(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class jh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Wd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new $y(De.min(),i,new Ut(Je),ds(),et())}}class Wd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Wd(r,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class W4{constructor(e,n){this.targetId=e,this.Ce=n}}class Y4{constructor(e,n,r=Kn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class EO{constructor(){this.ve=0,this.Fe=xO(),this.Me=Kn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),n=et(),r=et();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ke(38017,{changeType:s})}})),new Wd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=xO()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ZK{constructor(e){this.Ge=e,this.ze=new Map,this.je=ds(),this.Je=sg(),this.He=sg(),this.Ye=new Ut(Je)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ke(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(HE(s))if(r===0){const l=new Ce(s.path);this.et(n,l,tr.newNoDocument(l,De.min()))}else ht(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),f=c?this.ct(c,e,l):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,c;try{l=Vo(r).toUint8Array()}catch(f){if(f instanceof _4)return Nc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new iT(l,i,s)}catch(f){return Nc(f instanceof jh?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const c=this.ot(l);if(c){if(s.current&&HE(c.target)){const f=new Ce(c.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,tr.newNoDocument(f,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=et();this.He.forEach(((s,l)=>{let c=!0;l.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new $y(e,n,this.Ye,this.je,r);return this.je=ds(),this.Je=sg(),this.He=sg(),this.Ye=new Ut(Je),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new EO,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new wn(Je),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new wn(Je),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new EO),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function sg(){return new Ut(Ce.comparator)}function xO(){return new Ut(Ce.comparator)}const JK={asc:"ASCENDING",desc:"DESCENDING"},eW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tW={and:"AND",or:"OR"};class nW{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function KE(t,e){return t.useProto3Json||Uy(e)?e:{value:e}}function bv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rW(t,e){return bv(t,e.toTimestamp())}function _a(t){return ht(!!t,49232),De.fromTimestamp((function(n){const r=jo(n);return new vt(r.seconds,r.nanos)})(t))}function aT(t,e){return WE(t,e).canonicalString()}function WE(t,e){const n=(function(i){return new Rt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function X4(t){const e=Rt.fromString(t);return ht(nj(e),10190,{key:e.toString()}),e}function YE(t,e){return aT(t.databaseId,e.path)}function tw(t,e){const n=X4(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(J4(n))}function Z4(t,e){return aT(t.databaseId,e)}function iW(t){const e=X4(t);return e.length===4?Rt.emptyPath():J4(e)}function QE(t){return new Rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function J4(t){return ht(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function TO(t,e,n){return{name:YE(t,e),fields:n.value.mapValue.fields}}function aW(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ke(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(h,m){return h.useProto3Json?(ht(m===void 0||typeof m=="string",58123),Kn.fromBase64String(m||"")):(ht(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Kn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(h){const m=h.code===void 0?ce.UNKNOWN:K4(h.code);return new ye(m,h.message||"")})(l);n=new Y4(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=tw(t,r.document.name),s=_a(r.document.updateTime),l=r.document.createTime?_a(r.document.createTime):De.min(),c=new oi({mapValue:{fields:r.document.fields}}),f=tr.newFoundDocument(i,s,l,c),h=r.targetIds||[],m=r.removedTargetIds||[];n=new Dg(h,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=tw(t,r.document),s=r.readTime?_a(r.readTime):De.min(),l=tr.newNoDocument(i,s),c=r.removedTargetIds||[];n=new Dg([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=tw(t,r.document),s=r.removedTargetIds||[];n=new Dg([],s,i,null)}else{if(!("filter"in e))return ke(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new WK(i,s),c=r.targetId;n=new W4(c,l)}}return n}function sW(t,e){let n;if(e instanceof Kd)n={update:TO(t,e.key,e.value)};else if(e instanceof nT)n={delete:YE(t,e.key)};else if(e instanceof ou)n={update:TO(t,e.key,e.data),updateMask:pW(e.fieldMask)};else{if(!(e instanceof $K))return ke(16599,{Vt:e.type});n={verify:YE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const c=l.transform;if(c instanceof yv)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof vd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof yd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof _v)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw ke(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:rW(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ke(27497)})(t,e.precondition)),n}function oW(t,e){return t&&t.length>0?(ht(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?_a(i.updateTime):_a(s);return l.isEqual(De.min())&&(l=_a(s)),new FK(l,i.transformResults||[])})(n,e)))):[]}function lW(t,e){return{documents:[Z4(t,e.path)]}}function uW(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Z4(t,i);const s=(function(h){if(h.length!==0)return tj(zi.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(h){if(h.length!==0)return h.map((m=>(function(_){return{field:lc(_.field),direction:hW(_.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=KE(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function cW(t){let e=iW(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ht(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];n.where&&(s=(function(p){const _=ej(p);return _ instanceof zi&&R4(_)?_.getFilters():[_]})(n.where));let l=[];n.orderBy&&(l=(function(p){return p.map((_=>(function(E){return new gd(uc(E.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(_)))})(n.orderBy));let c=null;n.limit&&(c=(function(p){let _;return _=typeof p=="object"?p.value:p,Uy(_)?null:_})(n.limit));let f=null;n.startAt&&(f=(function(p){const _=!!p.before,b=p.values||[];return new vv(b,_)})(n.startAt));let h=null;return n.endAt&&(h=(function(p){const _=!p.before,b=p.values||[];return new vv(b,_)})(n.endAt)),RK(e,i,l,s,c,"F",f,h)}function fW(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ej(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=uc(n.unaryFilter.field);return fn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=uc(n.unaryFilter.field);return fn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=uc(n.unaryFilter.field);return fn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=uc(n.unaryFilter.field);return fn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(t):t.fieldFilter!==void 0?(function(n){return fn.create(uc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return zi.create(n.compositeFilter.filters.map((r=>ej(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(n.compositeFilter.op))})(t):ke(30097,{filter:t})}function hW(t){return JK[t]}function dW(t){return eW[t]}function mW(t){return tW[t]}function lc(t){return{fieldPath:t.canonicalString()}}function uc(t){return Gn.fromServerFormat(t.fieldPath)}function tj(t){return t instanceof fn?(function(n){if(n.op==="=="){if(fO(n.value))return{unaryFilter:{field:lc(n.field),op:"IS_NAN"}};if(cO(n.value))return{unaryFilter:{field:lc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fO(n.value))return{unaryFilter:{field:lc(n.field),op:"IS_NOT_NAN"}};if(cO(n.value))return{unaryFilter:{field:lc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lc(n.field),op:dW(n.op),value:n.value}}})(t):t instanceof zi?(function(n){const r=n.getFilters().map((i=>tj(i)));return r.length===1?r[0]:{compositeFilter:{op:mW(n.op),filters:r}}})(t):ke(54877,{filter:t})}function pW(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function nj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n,r,i,s=De.min(),l=De.min(),c=Kn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new wo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gW{constructor(e){this.yt=e}}function vW(t){const e=cW({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?GE(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yW{constructor(){this.Cn=new _W}addToCollectionParentIndex(e,n){return this.Cn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(Lo.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(Lo.min())}updateCollectionGroup(e,n,r){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class _W{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new wn(Rt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wn(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rj=41943040;class wr{static withCacheSize(e){return new wr(e,wr.DEFAULT_COLLECTION_PERCENTILE,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wr.DEFAULT_COLLECTION_PERCENTILE=10,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wr.DEFAULT=new wr(rj,wr.DEFAULT_COLLECTION_PERCENTILE,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wr.DISABLED=new wr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mc(0)}static cr(){return new Mc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO="LruGarbageCollector",bW=1048576;function CO([t,e],[n,r]){const i=Je(t,n);return i===0?Je(e,r):i}class wW{constructor(e){this.Ir=e,this.buffer=new wn(CO),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();CO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class EW{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){be(AO,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){lf(n)?be(AO,"Ignoring IndexedDB error during garbage collection: ",n):await of(n)}await this.Vr(3e5)}))}}class xW{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(Vy.ce);const r=new wW(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(SO)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SO):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,c,f,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,l=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,c=Date.now(),this.removeTargets(e,r,n)))).next((p=>(s=p,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(h=Date.now(),sc()<=We.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${s} targets in `+(f-c)+`ms
	Removed ${p} documents in `+(h-f)+`ms
Total Duration: ${h-m}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p}))))}}function TW(t,e){return new xW(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SW{constructor(){this.changes=new su((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CW{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Qh(r.mutation,i,Di.empty(),vt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,et()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=et()){const i=Dl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=Lh();return s.forEach(((c,f)=>{l=l.insert(c,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Dl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,et())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let s=ds();const l=Yh(),c=(function(){return Yh()})();return n.forEach(((f,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof ou)?s=s.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),Qh(m.mutation,h,m.mutation.getFieldMask(),vt.now())):l.set(h.key,Di.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((h,m)=>l.set(h,m))),n.forEach(((h,m)=>c.set(h,new AW(m,l.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Yh();let i=new Ut(((l,c)=>l-c)),s=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let m=r.get(f)||Di.empty();m=c.applyToLocalView(h,m),r.set(f,m);const p=(i.get(c.batchId)||et()).add(f);i=i.insert(c.batchId,p)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),h=f.key,m=f.value,p=U4();m.forEach((_=>{if(!s.has(_)){const b=$4(n.get(_),r.get(_));b!==null&&p.set(_,b),s=s.add(_)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,p))}return fe.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Ce.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):M4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):fe.resolve(Dl());let c=hd,f=s;return l.next((h=>fe.forEach(h,((m,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(m)?fe.resolve():this.remoteDocumentCache.getEntry(e,m).next((_=>{f=f.insert(m,_)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,f,h,et()))).next((m=>({batchId:c,changes:V4(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next((r=>{let i=Lh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=Lh();return this.indexManager.getCollectionParents(e,s).next((c=>fe.forEach(c,(f=>{const h=(function(p,_){return new uf(_,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((m=>{m.forEach(((p,_)=>{l=l.insert(p,_)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((f,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,tr.newInvalidDocument(m)))}));let c=Lh();return l.forEach(((f,h)=>{const m=s.get(f);m!==void 0&&Qh(m.mutation,h,Di.empty(),vt.now()),Fy(n,h)&&(c=c.insert(f,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:_a(i.createTime)}})(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:vW(i.bundledQuery),readTime:_a(i.readTime)}})(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RW{constructor(){this.overlays=new Ut(Ce.comparator),this.qr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Dl();return fe.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),fe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),fe.resolve()}getOverlaysForCollection(e,n,r){const i=Dl(),s=n.length+1,l=new Ce(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ut(((h,m)=>h-m));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=s.get(h.largestBatchId);m===null&&(m=Dl(),s=s.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const c=Dl(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,m)=>c.set(h,m))),!(c.size()>=i)););return fe.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new KK(n,r));let s=this.qr.get(n);s===void 0&&(s=et(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NW{constructor(){this.sessionToken=Kn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(){this.Qr=new wn(On.$r),this.Ur=new wn(On.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new On(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new On(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ce(new Rt([])),r=new On(n,e),i=new On(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ce(new Rt([])),r=new On(n,e),i=new On(n,e+1);let s=et();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new On(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class On{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ce.comparator(e.key,n.key)||Je(e.Yr,n.Yr)}static Kr(e,n){return Je(e.Yr,n.Yr)||Ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new wn(On.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new GK(s,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new On(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return fe.resolve(l)}lookupMutationBatch(e,n){return fe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return fe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?Qx:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new On(n,0),i=new On(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);s.push(c)})),fe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wn(Je);return n.forEach((i=>{const s=new On(i,0),l=new On(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(c=>{r=r.add(c.Yr)}))})),fe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ce.isDocumentKey(s)||(s=s.child(""));const l=new On(new Ce(s),0);let c=new wn(Je);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(f.Yr)),!0)}),l),fe.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){ht(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return fe.forEach(n.mutations,(i=>{const s=new On(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new On(n,0),i=this.Zr.firstAfterOrEqual(r);return fe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PW{constructor(e){this.ri=e,this.docs=(function(){return new Ut(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return fe.resolve(r?r.document.mutableCopy():tr.newInvalidDocument(n))}getEntries(e,n){let r=ds();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():tr.newInvalidDocument(i))})),fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ds();const l=n.path,c=new Ce(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:h,value:{document:m}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||oK(sK(m),r)<=0||(i.has(m.key)||Fy(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return fe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ke(9500)}ii(e,n){return fe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new kW(this)}getSize(e){return fe.resolve(this.size)}}class kW extends SW{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),fe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{constructor(e){this.persistence=e,this.si=new su((n=>Jx(n)),eT),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.oi=0,this._i=new sT,this.targetCount=0,this.ai=Mc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),fe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Mc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Pr(n),fe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),fe.waitFor(s).next((()=>i))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return fe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),fe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),fe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return fe.resolve(r)}containsKey(e,n){return fe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,n){this.ui={},this.overlays={},this.ci=new Vy(0),this.li=!1,this.li=!0,this.hi=new NW,this.referenceDelegate=e(this),this.Pi=new MW(this),this.indexManager=new yW,this.remoteDocumentCache=(function(i){return new PW(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new gW(n),this.Ii=new IW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RW,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new OW(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){be("MemoryPersistence","Starting transaction:",e);const i=new DW(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return fe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class DW extends uK{constructor(e){super(),this.currentSequenceNumber=e}}class oT{constructor(e){this.persistence=e,this.Ri=new sT,this.Vi=null}static mi(e){return new oT(e)}get fi(){if(this.Vi)return this.Vi;throw ke(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),fe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,(r=>{const i=Ce.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,De.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return fe.or([()=>fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class wv{constructor(e,n){this.persistence=e,this.pi=new su((r=>hK(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=TW(this,n)}static mi(e,n){return new wv(e,n)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return fe.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?fe.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,s.removeEntry(l,De.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Pg(e.data.value)),n}br(e,n,r){return fe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return fe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=et(),i=et();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new lT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return nB()?8:cK(rr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new LW;return this.Ss(e,n,l).next((c=>{if(s.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(sc()<=We.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",oc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(sc()<=We.DEBUG&&be("QueryEngine","Query:",oc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(sc()<=We.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",oc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ya(n))):fe.resolve())}ys(e,n){if(pO(n))return fe.resolve(null);let r=ya(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=GE(n,null,"F"),r=ya(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=et(...s);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.Ds(n,c);return this.Cs(n,h,l,f.readTime)?this.ys(e,GE(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,r,i){return pO(n)||i.isEqual(De.min())?fe.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?fe.resolve(null):(sc()<=We.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oc(n)),this.vs(e,l,n,aK(i,hd)).next((c=>c)))}))}Ds(e,n){let r=new wn(L4(e));return n.forEach(((i,s)=>{Fy(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return sc()<=We.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",oc(n)),this.ps.getDocumentsMatchingQuery(e,n,Lo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="LocalStore",VW=3e8;class UW{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Ut(Je),this.xs=new su((s=>Jx(s)),eT),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CW(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function zW(t,e,n,r){return new UW(t,e,n,r)}async function aj(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],c=[];let f=et();for(const h of i){l.push(h.batchId);for(const m of h.mutations)f=f.add(m.key)}for(const h of s){c.push(h.batchId);for(const m of h.mutations)f=f.add(m.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:c})))}))}))}function BW(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,f,h,m){const p=h.batch,_=p.keys();let b=fe.resolve();return _.forEach((E=>{b=b.next((()=>m.getEntry(f,E))).next((x=>{const A=h.docVersions.get(E);ht(A!==null,48541),x.version.compareTo(A)<0&&(p.applyToRemoteDocument(x,h),x.isValidDocument()&&(x.setReadTime(h.commitVersion),m.addEntry(x)))}))})),b.next((()=>c.mutationQueue.removeMutationBatch(f,p)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=et();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(f=f.add(c.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function sj(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function FW(t,e){const n=je(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((m,p)=>{const _=i.get(p);if(!_)return;c.push(n.Pi.removeMatchingKeys(s,m.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(s,m.addedDocuments,p))));let b=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?b=b.withResumeToken(Kn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):m.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(m.resumeToken,r)),i=i.insert(p,b),(function(x,A,O){return x.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=VW?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(_,b,m)&&c.push(n.Pi.updateTargetData(s,b))}));let f=ds(),h=et();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))})),c.push(qW(s,l,e.documentUpdates).next((m=>{f=m.ks,h=m.qs}))),!r.isEqual(De.min())){const m=n.Pi.getLastRemoteSnapshotVersion(s).next((p=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));c.push(m)}return fe.waitFor(c).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,h))).next((()=>f))})).then((s=>(n.Ms=i,s)))}function qW(t,e,n){let r=et(),i=et();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=ds();return n.forEach(((c,f)=>{const h=s.get(c);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(De.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):be(uT,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function HW(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Qx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function $W(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,fe.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new wo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function XE(t,e,n){const r=je(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!lf(l))throw l;be(uT,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function IO(t,e,n){const r=je(t);let i=De.min(),s=et();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,h,m){const p=je(f),_=p.xs.get(m);return _!==void 0?fe.resolve(p.Ms.get(_)):p.Pi.getTargetData(h,m)})(r,l,ya(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((f=>{s=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:De.min(),n?s:et()))).next((c=>(GW(r,OK(e),c),{documents:c,Qs:s})))))}function GW(t,e,n){let r=t.Os.get(e)||De.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class RO{constructor(){this.activeTargetIds=jK()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KW{constructor(){this.Mo=new RO,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new RO,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO="ConnectivityMonitor";class OO{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){be(NO,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){be(NO,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let og=null;function ZE(){return og===null?og=(function(){return 268435456+Math.round(2147483648*Math.random())})():og++,"0x"+og.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="RestConnection",YW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QW{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===pv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=ZE(),c=this.zo(e,n.toUriEncodedString());be(nw,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,s);const{host:h}=new URL(c),m=Go(h);return this.Jo(e,c,f,r,m).then((p=>(be(nw,`Received RPC '${e}' ${l}: `,p),p)),(p=>{throw Nc(nw,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=YW[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn="WebChannelConnection";class ZW extends QW{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=ZE();return new Promise(((c,f)=>{const h=new l4;h.setWithCredentials(!0),h.listenOnce(u4.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Og.NO_ERROR:const p=h.getResponseJson();be(Xn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(p)),c(p);break;case Og.TIMEOUT:be(Xn,`RPC '${e}' ${l} timed out`),f(new ye(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Og.HTTP_ERROR:const _=h.getStatus();if(be(Xn,`RPC '${e}' ${l} failed with status:`,_,"response text:",h.getResponseText()),_>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const E=b==null?void 0:b.error;if(E&&E.status&&E.message){const x=(function(O){const z=O.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(z)>=0?z:ce.UNKNOWN})(E.status);f(new ye(x,E.message))}else f(new ye(ce.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new ye(ce.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{be(Xn,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);be(Xn,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=ZE(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=h4(),c=f4(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const m=s.join("");be(Xn,`Creating RPC '${e}' stream ${i}: ${m}`,f);const p=l.createWebChannel(m,f);this.I_(p);let _=!1,b=!1;const E=new XW({Yo:A=>{b?be(Xn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(_||(be(Xn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),_=!0),be(Xn,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Zo:()=>p.close()}),x=(A,O,z)=>{A.listen(O,(D=>{try{z(D)}catch(H){setTimeout((()=>{throw H}),0)}}))};return x(p,Dh.EventType.OPEN,(()=>{b||(be(Xn,`RPC '${e}' stream ${i} transport opened.`),E.o_())})),x(p,Dh.EventType.CLOSE,(()=>{b||(b=!0,be(Xn,`RPC '${e}' stream ${i} transport closed`),E.a_(),this.E_(p))})),x(p,Dh.EventType.ERROR,(A=>{b||(b=!0,Nc(Xn,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),E.a_(new ye(ce.UNAVAILABLE,"The operation could not be completed")))})),x(p,Dh.EventType.MESSAGE,(A=>{var O;if(!b){const z=A.data[0];ht(!!z,16349);const D=z,H=(D==null?void 0:D.error)||((O=D[0])==null?void 0:O.error);if(H){be(Xn,`RPC '${e}' stream ${i} received error:`,H);const F=H.status;let $=(function(k){const V=un[k];if(V!==void 0)return K4(V)})(F),P=H.message;$===void 0&&($=ce.INTERNAL,P="Unknown error status: "+F+" with message "+H.message),b=!0,E.a_(new ye($,P)),p.close()}else be(Xn,`RPC '${e}' stream ${i} received:`,z),E.u_(z)}})),x(c,c4.STAT_EVENT,(A=>{A.stat===UE.PROXY?be(Xn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===UE.NOPROXY&&be(Xn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function rw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(t){return new nW(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="PersistentStream";class lj{constructor(e,n,r,i,s,l,c,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oj(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(hs(n.toString()),hs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ye(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return be(PO,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(be(PO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class JW extends lj{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=aW(this.serializer,e),r=(function(s){if(!("targetChange"in s))return De.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?De.min():l.readTime?_a(l.readTime):De.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=QE(this.serializer),n.addTarget=(function(s,l){let c;const f=l.target;if(c=HE(f)?{documents:lW(s,f)}:{query:uW(s,f).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=Q4(s,l.resumeToken);const h=KE(s,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(De.min())>0){c.readTime=bv(s,l.snapshotVersion.toTimestamp());const h=KE(s,l.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=fW(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=QE(this.serializer),n.removeTarget=e,this.q_(n)}}class eY extends lj{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=oW(e.writeResults,e.commitTime),r=_a(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=QE(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>sW(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tY{}class nY extends tY{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ye(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,WE(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ye(ce.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,WE(n,r),i,l,c,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(ce.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class rY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hs(n),this.aa=!1):be("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql="RemoteStore";class iY{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{lu(this)&&(be(Ql,"Restarting streams for network reachability change."),await(async function(f){const h=je(f);h.Ea.add(4),await Yd(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Ky(h)})(this))}))})),this.Ra=new rY(r,i)}}async function Ky(t){if(lu(t))for(const e of t.da)await e(!0)}async function Yd(t){for(const e of t.da)await e(!1)}function uj(t,e){const n=je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),dT(n)?hT(n):cf(n).O_()&&fT(n,e))}function cT(t,e){const n=je(t),r=cf(n);n.Ia.delete(e),r.O_()&&cj(n,e),n.Ia.size===0&&(r.O_()?r.L_():lu(n)&&n.Ra.set("Unknown"))}function fT(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cf(t).Y_(e)}function cj(t,e){t.Va.Ue(e),cf(t).Z_(e)}function hT(t){t.Va=new ZK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),cf(t).start(),t.Ra.ua()}function dT(t){return lu(t)&&!cf(t).x_()&&t.Ia.size>0}function lu(t){return je(t).Ea.size===0}function fj(t){t.Va=void 0}async function aY(t){t.Ra.set("Online")}async function sY(t){t.Ia.forEach(((e,n)=>{fT(t,e)}))}async function oY(t,e){fj(t),dT(t)?(t.Ra.ha(e),hT(t)):t.Ra.set("Unknown")}async function lY(t,e,n){if(t.Ra.set("Online"),e instanceof Y4&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){be(Ql,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ev(t,r)}else if(e instanceof Dg?t.Va.Ze(e):e instanceof W4?t.Va.st(e):t.Va.tt(e),!n.isEqual(De.min()))try{const r=await sj(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const c=s.Va.Tt(l);return c.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const m=s.Ia.get(h);m&&s.Ia.set(h,m.withResumeToken(f.resumeToken,l))}})),c.targetMismatches.forEach(((f,h)=>{const m=s.Ia.get(f);if(!m)return;s.Ia.set(f,m.withResumeToken(Kn.EMPTY_BYTE_STRING,m.snapshotVersion)),cj(s,f);const p=new wo(m.target,f,h,m.sequenceNumber);fT(s,p)})),s.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){be(Ql,"Failed to raise snapshot:",r),await Ev(t,r)}}async function Ev(t,e,n){if(!lf(e))throw e;t.Ea.add(1),await Yd(t),t.Ra.set("Offline"),n||(n=()=>sj(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{be(Ql,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ky(t)}))}function hj(t,e){return e().catch((n=>Ev(t,n,e)))}async function Wy(t){const e=je(t),n=zo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qx;for(;uY(e);)try{const i=await HW(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,cY(e,i)}catch(i){await Ev(e,i)}dj(e)&&mj(e)}function uY(t){return lu(t)&&t.Ta.length<10}function cY(t,e){t.Ta.push(e);const n=zo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function dj(t){return lu(t)&&!zo(t).x_()&&t.Ta.length>0}function mj(t){zo(t).start()}async function fY(t){zo(t).ra()}async function hY(t){const e=zo(t);for(const n of t.Ta)e.ea(n.mutations)}async function dY(t,e,n){const r=t.Ta.shift(),i=rT.from(r,e,n);await hj(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Wy(t)}async function mY(t,e){e&&zo(t).X_&&await(async function(r,i){if((function(l){return YK(l)&&l!==ce.ABORTED})(i.code)){const s=r.Ta.shift();zo(r).B_(),await hj(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Wy(r)}})(t,e),dj(t)&&mj(t)}async function kO(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),be(Ql,"RemoteStore received new credentials");const r=lu(n);n.Ea.add(3),await Yd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ky(n)}async function pY(t,e){const n=je(t);e?(n.Ea.delete(2),await Ky(n)):e||(n.Ea.add(2),await Yd(n),n.Ra.set("Unknown"))}function cf(t){return t.ma||(t.ma=(function(n,r,i){const s=je(n);return s.sa(),new JW(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:aY.bind(null,t),t_:sY.bind(null,t),r_:oY.bind(null,t),H_:lY.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),dT(t)?hT(t):t.Ra.set("Unknown")):(await t.ma.stop(),fj(t))}))),t.ma}function zo(t){return t.fa||(t.fa=(function(n,r,i){const s=je(n);return s.sa(),new eY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:fY.bind(null,t),r_:mY.bind(null,t),ta:hY.bind(null,t),na:dY.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Wy(t)):(await t.fa.stop(),t.Ta.length>0&&(be(Ql,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Io,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,c=new mT(e,n,l,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pT(t,e){if(hs("AsyncQueue",`${e}: ${t}`),lf(t))return new ye(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{static emptySet(e){return new bc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ce.comparator(n.key,r.key):(n,r)=>Ce.comparator(n.key,r.key),this.keyedMap=Lh(),this.sortedSet=new Ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this.ga=new Ut(Ce.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ke(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Dc{constructor(e,n,r,i,s,l,c,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new Dc(e,n,bc.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&By(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class vY{constructor(){this.queries=DO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=je(n),s=i.queries;i.queries=DO(),s.forEach(((l,c)=>{for(const f of c.Sa)f.onError(r)}))})(this,new ye(ce.ABORTED,"Firestore shutting down"))}}function DO(){return new su((t=>D4(t)),By)}async function yY(t,e){const n=je(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new gY,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=pT(l,`Initialization of query '${oc(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&gT(n)}async function _Y(t,e){const n=je(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function bY(t,e){const n=je(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&gT(n)}function wY(t,e,n){const r=je(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function gT(t){t.Ca.forEach((e=>{e.next()}))}var JE,LO;(LO=JE||(JE={})).Ma="default",LO.Cache="cache";class EY{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Dc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Dc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==JE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e){this.key=e}}class gj{constructor(e){this.key=e}}class xY{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=et(),this.mutatedKeys=et(),this.eu=L4(e),this.tu=new bc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new MO,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,p)=>{const _=i.get(m),b=Fy(this.query,p)?p:null,E=!!_&&this.mutatedKeys.has(_.key),x=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let A=!1;_&&b?_.data.isEqual(b.data)?E!==x&&(r.track({type:3,doc:b}),A=!0):this.su(_,b)||(r.track({type:2,doc:b}),A=!0,(f&&this.eu(b,f)>0||h&&this.eu(b,h)<0)&&(c=!0)):!_&&b?(r.track({type:0,doc:b}),A=!0):_&&!b&&(r.track({type:1,doc:_}),A=!0,(f||h)&&(c=!0)),A&&(b?(l=l.add(b),s=x?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,p)=>(function(b,E){const x=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Rt:A})}};return x(b)-x(E)})(m.type,p.type)||this.eu(m.doc,p.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,h=f!==this.Za;return this.Za=f,l.length!==0||h?{snapshot:new Dc(this.query,e.tu,s,l,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new MO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=et(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new gj(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new pj(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=et();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Dc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vT="SyncEngine";class TY{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class SY{constructor(e){this.key=e,this.hu=!1}}class AY{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new su((c=>D4(c)),By),this.Iu=new Map,this.Eu=new Set,this.du=new Ut(Ce.comparator),this.Au=new Map,this.Ru=new sT,this.Vu={},this.mu=new Map,this.fu=Mc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CY(t,e,n=!0){const r=Ej(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await vj(r,e,n,!0),i}async function IY(t,e){const n=Ej(t);await vj(n,e,!0,!1)}async function vj(t,e,n,r){const i=await $W(t.localStore,ya(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await RY(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&uj(t.remoteStore,i),c}async function RY(t,e,n,r,i){t.pu=(p,_,b)=>(async function(x,A,O,z){let D=A.view.ru(O);D.Cs&&(D=await IO(x.localStore,A.query,!1).then((({documents:P})=>A.view.ru(P,D))));const H=z&&z.targetChanges.get(A.targetId),F=z&&z.targetMismatches.get(A.targetId)!=null,$=A.view.applyChanges(D,x.isPrimaryClient,H,F);return VO(x,A.targetId,$.au),$.snapshot})(t,p,_,b);const s=await IO(t.localStore,e,!0),l=new xY(e,s.Qs),c=l.ru(s.documents),f=Wd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(c,t.isPrimaryClient,f);VO(t,n,h.au);const m=new TY(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function NY(t,e,n){const r=je(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!By(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await XE(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&cT(r.remoteStore,i.targetId),e1(r,i.targetId)})).catch(of)):(e1(r,i.targetId),await XE(r.localStore,i.targetId,!0))}async function OY(t,e){const n=je(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),cT(n.remoteStore,r.targetId))}async function PY(t,e,n){const r=UY(t);try{const i=await(function(l,c){const f=je(l),h=vt.now(),m=c.reduce(((b,E)=>b.add(E.key)),et());let p,_;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let E=ds(),x=et();return f.Ns.getEntries(b,m).next((A=>{E=A,E.forEach(((O,z)=>{z.isValidDocument()||(x=x.add(O))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,E))).next((A=>{p=A;const O=[];for(const z of c){const D=HK(z,p.get(z.key).overlayedDocument);D!=null&&O.push(new ou(z.key,D,A4(D.value.mapValue),ji.exists(!0)))}return f.mutationQueue.addMutationBatch(b,h,O,c)})).next((A=>{_=A;const O=A.applyToLocalDocumentSet(p,x);return f.documentOverlayCache.saveOverlays(b,A.batchId,O)}))})).then((()=>({batchId:_.batchId,changes:V4(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,f){let h=l.Vu[l.currentUser.toKey()];h||(h=new Ut(Je)),h=h.insert(c,f),l.Vu[l.currentUser.toKey()]=h})(r,i.batchId,n),await Qd(r,i.changes),await Wy(r.remoteStore)}catch(i){const s=pT(i,"Failed to persist write");n.reject(s)}}async function yj(t,e){const n=je(t);try{const r=await FW(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(ht(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?ht(l.hu,14607):i.removedDocuments.size>0&&(ht(l.hu,42227),l.hu=!1))})),await Qd(n,r,e)}catch(r){await of(r)}}function jO(t,e,n){const r=je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const f=je(l);f.onlineState=c;let h=!1;f.queries.forEach(((m,p)=>{for(const _ of p.Sa)_.va(c)&&(h=!0)})),h&&gT(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kY(t,e,n){const r=je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new Ut(Ce.comparator);l=l.insert(s,tr.newNoDocument(s,De.min()));const c=et().add(s),f=new $y(De.min(),new Map,new Ut(Je),l,c);await yj(r,f),r.du=r.du.remove(s),r.Au.delete(e),yT(r)}else await XE(r.localStore,e,!1).then((()=>e1(r,e,n))).catch(of)}async function MY(t,e){const n=je(t),r=e.batch.batchId;try{const i=await BW(n.localStore,e);bj(n,r,null),_j(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qd(n,i)}catch(i){await of(i)}}async function DY(t,e,n){const r=je(t);try{const i=await(function(l,c){const f=je(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let m;return f.mutationQueue.lookupMutationBatch(h,c).next((p=>(ht(p!==null,37113),m=p.keys(),f.mutationQueue.removeMutationBatch(h,p)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,m,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m))).next((()=>f.localDocuments.getDocuments(h,m)))}))})(r.localStore,e);bj(r,e,n),_j(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qd(r,i)}catch(i){await of(i)}}function _j(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function bj(t,e,n){const r=je(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function e1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||wj(t,r)}))}function wj(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(cT(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),yT(t))}function VO(t,e,n){for(const r of n)r instanceof pj?(t.Ru.addReference(r.key,e),LY(t,r)):r instanceof gj?(be(vT,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||wj(t,r.key)):ke(19791,{wu:r})}function LY(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(be(vT,"New document in limbo: "+n),t.Eu.add(r),yT(t))}function yT(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ce(Rt.fromString(e)),r=t.fu.next();t.Au.set(r,new SY(n)),t.du=t.du.insert(n,r),uj(t.remoteStore,new wo(ya(k4(n.path)),r,"TargetPurposeLimboResolution",Vy.ce))}}async function Qd(t,e,n){const r=je(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{l.push(r.pu(f,e,n).then((h=>{var m;if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:(m=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(h){i.push(h);const p=lT.As(f.targetId,h);s.push(p)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(f,h){const m=je(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>fe.forEach(h,(_=>fe.forEach(_.Es,(b=>m.persistence.referenceDelegate.addReference(p,_.targetId,b))).next((()=>fe.forEach(_.ds,(b=>m.persistence.referenceDelegate.removeReference(p,_.targetId,b)))))))))}catch(p){if(!lf(p))throw p;be(uT,"Failed to update sequence numbers: "+p)}for(const p of h){const _=p.targetId;if(!p.fromCache){const b=m.Ms.get(_),E=b.snapshotVersion,x=b.withLastLimboFreeSnapshotVersion(E);m.Ms=m.Ms.insert(_,x)}}})(r.localStore,s))}async function jY(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){be(vT,"User change. New user:",e.toKey());const r=await aj(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((c=>{c.forEach((f=>{f.reject(new ye(ce.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qd(n,r.Ls)}}function VY(t,e){const n=je(t),r=n.Au.get(e);if(r&&r.hu)return et().add(r.key);{let i=et();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function Ej(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kY.bind(null,e),e.Pu.H_=bY.bind(null,e.eventManager),e.Pu.yu=wY.bind(null,e.eventManager),e}function UY(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DY.bind(null,e),e}class xv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return zW(this.persistence,new jW,e.initialUser,this.serializer)}Cu(e){return new ij(oT.mi,this.serializer)}Du(e){return new KW}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xv.provider={build:()=>new xv};class zY extends xv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ht(this.persistence.referenceDelegate instanceof wv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new EW(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?wr.withCacheSize(this.cacheSizeBytes):wr.DEFAULT;return new ij((r=>wv.mi(r,n)),this.serializer)}}class t1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jY.bind(null,this.syncEngine),await pY(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vY})()}createDatastore(e){const n=Gy(e.databaseInfo.databaseId),r=(function(s){return new ZW(s)})(e.databaseInfo);return(function(s,l,c,f){return new nY(s,l,c,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,c){return new iY(r,i,s,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>jO(this.syncEngine,n,0)),(function(){return OO.v()?new OO:new WW})())}createSyncEngine(e,n){return(function(i,s,l,c,f,h,m){const p=new AY(i,s,l,c,f,h);return m&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const s=je(i);be(Ql,"RemoteStore shutting down."),s.Ea.add(5),await Yd(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}t1.provider={build:()=>new t1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BY{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="FirestoreClient";class FY{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Jn.UNAUTHENTICATED,this.clientId=Yx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{be(Bo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(be(Bo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Io;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=pT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function iw(t,e){t.asyncQueue.verifyOperationInProgress(),be(Bo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await aj(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function UO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qY(t);be(Bo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>kO(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>kO(e.remoteStore,i))),t._onlineComponents=e}async function qY(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){be(Bo,"Using user provided OfflineComponentProvider");try{await iw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ce.FAILED_PRECONDITION||i.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Nc("Error using user provided cache. Falling back to memory cache: "+n),await iw(t,new xv)}}else be(Bo,"Using default OfflineComponentProvider"),await iw(t,new zY(void 0));return t._offlineComponents}async function xj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(be(Bo,"Using user provided OnlineComponentProvider"),await UO(t,t._uninitializedComponentsProvider._online)):(be(Bo,"Using default OnlineComponentProvider"),await UO(t,new t1))),t._onlineComponents}function HY(t){return xj(t).then((e=>e.syncEngine))}async function $Y(t){const e=await xj(t),n=e.eventManager;return n.onListen=CY.bind(null,e.syncEngine),n.onUnlisten=NY.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=IY.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=OY.bind(null,e.syncEngine),n}function GY(t,e,n={}){const r=new Io;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,c,f,h){const m=new BY({next:_=>{m.Nu(),l.enqueueAndForget((()=>_Y(s,p))),_.fromCache&&f.source==="server"?h.reject(new ye(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),p=new EY(c,m,{includeMetadataChanges:!0,qa:!0});return yY(s,p)})(await $Y(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj="firestore.googleapis.com",BO=!0;class FO{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sj,this.ssl=BO}else this.host=e.host,this.ssl=e.ssl??BO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bW)throw new ye(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tj(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ye(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ye(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ye(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new WG;switch(r.type){case"firstParty":return new ZG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=zO.get(n);r&&(be("ComponentProvider","Removing Datastore"),zO.delete(n),r.terminate())})(this),Promise.resolve()}}function KY(t,e,n,r={}){var h;t=Yl(t,Yy);const i=Go(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(rx(`https://${c}`),ix("Firestore",!0)),s.host!==Sj&&s.host!==c&&Nc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:c,ssl:i,emulatorOptions:r};if(!Oo(f,l)&&(t._setSettings(f),r.mockUserToken)){let m,p;if(typeof r.mockUserToken=="string")m=r.mockUserToken,p=Jn.MOCK_USER;else{m=tD(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new ye(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Jn(_)}t._authCredentials=new YG(new m4(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new uu(this.firestore,e,this._query)}}class bn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}toJSON(){return{type:bn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Gd(n,bn._jsonSchema))return new bn(e,r||null,new Ce(Rt.fromString(n.referencePath)))}}bn._jsonSchemaVersion="firestore/documentReference/1.0",bn._jsonSchema={type:hn("string",bn._jsonSchemaVersion),referencePath:hn("string")};class Ro extends uu{constructor(e,n,r){super(e,n,k4(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new Ce(e))}withConverter(e){return new Ro(this.firestore,e,this._path)}}function _T(t,e,...n){if(t=Xt(t),p4("collection","path",e),t instanceof Yy){const r=Rt.fromString(e,...n);return tO(r),new Ro(t,null,r)}{if(!(t instanceof bn||t instanceof Ro))throw new ye(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rt.fromString(e,...n));return tO(r),new Ro(t.firestore,null,r)}}function bT(t,e,...n){if(t=Xt(t),arguments.length===1&&(e=Yx.newId()),p4("doc","path",e),t instanceof Yy){const r=Rt.fromString(e,...n);return eO(r),new bn(t,null,new Ce(r))}{if(!(t instanceof bn||t instanceof Ro))throw new ye(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rt.fromString(e,...n));return eO(r),new bn(t.firestore,t instanceof Ro?t.converter:null,new Ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO="AsyncQueue";class HO{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oj(this,"async_queue_retry"),this._c=()=>{const r=rw();r&&be(qO,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=rw();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=rw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Io;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!lf(e))throw e;be(qO,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,hs("INTERNAL UNHANDLED ERROR: ",$O(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=mT.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&ke(47125,{Pc:$O(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function $O(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Xd extends Yy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new HO,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HO(e),this._firestoreClient=void 0,await e}}}function WY(t,e){const n=typeof t=="object"?t:lx(),r=typeof t=="string"?t:pv,i=Ey(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=ZM("firestore");s&&KY(i,...s)}return i}function Aj(t){if(t._terminated)throw new ye(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||YY(t),t._firestoreClient}function YY(t){var r,i,s;const e=t._freezeSettings(),n=(function(c,f,h,m){return new pK(c,f,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Tj(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new FY(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this._byteString=e}static fromBase64String(e){try{return new li(Kn.fromBase64String(e))}catch(n){throw new ye(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new li(Kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:li._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gd(e,li._jsonSchema))return li.fromBase64String(e.bytes)}}li._jsonSchemaVersion="firestore/bytes/1.0",li._jsonSchema={type:hn("string",li._jsonSchemaVersion),bytes:hn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ba._jsonSchemaVersion}}static fromJSON(e){if(Gd(e,ba._jsonSchema))return new ba(e.latitude,e.longitude)}}ba._jsonSchemaVersion="firestore/geoPoint/1.0",ba._jsonSchema={type:hn("string",ba._jsonSchemaVersion),latitude:hn("number"),longitude:hn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gd(e,wa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new wa(e.vectorValues);throw new ye(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wa._jsonSchemaVersion="firestore/vectorValue/1.0",wa._jsonSchema={type:hn("string",wa._jsonSchemaVersion),vectorValues:hn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QY=/^__.*__$/;class XY{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ou(e,this.data,this.fieldMask,n,this.fieldTransforms):new Kd(e,this.data,n,this.fieldTransforms)}}function Ij(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ac:t})}}class ET{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ET({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Tv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Ij(this.Ac)&&QY.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ZY{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gy(e)}Cc(e,n,r,i=!1){return new ET({Ac:e,methodName:n,Dc:r,path:Gn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xT(t){const e=t._freezeSettings(),n=Gy(t._databaseId);return new ZY(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Rj(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);Pj("Data must be an object, but it was:",l,r);const c=Nj(r,l);let f,h;if(s.merge)f=new Di(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const p of s.mergeFields){const _=eQ(e,p,n);if(!l.contains(_))throw new ye(ce.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);nQ(m,_)||m.push(_)}f=new Di(m),h=l.fieldTransforms.filter((p=>f.covers(p.field)))}else f=null,h=l.fieldTransforms;return new XY(new oi(c),f,h)}function JY(t,e,n,r=!1){return TT(n,t.Cc(r?4:3,e))}function TT(t,e){if(Oj(t=Xt(t)))return Pj("Unsupported field value:",e,t),Nj(t,e);if(t instanceof Cj)return(function(r,i){if(!Ij(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const c of r){let f=TT(c,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return VK(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=vt.fromDate(r);return{timestampValue:bv(i.serializer,s)}}if(r instanceof vt){const s=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bv(i.serializer,s)}}if(r instanceof ba)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof li)return{bytesValue:Q4(i.serializer,r._byteString)};if(r instanceof bn){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:aT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof wa)return(function(l,c){return{mapValue:{fields:{[T4]:{stringValue:S4},[gv]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return tT(c.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${jy(r)}`)})(t,e)}function Nj(t,e){const n={};return y4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):au(t,((r,i)=>{const s=TT(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function Oj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof ba||t instanceof li||t instanceof bn||t instanceof Cj||t instanceof wa)}function Pj(t,e,n){if(!Oj(n)||!g4(n)){const r=jy(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function eQ(t,e,n){if((e=Xt(e))instanceof wT)return e._internalPath;if(typeof e=="string")return kj(t,e);throw Tv("Field path arguments must be of type string or ",t,!1,void 0,n)}const tQ=new RegExp("[~\\*/\\[\\]]");function kj(t,e,n){if(e.search(tQ)>=0)throw Tv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wT(...e.split("."))._internalPath}catch{throw Tv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Tv(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(s||l)&&(f+=" (found",s&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new ye(ce.INVALID_ARGUMENT,c+t+f)}function nQ(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Qy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rQ extends Mj{data(){return super.data()}}function Qy(t,e){return typeof e=="string"?kj(t,e):e instanceof wT?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iQ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ST{}class Dj extends ST{}function Lj(t,e,...n){let r=[];e instanceof ST&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((f=>f instanceof AT)).length,c=s.filter((f=>f instanceof Xy)).length;if(l>1||l>0&&c>0)throw new ye(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Xy extends Dj{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Xy(e,n,r)}_apply(e){const n=this._parse(e);return Vj(e._query,n),new uu(e.firestore,e.converter,$E(e._query,n))}_parse(e){const n=xT(e.firestore);return(function(s,l,c,f,h,m,p){let _;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ye(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){KO(p,m);const E=[];for(const x of p)E.push(GO(f,s,x));_={arrayValue:{values:E}}}else _=GO(f,s,p)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||KO(p,m),_=JY(c,l,p,m==="in"||m==="not-in");return fn.create(h,m,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function aQ(t,e,n){const r=e,i=Qy("where",t);return Xy._create(i,r,n)}class AT extends ST{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new AT(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:zi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let l=i;const c=s.getFlattenedFilters();for(const f of c)Vj(l,f),l=$E(l,f)})(e._query,n),new uu(e.firestore,e.converter,$E(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class CT extends Dj{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new CT(e,n)}_apply(e){const n=(function(i,s,l){if(i.startAt!==null)throw new ye(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ye(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gd(s,l)})(e._query,this._field,this._direction);return new uu(e.firestore,e.converter,(function(i,s){const l=i.explicitOrderBy.concat([s]);return new uf(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function jj(t,e="asc"){const n=e,r=Qy("orderBy",t);return CT._create(r,n)}function GO(t,e,n){if(typeof(n=Xt(n))=="string"){if(n==="")throw new ye(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!M4(e)&&n.indexOf("/")!==-1)throw new ye(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Rt.fromString(n));if(!Ce.isDocumentKey(r))throw new ye(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uO(t,new Ce(r))}if(n instanceof bn)return uO(t,n._key);throw new ye(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jy(n)}.`)}function KO(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Vj(t,e){const n=(function(i,s){for(const l of i)for(const c of l.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ye(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class sQ{convertValue(e,n="none"){switch(Uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return au(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[gv].arrayValue)==null?void 0:i.values)==null?void 0:s.map((l=>Qt(l.doubleValue)));return new wa(n)}convertGeoPoint(e){return new ba(Qt(e.latitude),Qt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dd(e));default:return null}}convertTimestamp(e){const n=jo(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Rt.fromString(e);ht(nj(r),9688,{name:e});const i=new md(r.get(1),r.get(3)),s=new Ce(r.popFirst(5));return i.isEqual(n)||hs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class lg{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wc extends Mj{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Qy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=wc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}wc._jsonSchemaVersion="firestore/documentSnapshot/1.0",wc._jsonSchema={type:hn("string",wc._jsonSchemaVersion),bundleSource:hn("string","DocumentSnapshot"),bundleName:hn("string"),bundle:hn("string")};class Lg extends wc{data(e={}){return super.data(e)}}class Ec{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new lg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Lg(this._firestore,this._userDataWriter,r.key,r,new lg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const f=new Lg(i._firestore,i._userDataWriter,c.doc.key,c.doc,new lg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const f=new Lg(i._firestore,i._userDataWriter,c.doc.key,c.doc,new lg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:oQ(c.type),doc:f,oldIndex:h,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ec._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Yx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:t})}}Ec._jsonSchemaVersion="firestore/querySnapshot/1.0",Ec._jsonSchema={type:hn("string",Ec._jsonSchemaVersion),bundleSource:hn("string","QuerySnapshot"),bundleName:hn("string"),bundle:hn("string")};class lQ extends sQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new li(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,n)}}function zj(t){t=Yl(t,uu);const e=Yl(t.firestore,Xd),n=Aj(e),r=new lQ(e);return iQ(t._query),GY(n,t._query).then((i=>new Ec(e,r,t,i)))}function uQ(t,e,n){t=Yl(t,bn);const r=Yl(t.firestore,Xd),i=Uj(t.converter,e);return IT(r,[Rj(xT(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ji.none())])}function cQ(t){return IT(Yl(t.firestore,Xd),[new nT(t._key,ji.none())])}function fQ(t,e){const n=Yl(t.firestore,Xd),r=bT(t),i=Uj(t.converter,e);return IT(n,[Rj(xT(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ji.exists(!1))]).then((()=>r))}function IT(t,e){return(function(r,i){const s=new Io;return r.asyncQueue.enqueueAndForget((async()=>PY(await HY(r),i,s))),s.promise})(Aj(t),e)}(function(e,n=!0){(function(i){sf=i})(nu),ql(new Po("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),c=new Xd(new QG(r.getProvider("auth-internal")),new JG(l,r.getProvider("app-check-internal")),(function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ye(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new md(h.options.projectId,m)})(l,i),l);return s={useFetchStreams:n,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),pa(QN,XN,e),pa(QN,XN,"esm2020")})();const hQ={apiKey:"AIzaSyCOyXdZdpelVCY7pCyTlcvGzQ9l3mjLFwI",authDomain:"erzel-quiz.firebaseapp.com",databaseURL:"https://erzel-quiz-default-rtdb.firebaseio.com",projectId:"erzel-quiz",storageBucket:"erzel-quiz.firebasestorage.app",messagingSenderId:"565602309394",appId:"1:565602309394:web:248060a4e7824b39450fcb",measurementId:"G-SW6Y5FLBTQ"},RT=sD(hQ),Ra=$G(RT),NT=Dq(RT),Zd=WY(RT),dQ=async(t,e)=>(await b7(NT,t,e)).user,mQ=async()=>{await T7(NT)},Bj=T.createContext(void 0),pQ=({children:t})=>{const[e,n]=T.useState(null),[r,i]=T.useState(!0);T.useEffect(()=>x7(NT,f=>{n(f),i(!1)}),[]);const s=async(c,f)=>{await dQ(c,f)},l=async()=>{await mQ()};return C.jsx(Bj.Provider,{value:{user:e,loading:r,login:s,logout:l},children:t})},Jd=()=>{const t=T.useContext(Bj);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gQ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vQ=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),WO=t=>{const e=vQ(t);return e.charAt(0).toUpperCase()+e.slice(1)},Fj=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),yQ=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _Q={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bQ=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...c},f)=>T.createElement("svg",{ref:f,..._Q,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Fj("lucide",i),...!s&&!yQ(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,m])=>T.createElement(h,m)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(t,e)=>{const n=T.forwardRef(({className:r,...i},s)=>T.createElement(bQ,{ref:s,iconNode:e,className:Fj(`lucide-${gQ(WO(t))}`,`lucide-${t}`,r),...i}));return n.displayName=WO(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wQ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Sv=Qe("arrow-left",wQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EQ=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],xQ=Qe("book-open",EQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TQ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],SQ=Qe("calendar",TQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AQ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],n1=Qe("check",AQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CQ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],IQ=Qe("chevron-down",CQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RQ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],NQ=Qe("chevron-up",RQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OQ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],PQ=Qe("circle-check-big",OQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],OT=Qe("circle",kQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MQ=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],DQ=Qe("clock",MQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LQ=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],jQ=Qe("crown",LQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VQ=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],UQ=Qe("database",VQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zQ=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],BQ=Qe("file-text",zQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],qQ=Qe("frown",FQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HQ=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],qj=Qe("hexagon",HQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Q=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],GQ=Qe("history",$Q);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KQ=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],YO=Qe("layout-grid",KQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WQ=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],aw=Qe("loader-circle",WQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YQ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],QQ=Qe("log-out",YQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XQ=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Av=Qe("medal",XQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZQ=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],JQ=Qe("monitor-play",ZQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eX=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],tX=Qe("music",eX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nX=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],rX=Qe("pencil",nX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iX=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],PT=Qe("play",iX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aX=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],sX=Qe("plus",aX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oX=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],lX=Qe("save",oX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uX=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cX=Qe("search",uX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fX=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],hX=Qe("send",fX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dX=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],mX=Qe("smartphone",dX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pX=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Hj=Qe("square",pX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gX=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],vX=Qe("toggle-left",gX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$j=Qe("trash-2",yX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _X=[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]],Gj=Qe("triangle",_X);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bX=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Xh=Qe("trophy",bX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wX=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],EX=Qe("type",wX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xX=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],TX=Qe("user",xX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Kj=Qe("users",SX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AX=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],r1=Qe("x",AX),or=()=>C.jsx("footer",{className:"fixed bottom-0 left-0 right-0 w-full text-white text-xs font-semibold z-[100] bg-black/90 backdrop-blur-lg py-2 border-t border-white/20 shadow-[0_-4px_32px_rgba(0,0,0,0.6)]",children:C.jsx("div",{className:"container mx-auto px-4 flex items-center justify-center",children:C.jsx("a",{href:"https://www.erzelsoft.com",target:"_blank",rel:"noreferrer",className:"hover:scale-110 transition-transform",children:C.jsx("img",{src:"images/erzelsoft-logo.png",alt:"ErzEl Soft",className:"h-8"})})})}),CX=()=>{const t=kd();return C.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-8 pb-32 text-white relative z-10",children:[C.jsxs("div",{className:"text-center mb-16",children:[C.jsx("h1",{className:"text-8xl font-semibold tracking-tight text-white mb-4",children:"Quiz"}),C.jsx("p",{className:"text-2xl font-semibold text-white",children:"Learning and fun platform"})]}),C.jsxs("div",{className:"grid md:grid-cols-2 gap-10 max-w-6xl w-full",children:[C.jsx("button",{onClick:()=>t("/host"),className:"group relative overflow-hidden bg-gradient-to-br from-purple-600/90 to-blue-600/90 backdrop-blur-xl rounded-3xl hover:from-purple-500/95 hover:to-blue-500/95 transition-all duration-300 hover:scale-[1.03] shadow-[0_20px_60px_rgba(0,0,0,0.5)] hover:shadow-[0_25px_80px_rgba(147,51,234,0.6)] border-2 border-white/30",children:C.jsxs("div",{className:"p-12 flex flex-col items-center gap-8",children:[C.jsx("div",{className:"w-28 h-28 bg-white rounded-3xl flex items-center justify-center shadow-2xl transform group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:C.jsx(JQ,{className:"w-14 h-14 text-purple-600",strokeWidth:2.5})}),C.jsxs("div",{className:"text-center",children:[C.jsx("h2",{className:"text-5xl font-semibold mb-3 text-white",children:"Host"}),C.jsx("p",{className:"text-white/95 font-semibold text-xl",children:"Create & Host a game on the big screen"})]})]})}),C.jsx("button",{onClick:()=>t("/join"),className:"group relative overflow-hidden bg-gradient-to-br from-green-600/90 to-teal-600/90 backdrop-blur-xl rounded-3xl hover:from-green-500/95 hover:to-teal-500/95 transition-all duration-300 hover:scale-[1.03] shadow-[0_20px_60px_rgba(0,0,0,0.5)] hover:shadow-[0_25px_80px_rgba(16,185,129,0.6)] border-2 border-white/30",children:C.jsxs("div",{className:"p-12 flex flex-col items-center gap-8",children:[C.jsx("div",{className:"w-28 h-28 bg-white rounded-3xl flex items-center justify-center shadow-2xl transform group-hover:scale-110 group-hover:-rotate-3 transition-all duration-300",children:C.jsx(mX,{className:"w-14 h-14 text-green-600",strokeWidth:2.5})}),C.jsxs("div",{className:"text-center",children:[C.jsx("h2",{className:"text-5xl font-semibold mb-3 text-white",children:"Join"}),C.jsx("p",{className:"text-white/95 font-semibold text-xl",children:"Enter PIN to play on your device"})]})]})})]}),C.jsx(or,{})]})};var Fe=(t=>(t.MENU="MENU",t.LOBBY="LOBBY",t.QUESTION="QUESTION",t.REVEAL="REVEAL",t.LEADERBOARD="LEADERBOARD",t.FINISH="FINISH",t))(Fe||{});const IX=[{color:"bg-red-500",icon:Gj,label:"Triangle"},{color:"bg-blue-500",icon:qj,label:"Diamond"},{color:"bg-yellow-500",icon:OT,label:"Circle"},{color:"bg-green-500",icon:Hj,label:"Square"}],RX=({question:t,currentQuestionIndex:e,totalQuestions:n,answersCount:r,onTimerEnd:i,onTimerTick:s})=>{const[l,c]=T.useState(t.timeLimit),f=Vl.useRef(i),h=Vl.useRef(s);Vl.useEffect(()=>{f.current=i,h.current=s},[i,s]),T.useEffect(()=>{var _;c(t.timeLimit),(_=h.current)==null||_.call(h,t.timeLimit);const p=setInterval(()=>{c(b=>{var x,A;const E=b-1;return E<=0?(clearInterval(p),f.current(),(x=h.current)==null||x.call(h,0),0):((A=h.current)==null||A.call(h,E),E)})},1e3);return()=>clearInterval(p)},[t.id]);const m=t.type==="SHORT_ANSWER"||t.type==="FILL_IN_THE_BLANK";return C.jsxs("div",{className:"flex flex-col h-full w-full max-w-7xl mx-auto p-4 md:p-6 pb-24 relative z-10",children:[C.jsx("div",{className:"flex justify-between items-center mb-4",children:C.jsxs("div",{className:"bg-black/20 backdrop-blur px-4 py-2 rounded-full font-bold text-white text-lg border border-white/10",children:["Question ",e+1," of ",n]})}),C.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center mb-2 w-full",children:[C.jsx("div",{className:"bg-white text-[#46178f] p-6 md:p-12 rounded-3xl shadow-2xl text-center w-full shadow-purple-900/50 min-h-[180px] flex items-center justify-center mb-8 animate-in zoom-in duration-300",children:C.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-semibold leading-tight",children:t.text})}),C.jsxs("div",{className:"flex items-center gap-12 md:gap-24",children:[C.jsxs("div",{className:"relative group",children:[C.jsx("div",{className:`w-24 h-24 md:w-32 md:h-32 rounded-full border-8 bg-[#46178f] shadow-2xl flex items-center justify-center relative z-10 transition-colors duration-500 ${l<=5?"border-red-500 animate-pulse":"border-white"}`,children:C.jsx("span",{className:"text-4xl md:text-5xl font-black text-white",children:l})}),C.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-white/20 scale-110 -z-0"})]}),C.jsxs("div",{className:"flex flex-col items-center animate-in slide-in-from-right duration-500",children:[C.jsx("span",{className:"text-6xl md:text-7xl font-black drop-shadow-lg",children:r}),C.jsx("span",{className:"font-bold text-lg uppercase tracking-widest opacity-80",children:"Answers"})]})]})]}),!m&&C.jsx("div",{className:`grid ${t.type==="TRUE_FALSE"?"grid-cols-2":"grid-cols-2 md:grid-cols-4"} gap-4 md:gap-6 min-h-[120px] mb-4`,children:t.options.map((p,_)=>{const b=IX[_],E=b.icon;return C.jsxs("div",{className:`${b.color} rounded-2xl shadow-xl flex flex-col md:flex-row items-center p-6 gap-4 transform transition-transform duration-200 hover:scale-[1.02] border-2 border-white/10`,children:[C.jsx("div",{className:"bg-black/20 p-3 rounded-xl shrink-0",children:C.jsx(E,{className:"w-8 h-8 md:w-10 md:h-10 text-white fill-current"})}),C.jsx("span",{className:"text-white font-bold text-2xl md:text-3xl leading-tight text-shadow",children:p})]},_)})}),m&&C.jsx("div",{className:"h-48 flex items-center justify-center",children:C.jsx("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 px-12 py-6 rounded-full animate-pulse text-3xl font-black tracking-wider shadow-xl",children:"Players are typing..."})})]})};function Wj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Wj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function En(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Wj(t))&&(r&&(r+=" "),r+=e);return r}var NX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function kT(t){if(typeof t!="string")return!1;var e=NX;return e.includes(t)}var OX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PX=new Set(OX);function Yj(t){return typeof t!="string"?!1:PX.has(t)}function Qj(t){return typeof t=="string"&&t.startsWith("data-")}function Fo(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Yj(n)||Qj(n))&&(e[n]=t[n]);return e}function Xj(t){if(t==null)return null;if(T.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Fo(e)}return typeof t=="object"&&!Array.isArray(t)?Fo(t):null}function Bi(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Yj(n)||Qj(n)||kT(n))&&(e[n]=t[n]);return e}var kX=["children","width","height","viewBox","className","style","title","desc"];function i1(){return i1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i1.apply(null,arguments)}function MX(t,e){if(t==null)return{};var n,r,i=DX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function DX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Zj=T.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:c,title:f,desc:h}=t,m=MX(t,kX),p=s||{width:r,height:i,x:0,y:0},_=En("recharts-surface",l);return T.createElement("svg",i1({},Bi(m),{className:_,width:r,height:i,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),T.createElement("title",null,f),T.createElement("desc",null,h),n)}),LX=["children","className"];function a1(){return a1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a1.apply(null,arguments)}function jX(t,e){if(t==null)return{};var n,r,i=VX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function VX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ms=T.forwardRef((t,e)=>{var{children:n,className:r}=t,i=jX(t,LX),s=En("recharts-layer",r);return T.createElement("g",a1({className:s},Bi(i),{ref:e}),n)}),UX=T.createContext(null);function Ct(t){return function(){return t}}const Jj=Math.cos,Cv=Math.sin,Hi=Math.sqrt,Iv=Math.PI,Zy=2*Iv,s1=Math.PI,o1=2*s1,Nl=1e-6,zX=o1-Nl;function e3(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function BX(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return e3;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class FX{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?e3:BX(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,c=this._y1,f=r-e,h=i-n,m=l-e,p=c-n,_=m*m+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(_>Nl)if(!(Math.abs(p*f-h*m)>Nl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-l,E=i-c,x=f*f+h*h,A=b*b+E*E,O=Math.sqrt(x),z=Math.sqrt(_),D=s*Math.tan((s1-Math.acos((x+_-A)/(2*O*z)))/2),H=D/z,F=D/O;Math.abs(H-1)>Nl&&this._append`L${e+H*m},${n+H*p}`,this._append`A${s},${s},0,0,${+(p*b>m*E)},${this._x1=e+F*f},${this._y1=n+F*h}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),f=r*Math.sin(i),h=e+c,m=n+f,p=1^l,_=l?i-s:s-i;this._x1===null?this._append`M${h},${m}`:(Math.abs(this._x1-h)>Nl||Math.abs(this._y1-m)>Nl)&&this._append`L${h},${m}`,r&&(_<0&&(_=_%o1+o1),_>zX?this._append`A${r},${r},0,1,${p},${e-c},${n-f}A${r},${r},0,1,${p},${this._x1=h},${this._y1=m}`:_>Nl&&this._append`A${r},${r},0,${+(_>=s1)},${p},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function MT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new FX(e)}function DT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function t3(t){this._context=t}t3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Jy(t){return new t3(t)}function n3(t){return t[0]}function r3(t){return t[1]}function i3(t,e){var n=Ct(!0),r=null,i=Jy,s=null,l=MT(c);t=typeof t=="function"?t:t===void 0?n3:Ct(t),e=typeof e=="function"?e:e===void 0?r3:Ct(e);function c(f){var h,m=(f=DT(f)).length,p,_=!1,b;for(r==null&&(s=i(b=l())),h=0;h<=m;++h)!(h<m&&n(p=f[h],h,f))===_&&((_=!_)?s.lineStart():s.lineEnd()),_&&s.point(+t(p,h,f),+e(p,h,f));if(b)return s=null,b+""||null}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ct(+f),c):t},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ct(+f),c):e},c.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Ct(!!f),c):n},c.curve=function(f){return arguments.length?(i=f,r!=null&&(s=i(r)),c):i},c.context=function(f){return arguments.length?(f==null?r=s=null:s=i(r=f),c):r},c}function ug(t,e,n){var r=null,i=Ct(!0),s=null,l=Jy,c=null,f=MT(h);t=typeof t=="function"?t:t===void 0?n3:Ct(+t),e=typeof e=="function"?e:Ct(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?r3:Ct(+n);function h(p){var _,b,E,x=(p=DT(p)).length,A,O=!1,z,D=new Array(x),H=new Array(x);for(s==null&&(c=l(z=f())),_=0;_<=x;++_){if(!(_<x&&i(A=p[_],_,p))===O)if(O=!O)b=_,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),E=_-1;E>=b;--E)c.point(D[E],H[E]);c.lineEnd(),c.areaEnd()}O&&(D[_]=+t(A,_,p),H[_]=+e(A,_,p),c.point(r?+r(A,_,p):D[_],n?+n(A,_,p):H[_]))}if(z)return c=null,z+""||null}function m(){return i3().defined(i).curve(l).context(s)}return h.x=function(p){return arguments.length?(t=typeof p=="function"?p:Ct(+p),r=null,h):t},h.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Ct(+p),h):t},h.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Ct(+p),h):r},h.y=function(p){return arguments.length?(e=typeof p=="function"?p:Ct(+p),n=null,h):e},h.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Ct(+p),h):e},h.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Ct(+p),h):n},h.lineX0=h.lineY0=function(){return m().x(t).y(e)},h.lineY1=function(){return m().x(t).y(n)},h.lineX1=function(){return m().x(r).y(e)},h.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Ct(!!p),h):i},h.curve=function(p){return arguments.length?(l=p,s!=null&&(c=l(s)),h):l},h.context=function(p){return arguments.length?(p==null?s=c=null:c=l(s=p),h):s},h}class a3{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function qX(t){return new a3(t,!0)}function HX(t){return new a3(t,!1)}const LT={draw(t,e){const n=Hi(e/Iv);t.moveTo(n,0),t.arc(0,0,n,0,Zy)}},$X={draw(t,e){const n=Hi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},s3=Hi(1/3),GX=s3*2,KX={draw(t,e){const n=Hi(e/GX),r=n*s3;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},WX={draw(t,e){const n=Hi(e),r=-n/2;t.rect(r,r,n,n)}},YX=.8908130915292852,o3=Cv(Iv/10)/Cv(7*Iv/10),QX=Cv(Zy/10)*o3,XX=-Jj(Zy/10)*o3,ZX={draw(t,e){const n=Hi(e*YX),r=QX*n,i=XX*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=Zy*s/5,c=Jj(l),f=Cv(l);t.lineTo(f*n,-c*n),t.lineTo(c*r-f*i,f*r+c*i)}t.closePath()}},sw=Hi(3),JX={draw(t,e){const n=-Hi(e/(sw*3));t.moveTo(0,n*2),t.lineTo(-sw*n,-n),t.lineTo(sw*n,-n),t.closePath()}},ri=-.5,ii=Hi(3)/2,l1=1/Hi(12),eZ=(l1/2+1)*3,tZ={draw(t,e){const n=Hi(e/eZ),r=n/2,i=n*l1,s=r,l=n*l1+n,c=-s,f=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(c,f),t.lineTo(ri*r-ii*i,ii*r+ri*i),t.lineTo(ri*s-ii*l,ii*s+ri*l),t.lineTo(ri*c-ii*f,ii*c+ri*f),t.lineTo(ri*r+ii*i,ri*i-ii*r),t.lineTo(ri*s+ii*l,ri*l-ii*s),t.lineTo(ri*c+ii*f,ri*f-ii*c),t.closePath()}};function nZ(t,e){let n=null,r=MT(i);t=typeof t=="function"?t:Ct(t||LT),e=typeof e=="function"?e:Ct(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Ct(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Ct(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Rv(){}function Nv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function l3(t){this._context=t}l3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rZ(t){return new l3(t)}function u3(t){this._context=t}u3.prototype={areaStart:Rv,areaEnd:Rv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Nv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function iZ(t){return new u3(t)}function c3(t){this._context=t}c3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Nv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function aZ(t){return new c3(t)}function f3(t){this._context=t}f3.prototype={areaStart:Rv,areaEnd:Rv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function sZ(t){return new f3(t)}function QO(t){return t<0?-1:1}function XO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),c=(s*i+l*r)/(r+i);return(QO(s)+QO(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(c))||0}function ZO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ow(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,c=(s-r)/3;t._context.bezierCurveTo(r+c,i+c*e,s-c,l-c*n,s,l)}function Ov(t){this._context=t}Ov.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ow(this,this._t0,ZO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ow(this,ZO(this,n=XO(this,t,e)),n);break;default:ow(this,this._t0,n=XO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function h3(t){this._context=new d3(t)}(h3.prototype=Object.create(Ov.prototype)).point=function(t,e){Ov.prototype.point.call(this,e,t)};function d3(t){this._context=t}d3.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function oZ(t){return new Ov(t)}function lZ(t){return new h3(t)}function m3(t){this._context=t}m3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=JO(t),i=JO(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function JO(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function uZ(t){return new m3(t)}function e_(t,e){this._context=t,this._t=e}e_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function cZ(t){return new e_(t,.5)}function fZ(t){return new e_(t,0)}function hZ(t){return new e_(t,1)}function Lc(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,c=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<c;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function u1(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function dZ(t,e){return t[e]}function mZ(t){const e=[];return e.key=t,e}function pZ(){var t=Ct([]),e=u1,n=Lc,r=dZ;function i(s){var l=Array.from(t.apply(this,arguments),mZ),c,f=l.length,h=-1,m;for(const p of s)for(c=0,++h;c<f;++c)(l[c][h]=[0,+r(p,l[c].key,h,s)]).data=p;for(c=0,m=DT(e(l));c<f;++c)l[m[c]].index=c;return n(l,m),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Ct(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Ct(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?u1:typeof s=="function"?s:Ct(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Lc,i):n},i}function gZ(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}Lc(t,e)}}function vZ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,c=0;l<i;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}Lc(t,e)}}function yZ(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var c=0,f=0,h=0;c<l;++c){for(var m=t[e[c]],p=m[r][1]||0,_=m[r-1][1]||0,b=(p-_)/2,E=0;E<c;++E){var x=t[e[E]],A=x[r][1]||0,O=x[r-1][1]||0;b+=A-O}f+=p,h+=b*p}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,Lc(t,e)}}var lw={},uw={},e2;function _Z(){return e2||(e2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(uw)),uw}var cw={},t2;function bZ(){return t2||(t2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(cw)),cw}var fw={},n2;function p3(){return n2||(n2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(fw)),fw}var hw={},dw={},r2;function wZ(){return r2||(r2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(dw)),dw}var i2;function g3(){return i2||(i2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wZ(),n=p3();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],l=i.length;if(l===0)return s;let c=0,f="",h="",m=!1;for(i.charCodeAt(0)===46&&(s.push(""),c++);c<l;){const p=i[c];h?p==="\\"&&c+1<l?(c++,f+=i[c]):p===h?h="":f+=p:m?p==='"'||p==="'"?h=p:p==="]"?(m=!1,s.push(f),f=""):f+=p:p==="["?(m=!0,f&&(s.push(f),f="")):p==="."?f&&(s.push(f),f=""):f+=p,c++}return f&&s.push(f),s}t.toPath=r})(hw)),hw}var a2;function EZ(){return a2||(a2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_Z(),n=bZ(),r=p3(),i=g3();function s(c,f,h){if(c==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const m=c[f];return m===void 0?n.isDeepKey(f)?s(c,i.toPath(f),h):h:m}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const m=c[f];return m===void 0?h:m}default:{if(Array.isArray(f))return l(c,f,h);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const m=c[f];return m===void 0?h:m}}}function l(c,f,h){if(f.length===0)return h;let m=c;for(let p=0;p<f.length;p++){if(m==null||e.isUnsafeProperty(f[p]))return h;m=m[f[p]]}return m===void 0?h:m}t.get=s})(lw)),lw}var mw,s2;function xZ(){return s2||(s2=1,mw=EZ().get),mw}var TZ=xZ();const jc=Es(TZ);var Ur=t=>t===0?0:t>0?1:-1,Sa=t=>typeof t=="number"&&t!=+t,ps=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,tt=t=>(typeof t=="number"||t instanceof Number)&&!Sa(t),Vc=t=>tt(t)||typeof t=="string",SZ=0,_d=t=>{var e=++SZ;return"".concat(t||"").concat(e)},Fi=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!tt(e)&&typeof e!="string")return r;var s;if(ps(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return Sa(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},v3=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function $n(t,e,n){return tt(t)&&tt(e)?t+n*(e-t):e}function AZ(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):jc(r,e))===n)}var Wn=t=>t===null||typeof t>"u",em=t=>Wn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function CZ(t){return t!=null}function tm(){}var IZ=["type","size","sizeType"];function c1(){return c1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c1.apply(null,arguments)}function o2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o2(Object(n),!0).forEach(function(r){RZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RZ(t,e,n){return(e=NZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NZ(t){var e=OZ(t,"string");return typeof e=="symbol"?e:e+""}function OZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PZ(t,e){if(t==null)return{};var n,r,i=kZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var y3={symbolCircle:LT,symbolCross:$X,symbolDiamond:KX,symbolSquare:WX,symbolStar:ZX,symbolTriangle:JX,symbolWye:tZ},MZ=Math.PI/180,DZ=t=>{var e="symbol".concat(em(t));return y3[e]||LT},LZ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*MZ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},jZ=(t,e)=>{y3["symbol".concat(em(t))]=e},_3=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=PZ(t,IZ),s=l2(l2({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var c=()=>{var _=DZ(l),b=nZ().type(_).size(LZ(n,r,l)),E=b();if(E!==null)return E},{className:f,cx:h,cy:m}=s,p=Bi(s);return tt(h)&&tt(m)&&tt(n)?T.createElement("path",c1({},p,{className:En("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:c()})):null};_3.registerSymbol=jZ;var VZ=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(T.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{kT(i)&&(r[i]=(s=>n[i](n,s)))}),r},UZ=(t,e,n)=>r=>(t(e,n,r),null),jT=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];kT(i)&&typeof s=="function"&&(r||(r={}),r[i]=UZ(s,e,n))}),r};function u2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u2(Object(n),!0).forEach(function(r){BZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BZ(t,e,n){return(e=FZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FZ(t){var e=qZ(t,"string");return typeof e=="symbol"?e:e+""}function qZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Na(t,e){var n=zZ({},t),r=e,i=Object.keys(e),s=i.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),n);return s}var pw={},gw={},c2;function HZ(){return c2||(c2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(gw)),gw}var f2;function b3(){return f2||(f2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HZ();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(pw)),pw}var vw={},h2;function $Z(){return h2||(h2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(vw)),vw}var yw={},d2;function GZ(){return d2||(d2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(yw)),yw}var _w={},m2;function KZ(){return m2||(m2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(_w)),_w}var bw={exports:{}},ww={},Ew={exports:{}},xw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p2;function WZ(){if(p2)return xw;p2=1;var t=Wc();function e(p,_){return p===_&&(p!==0||1/p===1/_)||p!==p&&_!==_}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function c(p,_){var b=_(),E=r({inst:{value:b,getSnapshot:_}}),x=E[0].inst,A=E[1];return s(function(){x.value=b,x.getSnapshot=_,f(x)&&A({inst:x})},[p,b,_]),i(function(){return f(x)&&A({inst:x}),p(function(){f(x)&&A({inst:x})})},[p]),l(b),b}function f(p){var _=p.getSnapshot;p=p.value;try{var b=_();return!n(p,b)}catch{return!0}}function h(p,_){return _()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return xw.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,xw}var g2;function YZ(){return g2||(g2=1,Ew.exports=WZ()),Ew.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v2;function QZ(){if(v2)return ww;v2=1;var t=Wc(),e=YZ();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,c=t.useMemo,f=t.useDebugValue;return ww.useSyncExternalStoreWithSelector=function(h,m,p,_,b){var E=s(null);if(E.current===null){var x={hasValue:!1,value:null};E.current=x}else x=E.current;E=c(function(){function O($){if(!z){if(z=!0,D=$,$=_($),b!==void 0&&x.hasValue){var P=x.value;if(b(P,$))return H=P}return H=$}if(P=H,r(D,$))return P;var R=_($);return b!==void 0&&b(P,R)?(D=$,P):(D=$,H=R)}var z=!1,D,H,F=p===void 0?null:p;return[function(){return O(m())},F===null?void 0:function(){return O(F())}]},[m,p,_,b]);var A=i(h,E[0],E[1]);return l(function(){x.hasValue=!0,x.value=A},[A]),f(A),A},ww}var y2;function XZ(){return y2||(y2=1,bw.exports=QZ()),bw.exports}var ZZ=XZ(),VT=T.createContext(null),JZ=t=>t,Mn=()=>{var t=T.useContext(VT);return t?t.store.dispatch:JZ},jg=()=>{},eJ=()=>jg,tJ=(t,e)=>t===e;function ot(t){var e=T.useContext(VT);return ZZ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:eJ,e?e.store.getState:jg,e?e.store.getState:jg,e?t:jg,tJ)}function nJ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function rJ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function iJ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var _2=t=>Array.isArray(t)?t:[t];function aJ(t){const e=Array.isArray(t[0])?t[0]:t;return iJ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function sJ(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var oJ=class{constructor(t){this.value=t}deref(){return this.value}},lJ=typeof WeakRef<"u"?WeakRef:oJ,uJ=0,b2=1;function cg(){return{s:uJ,v:void 0,o:null,p:null}}function w3(t,e={}){let n=cg();const{resultEqualityCheck:r}=e;let i,s=0;function l(){var p;let c=n;const{length:f}=arguments;for(let _=0,b=f;_<b;_++){const E=arguments[_];if(typeof E=="function"||typeof E=="object"&&E!==null){let x=c.o;x===null&&(c.o=x=new WeakMap);const A=x.get(E);A===void 0?(c=cg(),x.set(E,c)):c=A}else{let x=c.p;x===null&&(c.p=x=new Map);const A=x.get(E);A===void 0?(c=cg(),x.set(E,c)):c=A}}const h=c;let m;if(c.s===b2)m=c.v;else if(m=t.apply(null,arguments),s++,r){const _=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;_!=null&&r(_,m)&&(m=_,s!==0&&s--),i=typeof m=="object"&&m!==null||typeof m=="function"?new lJ(m):m}return h.s=b2,h.v=m,m}return l.clearCache=()=>{n=cg(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function cJ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,l=0,c,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),nJ(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const m={...n,...f},{memoize:p,memoizeOptions:_=[],argsMemoize:b=w3,argsMemoizeOptions:E=[]}=m,x=_2(_),A=_2(E),O=aJ(i),z=p(function(){return s++,h.apply(null,arguments)},...x),D=b(function(){l++;const F=sJ(O,arguments);return c=z.apply(null,F),c},...A);return Object.assign(D,{resultFunc:h,memoizedResultFunc:z,dependencies:O,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var re=cJ(w3),fJ=Object.assign((t,e=re)=>{rJ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,c,f)=>(l[n[f]]=c,l),{}))},{withTypes:()=>fJ}),Tw={},Sw={},Aw={},w2;function hJ(){return w2||(w2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=e(r),c=e(i);if(l===c&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?c-l:l-c}return 0};t.compareValues=n})(Aw)),Aw}var Cw={},Iw={},E2;function E3(){return E2||(E2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Iw)),Iw}var x2;function dJ(){return x2||(x2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=E3(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=i})(Cw)),Cw}var T2;function mJ(){return T2||(T2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hJ(),n=dJ(),r=g3();function i(s,l,c,f){if(s==null)return[];c=f?void 0:c,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(b=>String(b));const h=(b,E)=>{let x=b;for(let A=0;A<E.length&&x!=null;++A)x=x[E[A]];return x},m=(b,E)=>E==null||b==null?E:typeof b=="object"&&"key"in b?Object.hasOwn(E,b.key)?E[b.key]:h(E,b.path):typeof b=="function"?b(E):Array.isArray(b)?h(E,b):typeof E=="object"?E[b]:E,p=l.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return s.map(b=>({original:b,criteria:p.map(E=>m(E,b))})).slice().sort((b,E)=>{for(let x=0;x<p.length;x++){const A=e.compareValues(b.criteria[x],E.criteria[x],c[x]);if(A!==0)return A}return 0}).map(b=>b.original)}t.orderBy=i})(Sw)),Sw}var Rw={},S2;function pJ(){return S2||(S2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),l=(c,f)=>{for(let h=0;h<c.length;h++){const m=c[h];Array.isArray(m)&&f<s?l(m,f+1):i.push(m)}};return l(n,0),i}t.flatten=e})(Rw)),Rw}var Nw={},A2;function x3(){return A2||(A2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KZ(),n=b3(),r=$Z(),i=GZ();function s(l,c,f){return r.isObject(f)&&(typeof c=="number"&&n.isArrayLike(f)&&e.isIndex(c)&&c<f.length||typeof c=="string"&&c in f)?i.eq(f[c],l):!1}t.isIterateeCall=s})(Nw)),Nw}var C2;function gJ(){return C2||(C2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mJ(),n=pJ(),r=x3();function i(s,...l){const c=l.length;return c>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=i})(Tw)),Tw}var Ow,I2;function vJ(){return I2||(I2=1,Ow=gJ().sortBy),Ow}var yJ=vJ();const UT=Es(yJ);var T3=t=>t.legend.settings,_J=t=>t.legend.size,bJ=t=>t.legend.payload;re([bJ,T3],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?UT(r,n):r});function qn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var wJ=typeof Symbol=="function"&&Symbol.observable||"@@observable",R2=wJ,Pw=()=>Math.random().toString(36).substring(7).split("").join("."),EJ={INIT:`@@redux/INIT${Pw()}`,REPLACE:`@@redux/REPLACE${Pw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Pw()}`},Pv=EJ;function zT(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function S3(t,e,n){if(typeof t!="function")throw new Error(qn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(qn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(qn(1));return n(S3)(t,e)}let r=t,i=e,s=new Map,l=s,c=0,f=!1;function h(){l===s&&(l=new Map,s.forEach((A,O)=>{l.set(O,A)}))}function m(){if(f)throw new Error(qn(3));return i}function p(A){if(typeof A!="function")throw new Error(qn(4));if(f)throw new Error(qn(5));let O=!0;h();const z=c++;return l.set(z,A),function(){if(O){if(f)throw new Error(qn(6));O=!1,h(),l.delete(z),s=null}}}function _(A){if(!zT(A))throw new Error(qn(7));if(typeof A.type>"u")throw new Error(qn(8));if(typeof A.type!="string")throw new Error(qn(17));if(f)throw new Error(qn(9));try{f=!0,i=r(i,A)}finally{f=!1}return(s=l).forEach(z=>{z()}),A}function b(A){if(typeof A!="function")throw new Error(qn(10));r=A,_({type:Pv.REPLACE})}function E(){const A=p;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(qn(11));function z(){const H=O;H.next&&H.next(m())}return z(),{unsubscribe:A(z)}},[R2](){return this}}}return _({type:Pv.INIT}),{dispatch:_,subscribe:p,getState:m,replaceReducer:b,[R2]:E}}function xJ(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Pv.INIT})>"u")throw new Error(qn(12));if(typeof n(void 0,{type:Pv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(qn(13))})}function A3(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{xJ(n)}catch(s){i=s}return function(l={},c){if(i)throw i;let f=!1;const h={};for(let m=0;m<r.length;m++){const p=r[m],_=n[p],b=l[p],E=_(b,c);if(typeof E>"u")throw c&&c.type,new Error(qn(14));h[p]=E,f=f||E!==b}return f=f||r.length!==Object.keys(l).length,f?h:l}}function kv(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function TJ(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(qn(15))};const l={getState:i.getState,dispatch:(f,...h)=>s(f,...h)},c=t.map(f=>f(l));return s=kv(...c)(i.dispatch),{...i,dispatch:s}}}function C3(t){return zT(t)&&"type"in t&&typeof t.type=="string"}var I3=Symbol.for("immer-nothing"),N2=Symbol.for("immer-draftable"),fr=Symbol.for("immer-state");function Ri(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var zr=Object,Uc=zr.getPrototypeOf,Mv="constructor",t_="prototype",f1="configurable",Dv="enumerable",Vg="writable",bd="value",gs=t=>!!t&&!!t[fr];function qi(t){var e;return t?R3(t)||n_(t)||!!t[N2]||!!((e=t[Mv])!=null&&e[N2])||r_(t)||i_(t):!1}var SJ=zr[t_][Mv].toString(),O2=new WeakMap;function R3(t){if(!t||!BT(t))return!1;const e=Uc(t);if(e===null||e===zr[t_])return!0;const n=zr.hasOwnProperty.call(e,Mv)&&e[Mv];if(n===Object)return!0;if(!cc(n))return!1;let r=O2.get(n);return r===void 0&&(r=Function.toString.call(n),O2.set(n,r)),r===SJ}function nm(t,e,n=!0){rm(t)===0?(n?Reflect.ownKeys(t):zr.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function rm(t){const e=t[fr];return e?e.type_:n_(t)?1:r_(t)?2:i_(t)?3:0}var P2=(t,e,n=rm(t))=>n===2?t.has(e):zr[t_].hasOwnProperty.call(t,e),h1=(t,e,n=rm(t))=>n===2?t.get(e):t[e],Lv=(t,e,n,r=rm(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function AJ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var n_=Array.isArray,r_=t=>t instanceof Map,i_=t=>t instanceof Set,BT=t=>typeof t=="object",cc=t=>typeof t=="function",kw=t=>typeof t=="boolean",Xa=t=>t.copy_||t.base_,FT=t=>t.modified_?t.copy_:t.base_;function d1(t,e){if(r_(t))return new Map(t);if(i_(t))return new Set(t);if(n_(t))return Array[t_].slice.call(t);const n=R3(t);if(e===!0||e==="class_only"&&!n){const r=zr.getOwnPropertyDescriptors(t);delete r[fr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],c=r[l];c[Vg]===!1&&(c[Vg]=!0,c[f1]=!0),(c.get||c.set)&&(r[l]={[f1]:!0,[Vg]:!0,[Dv]:c[Dv],[bd]:t[l]})}return zr.create(Uc(t),r)}else{const r=Uc(t);if(r!==null&&n)return{...t};const i=zr.create(r);return zr.assign(i,t)}}function qT(t,e=!1){return a_(t)||gs(t)||!qi(t)||(rm(t)>1&&zr.defineProperties(t,{set:fg,add:fg,clear:fg,delete:fg}),zr.freeze(t),e&&nm(t,(n,r)=>{qT(r,!0)},!1)),t}function CJ(){Ri(2)}var fg={[bd]:CJ};function a_(t){return t===null||!BT(t)?!0:zr.isFrozen(t)}var jv="MapSet",m1="Patches",N3={};function zc(t){const e=N3[t];return e||Ri(0,t),e}var IJ=t=>!!N3[t],wd,O3=()=>wd,RJ=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:IJ(jv)?zc(jv):void 0});function k2(t,e){e&&(t.patchPlugin_=zc(m1),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function p1(t){g1(t),t.drafts_.forEach(NJ),t.drafts_=null}function g1(t){t===wd&&(wd=t.parent_)}var M2=t=>wd=RJ(wd,t);function NJ(t){const e=t[fr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function D2(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[fr].modified_&&(p1(e),Ri(4)),qi(t)&&(t=L2(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[fr].base_,t,e)}else t=L2(e,n);return OJ(e,t,!0),p1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==I3?t:void 0}function L2(t,e){if(a_(e))return e;const n=e[fr];if(!n)return HT(e,t.handledSet_,t);if(!s_(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);M3(n,t)}return n.copy_}function OJ(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&qT(e,n)}function P3(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var s_=(t,e)=>t.scope_===e,PJ=[];function k3(t,e,n,r){const i=Xa(t),s=t.type_;if(r!==void 0&&h1(i,r,s)===e){Lv(i,r,n,s);return}if(!t.draftLocations_){const c=t.draftLocations_=new Map;nm(i,(f,h)=>{if(gs(h)){const m=c.get(h)||[];m.push(f),c.set(h,m)}})}const l=t.draftLocations_.get(e)??PJ;for(const c of l)Lv(i,c,n,s)}function kJ(t,e,n){t.callbacks_.push(function(i){var c;const s=e;if(!s||!s_(s,i))return;(c=i.mapSetPlugin_)==null||c.fixSetContents(s);const l=FT(s);k3(t,s.draft_??s,l,n),M3(s,i)})}function M3(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const s=i.getPath(t);s&&i.generatePatches_(t,s,e)}P3(t)}}function MJ(t,e,n){const{scope_:r}=t;if(gs(n)){const i=n[fr];s_(i,r)&&i.callbacks_.push(function(){Ug(t);const l=FT(i);k3(t,n,l,e)})}else qi(n)&&t.callbacks_.push(function(){const s=Xa(t);h1(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&HT(h1(t.copy_,e,t.type_),r.handledSet_,r)})}function HT(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||gs(t)||e.has(t)||!qi(t)||a_(t)||(e.add(t),nm(t,(r,i)=>{if(gs(i)){const s=i[fr];if(s_(s,n)){const l=FT(s);Lv(t,r,l,t.type_),P3(s)}}else qi(i)&&HT(i,e,n)})),t}function DJ(t,e){const n=n_(t),r={type_:n?1:0,scope_:e?e.scope_:O3(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=$T;n&&(i=[r],s=Ed);const{revoke:l,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=l,[c,r]}var $T={get(t,e){if(e===fr)return t;const n=Xa(t);if(!P2(n,e,t.type_))return LJ(t,n,e);const r=n[e];if(t.finalized_||!qi(r))return r;if(r===Mw(t.base_,e)){Ug(t);const i=t.type_===1?+e:e,s=y1(t.scope_,r,t,i);return t.copy_[i]=s}return r},has(t,e){return e in Xa(t)},ownKeys(t){return Reflect.ownKeys(Xa(t))},set(t,e,n){const r=D3(Xa(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Mw(Xa(t),e),s=i==null?void 0:i[fr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(AJ(n,i)&&(n!==void 0||P2(t.base_,e,t.type_)))return!0;Ug(t),v1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),MJ(t,e,n)),!0},deleteProperty(t,e){return Ug(t),Mw(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),v1(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Xa(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Vg]:!0,[f1]:t.type_!==1||e!=="length",[Dv]:r[Dv],[bd]:n[e]}},defineProperty(){Ri(11)},getPrototypeOf(t){return Uc(t.base_)},setPrototypeOf(){Ri(12)}},Ed={};nm($T,(t,e)=>{Ed[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});Ed.deleteProperty=function(t,e){return Ed.set.call(this,t,e,void 0)};Ed.set=function(t,e,n){return $T.set.call(this,t[0],e,n,t[0])};function Mw(t,e){const n=t[fr];return(n?Xa(n):t)[e]}function LJ(t,e,n){var i;const r=D3(e,n);return r?bd in r?r[bd]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function D3(t,e){if(!(e in t))return;let n=Uc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Uc(n)}}function v1(t){t.modified_||(t.modified_=!0,t.parent_&&v1(t.parent_))}function Ug(t){t.copy_||(t.assigned_=new Map,t.copy_=d1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var jJ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(cc(n)&&!cc(r)){const l=r;r=n;const c=this;return function(h=l,...m){return c.produce(h,p=>r.call(this,p,...m))}}cc(r)||Ri(6),i!==void 0&&!cc(i)&&Ri(7);let s;if(qi(n)){const l=M2(this),c=y1(l,n,void 0);let f=!0;try{s=r(c),f=!1}finally{f?p1(l):g1(l)}return k2(l,i),D2(s,l)}else if(!n||!BT(n)){if(s=r(n),s===void 0&&(s=n),s===I3&&(s=void 0),this.autoFreeze_&&qT(s,!0),i){const l=[],c=[];zc(m1).generateReplacementPatches_(n,s,{patches_:l,inversePatches_:c}),i(l,c)}return s}else Ri(1,n)},this.produceWithPatches=(n,r)=>{if(cc(n))return(c,...f)=>this.produceWithPatches(c,h=>n(h,...f));let i,s;return[this.produce(n,r,(c,f)=>{i=c,s=f}),i,s]},kw(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),kw(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),kw(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){qi(e)||Ri(8),gs(e)&&(e=Vi(e));const n=M2(this),r=y1(n,e,void 0);return r[fr].isManual_=!0,g1(n),r}finishDraft(e,n){const r=e&&e[fr];(!r||!r.isManual_)&&Ri(9);const{scope_:i}=r;return k2(i,n),D2(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=zc(m1).applyPatches_;return gs(e)?i(e,n):this.produce(e,s=>i(s,n))}};function y1(t,e,n,r){const[i,s]=r_(e)?zc(jv).proxyMap_(e,n):i_(e)?zc(jv).proxySet_(e,n):DJ(e,n);return((n==null?void 0:n.scope_)??O3()).drafts_.push(i),s.callbacks_=(n==null?void 0:n.callbacks_)??[],s.key_=r,n&&r!==void 0?kJ(n,s,r):s.callbacks_.push(function(f){var m;(m=f.mapSetPlugin_)==null||m.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),i}function Vi(t){return gs(t)||Ri(10,t),L3(t)}function L3(t){if(!qi(t)||a_(t))return t;const e=t[fr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=d1(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=d1(t,!0);return nm(n,(i,s)=>{Lv(n,i,L3(s))},r),e&&(e.finalized_=!1),n}var VJ=new jJ,j3=VJ.produce;function V3(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var UJ=V3(),zJ=V3,BJ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?kv:kv.apply(null,arguments)};function fi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Fr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>C3(r)&&r.type===t,n}var U3=class Vh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Vh.prototype)}static get[Symbol.species](){return Vh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Vh(...e[0].concat(this)):new Vh(...e.concat(this))}};function j2(t){return qi(t)?j3(t,()=>{}):t}function hg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function FJ(t){return typeof t=="boolean"}var qJ=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let l=new U3;return n&&(FJ(n)?l.push(UJ):l.push(zJ(n.extraArgument))),l},z3="RTK_autoBatch",Lt=()=>t=>({payload:t,meta:{[z3]:!0}}),V2=t=>e=>{setTimeout(e,t)},B3=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,l=!1;const c=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:V2(10):t.type==="callback"?t.queueNotification:V2(t.timeout),h=()=>{l=!1,s&&(s=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const p=()=>i&&m(),_=r.subscribe(p);return c.add(m),()=>{_(),c.delete(m)}},dispatch(m){var p;try{return i=!((p=m==null?void 0:m.meta)!=null&&p[z3]),s=!i,s&&(l||(l=!0,f(h))),r.dispatch(m)}finally{i=!0}}})},HJ=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new U3(t);return r&&i.push(B3(typeof r=="object"?r:void 0)),i};function $J(t){const e=qJ(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(zT(n))c=A3(n);else throw new Error(Fr(1));let f;typeof r=="function"?f=r(e):f=e();let h=kv;i&&(h=BJ({trace:!1,...typeof i=="object"&&i}));const m=TJ(...f),p=HJ(m);let _=typeof l=="function"?l(p):p();const b=h(..._);return S3(c,s,b)}function F3(t){const e={},n=[];let r;const i={addCase(s,l){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(Fr(28));if(c in e)throw new Error(Fr(29));return e[c]=l,i},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function GJ(t){return typeof t=="function"}function KJ(t,e){let[n,r,i]=F3(e),s;if(GJ(t))s=()=>j2(t());else{const c=j2(t);s=()=>c}function l(c=s(),f){let h=[n[f.type],...r.filter(({matcher:m})=>m(f)).map(({reducer:m})=>m)];return h.filter(m=>!!m).length===0&&(h=[i]),h.reduce((m,p)=>{if(p)if(gs(m)){const b=p(m,f);return b===void 0?m:b}else{if(qi(m))return j3(m,_=>p(_,f));{const _=p(m,f);if(_===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return _}}return m},c)}return l.getInitialState=s,l}var WJ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",YJ=(t=21)=>{let e="",n=t;for(;n--;)e+=WJ[Math.random()*64|0];return e},QJ=Symbol.for("rtk-slice-createasyncthunk");function XJ(t,e){return`${t}/${e}`}function ZJ({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[QJ];return function(i){const{name:s,reducerPath:l=s}=i;if(!s)throw new Error(Fr(11));const c=(typeof i.reducers=="function"?i.reducers(eee()):i.reducers)||{},f=Object.keys(c),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(H,F){const $=typeof H=="string"?H:H.type;if(!$)throw new Error(Fr(12));if($ in h.sliceCaseReducersByType)throw new Error(Fr(13));return h.sliceCaseReducersByType[$]=F,m},addMatcher(H,F){return h.sliceMatchers.push({matcher:H,reducer:F}),m},exposeAction(H,F){return h.actionCreators[H]=F,m},exposeCaseReducer(H,F){return h.sliceCaseReducersByName[H]=F,m}};f.forEach(H=>{const F=c[H],$={reducerName:H,type:XJ(s,H),createNotation:typeof i.reducers=="function"};nee(F)?iee($,F,m,e):tee($,F,m)});function p(){const[H={},F=[],$=void 0]=typeof i.extraReducers=="function"?F3(i.extraReducers):[i.extraReducers],P={...H,...h.sliceCaseReducersByType};return KJ(i.initialState,R=>{for(let k in P)R.addCase(k,P[k]);for(let k of h.sliceMatchers)R.addMatcher(k.matcher,k.reducer);for(let k of F)R.addMatcher(k.matcher,k.reducer);$&&R.addDefaultCase($)})}const _=H=>H,b=new Map,E=new WeakMap;let x;function A(H,F){return x||(x=p()),x(H,F)}function O(){return x||(x=p()),x.getInitialState()}function z(H,F=!1){function $(R){let k=R[H];return typeof k>"u"&&F&&(k=hg(E,$,O)),k}function P(R=_){const k=hg(b,F,()=>new WeakMap);return hg(k,R,()=>{const V={};for(const[L,B]of Object.entries(i.selectors??{}))V[L]=JJ(B,R,()=>hg(E,R,O),F);return V})}return{reducerPath:H,getSelectors:P,get selectors(){return P($)},selectSlice:$}}const D={name:s,reducer:A,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:O,...z(l),injectInto(H,{reducerPath:F,...$}={}){const P=F??l;return H.inject({reducerPath:P,reducer:A},$),{...D,...z(P,!0)}}};return D}}function JJ(t,e,n,r){function i(s,...l){let c=e(s);return typeof c>"u"&&r&&(c=n()),t(c,...l)}return i.unwrapped=t,i}var Sr=ZJ();function eee(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function tee({type:t,reducerName:e,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!ree(r))throw new Error(Fr(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?fi(t,l):fi(t))}function nee(t){return t._reducerDefinitionType==="asyncThunk"}function ree(t){return t._reducerDefinitionType==="reducerWithPrepare"}function iee({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Fr(18));const{payloadCreator:s,fulfilled:l,pending:c,rejected:f,settled:h,options:m}=n,p=i(t,s,m);r.exposeAction(e,p),l&&r.addCase(p.fulfilled,l),c&&r.addCase(p.pending,c),f&&r.addCase(p.rejected,f),h&&r.addMatcher(p.settled,h),r.exposeCaseReducer(e,{fulfilled:l||dg,pending:c||dg,rejected:f||dg,settled:h||dg})}function dg(){}var aee="task",q3="listener",H3="completed",GT="cancelled",see=`task-${GT}`,oee=`task-${H3}`,_1=`${q3}-${GT}`,lee=`${q3}-${H3}`,o_=class{constructor(t){Ob(this,"name","TaskAbortError");Ob(this,"message");this.code=t,this.message=`${aee} ${GT} (reason: ${t})`}},KT=(t,e)=>{if(typeof t!="function")throw new TypeError(Fr(32))},Vv=()=>{},$3=(t,e=Vv)=>(t.catch(e),t),G3=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Ul=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},zl=t=>{if(t.aborted){const{reason:e}=t;throw new o_(e)}};function K3(t,e){let n=Vv;return new Promise((r,i)=>{const s=()=>i(new o_(t.reason));if(t.aborted){s();return}n=G3(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Vv})}var uee=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof o_?"cancelled":"rejected",error:n}}finally{e==null||e()}},Uv=t=>e=>$3(K3(t,e).then(n=>(zl(t),n))),W3=t=>{const e=Uv(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:xc}=Object,U2={},l_="listenerMiddleware",cee=(t,e)=>{const n=r=>G3(t,()=>Ul(r,t.reason));return(r,i)=>{KT(r);const s=new AbortController;n(s);const l=uee(async()=>{zl(t),zl(s.signal);const c=await r({pause:Uv(s.signal),delay:W3(s.signal),signal:s.signal});return zl(s.signal),c},()=>Ul(s,oee));return i!=null&&i.autoJoin&&e.push(l.catch(Vv)),{result:Uv(t)(l),cancel(){Ul(s,see)}}}},fee=(t,e)=>{const n=async(r,i)=>{zl(e);let s=()=>{};const c=[new Promise((f,h)=>{let m=t({predicate:r,effect:(p,_)=>{_.unsubscribe(),f([p,_.getState(),_.getOriginalState()])}});s=()=>{m(),h()}})];i!=null&&c.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await K3(e,Promise.race(c));return zl(e),f}finally{s()}};return(r,i)=>$3(n(r,i))},Y3=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=fi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Fr(21));return KT(s),{predicate:i,type:e,effect:s}},Q3=xc(t=>{const{type:e,predicate:n,effect:r}=Y3(t);return{id:YJ(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Fr(22))}}},{withTypes:()=>Q3}),z2=(t,e)=>{const{type:n,effect:r,predicate:i}=Y3(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},b1=t=>{t.pending.forEach(e=>{Ul(e,_1)})},hee=(t,e)=>()=>{for(const n of e.keys())b1(n);t.clear()},B2=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},X3=xc(fi(`${l_}/add`),{withTypes:()=>X3}),dee=fi(`${l_}/removeAll`),Z3=xc(fi(`${l_}/remove`),{withTypes:()=>Z3}),mee=(...t)=>{console.error(`${l_}/error`,...t)},im=(t={})=>{const e=new Map,n=new Map,r=b=>{const E=n.get(b)??0;n.set(b,E+1)},i=b=>{const E=n.get(b)??1;E===1?n.delete(b):n.set(b,E-1)},{extra:s,onError:l=mee}=t;KT(l);const c=b=>(b.unsubscribe=()=>e.delete(b.id),e.set(b.id,b),E=>{b.unsubscribe(),E!=null&&E.cancelActive&&b1(b)}),f=b=>{const E=z2(e,b)??Q3(b);return c(E)};xc(f,{withTypes:()=>f});const h=b=>{const E=z2(e,b);return E&&(E.unsubscribe(),b.cancelActive&&b1(E)),!!E};xc(h,{withTypes:()=>h});const m=async(b,E,x,A)=>{const O=new AbortController,z=fee(f,O.signal),D=[];try{b.pending.add(O),r(b),await Promise.resolve(b.effect(E,xc({},x,{getOriginalState:A,condition:(H,F)=>z(H,F).then(Boolean),take:z,delay:W3(O.signal),pause:Uv(O.signal),extra:s,signal:O.signal,fork:cee(O.signal,D),unsubscribe:b.unsubscribe,subscribe:()=>{e.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((H,F,$)=>{H!==O&&(Ul(H,_1),$.delete(H))})},cancel:()=>{Ul(O,_1),b.pending.delete(O)},throwIfCancelled:()=>{zl(O.signal)}})))}catch(H){H instanceof o_||B2(l,H,{raisedBy:"effect"})}finally{await Promise.all(D),Ul(O,lee),i(b),b.pending.delete(O)}},p=hee(e,n);return{middleware:b=>E=>x=>{if(!C3(x))return E(x);if(X3.match(x))return f(x.payload);if(dee.match(x)){p();return}if(Z3.match(x))return h(x.payload);let A=b.getState();const O=()=>{if(A===U2)throw new Error(Fr(23));return A};let z;try{if(z=E(x),e.size>0){const D=b.getState(),H=Array.from(e.values());for(const F of H){let $=!1;try{$=F.predicate(x,D,A)}catch(P){$=!1,B2(l,P,{raisedBy:"predicate"})}$&&m(F,x,b,O)}}}finally{A=U2}return z},startListening:f,stopListening:h,clearListeners:p}};function Fr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var pee={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},J3=Sr({name:"chartLayout",initialState:pee,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:gee,setLayout:vee,setChartSize:yee,setScale:_ee}=J3.actions,bee=J3.reducer;function e6(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function F2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F2(Object(n),!0).forEach(function(r){wee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wee(t,e,n){return(e=Eee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eee(t){var e=xee(t,"string");return typeof e=="symbol"?e:e+""}function xee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nr(t,e,n){return Wn(t)||Wn(e)?n:Vc(e)?jc(t,e,n):typeof e=="function"?e(t):n}var Tee=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&s!=="center"&&tt(t[s]))return dc(dc({},t),{},{[s]:t[s]+(r||0)});if((c==="horizontal"||c==="vertical"&&s==="center")&&l!=="middle"&&tt(t[l]))return dc(dc({},t),{},{[l]:t[l]+(i||0)})}return t},cu=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",q2=1e-4,See=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-q2,s=Math.max(r[0],r[1])+q2,l=t(e[0]),c=t(e[n-1]);(l<i||l>s||c<i||c>s)&&t.domain([e[0],e[n-1]])}},Aee=(t,e)=>{if(!e||e.length!==2||!tt(e[0])||!tt(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!tt(t[0])||t[0]<n)&&(i[0]=n),(!tt(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Cee=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0,l=0;l<e;++l){var c=Sa(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1])}},Iee=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0;s<e;++s){var l=Sa(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},Ree={sign:Cee,expand:gZ,none:Lc,silhouette:vZ,wiggle:yZ,positive:Iee},Nee=(t,e,n)=>{var r=Ree[n],i=pZ().keys(e).value((s,l)=>Number(nr(s,l,0))).order(u1).offset(r);return i(t)};function Oee(t){return t==null?void 0:String(t)}var H2=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var c=nr(s,e.dataKey,e.scale.domain()[l]);return Wn(c)?null:e.scale(c)-i/2+r},Pee=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},kee=t=>{var e=t.flat(2).filter(tt);return[Math.min(...e),Math.max(...e)]},Mee=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Dee=(t,e,n)=>{if(t!=null)return Mee(Object.keys(t).reduce((r,i)=>{var s=t[i],{stackedData:l}=s,c=l.reduce((f,h)=>{var m=e6(h,e,n),p=kee(m);return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},$2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,G2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,t6=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=UT(e,m=>m.coordinate),s=1/0,l=1,c=i.length;l<c;l++){var f=i[l],h=i[l-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function K2(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return dc(dc({},e),{},{dataKey:n,payload:r,value:i,name:s})}function n6(t,e){if(t)return String(t);if(typeof e=="string")return e}var Lee=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},jee=(t,e)=>e==="centric"?t.angle:t.radius,As=t=>t.layout.width,Cs=t=>t.layout.height,Vee=t=>t.layout.scale,r6=t=>t.layout.margin,u_=re(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),c_=re(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Uee="data-recharts-item-index",zee="data-recharts-item-data-key",am=60;function W2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W2(Object(n),!0).forEach(function(r){Bee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bee(t,e,n){return(e=Fee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fee(t){var e=qee(t,"string");return typeof e=="symbol"?e:e+""}function qee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hee=t=>t.brush.height;function $ee(t){var e=c_(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:am;return n+i}return n},0)}function Gee(t){var e=c_(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:am;return n+i}return n},0)}function Kee(t){var e=u_(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Wee(t){var e=u_(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Yn=re([As,Cs,r6,Hee,$ee,Gee,Kee,Wee,T3,_J],(t,e,n,r,i,s,l,c,f,h)=>{var m={left:(n.left||0)+i,right:(n.right||0)+s},p={top:(n.top||0)+l,bottom:(n.bottom||0)+c},_=mg(mg({},p),m),b=_.bottom;_.bottom+=r,_=Tee(_,f,h);var E=t-_.left-_.right,x=e-_.top-_.bottom;return mg(mg({brushBottom:b},_),{},{width:Math.max(E,0),height:Math.max(x,0)})}),Yee=re(Yn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),i6=re(As,Cs,(t,e)=>({x:0,y:0,width:t,height:e})),Qee=T.createContext(null),mi=()=>T.useContext(Qee)!=null,f_=t=>t.brush,h_=re([f_,Yn,r6],(t,e,n)=>({height:t.height,x:tt(t.x)?t.x:e.left,y:tt(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:tt(t.width)?t.width:e.width})),Dw={},Lw={},jw={},Y2;function Xee(){return Y2||(Y2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let l,c=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),m=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},p=()=>{h&&m(),x()};let _=null;const b=()=>{_!=null&&clearTimeout(_),_=setTimeout(()=>{_=null,p()},r)},E=()=>{_!==null&&(clearTimeout(_),_=null)},x=()=>{E(),l=void 0,c=null},A=()=>{m()},O=function(...z){if(i!=null&&i.aborted)return;l=this,c=z;const D=_==null;b(),f&&D&&m()};return O.schedule=b,O.cancel=x,O.flush=A,i==null||i.addEventListener("abort",x,{once:!0}),O}t.debounce=e})(jw)),jw}var Q2;function Zee(){return Q2||(Q2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xee();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:c=!0,maxWait:f}=s,h=Array(2);l&&(h[0]="leading"),c&&(h[1]="trailing");let m,p=null;const _=e.debounce(function(...x){m=r.apply(this,x),p=null},i,{edges:h}),b=function(...x){return f!=null&&(p===null&&(p=Date.now()),Date.now()-p>=f)?(m=r.apply(this,x),p=Date.now(),_.cancel(),_.schedule(),m):(_.apply(this,x),m)},E=()=>(_.flush(),m);return b.cancel=_.cancel,b.flush=E,b}t.debounce=n})(Lw)),Lw}var X2;function Jee(){return X2||(X2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Zee();function n(r,i=0,s={}){const{leading:l=!0,trailing:c=!0}=s;return e.debounce(r,i,{leading:l,maxWait:i,trailing:c})}t.throttle=n})(Dw)),Dw}var Vw,Z2;function ete(){return Z2||(Z2=1,Vw=Jee().throttle),Vw}var tte=ete();const nte=Es(tte);var J2=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},a6=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:l}=n,c=ps(r)?t:Number(r),f=ps(i)?e:Number(i);return s&&s>0&&(c?f=c/s:f&&(c=f*s),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:c,calculatedHeight:f}},rte={width:0,height:0,overflow:"visible"},ite={width:0,overflowX:"visible"},ate={height:0,overflowY:"visible"},ste={},ote=t=>{var{width:e,height:n}=t,r=ps(e),i=ps(n);return r&&i?rte:r?ite:i?ate:ste};function lte(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function Zt(t){return Number.isFinite(t)}function qo(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function w1(){return w1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w1.apply(null,arguments)}function eP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(n),!0).forEach(function(r){ute(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ute(t,e,n){return(e=cte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cte(t){var e=fte(t,"string");return typeof e=="symbol"?e:e+""}function fte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s6=T.createContext({width:-1,height:-1});function hte(t){return qo(t.width)&&qo(t.height)}function o6(t){var{children:e,width:n,height:r}=t,i=T.useMemo(()=>({width:n,height:r}),[n,r]);return hte(i)?T.createElement(s6.Provider,{value:i},e):null}var WT=()=>T.useContext(s6),dte=T.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:l=0,minHeight:c,maxHeight:f,children:h,debounce:m=0,id:p,className:_,onResize:b,style:E={}}=t,x=T.useRef(null),A=T.useRef();A.current=b,T.useImperativeHandle(e,()=>x.current);var[O,z]=T.useState({containerWidth:r.width,containerHeight:r.height}),D=T.useCallback((R,k)=>{z(V=>{var L=Math.round(R),B=Math.round(k);return V.containerWidth===L&&V.containerHeight===B?V:{containerWidth:L,containerHeight:B}})},[]);T.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return tm;var R=B=>{var U,{width:xe,height:Ie}=B[0].contentRect;D(xe,Ie),(U=A.current)===null||U===void 0||U.call(A,xe,Ie)};m>0&&(R=nte(R,m,{trailing:!0,leading:!1}));var k=new ResizeObserver(R),{width:V,height:L}=x.current.getBoundingClientRect();return D(V,L),k.observe(x.current),()=>{k.disconnect()}},[D,m]);var{containerWidth:H,containerHeight:F}=O;J2(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:$,calculatedHeight:P}=a6(H,F,{width:i,height:s,aspect:n,maxHeight:f});return J2($!=null&&$>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,P,i,s,l,c,n),T.createElement("div",{id:p?"".concat(p):void 0,className:En("recharts-responsive-container",_),style:tP(tP({},E),{},{width:i,height:s,minWidth:l,minHeight:c,maxHeight:f}),ref:x},T.createElement("div",{style:ote({width:i,height:s})},T.createElement(o6,{width:$,height:P},h)))}),mte=T.forwardRef((t,e)=>{var n=WT();if(qo(n.width)&&qo(n.height))return t.children;var{width:r,height:i}=lte({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=a6(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return tt(s)&&tt(l)?T.createElement(o6,{width:s,height:l},t.children):T.createElement(dte,w1({},t,{width:r,height:i,ref:e}))});function l6(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var u6=()=>{var t,e=mi(),n=ot(Yee),r=ot(h_),i=(t=ot(f_))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},pte=()=>ot(As),gte=()=>ot(Cs),yt=t=>t.layout.layoutType,YT=()=>ot(yt),vte=()=>{var t=YT();return t!==void 0},d_=t=>{var e=Mn(),n=mi(),{width:r,height:i}=t,s=WT(),l=r,c=i;return s&&(l=s.width>0?s.width:r,c=s.height>0?s.height:i),T.useEffect(()=>{!n&&qo(l)&&qo(c)&&e(yee({width:l,height:c}))},[e,n,l,c]),null},c6=Symbol.for("immer-nothing"),nP=Symbol.for("immer-draftable"),qr=Symbol.for("immer-state");function Ni(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var xd=Object.getPrototypeOf;function Bc(t){return!!t&&!!t[qr]}function Xl(t){var e;return t?f6(t)||Array.isArray(t)||!!t[nP]||!!((e=t.constructor)!=null&&e[nP])||sm(t)||p_(t):!1}var yte=Object.prototype.constructor.toString(),rP=new WeakMap;function f6(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=rP.get(n);return r===void 0&&(r=Function.toString.call(n),rP.set(n,r)),r===yte}function zv(t,e,n=!0){m_(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function m_(t){const e=t[qr];return e?e.type_:Array.isArray(t)?1:sm(t)?2:p_(t)?3:0}function E1(t,e){return m_(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function h6(t,e,n){const r=m_(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function _te(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function sm(t){return t instanceof Map}function p_(t){return t instanceof Set}function Ol(t){return t.copy_||t.base_}function x1(t,e){if(sm(t))return new Map(t);if(p_(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=f6(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[qr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(xd(t),r)}else{const r=xd(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function QT(t,e=!1){return g_(t)||Bc(t)||!Xl(t)||(m_(t)>1&&Object.defineProperties(t,{set:pg,add:pg,clear:pg,delete:pg}),Object.freeze(t),e&&Object.values(t).forEach(n=>QT(n,!0))),t}function bte(){Ni(2)}var pg={value:bte};function g_(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var wte={};function Zl(t){const e=wte[t];return e||Ni(0,t),e}var Td;function d6(){return Td}function Ete(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function iP(t,e){e&&(Zl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function T1(t){S1(t),t.drafts_.forEach(xte),t.drafts_=null}function S1(t){t===Td&&(Td=t.parent_)}function aP(t){return Td=Ete(Td,t)}function xte(t){const e=t[qr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function sP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[qr].modified_&&(T1(e),Ni(4)),Xl(t)&&(t=Bv(e,t),e.parent_||Fv(e,t)),e.patches_&&Zl("Patches").generateReplacementPatches_(n[qr].base_,t,e.patches_,e.inversePatches_)):t=Bv(e,n,[]),T1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==c6?t:void 0}function Bv(t,e,n){if(g_(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[qr];if(!i)return zv(e,(s,l)=>oP(t,i,e,s,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Fv(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,c=!1;i.type_===3&&(l=new Set(s),s.clear(),c=!0),zv(l,(f,h)=>oP(t,i,s,f,h,n,c),r),Fv(t,s,!1),n&&t.patches_&&Zl("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function oP(t,e,n,r,i,s,l){if(i==null||typeof i!="object"&&!l)return;const c=g_(i);if(!(c&&!l)){if(Bc(i)){const f=s&&e&&e.type_!==3&&!E1(e.assigned_,r)?s.concat(r):void 0,h=Bv(t,i,f);if(h6(n,r,h),Bc(h))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Xl(i)&&!c){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&c)return;Bv(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(sm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Fv(t,i)}}}function Fv(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&QT(e,n)}function Tte(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:d6(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=XT;n&&(i=[r],s=Sd);const{revoke:l,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=l,c}var XT={get(t,e){if(e===qr)return t;const n=Ol(t);if(!E1(n,e))return Ste(t,n,e);const r=n[e];return t.finalized_||!Xl(r)?r:r===Uw(t.base_,e)?(zw(t),t.copy_[e]=C1(r,t)):r},has(t,e){return e in Ol(t)},ownKeys(t){return Reflect.ownKeys(Ol(t))},set(t,e,n){const r=m6(Ol(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Uw(Ol(t),e),s=i==null?void 0:i[qr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(_te(n,i)&&(n!==void 0||E1(t.base_,e)))return!0;zw(t),A1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Uw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,zw(t),A1(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ol(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ni(11)},getPrototypeOf(t){return xd(t.base_)},setPrototypeOf(){Ni(12)}},Sd={};zv(XT,(t,e)=>{Sd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Sd.deleteProperty=function(t,e){return Sd.set.call(this,t,e,void 0)};Sd.set=function(t,e,n){return XT.set.call(this,t[0],e,n,t[0])};function Uw(t,e){const n=t[qr];return(n?Ol(n):t)[e]}function Ste(t,e,n){var i;const r=m6(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function m6(t,e){if(!(e in t))return;let n=xd(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=xd(n)}}function A1(t){t.modified_||(t.modified_=!0,t.parent_&&A1(t.parent_))}function zw(t){t.copy_||(t.copy_=x1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Ate=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(f=s,...h){return l.produce(f,m=>n.call(this,m,...h))}}typeof n!="function"&&Ni(6),r!==void 0&&typeof r!="function"&&Ni(7);let i;if(Xl(e)){const s=aP(this),l=C1(e,void 0);let c=!0;try{i=n(l),c=!1}finally{c?T1(s):S1(s)}return iP(s,r),sP(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===c6&&(i=void 0),this.autoFreeze_&&QT(i,!0),r){const s=[],l=[];Zl("Patches").generateReplacementPatches_(e,i,s,l),r(s,l)}return i}else Ni(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,f=>e(f,...c));let r,i;return[this.produce(e,n,(l,c)=>{r=l,i=c}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Xl(t)||Ni(8),Bc(t)&&(t=Cte(t));const e=aP(this),n=C1(t,void 0);return n[qr].isManual_=!0,S1(e),n}finishDraft(t,e){const n=t&&t[qr];(!n||!n.isManual_)&&Ni(9);const{scope_:r}=n;return iP(r,e),sP(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Zl("Patches").applyPatches_;return Bc(t)?r(t,e):this.produce(t,i=>r(i,e))}};function C1(t,e){const n=sm(t)?Zl("MapSet").proxyMap_(t,e):p_(t)?Zl("MapSet").proxySet_(t,e):Tte(t,e);return(e?e.scope_:d6()).drafts_.push(n),n}function Cte(t){return Bc(t)||Ni(10,t),p6(t)}function p6(t){if(!Xl(t)||g_(t))return t;const e=t[qr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=x1(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=x1(t,!0);return zv(n,(i,s)=>{h6(n,i,p6(s))},r),e&&(e.finalized_=!1),n}var Ite=new Ate;Ite.produce;var Rte={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},g6=Sr({name:"legend",initialState:Rte,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Lt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Vi(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Lt()},removeLegendPayload:{reducer(t,e){var n=Vi(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Lt()}}}),{setLegendSize:lme,setLegendSettings:ume,addLegendPayload:Nte,replaceLegendPayload:Ote,removeLegendPayload:Pte}=g6.actions,kte=g6.reducer,Mte=()=>{var t;return(t=ot(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function I1(){return I1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I1.apply(null,arguments)}function lP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(n),!0).forEach(function(r){Dte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dte(t,e,n){return(e=Lte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lte(t){var e=jte(t,"string");return typeof e=="symbol"?e:e+""}function jte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cP={curveBasisClosed:iZ,curveBasisOpen:aZ,curveBasis:rZ,curveBumpX:qX,curveBumpY:HX,curveLinearClosed:sZ,curveLinear:Jy,curveMonotoneX:oZ,curveMonotoneY:lZ,curveNatural:uZ,curveStep:cZ,curveStepAfter:hZ,curveStepBefore:fZ},qv=t=>Zt(t.x)&&Zt(t.y),fP=t=>t.base!=null&&qv(t.base)&&qv(t),Sh=t=>t.x,Ah=t=>t.y,Vte=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(em(t));return(n==="curveMonotone"||n==="curveBump")&&e?cP["".concat(n).concat(e==="vertical"?"Y":"X")]:cP[n]||Jy},Ute=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,l=Vte(e,i),c=s?n.filter(qv):n,f;if(Array.isArray(r)){var h=n.map((b,E)=>uP(uP({},b),{},{base:r[E]}));i==="vertical"?f=ug().y(Ah).x1(Sh).x0(b=>b.base.x):f=ug().x(Sh).y1(Ah).y0(b=>b.base.y);var m=f.defined(fP).curve(l),p=s?h.filter(fP):h;return m(p)}i==="vertical"&&tt(r)?f=ug().y(Ah).x1(Sh).x0(r):tt(r)?f=ug().x(Sh).y1(Ah).y0(r):f=i3().x(Sh).y(Ah);var _=f.defined(qv).curve(l);return _(c)},zte=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?Ute(t):r;return T.createElement("path",I1({},Fo(t),VZ(t),{className:En("recharts-curve",e),d:s===null?void 0:s,ref:i}))};function hP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(n),!0).forEach(function(r){Bte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bte(t,e,n){return(e=Fte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fte(t){var e=qte(t,"string");return typeof e=="symbol"?e:e+""}function qte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hte=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),v6=(t,e,n)=>t.map(r=>"".concat(Hte(r)," ").concat(e,"ms ").concat(n)).join(","),$te=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Ad=(t,e)=>Object.keys(e).reduce((n,r)=>dP(dP({},n),{},{[r]:t(r,e[r])}),{});function mP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(n),!0).forEach(function(r){Gte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gte(t,e,n){return(e=Kte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kte(t){var e=Wte(t,"string");return typeof e=="symbol"?e:e+""}function Wte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hv=(t,e,n)=>t+(e-t)*n,R1=t=>{var{from:e,to:n}=t;return e!==n},y6=(t,e,n)=>{var r=Ad((i,s)=>{if(R1(s)){var[l,c]=t(s.from,s.to,s.velocity);return vn(vn({},s),{},{from:l,velocity:c})}return s},e);return n<1?Ad((i,s)=>R1(s)?vn(vn({},s),{},{velocity:Hv(s.velocity,r[i].velocity,n),from:Hv(s.from,r[i].from,n)}):s,e):y6(t,r,n-1)};function Yte(t,e,n,r,i,s){var l,c=r.reduce((_,b)=>vn(vn({},_),{},{[b]:{from:t[b],velocity:0,to:e[b]}}),{}),f=()=>Ad((_,b)=>b.from,c),h=()=>!Object.values(c).filter(R1).length,m=null,p=_=>{l||(l=_);var b=_-l,E=b/n.dt;c=y6(n,c,E),i(vn(vn(vn({},t),e),f())),l=_,h()||(m=s.setTimeout(p))};return()=>(m=s.setTimeout(p),()=>{var _;(_=m)===null||_===void 0||_()})}function Qte(t,e,n,r,i,s,l){var c=null,f=i.reduce((p,_)=>vn(vn({},p),{},{[_]:[t[_],e[_]]}),{}),h,m=p=>{h||(h=p);var _=(p-h)/r,b=Ad((x,A)=>Hv(...A,n(_)),f);if(s(vn(vn(vn({},t),e),b)),_<1)c=l.setTimeout(m);else{var E=Ad((x,A)=>Hv(...A,n(1)),f);s(vn(vn(vn({},t),e),E))}};return()=>(c=l.setTimeout(m),()=>{var p;(p=c)===null||p===void 0||p()})}const Xte=(t,e,n,r,i,s)=>{var l=$te(t,e);return n==null?()=>(i(vn(vn({},t),e)),()=>{}):n.isStepper===!0?Yte(t,e,n,l,i,s):Qte(t,e,n,r,l,i,s)};var $v=1e-4,_6=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],b6=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),pP=(t,e)=>n=>{var r=_6(t,e);return b6(r,n)},Zte=(t,e)=>n=>{var r=_6(t,e),i=[...r.map((s,l)=>s*l).slice(1),0];return b6(i,n)},Jte=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,s=n[0].split("(");if(s[0]==="cubic-bezier"&&((i=s[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var l=s[1].split(")")[0].split(",").map(c=>parseFloat(c));return[l[0],l[1],l[2],l[3]]}}}return n.length===4?n:[0,0,1,1]},ene=(t,e,n,r)=>{var i=pP(t,n),s=pP(e,r),l=Zte(t,n),c=h=>h>1?1:h<0?0:h,f=h=>{for(var m=h>1?1:h,p=m,_=0;_<8;++_){var b=i(p)-m,E=l(p);if(Math.abs(b-m)<$v||E<$v)return s(p);p=c(p-b/E)}return s(p)};return f.isStepper=!1,f},gP=function(){return ene(...Jte(...arguments))},tne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(l,c,f)=>{var h=-(l-c)*n,m=f*r,p=f+(h-m)*i/1e3,_=f*i/1e3+l;return Math.abs(_-c)<$v&&Math.abs(p)<$v?[c,0]:[_,p]};return s.isStepper=!0,s.dt=i,s},nne=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gP(t);case"spring":return tne();default:if(t.split("(")[0]==="cubic-bezier")return gP(t)}return typeof t=="function"?t:null};function rne(t){var e,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[f,...h]=c;if(typeof f=="number"){i=t.setTimeout(s.bind(null,h),f);return}s(f),i=t.setTimeout(s.bind(null,h));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class ine{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function ane(){return rne(new ine)}var sne=T.createContext(ane);function one(t,e){var n=T.useContext(sne);return T.useMemo(()=>e??n(t),[t,e,n])}var lne=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),om={devToolsEnabled:!1,isSsr:lne()},une={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},vP={t:0},Bw={t:1};function ZT(t){var e=Na(t,une),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:c,onAnimationStart:f,children:h}=e,m=n==="auto"?!om.isSsr:n,p=one(e.animationId,e.animationManager),[_,b]=T.useState(m?vP:Bw),E=T.useRef(null);return T.useEffect(()=>{m||b(Bw)},[m]),T.useEffect(()=>{if(!m||!r)return tm;var x=Xte(vP,Bw,nne(s),i,b,p.getTimeoutController()),A=()=>{E.current=x()};return p.start([f,l,A,i,c]),()=>{p.stop(),E.current&&E.current(),c()}},[m,r,i,s,l,f,c,p]),h(_.t)}function JT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=T.useRef(_d(e)),r=T.useRef(t);return r.current!==t&&(n.current=_d(e),r.current=t),n.current}var cne=["radius"],fne=["radius"];function yP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _P(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(n),!0).forEach(function(r){hne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hne(t,e,n){return(e=dne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dne(t){var e=mne(t,"string");return typeof e=="symbol"?e:e+""}function mne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gv(){return Gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gv.apply(null,arguments)}function bP(t,e){if(t==null)return{};var n,r,i=pne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wP=(t,e,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,c=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,h;if(s>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,_=4;p<_;p++)m[p]=i[p]>s?s:i[p];h="M".concat(t,",").concat(e+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(t+c*m[0],",").concat(e)),h+="L ".concat(t+n-c*m[1],",").concat(e),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+l*m[1])),h+="L ".concat(t+n,",").concat(e+r-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(t+n-c*m[2],",").concat(e+r)),h+="L ".concat(t+c*m[3],",").concat(e+r),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-l*m[3])),h+="Z"}else if(s>0&&i===+i&&i>0){var b=Math.min(s,i);h="M ".concat(t,",").concat(e+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+c*b,",").concat(e,`
            L `).concat(t+n-c*b,",").concat(e,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n,",").concat(e+l*b,`
            L `).concat(t+n,",").concat(e+r-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n-c*b,",").concat(e+r,`
            L `).concat(t+c*b,",").concat(e+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t,",").concat(e+r-l*b," Z")}else h="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},EP={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gne=t=>{var e=Na(t,EP),n=T.useRef(null),[r,i]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ue=n.current.getTotalLength();ue&&i(ue)}catch{}},[]);var{x:s,y:l,width:c,height:f,radius:h,className:m}=e,{animationEasing:p,animationDuration:_,animationBegin:b,isAnimationActive:E,isUpdateAnimationActive:x}=e,A=T.useRef(c),O=T.useRef(f),z=T.useRef(s),D=T.useRef(l),H=T.useMemo(()=>({x:s,y:l,width:c,height:f,radius:h}),[s,l,c,f,h]),F=JT(H,"rectangle-");if(s!==+s||l!==+l||c!==+c||f!==+f||c===0||f===0)return null;var $=En("recharts-rectangle",m);if(!x){var P=Bi(e),{radius:R}=P,k=bP(P,cne);return T.createElement("path",Gv({},k,{radius:typeof h=="number"?h:void 0,className:$,d:wP(s,l,c,f,h)}))}var V=A.current,L=O.current,B=z.current,U=D.current,xe="0px ".concat(r===-1?1:r,"px"),Ie="".concat(r,"px 0px"),Z=v6(["strokeDasharray"],_,typeof p=="string"?p:EP.animationEasing);return T.createElement(ZT,{animationId:F,key:F,canBegin:r>0,duration:_,easing:p,isActive:x,begin:b},ue=>{var ie=$n(V,c,ue),pe=$n(L,f,ue),me=$n(B,s,ue),j=$n(U,l,ue);n.current&&(A.current=ie,O.current=pe,z.current=me,D.current=j);var K;E?ue>0?K={transition:Z,strokeDasharray:Ie}:K={strokeDasharray:xe}:K={strokeDasharray:Ie};var ee=Bi(e),{radius:he}=ee,_e=bP(ee,fne);return T.createElement("path",Gv({},_e,{radius:typeof h=="number"?h:void 0,className:$,d:wP(me,j,ie,pe,h),ref:n,style:_P(_P({},K),e.style)}))})};function xP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xP(Object(n),!0).forEach(function(r){vne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vne(t,e,n){return(e=yne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yne(t){var e=_ne(t,"string");return typeof e=="symbol"?e:e+""}function _ne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kv=Math.PI/180,bne=t=>t*180/Math.PI,Br=(t,e,n,r)=>({x:t+Math.cos(-Kv*r)*n,y:e+Math.sin(-Kv*r)*n}),wne=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Ene=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},xne=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,l=Ene({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var c=(n-i)/l,f=Math.acos(c);return r>s&&(f=2*Math.PI-f),{radius:l,angle:bne(f),angleInRadian:f}},Tne=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},Sne=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return t+l*360},Ane=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=xne({x:n,y:r},e),{innerRadius:l,outerRadius:c}=e;if(i<l||i>c||i===0)return null;var{startAngle:f,endAngle:h}=Tne(e),m=s,p;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;p=m>=h&&m<=f}return p?TP(TP({},e),{},{radius:i,angle:Sne(m,e)}):null};function N1(){return N1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N1.apply(null,arguments)}var Cne=(t,e)=>{var n=Ur(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},gg=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:c,cornerIsExternal:f}=t,h=c*(l?1:-1)+r,m=Math.asin(c/h)/Kv,p=f?i:i+s*m,_=Br(e,n,h,p),b=Br(e,n,r,p),E=f?i-s*m:i,x=Br(e,n,h*Math.cos(m*Kv),E);return{center:_,circleTangency:b,lineTangency:x,theta:m}},w6=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=t,c=Cne(s,l),f=s+c,h=Br(e,n,i,s),m=Br(e,n,i,f),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var _=Br(e,n,r,s),b=Br(e,n,r,f);p+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(_.x,",").concat(_.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},Ine=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:h}=t,m=Ur(h-f),{circleTangency:p,lineTangency:_,theta:b}=gg({cx:e,cy:n,radius:i,angle:f,sign:m,cornerRadius:s,cornerIsExternal:c}),{circleTangency:E,lineTangency:x,theta:A}=gg({cx:e,cy:n,radius:i,angle:h,sign:-m,cornerRadius:s,cornerIsExternal:c}),O=c?Math.abs(f-h):Math.abs(f-h)-b-A;if(O<0)return l?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):w6({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:h});var z="M ".concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(O>180),",").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
  `);if(r>0){var{circleTangency:D,lineTangency:H,theta:F}=gg({cx:e,cy:n,radius:r,angle:f,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),{circleTangency:$,lineTangency:P,theta:R}=gg({cx:e,cy:n,radius:r,angle:h,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),k=c?Math.abs(f-h):Math.abs(f-h)-F-R;if(k<0&&s===0)return"".concat(z,"L").concat(e,",").concat(n,"Z");z+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat($.x,",").concat($.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(m>0),",").concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(H.x,",").concat(H.y,"Z")}else z+="L".concat(e,",").concat(n,"Z");return z},Rne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Nne=t=>{var e=Na(t,Rne),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:m,className:p}=e;if(s<i||h===m)return null;var _=En("recharts-sector",p),b=s-i,E=Fi(l,b,0,!0),x;return E>0&&Math.abs(h-m)<360?x=Ine({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(E,b/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:m}):x=w6({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:m}),T.createElement("path",N1({},Bi(e),{className:_,d:x}))},Fw={},qw={},Hw={},SP;function One(){return SP||(SP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=E3();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Hw)),Hw}var AP;function Pne(){return AP||(AP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=One();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(qw)),qw}var CP;function kne(){return CP||(CP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=x3(),n=Pne();function r(i,s,l){l&&typeof l!="number"&&e.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((s-i)/(l||1)),0),f=new Array(c);for(let h=0;h<c;h++)f[h]=i,i+=l;return f}t.range=r})(Fw)),Fw}var $w,IP;function Mne(){return IP||(IP=1,$w=kne().range),$w}var Dne=Mne();const E6=Es(Dne);function No(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Lne(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function eS(t){let e,n,r;t.length!==2?(e=No,n=(c,f)=>No(t(c),f),r=(c,f)=>t(c)-f):(e=t===No||t===Lne?t:jne,n=t,r=t);function i(c,f,h=0,m=c.length){if(h<m){if(e(f,f)!==0)return m;do{const p=h+m>>>1;n(c[p],f)<0?h=p+1:m=p}while(h<m)}return h}function s(c,f,h=0,m=c.length){if(h<m){if(e(f,f)!==0)return m;do{const p=h+m>>>1;n(c[p],f)<=0?h=p+1:m=p}while(h<m)}return h}function l(c,f,h=0,m=c.length){const p=i(c,f,h,m-1);return p>h&&r(c[p-1],f)>-r(c[p],f)?p-1:p}return{left:i,center:l,right:s}}function jne(){return 0}function x6(t){return t===null?NaN:+t}function*Vne(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Une=eS(No),lm=Une.right;eS(x6).center;class RP extends Map{constructor(e,n=Fne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(NP(this,e))}has(e){return super.has(NP(this,e))}set(e,n){return super.set(zne(this,e),n)}delete(e){return super.delete(Bne(this,e))}}function NP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function zne({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Bne({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Fne(t){return t!==null&&typeof t=="object"?t.valueOf():t}function qne(t=No){if(t===No)return T6;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function T6(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Hne=Math.sqrt(50),$ne=Math.sqrt(10),Gne=Math.sqrt(2);function Wv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=Hne?10:s>=$ne?5:s>=Gne?2:1;let c,f,h;return i<0?(h=Math.pow(10,-i)/l,c=Math.round(t*h),f=Math.round(e*h),c/h<t&&++c,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*l,c=Math.round(t/h),f=Math.round(e/h),c*h<t&&++c,f*h>e&&--f),f<c&&.5<=n&&n<2?Wv(t,e,n*2):[c,f,h]}function O1(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?Wv(e,t,n):Wv(t,e,n);if(!(s>=i))return[];const c=s-i+1,f=new Array(c);if(r)if(l<0)for(let h=0;h<c;++h)f[h]=(s-h)/-l;else for(let h=0;h<c;++h)f[h]=(s-h)*l;else if(l<0)for(let h=0;h<c;++h)f[h]=(i+h)/-l;else for(let h=0;h<c;++h)f[h]=(i+h)*l;return f}function P1(t,e,n){return e=+e,t=+t,n=+n,Wv(t,e,n)[2]}function k1(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?P1(e,t,n):P1(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function OP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function PP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function S6(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?T6:qne(i);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,m=Math.log(f),p=.5*Math.exp(2*m/3),_=.5*Math.sqrt(m*p*(f-p)/f)*(h-f/2<0?-1:1),b=Math.max(n,Math.floor(e-h*p/f+_)),E=Math.min(r,Math.floor(e+(f-h)*p/f+_));S6(t,e,b,E,i)}const s=t[e];let l=n,c=r;for(Ch(t,n,e),i(t[r],s)>0&&Ch(t,n,r);l<c;){for(Ch(t,l,c),++l,--c;i(t[l],s)<0;)++l;for(;i(t[c],s)>0;)--c}i(t[n],s)===0?Ch(t,n,c):(++c,Ch(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function Ch(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Kne(t,e,n){if(t=Float64Array.from(Vne(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return PP(t);if(e>=1)return OP(t);var r,i=(r-1)*e,s=Math.floor(i),l=OP(S6(t,s).subarray(0,s+1)),c=PP(t.subarray(s+1));return l+(c-l)*(i-s)}}function Wne(t,e,n=x6){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),c=+n(t[s+1],s+1,t);return l+(c-l)*(i-s)}}function Yne(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function pi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Is(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const M1=Symbol("implicit");function tS(){var t=new RP,e=[],n=[],r=M1;function i(s){let l=t.get(s);if(l===void 0){if(r!==M1)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new RP;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return tS(e,n).unknown(r)},pi.apply(i,arguments),i}function nS(){var t=tS().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,c=!1,f=0,h=0,m=.5;delete t.unknown;function p(){var _=e().length,b=i<r,E=b?i:r,x=b?r:i;s=(x-E)/Math.max(1,_-f+h*2),c&&(s=Math.floor(s)),E+=(x-E-s*(_-f))*m,l=s*(1-f),c&&(E=Math.round(E),l=Math.round(l));var A=Yne(_).map(function(O){return E+s*O});return n(b?A.reverse():A)}return t.domain=function(_){return arguments.length?(e(_),p()):e()},t.range=function(_){return arguments.length?([r,i]=_,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(_){return[r,i]=_,r=+r,i=+i,c=!0,p()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(_){return arguments.length?(c=!!_,p()):c},t.padding=function(_){return arguments.length?(f=Math.min(1,h=+_),p()):f},t.paddingInner=function(_){return arguments.length?(f=Math.min(1,_),p()):f},t.paddingOuter=function(_){return arguments.length?(h=+_,p()):h},t.align=function(_){return arguments.length?(m=Math.max(0,Math.min(1,_)),p()):m},t.copy=function(){return nS(e(),[r,i]).round(c).paddingInner(f).paddingOuter(h).align(m)},pi.apply(p(),arguments)}function A6(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return A6(e())},t}function Qne(){return A6(nS.apply(null,arguments).paddingInner(1))}function rS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function C6(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function um(){}var Cd=.7,Yv=1/Cd,Tc="\\s*([+-]?\\d+)\\s*",Id="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ea="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xne=/^#([0-9a-f]{3,8})$/,Zne=new RegExp(`^rgb\\(${Tc},${Tc},${Tc}\\)$`),Jne=new RegExp(`^rgb\\(${Ea},${Ea},${Ea}\\)$`),ere=new RegExp(`^rgba\\(${Tc},${Tc},${Tc},${Id}\\)$`),tre=new RegExp(`^rgba\\(${Ea},${Ea},${Ea},${Id}\\)$`),nre=new RegExp(`^hsl\\(${Id},${Ea},${Ea}\\)$`),rre=new RegExp(`^hsla\\(${Id},${Ea},${Ea},${Id}\\)$`),kP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rS(um,Rd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:MP,formatHex:MP,formatHex8:ire,formatHsl:are,formatRgb:DP,toString:DP});function MP(){return this.rgb().formatHex()}function ire(){return this.rgb().formatHex8()}function are(){return I6(this).formatHsl()}function DP(){return this.rgb().formatRgb()}function Rd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Xne.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?LP(e):n===3?new Er(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?vg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?vg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Zne.exec(t))?new Er(e[1],e[2],e[3],1):(e=Jne.exec(t))?new Er(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ere.exec(t))?vg(e[1],e[2],e[3],e[4]):(e=tre.exec(t))?vg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=nre.exec(t))?UP(e[1],e[2]/100,e[3]/100,1):(e=rre.exec(t))?UP(e[1],e[2]/100,e[3]/100,e[4]):kP.hasOwnProperty(t)?LP(kP[t]):t==="transparent"?new Er(NaN,NaN,NaN,0):null}function LP(t){return new Er(t>>16&255,t>>8&255,t&255,1)}function vg(t,e,n,r){return r<=0&&(t=e=n=NaN),new Er(t,e,n,r)}function sre(t){return t instanceof um||(t=Rd(t)),t?(t=t.rgb(),new Er(t.r,t.g,t.b,t.opacity)):new Er}function D1(t,e,n,r){return arguments.length===1?sre(t):new Er(t,e,n,r??1)}function Er(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}rS(Er,D1,C6(um,{brighter(t){return t=t==null?Yv:Math.pow(Yv,t),new Er(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Cd:Math.pow(Cd,t),new Er(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Er(Bl(this.r),Bl(this.g),Bl(this.b),Qv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jP,formatHex:jP,formatHex8:ore,formatRgb:VP,toString:VP}));function jP(){return`#${Ll(this.r)}${Ll(this.g)}${Ll(this.b)}`}function ore(){return`#${Ll(this.r)}${Ll(this.g)}${Ll(this.b)}${Ll((isNaN(this.opacity)?1:this.opacity)*255)}`}function VP(){const t=Qv(this.opacity);return`${t===1?"rgb(":"rgba("}${Bl(this.r)}, ${Bl(this.g)}, ${Bl(this.b)}${t===1?")":`, ${t})`}`}function Qv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Bl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ll(t){return t=Bl(t),(t<16?"0":"")+t.toString(16)}function UP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Oi(t,e,n,r)}function I6(t){if(t instanceof Oi)return new Oi(t.h,t.s,t.l,t.opacity);if(t instanceof um||(t=Rd(t)),!t)return new Oi;if(t instanceof Oi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,c=s-i,f=(s+i)/2;return c?(e===s?l=(n-r)/c+(n<r)*6:n===s?l=(r-e)/c+2:l=(e-n)/c+4,c/=f<.5?s+i:2-s-i,l*=60):c=f>0&&f<1?0:l,new Oi(l,c,f,t.opacity)}function lre(t,e,n,r){return arguments.length===1?I6(t):new Oi(t,e,n,r??1)}function Oi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}rS(Oi,lre,C6(um,{brighter(t){return t=t==null?Yv:Math.pow(Yv,t),new Oi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Cd:Math.pow(Cd,t),new Oi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Er(Gw(t>=240?t-240:t+120,i,r),Gw(t,i,r),Gw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Oi(zP(this.h),yg(this.s),yg(this.l),Qv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Qv(this.opacity);return`${t===1?"hsl(":"hsla("}${zP(this.h)}, ${yg(this.s)*100}%, ${yg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function zP(t){return t=(t||0)%360,t<0?t+360:t}function yg(t){return Math.max(0,Math.min(1,t||0))}function Gw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const iS=t=>()=>t;function ure(t,e){return function(n){return t+n*e}}function cre(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function fre(t){return(t=+t)==1?R6:function(e,n){return n-e?cre(e,n,t):iS(isNaN(e)?n:e)}}function R6(t,e){var n=e-t;return n?ure(t,n):iS(isNaN(t)?e:t)}const BP=(function t(e){var n=fre(e);function r(i,s){var l=n((i=D1(i)).r,(s=D1(s)).r),c=n(i.g,s.g),f=n(i.b,s.b),h=R6(i.opacity,s.opacity);return function(m){return i.r=l(m),i.g=c(m),i.b=f(m),i.opacity=h(m),i+""}}return r.gamma=t,r})(1);function hre(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function dre(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function mre(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=ff(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(c){for(l=0;l<r;++l)s[l]=i[l](c);return s}}function pre(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Xv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function gre(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ff(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var L1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kw=new RegExp(L1.source,"g");function vre(t){return function(){return t}}function yre(t){return function(e){return t(e)+""}}function _re(t,e){var n=L1.lastIndex=Kw.lastIndex=0,r,i,s,l=-1,c=[],f=[];for(t=t+"",e=e+"";(r=L1.exec(t))&&(i=Kw.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),c[l]?c[l]+=s:c[++l]=s),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,f.push({i:l,x:Xv(r,i)})),n=Kw.lastIndex;return n<e.length&&(s=e.slice(n),c[l]?c[l]+=s:c[++l]=s),c.length<2?f[0]?yre(f[0].x):vre(e):(e=f.length,function(h){for(var m=0,p;m<e;++m)c[(p=f[m]).i]=p.x(h);return c.join("")})}function ff(t,e){var n=typeof e,r;return e==null||n==="boolean"?iS(e):(n==="number"?Xv:n==="string"?(r=Rd(e))?(e=r,BP):_re:e instanceof Rd?BP:e instanceof Date?pre:dre(e)?hre:Array.isArray(e)?mre:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?gre:Xv)(t,e)}function aS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function bre(t,e){e===void 0&&(e=t,t=ff);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[c](l-c)}}function wre(t){return function(){return t}}function Zv(t){return+t}var FP=[0,1];function cr(t){return t}function j1(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:wre(isNaN(e)?NaN:.5)}function Ere(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function xre(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=j1(i,r),s=n(l,s)):(r=j1(r,i),s=n(s,l)),function(c){return s(r(c))}}function Tre(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=j1(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(c){var f=lm(t,c,1,r)-1;return s[f](i[f](c))}}function cm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function v_(){var t=FP,e=FP,n=ff,r,i,s,l=cr,c,f,h;function m(){var _=Math.min(t.length,e.length);return l!==cr&&(l=Ere(t[0],t[_-1])),c=_>2?Tre:xre,f=h=null,p}function p(_){return _==null||isNaN(_=+_)?s:(f||(f=c(t.map(r),e,n)))(r(l(_)))}return p.invert=function(_){return l(i((h||(h=c(e,t.map(r),Xv)))(_)))},p.domain=function(_){return arguments.length?(t=Array.from(_,Zv),m()):t.slice()},p.range=function(_){return arguments.length?(e=Array.from(_),m()):e.slice()},p.rangeRound=function(_){return e=Array.from(_),n=aS,m()},p.clamp=function(_){return arguments.length?(l=_?!0:cr,m()):l!==cr},p.interpolate=function(_){return arguments.length?(n=_,m()):n},p.unknown=function(_){return arguments.length?(s=_,p):s},function(_,b){return r=_,i=b,m()}}function sS(){return v_()(cr,cr)}function Sre(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Jv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Fc(t){return t=Jv(Math.abs(t)),t?t[1]:NaN}function Are(t,e){return function(n,r){for(var i=n.length,s=[],l=0,c=t[0],f=0;i>0&&c>0&&(f+c+1>r&&(c=Math.max(1,r-f)),s.push(n.substring(i-=c,i+c)),!((f+=c+1)>r));)c=t[l=(l+1)%t.length];return s.reverse().join(e)}}function Cre(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Ire=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nd(t){if(!(e=Ire.exec(t)))throw new Error("invalid format: "+t);var e;return new oS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Nd.prototype=oS.prototype;function oS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}oS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Rre(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var N6;function Nre(t,e){var n=Jv(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(N6=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Jv(t,Math.max(0,e+s-1))[0]}function qP(t,e){var n=Jv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const HP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Sre,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>qP(t*100,e),r:qP,s:Nre,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function $P(t){return t}var GP=Array.prototype.map,KP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ore(t){var e=t.grouping===void 0||t.thousands===void 0?$P:Are(GP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?$P:Cre(GP.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(p){p=Nd(p);var _=p.fill,b=p.align,E=p.sign,x=p.symbol,A=p.zero,O=p.width,z=p.comma,D=p.precision,H=p.trim,F=p.type;F==="n"?(z=!0,F="g"):HP[F]||(D===void 0&&(D=12),H=!0,F="g"),(A||_==="0"&&b==="=")&&(A=!0,_="0",b="=");var $=x==="$"?n:x==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",P=x==="$"?r:/[%p]/.test(F)?l:"",R=HP[F],k=/[defgprs%]/.test(F);D=D===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D));function V(L){var B=$,U=P,xe,Ie,Z;if(F==="c")U=R(L)+U,L="";else{L=+L;var ue=L<0||1/L<0;if(L=isNaN(L)?f:R(Math.abs(L),D),H&&(L=Rre(L)),ue&&+L==0&&E!=="+"&&(ue=!1),B=(ue?E==="("?E:c:E==="-"||E==="("?"":E)+B,U=(F==="s"?KP[8+N6/3]:"")+U+(ue&&E==="("?")":""),k){for(xe=-1,Ie=L.length;++xe<Ie;)if(Z=L.charCodeAt(xe),48>Z||Z>57){U=(Z===46?i+L.slice(xe+1):L.slice(xe))+U,L=L.slice(0,xe);break}}}z&&!A&&(L=e(L,1/0));var ie=B.length+L.length+U.length,pe=ie<O?new Array(O-ie+1).join(_):"";switch(z&&A&&(L=e(pe+L,pe.length?O-U.length:1/0),pe=""),b){case"<":L=B+L+U+pe;break;case"=":L=B+pe+L+U;break;case"^":L=pe.slice(0,ie=pe.length>>1)+B+L+U+pe.slice(ie);break;default:L=pe+B+L+U;break}return s(L)}return V.toString=function(){return p+""},V}function m(p,_){var b=h((p=Nd(p),p.type="f",p)),E=Math.max(-8,Math.min(8,Math.floor(Fc(_)/3)))*3,x=Math.pow(10,-E),A=KP[8+E/3];return function(O){return b(x*O)+A}}return{format:h,formatPrefix:m}}var _g,lS,O6;Pre({thousands:",",grouping:[3],currency:["$",""]});function Pre(t){return _g=Ore(t),lS=_g.format,O6=_g.formatPrefix,_g}function kre(t){return Math.max(0,-Fc(Math.abs(t)))}function Mre(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fc(e)/3)))*3-Fc(Math.abs(t)))}function Dre(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Fc(e)-Fc(t))+1}function P6(t,e,n,r){var i=k1(t,e,n),s;switch(r=Nd(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Mre(i,l))&&(r.precision=s),O6(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Dre(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=kre(i))&&(r.precision=s-(r.type==="%")*2);break}}return lS(r)}function Wo(t){var e=t.domain;return t.ticks=function(n){var r=e();return O1(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return P6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],c=r[s],f,h,m=10;for(c<l&&(h=l,l=c,c=h,h=i,i=s,s=h);m-- >0;){if(h=P1(l,c,n),h===f)return r[i]=l,r[s]=c,e(r);if(h>0)l=Math.floor(l/h)*h,c=Math.ceil(c/h)*h;else if(h<0)l=Math.ceil(l*h)/h,c=Math.floor(c*h)/h;else break;f=h}return t},t}function k6(){var t=sS();return t.copy=function(){return cm(t,k6())},pi.apply(t,arguments),Wo(t)}function M6(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Zv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return M6(t).unknown(e)},t=arguments.length?Array.from(t,Zv):[0,1],Wo(n)}function D6(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function WP(t){return Math.log(t)}function YP(t){return Math.exp(t)}function Lre(t){return-Math.log(-t)}function jre(t){return-Math.exp(-t)}function Vre(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ure(t){return t===10?Vre:t===Math.E?Math.exp:e=>Math.pow(t,e)}function zre(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function QP(t){return(e,n)=>-t(-e,n)}function uS(t){const e=t(WP,YP),n=e.domain;let r=10,i,s;function l(){return i=zre(r),s=Ure(r),n()[0]<0?(i=QP(i),s=QP(s),t(Lre,jre)):t(WP,YP),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const f=n();let h=f[0],m=f[f.length-1];const p=m<h;p&&([h,m]=[m,h]);let _=i(h),b=i(m),E,x;const A=c==null?10:+c;let O=[];if(!(r%1)&&b-_<A){if(_=Math.floor(_),b=Math.ceil(b),h>0){for(;_<=b;++_)for(E=1;E<r;++E)if(x=_<0?E/s(-_):E*s(_),!(x<h)){if(x>m)break;O.push(x)}}else for(;_<=b;++_)for(E=r-1;E>=1;--E)if(x=_>0?E/s(-_):E*s(_),!(x<h)){if(x>m)break;O.push(x)}O.length*2<A&&(O=O1(h,m,A))}else O=O1(_,b,Math.min(b-_,A)).map(s);return p?O.reverse():O},e.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Nd(f)).precision==null&&(f.trim=!0),f=lS(f)),c===1/0)return f;const h=Math.max(1,r*c/e.ticks().length);return m=>{let p=m/s(Math.round(i(m)));return p*r<r-.5&&(p*=r),p<=h?f(m):""}},e.nice=()=>n(D6(n(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),e}function L6(){const t=uS(v_()).domain([1,10]);return t.copy=()=>cm(t,L6()).base(t.base()),pi.apply(t,arguments),t}function XP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function ZP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function cS(t){var e=1,n=t(XP(e),ZP(e));return n.constant=function(r){return arguments.length?t(XP(e=+r),ZP(e)):e},Wo(n)}function j6(){var t=cS(v_());return t.copy=function(){return cm(t,j6()).constant(t.constant())},pi.apply(t,arguments)}function JP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Bre(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Fre(t){return t<0?-t*t:t*t}function fS(t){var e=t(cr,cr),n=1;function r(){return n===1?t(cr,cr):n===.5?t(Bre,Fre):t(JP(n),JP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Wo(e)}function hS(){var t=fS(v_());return t.copy=function(){return cm(t,hS()).exponent(t.exponent())},pi.apply(t,arguments),t}function qre(){return hS.apply(null,arguments).exponent(.5)}function ek(t){return Math.sign(t)*t*t}function Hre(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function V6(){var t=sS(),e=[0,1],n=!1,r;function i(s){var l=Hre(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(ek(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Zv)).map(ek)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return V6(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},pi.apply(i,arguments),Wo(i)}function U6(){var t=[],e=[],n=[],r;function i(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=Wne(t,l/c);return s}function s(l){return l==null||isNaN(l=+l)?r:e[lm(n,l)]}return s.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(No),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return U6().domain(t).range(e).unknown(r)},pi.apply(s,arguments)}function z6(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(f){return f!=null&&f<=f?i[lm(r,f,0,n)]:s}function c(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,c()):[t,e]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,c()):i.slice()},l.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return z6().domain([t,e]).range(i).unknown(s)},pi.apply(Wo(l),arguments)}function B6(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[lm(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return B6().domain(t).range(e).unknown(n)},pi.apply(i,arguments)}const Ww=new Date,Yw=new Date;function xn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),c=i.ceil(s);return s-l<c-s?l:c},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,c)=>{const f=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<l)||!(c>0))return f;let h;do f.push(h=new Date(+s)),e(s,c),t(s);while(h<s&&s<l);return f},i.filter=s=>xn(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!s(l););else for(;--c>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>(Ww.setTime(+s),Yw.setTime(+l),t(Ww),t(Yw),Math.floor(n(Ww,Yw))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const ey=xn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ey.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?xn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ey);ey.range;const rs=1e3,ui=rs*60,is=ui*60,vs=is*24,dS=vs*7,tk=vs*30,Qw=vs*365,jl=xn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*rs)},(t,e)=>(e-t)/rs,t=>t.getUTCSeconds());jl.range;const mS=xn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*rs)},(t,e)=>{t.setTime(+t+e*ui)},(t,e)=>(e-t)/ui,t=>t.getMinutes());mS.range;const pS=xn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ui)},(t,e)=>(e-t)/ui,t=>t.getUTCMinutes());pS.range;const gS=xn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*rs-t.getMinutes()*ui)},(t,e)=>{t.setTime(+t+e*is)},(t,e)=>(e-t)/is,t=>t.getHours());gS.range;const vS=xn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*is)},(t,e)=>(e-t)/is,t=>t.getUTCHours());vS.range;const fm=xn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ui)/vs,t=>t.getDate()-1);fm.range;const y_=xn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vs,t=>t.getUTCDate()-1);y_.range;const F6=xn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vs,t=>Math.floor(t/vs));F6.range;function fu(t){return xn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ui)/dS)}const __=fu(0),ty=fu(1),$re=fu(2),Gre=fu(3),qc=fu(4),Kre=fu(5),Wre=fu(6);__.range;ty.range;$re.range;Gre.range;qc.range;Kre.range;Wre.range;function hu(t){return xn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/dS)}const b_=hu(0),ny=hu(1),Yre=hu(2),Qre=hu(3),Hc=hu(4),Xre=hu(5),Zre=hu(6);b_.range;ny.range;Yre.range;Qre.range;Hc.range;Xre.range;Zre.range;const yS=xn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());yS.range;const _S=xn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());_S.range;const ys=xn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ys.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ys.range;const _s=xn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());_s.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});_s.range;function q6(t,e,n,r,i,s){const l=[[jl,1,rs],[jl,5,5*rs],[jl,15,15*rs],[jl,30,30*rs],[s,1,ui],[s,5,5*ui],[s,15,15*ui],[s,30,30*ui],[i,1,is],[i,3,3*is],[i,6,6*is],[i,12,12*is],[r,1,vs],[r,2,2*vs],[n,1,dS],[e,1,tk],[e,3,3*tk],[t,1,Qw]];function c(h,m,p){const _=m<h;_&&([h,m]=[m,h]);const b=p&&typeof p.range=="function"?p:f(h,m,p),E=b?b.range(h,+m+1):[];return _?E.reverse():E}function f(h,m,p){const _=Math.abs(m-h)/p,b=eS(([,,A])=>A).right(l,_);if(b===l.length)return t.every(k1(h/Qw,m/Qw,p));if(b===0)return ey.every(Math.max(k1(h,m,p),1));const[E,x]=l[_/l[b-1][2]<l[b][2]/_?b-1:b];return E.every(x)}return[c,f]}const[Jre,eie]=q6(_s,_S,b_,F6,vS,pS),[tie,nie]=q6(ys,yS,__,fm,gS,mS);function Xw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Zw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ih(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function rie(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,c=t.months,f=t.shortMonths,h=Rh(i),m=Nh(i),p=Rh(s),_=Nh(s),b=Rh(l),E=Nh(l),x=Rh(c),A=Nh(c),O=Rh(f),z=Nh(f),D={a:ue,A:ie,b:pe,B:me,c:null,d:ok,e:ok,f:Aie,g:Lie,G:Vie,H:xie,I:Tie,j:Sie,L:H6,m:Cie,M:Iie,p:j,q:K,Q:ck,s:fk,S:Rie,u:Nie,U:Oie,V:Pie,w:kie,W:Mie,x:null,X:null,y:Die,Y:jie,Z:Uie,"%":uk},H={a:ee,A:he,b:_e,B:Te,c:null,d:lk,e:lk,f:qie,g:Jie,G:tae,H:zie,I:Bie,j:Fie,L:G6,m:Hie,M:$ie,p:Re,q:rt,Q:ck,s:fk,S:Gie,u:Kie,U:Wie,V:Yie,w:Qie,W:Xie,x:null,X:null,y:Zie,Y:eae,Z:nae,"%":uk},F={a:V,A:L,b:B,B:U,c:xe,d:ak,e:ak,f:_ie,g:ik,G:rk,H:sk,I:sk,j:pie,L:yie,m:mie,M:gie,p:k,q:die,Q:wie,s:Eie,S:vie,u:lie,U:uie,V:cie,w:oie,W:fie,x:Ie,X:Z,y:ik,Y:rk,Z:hie,"%":bie};D.x=$(n,D),D.X=$(r,D),D.c=$(e,D),H.x=$(n,H),H.X=$(r,H),H.c=$(e,H);function $(ae,Me){return function(Be){var de=[],qt=-1,$e=0,mn=ae.length,Ht,Ar,Os;for(Be instanceof Date||(Be=new Date(+Be));++qt<mn;)ae.charCodeAt(qt)===37&&(de.push(ae.slice($e,qt)),(Ar=nk[Ht=ae.charAt(++qt)])!=null?Ht=ae.charAt(++qt):Ar=Ht==="e"?" ":"0",(Os=Me[Ht])&&(Ht=Os(Be,Ar)),de.push(Ht),$e=qt+1);return de.push(ae.slice($e,qt)),de.join("")}}function P(ae,Me){return function(Be){var de=Ih(1900,void 0,1),qt=R(de,ae,Be+="",0),$e,mn;if(qt!=Be.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(Me&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?($e=Zw(Ih(de.y,0,1)),mn=$e.getUTCDay(),$e=mn>4||mn===0?ny.ceil($e):ny($e),$e=y_.offset($e,(de.V-1)*7),de.y=$e.getUTCFullYear(),de.m=$e.getUTCMonth(),de.d=$e.getUTCDate()+(de.w+6)%7):($e=Xw(Ih(de.y,0,1)),mn=$e.getDay(),$e=mn>4||mn===0?ty.ceil($e):ty($e),$e=fm.offset($e,(de.V-1)*7),de.y=$e.getFullYear(),de.m=$e.getMonth(),de.d=$e.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),mn="Z"in de?Zw(Ih(de.y,0,1)).getUTCDay():Xw(Ih(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(mn+5)%7:de.w+de.U*7-(mn+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,Zw(de)):Xw(de)}}function R(ae,Me,Be,de){for(var qt=0,$e=Me.length,mn=Be.length,Ht,Ar;qt<$e;){if(de>=mn)return-1;if(Ht=Me.charCodeAt(qt++),Ht===37){if(Ht=Me.charAt(qt++),Ar=F[Ht in nk?Me.charAt(qt++):Ht],!Ar||(de=Ar(ae,Be,de))<0)return-1}else if(Ht!=Be.charCodeAt(de++))return-1}return de}function k(ae,Me,Be){var de=h.exec(Me.slice(Be));return de?(ae.p=m.get(de[0].toLowerCase()),Be+de[0].length):-1}function V(ae,Me,Be){var de=b.exec(Me.slice(Be));return de?(ae.w=E.get(de[0].toLowerCase()),Be+de[0].length):-1}function L(ae,Me,Be){var de=p.exec(Me.slice(Be));return de?(ae.w=_.get(de[0].toLowerCase()),Be+de[0].length):-1}function B(ae,Me,Be){var de=O.exec(Me.slice(Be));return de?(ae.m=z.get(de[0].toLowerCase()),Be+de[0].length):-1}function U(ae,Me,Be){var de=x.exec(Me.slice(Be));return de?(ae.m=A.get(de[0].toLowerCase()),Be+de[0].length):-1}function xe(ae,Me,Be){return R(ae,e,Me,Be)}function Ie(ae,Me,Be){return R(ae,n,Me,Be)}function Z(ae,Me,Be){return R(ae,r,Me,Be)}function ue(ae){return l[ae.getDay()]}function ie(ae){return s[ae.getDay()]}function pe(ae){return f[ae.getMonth()]}function me(ae){return c[ae.getMonth()]}function j(ae){return i[+(ae.getHours()>=12)]}function K(ae){return 1+~~(ae.getMonth()/3)}function ee(ae){return l[ae.getUTCDay()]}function he(ae){return s[ae.getUTCDay()]}function _e(ae){return f[ae.getUTCMonth()]}function Te(ae){return c[ae.getUTCMonth()]}function Re(ae){return i[+(ae.getUTCHours()>=12)]}function rt(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Me=$(ae+="",D);return Me.toString=function(){return ae},Me},parse:function(ae){var Me=P(ae+="",!1);return Me.toString=function(){return ae},Me},utcFormat:function(ae){var Me=$(ae+="",H);return Me.toString=function(){return ae},Me},utcParse:function(ae){var Me=P(ae+="",!0);return Me.toString=function(){return ae},Me}}}var nk={"-":"",_:" ",0:"0"},Dn=/^\s*\d+/,iie=/^%/,aie=/[\\^$*+?|[\]().{}]/g;function ut(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function sie(t){return t.replace(aie,"\\$&")}function Rh(t){return new RegExp("^(?:"+t.map(sie).join("|")+")","i")}function Nh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function oie(t,e,n){var r=Dn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function lie(t,e,n){var r=Dn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function uie(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function cie(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function fie(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function rk(t,e,n){var r=Dn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ik(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function hie(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function die(t,e,n){var r=Dn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function mie(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ak(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function pie(t,e,n){var r=Dn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function sk(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function gie(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function vie(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function yie(t,e,n){var r=Dn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function _ie(t,e,n){var r=Dn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function bie(t,e,n){var r=iie.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function wie(t,e,n){var r=Dn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Eie(t,e,n){var r=Dn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function ok(t,e){return ut(t.getDate(),e,2)}function xie(t,e){return ut(t.getHours(),e,2)}function Tie(t,e){return ut(t.getHours()%12||12,e,2)}function Sie(t,e){return ut(1+fm.count(ys(t),t),e,3)}function H6(t,e){return ut(t.getMilliseconds(),e,3)}function Aie(t,e){return H6(t,e)+"000"}function Cie(t,e){return ut(t.getMonth()+1,e,2)}function Iie(t,e){return ut(t.getMinutes(),e,2)}function Rie(t,e){return ut(t.getSeconds(),e,2)}function Nie(t){var e=t.getDay();return e===0?7:e}function Oie(t,e){return ut(__.count(ys(t)-1,t),e,2)}function $6(t){var e=t.getDay();return e>=4||e===0?qc(t):qc.ceil(t)}function Pie(t,e){return t=$6(t),ut(qc.count(ys(t),t)+(ys(t).getDay()===4),e,2)}function kie(t){return t.getDay()}function Mie(t,e){return ut(ty.count(ys(t)-1,t),e,2)}function Die(t,e){return ut(t.getFullYear()%100,e,2)}function Lie(t,e){return t=$6(t),ut(t.getFullYear()%100,e,2)}function jie(t,e){return ut(t.getFullYear()%1e4,e,4)}function Vie(t,e){var n=t.getDay();return t=n>=4||n===0?qc(t):qc.ceil(t),ut(t.getFullYear()%1e4,e,4)}function Uie(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ut(e/60|0,"0",2)+ut(e%60,"0",2)}function lk(t,e){return ut(t.getUTCDate(),e,2)}function zie(t,e){return ut(t.getUTCHours(),e,2)}function Bie(t,e){return ut(t.getUTCHours()%12||12,e,2)}function Fie(t,e){return ut(1+y_.count(_s(t),t),e,3)}function G6(t,e){return ut(t.getUTCMilliseconds(),e,3)}function qie(t,e){return G6(t,e)+"000"}function Hie(t,e){return ut(t.getUTCMonth()+1,e,2)}function $ie(t,e){return ut(t.getUTCMinutes(),e,2)}function Gie(t,e){return ut(t.getUTCSeconds(),e,2)}function Kie(t){var e=t.getUTCDay();return e===0?7:e}function Wie(t,e){return ut(b_.count(_s(t)-1,t),e,2)}function K6(t){var e=t.getUTCDay();return e>=4||e===0?Hc(t):Hc.ceil(t)}function Yie(t,e){return t=K6(t),ut(Hc.count(_s(t),t)+(_s(t).getUTCDay()===4),e,2)}function Qie(t){return t.getUTCDay()}function Xie(t,e){return ut(ny.count(_s(t)-1,t),e,2)}function Zie(t,e){return ut(t.getUTCFullYear()%100,e,2)}function Jie(t,e){return t=K6(t),ut(t.getUTCFullYear()%100,e,2)}function eae(t,e){return ut(t.getUTCFullYear()%1e4,e,4)}function tae(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Hc(t):Hc.ceil(t),ut(t.getUTCFullYear()%1e4,e,4)}function nae(){return"+0000"}function uk(){return"%"}function ck(t){return+t}function fk(t){return Math.floor(+t/1e3)}var nc,W6,Y6;rae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function rae(t){return nc=rie(t),W6=nc.format,nc.parse,Y6=nc.utcFormat,nc.utcParse,nc}function iae(t){return new Date(t)}function aae(t){return t instanceof Date?+t:+new Date(+t)}function bS(t,e,n,r,i,s,l,c,f,h){var m=sS(),p=m.invert,_=m.domain,b=h(".%L"),E=h(":%S"),x=h("%I:%M"),A=h("%I %p"),O=h("%a %d"),z=h("%b %d"),D=h("%B"),H=h("%Y");function F($){return(f($)<$?b:c($)<$?E:l($)<$?x:s($)<$?A:r($)<$?i($)<$?O:z:n($)<$?D:H)($)}return m.invert=function($){return new Date(p($))},m.domain=function($){return arguments.length?_(Array.from($,aae)):_().map(iae)},m.ticks=function($){var P=_();return t(P[0],P[P.length-1],$??10)},m.tickFormat=function($,P){return P==null?F:h(P)},m.nice=function($){var P=_();return(!$||typeof $.range!="function")&&($=e(P[0],P[P.length-1],$??10)),$?_(D6(P,$)):m},m.copy=function(){return cm(m,bS(t,e,n,r,i,s,l,c,f,h))},m}function sae(){return pi.apply(bS(tie,nie,ys,yS,__,fm,gS,mS,jl,W6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function oae(){return pi.apply(bS(Jre,eie,_s,_S,b_,y_,vS,pS,jl,Y6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function w_(){var t=0,e=1,n,r,i,s,l=cr,c=!1,f;function h(p){return p==null||isNaN(p=+p)?f:l(i===0?.5:(p=(s(p)-n)*i,c?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([t,e]=p,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(p){return arguments.length?(c=!!p,h):c},h.interpolator=function(p){return arguments.length?(l=p,h):l};function m(p){return function(_){var b,E;return arguments.length?([b,E]=_,l=p(b,E),h):[l(0),l(1)]}}return h.range=m(ff),h.rangeRound=m(aS),h.unknown=function(p){return arguments.length?(f=p,h):f},function(p){return s=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),h}}function Yo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Q6(){var t=Wo(w_()(cr));return t.copy=function(){return Yo(t,Q6())},Is.apply(t,arguments)}function X6(){var t=uS(w_()).domain([1,10]);return t.copy=function(){return Yo(t,X6()).base(t.base())},Is.apply(t,arguments)}function Z6(){var t=cS(w_());return t.copy=function(){return Yo(t,Z6()).constant(t.constant())},Is.apply(t,arguments)}function wS(){var t=fS(w_());return t.copy=function(){return Yo(t,wS()).exponent(t.exponent())},Is.apply(t,arguments)}function lae(){return wS.apply(null,arguments).exponent(.5)}function J6(){var t=[],e=cr;function n(r){if(r!=null&&!isNaN(r=+r))return e((lm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(No),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Kne(t,s/r))},n.copy=function(){return J6(e).domain(t)},Is.apply(n,arguments)}function E_(){var t=0,e=.5,n=1,r=1,i,s,l,c,f,h=cr,m,p=!1,_;function b(x){return isNaN(x=+x)?_:(x=.5+((x=+m(x))-s)*(r*x<r*s?c:f),h(p?Math.max(0,Math.min(1,x)):x))}b.domain=function(x){return arguments.length?([t,e,n]=x,i=m(t=+t),s=m(e=+e),l=m(n=+n),c=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,b):[t,e,n]},b.clamp=function(x){return arguments.length?(p=!!x,b):p},b.interpolator=function(x){return arguments.length?(h=x,b):h};function E(x){return function(A){var O,z,D;return arguments.length?([O,z,D]=A,h=bre(x,[O,z,D]),b):[h(0),h(.5),h(1)]}}return b.range=E(ff),b.rangeRound=E(aS),b.unknown=function(x){return arguments.length?(_=x,b):_},function(x){return m=x,i=x(t),s=x(e),l=x(n),c=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,b}}function eV(){var t=Wo(E_()(cr));return t.copy=function(){return Yo(t,eV())},Is.apply(t,arguments)}function tV(){var t=uS(E_()).domain([.1,1,10]);return t.copy=function(){return Yo(t,tV()).base(t.base())},Is.apply(t,arguments)}function nV(){var t=cS(E_());return t.copy=function(){return Yo(t,nV()).constant(t.constant())},Is.apply(t,arguments)}function ES(){var t=fS(E_());return t.copy=function(){return Yo(t,ES()).exponent(t.exponent())},Is.apply(t,arguments)}function uae(){return ES.apply(null,arguments).exponent(.5)}const Uh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:nS,scaleDiverging:eV,scaleDivergingLog:tV,scaleDivergingPow:ES,scaleDivergingSqrt:uae,scaleDivergingSymlog:nV,scaleIdentity:M6,scaleImplicit:M1,scaleLinear:k6,scaleLog:L6,scaleOrdinal:tS,scalePoint:Qne,scalePow:hS,scaleQuantile:U6,scaleQuantize:z6,scaleRadial:V6,scaleSequential:Q6,scaleSequentialLog:X6,scaleSequentialPow:wS,scaleSequentialQuantile:J6,scaleSequentialSqrt:lae,scaleSequentialSymlog:Z6,scaleSqrt:qre,scaleSymlog:j6,scaleThreshold:B6,scaleTime:sae,scaleUtc:oae,tickFormat:P6},Symbol.toStringTag,{value:"Module"}));var Qo=t=>t.chartData,cae=re([Qo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),xS=(t,e,n,r)=>r?cae(t):Qo(t);function Ho(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Zt(e)&&Zt(n))return!0}return!1}function hk(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function rV(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(Zt(n))i=n;else if(typeof n=="function")return;if(Zt(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(Ho(l))return l}}function fae(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Ho(r))return hk(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,l,c;if(i==="auto")e!=null&&(l=Math.min(...e));else if(tt(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&$2.test(i)){var f=$2.exec(i);if(f==null||e==null)l=void 0;else{var h=+f[1];l=e[0]-h}}else l=e==null?void 0:e[0];if(s==="auto")e!=null&&(c=Math.max(...e));else if(tt(s))c=s;else if(typeof s=="function")try{e!=null&&(c=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&G2.test(s)){var m=G2.exec(s);if(m==null||e==null)c=void 0;else{var p=+m[1];c=e[1]+p}}else c=e==null?void 0:e[1];var _=[l,c];if(Ho(_))return e==null?_:hk(_,e,n)}}}var hf=1e9,hae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},SS,jt=!0,hi="[DecimalError] ",Fl=hi+"Invalid argument: ",TS=hi+"Exponent out of range: ",df=Math.floor,Pl=Math.pow,dae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Vr,Pn=1e7,kt=7,iV=9007199254740991,ry=df(iV/kt),we={};we.absoluteValue=we.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};we.comparedTo=we.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};we.decimalPlaces=we.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*kt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};we.dividedBy=we.div=function(t){return os(this,new this.constructor(t))};we.dividedToIntegerBy=we.idiv=function(t){var e=this,n=e.constructor;return St(os(e,new n(t),0,1),n.precision)};we.equals=we.eq=function(t){return!this.cmp(t)};we.exponent=function(){return dn(this)};we.greaterThan=we.gt=function(t){return this.cmp(t)>0};we.greaterThanOrEqualTo=we.gte=function(t){return this.cmp(t)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(t){return this.cmp(t)<0};we.lessThanOrEqualTo=we.lte=function(t){return this.cmp(t)<1};we.logarithm=we.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Vr))throw Error(hi+"NaN");if(n.s<1)throw Error(hi+(n.s?"NaN":"-Infinity"));return n.eq(Vr)?new r(0):(jt=!1,e=os(Od(n,s),Od(t,s),s),jt=!0,St(e,i))};we.minus=we.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?oV(e,t):aV(e,(t.s=-t.s,t))};we.modulo=we.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(hi+"NaN");return n.s?(jt=!1,e=os(n,t,0,1).times(t),jt=!0,n.minus(e)):St(new r(n),i)};we.naturalExponential=we.exp=function(){return sV(this)};we.naturalLogarithm=we.ln=function(){return Od(this)};we.negated=we.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};we.plus=we.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?aV(e,t):oV(e,(t.s=-t.s,t))};we.precision=we.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Fl+t);if(e=dn(i)+1,r=i.d.length-1,n=r*kt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};we.squareRoot=we.sqrt=function(){var t,e,n,r,i,s,l,c=this,f=c.constructor;if(c.s<1){if(!c.s)return new f(0);throw Error(hi+"NaN")}for(t=dn(c),jt=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=ma(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=df((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(s=r,r=s.plus(os(c,s,l+2)).times(.5),ma(s.d).slice(0,l)===(e=ma(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(St(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if(e!="9999")break;l+=4}return jt=!0,St(r,n)};we.times=we.mul=function(t){var e,n,r,i,s,l,c,f,h,m=this,p=m.constructor,_=m.d,b=(t=new p(t)).d;if(!m.s||!t.s)return new p(0);for(t.s*=m.s,n=m.e+t.e,f=_.length,h=b.length,f<h&&(s=_,_=b,b=s,l=f,f=h,h=l),s=[],l=f+h,r=l;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,i=f+r;i>r;)c=s[i]+b[r]*_[i-r-1]+e,s[i--]=c%Pn|0,e=c/Pn|0;s[i]=(s[i]+e)%Pn|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,jt?St(t,p.precision):t};we.toDecimalPlaces=we.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Aa(t,0,hf),e===void 0?e=r.rounding:Aa(e,0,8),St(n,t+dn(n)+1,e))};we.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Jl(r,!0):(Aa(t,0,hf),e===void 0?e=i.rounding:Aa(e,0,8),r=St(new i(r),t+1,e),n=Jl(r,!0,t+1)),n};we.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Jl(i):(Aa(t,0,hf),e===void 0?e=s.rounding:Aa(e,0,8),r=St(new s(i),t+dn(i)+1,e),n=Jl(r.abs(),!1,t+dn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};we.toInteger=we.toint=function(){var t=this,e=t.constructor;return St(new e(t),dn(t)+1,e.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(t){var e,n,r,i,s,l,c=this,f=c.constructor,h=12,m=+(t=new f(t));if(!t.s)return new f(Vr);if(c=new f(c),!c.s){if(t.s<1)throw Error(hi+"Infinity");return c}if(c.eq(Vr))return c;if(r=f.precision,t.eq(Vr))return St(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=c.s,l){if((n=m<0?-m:m)<=iV){for(i=new f(Vr),e=Math.ceil(r/kt+4),jt=!1;n%2&&(i=i.times(c),mk(i.d,e)),n=df(n/2),n!==0;)c=c.times(c),mk(c.d,e);return jt=!0,t.s<0?new f(Vr).div(i):St(i,r)}}else if(s<0)throw Error(hi+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,jt=!1,i=t.times(Od(c,r+h)),jt=!0,i=sV(i),i.s=s,i};we.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=dn(i),r=Jl(i,n<=s.toExpNeg||n>=s.toExpPos)):(Aa(t,1,hf),e===void 0?e=s.rounding:Aa(e,0,8),i=St(new s(i),t,e),n=dn(i),r=Jl(i,t<=n||n<=s.toExpNeg,t)),r};we.toSignificantDigits=we.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Aa(t,1,hf),e===void 0?e=r.rounding:Aa(e,0,8)),St(new r(n),t,e)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=dn(t),n=t.constructor;return Jl(t,e<=n.toExpNeg||e>=n.toExpPos)};function aV(t,e){var n,r,i,s,l,c,f,h,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),jt?St(e,p):e;if(f=t.d,h=e.d,l=t.e,i=e.e,f=f.slice(),s=l-i,s){for(s<0?(r=f,s=-s,c=h.length):(r=h,i=l,c=f.length),l=Math.ceil(p/kt),c=l>c?l+1:c+1,s>c&&(s=c,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(c=f.length,s=h.length,c-s<0&&(s=c,r=h,h=f,f=r),n=0;s;)n=(f[--s]=f[s]+h[s]+n)/Pn|0,f[s]%=Pn;for(n&&(f.unshift(n),++i),c=f.length;f[--c]==0;)f.pop();return e.d=f,e.e=i,jt?St(e,p):e}function Aa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Fl+t)}function ma(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=kt-r.length,n&&(s+=mo(n)),s+=r;l=t[e],r=l+"",n=kt-r.length,n&&(s+=mo(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var os=(function(){function t(r,i){var s,l=0,c=r.length;for(r=r.slice();c--;)s=r[c]*i+l,r[c]=s%Pn|0,l=s/Pn|0;return l&&r.unshift(l),r}function e(r,i,s,l){var c,f;if(s!=l)f=s>l?1:-1;else for(c=f=0;c<s;c++)if(r[c]!=i[c]){f=r[c]>i[c]?1:-1;break}return f}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*Pn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var c,f,h,m,p,_,b,E,x,A,O,z,D,H,F,$,P,R,k=r.constructor,V=r.s==i.s?1:-1,L=r.d,B=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(hi+"Division by zero");for(f=r.e-i.e,P=B.length,F=L.length,b=new k(V),E=b.d=[],h=0;B[h]==(L[h]||0);)++h;if(B[h]>(L[h]||0)&&--f,s==null?z=s=k.precision:l?z=s+(dn(r)-dn(i))+1:z=s,z<0)return new k(0);if(z=z/kt+2|0,h=0,P==1)for(m=0,B=B[0],z++;(h<F||m)&&z--;h++)D=m*Pn+(L[h]||0),E[h]=D/B|0,m=D%B|0;else{for(m=Pn/(B[0]+1)|0,m>1&&(B=t(B,m),L=t(L,m),P=B.length,F=L.length),H=P,x=L.slice(0,P),A=x.length;A<P;)x[A++]=0;R=B.slice(),R.unshift(0),$=B[0],B[1]>=Pn/2&&++$;do m=0,c=e(B,x,P,A),c<0?(O=x[0],P!=A&&(O=O*Pn+(x[1]||0)),m=O/$|0,m>1?(m>=Pn&&(m=Pn-1),p=t(B,m),_=p.length,A=x.length,c=e(p,x,_,A),c==1&&(m--,n(p,P<_?R:B,_))):(m==0&&(c=m=1),p=B.slice()),_=p.length,_<A&&p.unshift(0),n(x,p,A),c==-1&&(A=x.length,c=e(B,x,P,A),c<1&&(m++,n(x,P<A?R:B,A))),A=x.length):c===0&&(m++,x=[0]),E[h++]=m,c&&x[0]?x[A++]=L[H]||0:(x=[L[H]],A=1);while((H++<F||x[0]!==void 0)&&z--)}return E[0]||E.shift(),b.e=f,St(b,l?s+dn(b)+1:s)}})();function sV(t,e){var n,r,i,s,l,c,f=0,h=0,m=t.constructor,p=m.precision;if(dn(t)>16)throw Error(TS+dn(t));if(!t.s)return new m(Vr);for(jt=!1,c=p,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(Pl(2,h))/Math.LN10*2+5|0,c+=r,n=i=s=new m(Vr),m.precision=c;;){if(i=St(i.times(t),c),n=n.times(++f),l=s.plus(os(i,n,c)),ma(l.d).slice(0,c)===ma(s.d).slice(0,c)){for(;h--;)s=St(s.times(s),c);return m.precision=p,e==null?(jt=!0,St(s,p)):s}s=l}}function dn(t){for(var e=t.e*kt,n=t.d[0];n>=10;n/=10)e++;return e}function Jw(t,e,n){if(e>t.LN10.sd())throw jt=!0,n&&(t.precision=n),Error(hi+"LN10 precision limit exceeded");return St(new t(t.LN10),e)}function mo(t){for(var e="";t--;)e+="0";return e}function Od(t,e){var n,r,i,s,l,c,f,h,m,p=1,_=10,b=t,E=b.d,x=b.constructor,A=x.precision;if(b.s<1)throw Error(hi+(b.s?"NaN":"-Infinity"));if(b.eq(Vr))return new x(0);if(e==null?(jt=!1,h=A):h=e,b.eq(10))return e==null&&(jt=!0),Jw(x,h);if(h+=_,x.precision=h,n=ma(E),r=n.charAt(0),s=dn(b),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=ma(b.d),r=n.charAt(0),p++;s=dn(b),r>1?(b=new x("0."+n),s++):b=new x(r+"."+n.slice(1))}else return f=Jw(x,h+2,A).times(s+""),b=Od(new x(r+"."+n.slice(1)),h-_).plus(f),x.precision=A,e==null?(jt=!0,St(b,A)):b;for(c=l=b=os(b.minus(Vr),b.plus(Vr),h),m=St(b.times(b),h),i=3;;){if(l=St(l.times(m),h),f=c.plus(os(l,new x(i),h)),ma(f.d).slice(0,h)===ma(c.d).slice(0,h))return c=c.times(2),s!==0&&(c=c.plus(Jw(x,h+2,A).times(s+""))),c=os(c,new x(p),h),x.precision=A,e==null?(jt=!0,St(c,A)):c;c=f,i+=2}}function dk(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=df(n/kt),t.d=[],r=(n+1)%kt,n<0&&(r+=kt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=kt;r<i;)t.d.push(+e.slice(r,r+=kt));e=e.slice(r),r=kt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),jt&&(t.e>ry||t.e<-ry))throw Error(TS+n)}else t.s=0,t.e=0,t.d=[0];return t}function St(t,e,n){var r,i,s,l,c,f,h,m,p=t.d;for(l=1,s=p[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=kt,i=e,h=p[m=0];else{if(m=Math.ceil((r+1)/kt),s=p.length,m>=s)return t;for(h=s=p[m],l=1;s>=10;s/=10)l++;r%=kt,i=r-kt+l}if(n!==void 0&&(s=Pl(10,l-i-1),c=h/s%10|0,f=e<0||p[m+1]!==void 0||h%s,f=n<4?(c||f)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||f||n==6&&(r>0?i>0?h/Pl(10,l-i):0:p[m-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return f?(s=dn(t),p.length=1,e=e-s-1,p[0]=Pl(10,(kt-e%kt)%kt),t.e=df(-e/kt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=m,s=1,m--):(p.length=m+1,s=Pl(10,kt-r),p[m]=i>0?(h/Pl(10,l-i)%Pl(10,i)|0)*s:0),f)for(;;)if(m==0){(p[0]+=s)==Pn&&(p[0]=1,++t.e);break}else{if(p[m]+=s,p[m]!=Pn)break;p[m--]=0,s=1}for(r=p.length;p[--r]===0;)p.pop();if(jt&&(t.e>ry||t.e<-ry))throw Error(TS+dn(t));return t}function oV(t,e){var n,r,i,s,l,c,f,h,m,p,_=t.constructor,b=_.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new _(t),jt?St(e,b):e;if(f=t.d,p=e.d,r=e.e,h=t.e,f=f.slice(),l=h-r,l){for(m=l<0,m?(n=f,l=-l,c=p.length):(n=p,r=h,c=f.length),i=Math.max(Math.ceil(b/kt),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,c=p.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(f[i]!=p[i]){m=f[i]<p[i];break}l=0}for(m&&(n=f,f=p,p=n,e.s=-e.s),c=f.length,i=p.length-c;i>0;--i)f[c++]=0;for(i=p.length;i>l;){if(f[--i]<p[i]){for(s=i;s&&f[--s]===0;)f[s]=Pn-1;--f[s],f[i]+=Pn}f[i]-=p[i]}for(;f[--c]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,jt?St(e,b):e):new _(0)}function Jl(t,e,n){var r,i=dn(t),s=ma(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+mo(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+mo(-i-1)+s,n&&(r=n-l)>0&&(s+=mo(r))):i>=l?(s+=mo(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+mo(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=mo(r))),t.s<0?"-"+s:s}function mk(t,e){if(t.length>e)return t.length=e,!0}function lV(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Fl+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return dk(l,s.toString())}else if(typeof s!="string")throw Error(Fl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,dae.test(s))dk(l,s);else throw Error(Fl+s)}if(i.prototype=we,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=lV,i.config=i.set=mae,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function mae(t){if(!t||typeof t!="object")throw Error(hi+"Object expected");var e,n,r,i=["precision",1,hf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(df(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Fl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Fl+n+": "+r);return this}var SS=lV(hae);Vr=new SS(1);const gt=SS;var pae=t=>t,uV={},cV=t=>t===uV,pk=t=>function e(){return arguments.length===0||arguments.length===1&&cV(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},fV=(t,e)=>t===1?e:pk(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==uV).length;return s>=t?e(...r):fV(t-s,pk(function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var h=r.map(m=>cV(m)?c.shift():m);return e(...h,...c)}))}),gae=t=>fV(t.length,t),V1=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},vae=gae((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),yae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return pae;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((c,f)=>f(c),s(...arguments))}},U1=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function hV(t){var e;return t===0?e=1:e=Math.floor(new gt(t).abs().log(10).toNumber())+1,e}function dV(t,e,n){for(var r=new gt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var mV=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},pV=(t,e,n)=>{if(t.lte(0))return new gt(0);var r=hV(t.toNumber()),i=new gt(10).pow(r),s=t.div(i),l=r!==1?.05:.1,c=new gt(Math.ceil(s.div(l).toNumber())).add(n).mul(l),f=c.mul(i);return e?new gt(f.toNumber()):new gt(Math.ceil(f.toNumber()))},_ae=(t,e,n)=>{var r=new gt(1),i=new gt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new gt(10).pow(hV(t)-1),i=new gt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new gt(Math.floor(t)))}else t===0?i=new gt(Math.floor((e-1)/2)):n||(i=new gt(Math.floor(t)));var l=Math.floor((e-1)/2),c=yae(vae(f=>i.add(new gt(f-l).mul(r)).toNumber()),V1);return c(0,e)},gV=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new gt(0),tickMin:new gt(0),tickMax:new gt(0)};var l=pV(new gt(n).sub(e).div(r-1),i,s),c;e<=0&&n>=0?c=new gt(0):(c=new gt(e).add(n).div(2),c=c.sub(new gt(c).mod(l)));var f=Math.ceil(c.sub(e).div(l).toNumber()),h=Math.ceil(new gt(n).sub(c).div(l).toNumber()),m=f+h+1;return m>r?gV(e,n,r,i,s+1):(m<r&&(h=n>0?h+(r-m):h,f=n>0?f:f+(r-m)),{step:l,tickMin:c.sub(new gt(f).mul(l)),tickMax:c.add(new gt(h).mul(l))})},bae=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[c,f]=mV([n,r]);if(c===-1/0||f===1/0){var h=f===1/0?[c,...V1(0,i-1).map(()=>1/0)]:[...V1(0,i-1).map(()=>-1/0),f];return n>r?U1(h):h}if(c===f)return _ae(c,i,s);var{step:m,tickMin:p,tickMax:_}=gV(c,f,l,s,0),b=dV(p,_.add(new gt(.1).mul(m)),m);return n>r?U1(b):b},wae=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=mV([r,i]);if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var f=Math.max(n,2),h=pV(new gt(c).sub(l).div(f-1),s,0),m=[...dV(new gt(l),new gt(c),h),c];return s===!1&&(m=m.map(p=>Math.round(p))),r>i?U1(m):m},vV=t=>t.rootProps.maxBarSize,Eae=t=>t.rootProps.barGap,yV=t=>t.rootProps.barCategoryGap,xae=t=>t.rootProps.barSize,x_=t=>t.rootProps.stackOffset,_V=t=>t.rootProps.reverseStackOrder,bV=t=>t.options.chartName,wV=t=>t.rootProps.syncId,Tae=t=>t.rootProps.syncMethod,EV=t=>t.options.eventEmitter,Oa={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Za={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},jr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},T_=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Sae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Za.angleAxisId,includeHidden:!1,name:void 0,reversed:Za.reversed,scale:Za.scale,tick:Za.tick,tickCount:void 0,ticks:void 0,type:Za.type,unit:void 0},Aae={allowDataOverflow:jr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:jr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:jr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:jr.scale,tick:jr.tick,tickCount:jr.tickCount,ticks:void 0,type:jr.type,unit:void 0},Cae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Za.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Za.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Za.scale,tick:Za.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Iae={allowDataOverflow:jr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:jr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:jr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:jr.scale,tick:jr.tick,tickCount:jr.tickCount,ticks:void 0,type:"category",unit:void 0},AS=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Cae:Sae,CS=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Iae:Aae,S_=t=>t.polarOptions,IS=re([As,Cs,Yn],wne),xV=re([S_,IS],(t,e)=>{if(t!=null)return Fi(t.innerRadius,e,0)}),TV=re([S_,IS],(t,e)=>{if(t!=null)return Fi(t.outerRadius,e,e*.8)}),Rae=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},SV=re([S_],Rae);re([AS,SV],T_);var AV=re([IS,xV,TV],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});re([CS,AV],T_);var CV=re([yt,S_,xV,TV,As,Cs],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:c,startAngle:f,endAngle:h}=e;return{cx:Fi(l,i,i/2),cy:Fi(c,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),Tn=(t,e)=>e,A_=(t,e,n)=>n;function RS(t){return t==null?void 0:t.id}function IV(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return t.forEach(c=>{var f,h=(f=c.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var m=RS(c);h.forEach((p,_)=>{var b=s==null||i?_:String(nr(p,s,null)),E=nr(p,c.dataKey,0),x;l.has(b)?x=l.get(b):x={},Object.assign(x,{[m]:E}),l.set(b,x)})}}),Array.from(l.values())}function C_(t){return t.stackId!=null&&t.dataKey!=null}var I_=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function R_(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Nae(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Sn=t=>{var e=yt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},mf=t=>t.tooltip.settings.axisId;function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){Oae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oae(t,e,n){return(e=Pae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pae(t){var e=kae(t,"string");return typeof e=="symbol"?e:e+""}function kae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z1=[0,"auto"],Rn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},RV=(t,e)=>t.cartesianAxis.xAxis[e],Rs=(t,e)=>{var n=RV(t,e);return n??Rn},NV={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:z1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:am},Mae=(t,e)=>t.cartesianAxis.yAxis[e],Ns=(t,e)=>{var n=Mae(t,e);return n??NV},Dae={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},NS=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Dae},hr=(t,e,n)=>{switch(e){case"xAxis":return Rs(t,n);case"yAxis":return Ns(t,n);case"zAxis":return NS(t,n);case"angleAxis":return AS(t,n);case"radiusAxis":return CS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Lae=(t,e,n)=>{switch(e){case"xAxis":return Rs(t,n);case"yAxis":return Ns(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},hm=(t,e,n)=>{switch(e){case"xAxis":return Rs(t,n);case"yAxis":return Ns(t,n);case"angleAxis":return AS(t,n);case"radiusAxis":return CS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},OV=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function PV(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var OS=t=>t.graphicalItems.cartesianItems,jae=re([Tn,A_],PV),kV=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),dm=re([OS,hr,jae],kV,{memoizeOptions:{resultEqualityCheck:R_}}),MV=re([dm],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(C_)),DV=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Vae=re([dm],DV),LV=t=>t.map(e=>e.data).filter(Boolean).flat(1),Uae=re([dm],LV,{memoizeOptions:{resultEqualityCheck:R_}}),jV=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},PS=re([Uae,xS],jV),VV=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:nr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:nr(i,r)}))):t.map(r=>({value:r})),N_=re([PS,hr,dm],VV);function UV(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function zg(t){if(Vc(t)||t instanceof Date){var e=Number(t);if(Zt(e))return e}}function vk(t){if(Array.isArray(t)){var e=[zg(t[0]),zg(t[1])];return Ho(e)?e:void 0}var n=zg(t);if(n!=null)return[n,n]}function bs(t){return t.map(zg).filter(CZ)}function zae(t,e,n){return!n||typeof e!="number"||Sa(e)?[]:n.length?bs(n.flatMap(r=>{var i=nr(t,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!Zt(s)||!Zt(l)))return[e-s,e+l]})):[]}var Ln=t=>{var e=Sn(t),n=mf(t);return hm(t,e,n)},mm=re([Ln],t=>t==null?void 0:t.dataKey),Bae=re([MV,xS,Ln],IV),zV=(t,e,n,r)=>{var i={},s=e.reduce((l,c)=>(c.stackId==null||(l[c.stackId]==null&&(l[c.stackId]=[]),l[c.stackId].push(c)),l),i);return Object.fromEntries(Object.entries(s).map(l=>{var[c,f]=l,h=r?[...f].reverse():f,m=h.map(RS);return[c,{stackedData:Nee(t,m,n),graphicalItems:h}]}))},B1=re([Bae,MV,x_,_V],zV),BV=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=Dee(t,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Fae=re([hr],t=>t.allowDataOverflow),kS=t=>{var e;if(t==null||!("domain"in t))return z1;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=bs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:z1},FV=re([hr],kS),qV=re([FV,Fae],rV),qae=re([B1,Qo,Tn,qV],BV,{memoizeOptions:{resultEqualityCheck:I_}}),MS=t=>t.errorBars,Hae=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>UV(n,r)),ay=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),c=Math.max(...s);return[l,c]}},HV=(t,e,n,r,i)=>{var s,l;if(n.length>0&&t.forEach(c=>{n.forEach(f=>{var h,m,p=(h=r[f.id])===null||h===void 0?void 0:h.filter(O=>UV(i,O)),_=nr(c,(m=e.dataKey)!==null&&m!==void 0?m:f.dataKey),b=zae(c,_,p);if(b.length>=2){var E=Math.min(...b),x=Math.max(...b);(s==null||E<s)&&(s=E),(l==null||x>l)&&(l=x)}var A=vk(_);A!=null&&(s=s==null?A[0]:Math.min(s,A[0]),l=l==null?A[1]:Math.max(l,A[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(c=>{var f=vk(nr(c,e.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),Zt(s)&&Zt(l))return[s,l]},$ae=re([PS,hr,Vae,MS,Tn],HV,{memoizeOptions:{resultEqualityCheck:I_}});function Gae(t){var{value:e}=t;if(Vc(e)||e instanceof Date)return e}var Kae=(t,e,n)=>{var r=t.map(Gae).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&v3(r))?E6(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},$V=t=>t.referenceElements.dots,pf=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Wae=re([$V,Tn,A_],pf),GV=t=>t.referenceElements.areas,Yae=re([GV,Tn,A_],pf),KV=t=>t.referenceElements.lines,Qae=re([KV,Tn,A_],pf),WV=(t,e)=>{var n=bs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Xae=re(Wae,Tn,WV),YV=(t,e)=>{var n=bs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Zae=re([Yae,Tn],YV);function Jae(t){var e;if(t.x!=null)return bs([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:bs(n)}function ese(t){var e;if(t.y!=null)return bs([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:bs(n)}var QV=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?Jae(r):ese(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},tse=re([Qae,Tn],QV),nse=re(Xae,tse,Zae,(t,e,n)=>ay(t,n,e)),XV=(t,e,n,r,i,s,l,c)=>{if(n!=null)return n;var f=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",h=f?ay(r,s,i):ay(s,i);return fae(e,h,t.allowDataOverflow)},rse=re([hr,FV,qV,qae,$ae,nse,yt,Tn],XV,{memoizeOptions:{resultEqualityCheck:I_}}),ise=[0,1],ZV=(t,e,n,r,i,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:f}=t,h=cu(e,s);if(h&&c==null){var m;return E6(0,(m=n==null?void 0:n.length)!==null&&m!==void 0?m:0)}return f==="category"?Kae(r,t,h):i==="expand"?ise:l}},DS=re([hr,yt,PS,N_,x_,Tn,rse],ZV),JV=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var c="scale".concat(em(s));return c in Uh?c:"point"}}},pm=re([hr,yt,OV,bV,Tn],JV);function ase(t){if(t!=null){if(t in Uh)return Uh[t]();var e="scale".concat(em(t));if(e in Uh)return Uh[e]()}}function LS(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=ase(e);if(i!=null){var s=i.domain(n).range(r);return See(s),s}}}var e5=(t,e,n)=>{var r=kS(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ho(t))return bae(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Ho(t))return wae(t,e.tickCount,e.allowDecimals)}},jS=re([DS,hm,pm],e5),t5=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Ho(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],l=e[1],c=n[n.length-1];return[Math.min(i,s),Math.max(l,c)]}return e},sse=re([hr,DS,jS,Tn],t5),ose=re(N_,hr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(bs(t.map(c=>c.value))).sort((c,f)=>c-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s+1]-r[s];n=Math.min(n,l)}return n/i}}),n5=re(ose,yt,yV,Yn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Zt(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var l=Fi(n,t*s),c=t*s/2;return c-l-(c-l)/s*l}return 0}),lse=(t,e)=>{var n=Rs(t,e);return n==null||typeof n.padding!="string"?0:n5(t,"xAxis",e,n.padding)},use=(t,e)=>{var n=Ns(t,e);return n==null||typeof n.padding!="string"?0:n5(t,"yAxis",e,n.padding)},cse=re(Rs,lse,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),fse=re(Ns,use,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),hse=re([Yn,cse,h_,f_,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),dse=re([Yn,yt,fse,h_,f_,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),gm=(t,e,n,r)=>{var i;switch(e){case"xAxis":return hse(t,n,r);case"yAxis":return dse(t,n,r);case"zAxis":return(i=NS(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return SV(t);case"radiusAxis":return AV(t,n);default:return}},r5=re([hr,gm],T_),vm=re([hr,pm,sse,r5],LS);re([dm,MS,Tn],Hae);function i5(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var O_=(t,e)=>e,P_=(t,e,n)=>n,mse=re(u_,O_,P_,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(i5)),pse=re(c_,O_,P_,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(i5)),a5=(t,e)=>({width:t.width,height:e.height}),gse=(t,e)=>{var n=typeof e.width=="number"?e.width:am;return{width:n,height:t.height}},s5=re(Yn,Rs,a5),vse=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},yse=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},_se=re(Cs,Yn,mse,O_,P_,(t,e,n,r,i)=>{var s={},l;return n.forEach(c=>{var f=a5(e,c);l==null&&(l=vse(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;s[c.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),s}),bse=re(As,Yn,pse,O_,P_,(t,e,n,r,i)=>{var s={},l;return n.forEach(c=>{var f=gse(e,c);l==null&&(l=yse(e,r,t));var h=r==="left"&&!i||r==="right"&&i;s[c.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),s}),wse=(t,e)=>{var n=Rs(t,e);if(n!=null)return _se(t,n.orientation,n.mirror)},Ese=re([Yn,Rs,wse,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),xse=(t,e)=>{var n=Ns(t,e);if(n!=null)return bse(t,n.orientation,n.mirror)};re([Yn,Ns,xse,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}});var Tse=re(Yn,Ns,(t,e)=>{var n=typeof e.width=="number"?e.width:am;return{width:n,height:t.height}}),yk=(t,e,n)=>{switch(e){case"xAxis":return s5(t,n).width;case"yAxis":return Tse(t,n).height;default:return}},o5=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,c=cu(t,r),f=e.map(h=>h.value);if(l&&c&&s==="category"&&i&&v3(f))return f}},VS=re([yt,N_,hr,Tn],o5),l5=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=cu(t,r);if(l&&(i==="number"||s!=="auto"))return e.map(c=>c.value)}},US=re([yt,N_,hm,Tn],l5);re([yt,Lae,pm,vm,VS,US,gm,jS,Tn],(t,e,n,r,i,s,l,c,f)=>{if(e!=null){var h=cu(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:c,range:l,realScaleType:n,scale:r}}});var Sse=(t,e,n,r,i,s,l,c,f)=>{if(!(e==null||r==null)){var h=cu(t,f),{type:m,ticks:p,tickCount:_}=e,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=m==="category"&&r.bandwidth?r.bandwidth()/b:0;E=f==="angleAxis"&&s!=null&&s.length>=2?Ur(s[0]-s[1])*2*E:E;var x=p||i;if(x){var A=x.map((O,z)=>{var D=l?l.indexOf(O):O;return{index:z,coordinate:r(D)+E,value:O,offset:E}});return A.filter(O=>Zt(O.coordinate))}return h&&c?c.map((O,z)=>({coordinate:r(O)+E,value:O,index:z,offset:E})).filter(O=>Zt(O.coordinate)):r.ticks?r.ticks(_).map(O=>({coordinate:r(O)+E,value:O,offset:E})):r.domain().map((O,z)=>({coordinate:r(O)+E,value:l?l[O]:O,index:z,offset:E}))}},Ase=re([yt,hm,pm,vm,jS,gm,VS,US,Tn],Sse),Cse=(t,e,n,r,i,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=cu(t,l),{tickCount:f}=e,h=0;return h=l==="angleAxis"&&(r==null?void 0:r.length)>=2?Ur(r[0]-r[1])*2*h:h,c&&s?s.map((m,p)=>({coordinate:n(m)+h,value:m,index:p,offset:h})):n.ticks?n.ticks(f).map(m=>({coordinate:n(m)+h,value:m,offset:h})):n.domain().map((m,p)=>({coordinate:n(m)+h,value:i?i[m]:m,index:p,offset:h}))}},$c=re([yt,hm,vm,gm,VS,US,Tn],Cse),Gc=re(hr,vm,(t,e)=>{if(!(t==null||e==null))return iy(iy({},t),{},{scale:e})}),Ise=re([hr,pm,DS,r5],LS);re((t,e,n)=>NS(t,n),Ise,(t,e)=>{if(!(t==null||e==null))return iy(iy({},t),{},{scale:e})});var Rse=re([yt,u_,c_],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),u5=t=>t.options.defaultTooltipEventType,c5=t=>t.options.validateTooltipEventTypes;function f5(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function h5(t,e){var n=u5(t),r=c5(t);return f5(e,n,r)}var d5=(t,e)=>{var n,r=Number(e);if(!(Sa(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Nse=t=>t.tooltip.settings,bo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Ose={itemInteraction:{click:bo,hover:bo},axisInteraction:{click:bo,hover:bo},keyboardInteraction:bo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},m5=Sr({name:"tooltip",initialState:Ose,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Lt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Vi(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Lt()},removeTooltipEntrySettings:{reducer(t,e){var n=Vi(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Lt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Pse,replaceTooltipEntrySettings:kse,removeTooltipEntrySettings:Mse,setTooltipSettingsState:cme,setActiveMouseOverItemIndex:p5,mouseLeaveItem:Dse,mouseLeaveChart:g5,setActiveClickItemIndex:Lse,setMouseOverAxisIndex:v5,setMouseClickAxisIndex:jse,setSyncInteraction:_k,setKeyboardInteraction:F1}=m5.actions,Vse=m5.reducer;function bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bk(Object(n),!0).forEach(function(r){Use(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Use(t,e,n){return(e=zse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zse(t){var e=Bse(t,"string");return typeof e=="symbol"?e:e+""}function Bse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fse(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function qse(t){return t.index!=null}var y5=(t,e,n,r)=>{if(e==null)return bo;var i=Fse(t,e,n);if(i==null)return bo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(qse(i)){if(s)return bg(bg({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return bg(bg({},bo),{},{coordinate:i.coordinate})};function Hse(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function $se(t,e){var n=Hse(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),l=Math.max(r,i);return n>=s&&n<=l}function Gse(t,e,n){if(n==null||e==null)return!0;var r=nr(t,e);return r==null||!Ho(n)?!0:$se(r,n)}var zS=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var s=Number(i);if(!Zt(s))return i;var l=0,c=1/0;e.length>0&&(c=e.length-1);var f=Math.max(l,Math.min(s,c)),h=e[f];return h==null||Gse(h,n,r)?String(f):null},_5=(t,e,n,r,i,s,l,c)=>{if(!(s==null||c==null)){var f=l[0],h=f==null?void 0:c(f.positions,s);if(h!=null)return h;var m=i==null?void 0:i[Number(s)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:m.coordinate}}}},b5=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===i})},ym=t=>t.options.tooltipPayloadSearcher,_m=t=>t.tooltip;function wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ek(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(n),!0).forEach(function(r){Kse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kse(t,e,n){return(e=Wse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wse(t){var e=Yse(t,"string");return typeof e=="symbol"?e:e+""}function Yse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qse(t,e){return t??e}var w5=(t,e,n,r,i,s,l)=>{if(!(e==null||s==null)){var{chartData:c,computedData:f,dataStartIndex:h,dataEndIndex:m}=n,p=[];return t.reduce((_,b)=>{var E,{dataDefinedOnItem:x,settings:A}=b,O=Qse(x,c),z=Array.isArray(O)?e6(O,h,m):O,D=(E=A==null?void 0:A.dataKey)!==null&&E!==void 0?E:r,H=A==null?void 0:A.nameKey,F;if(r&&Array.isArray(z)&&!Array.isArray(z[0])&&l==="axis"?F=AZ(z,r,i):F=s(z,e,f,H),Array.isArray(F))F.forEach(P=>{var R=Ek(Ek({},A),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});_.push(K2({tooltipEntrySettings:R,dataKey:P.dataKey,payload:P.payload,value:nr(P.payload,P.dataKey),name:P.name}))});else{var $;_.push(K2({tooltipEntrySettings:A,dataKey:D,payload:F,value:nr(F,D),name:($=nr(F,H))!==null&&$!==void 0?$:A==null?void 0:A.name}))}return _},p)}},BS=re([Ln,yt,OV,bV,Sn],JV),Xse=re([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Zse=re([Sn,mf],PV),bm=re([Xse,Ln,Zse],kV,{memoizeOptions:{resultEqualityCheck:R_}}),Jse=re([bm],t=>t.filter(C_)),eoe=re([bm],LV,{memoizeOptions:{resultEqualityCheck:R_}}),gf=re([eoe,Qo],jV),toe=re([Jse,Qo,Ln],IV),FS=re([gf,Ln,bm],VV),E5=re([Ln],kS),noe=re([Ln],t=>t.allowDataOverflow),x5=re([E5,noe],rV),roe=re([bm],t=>t.filter(C_)),ioe=re([toe,roe,x_,_V],zV),aoe=re([ioe,Qo,Sn,x5],BV),soe=re([bm],DV),ooe=re([gf,Ln,soe,MS,Sn],HV,{memoizeOptions:{resultEqualityCheck:I_}}),loe=re([$V,Sn,mf],pf),uoe=re([loe,Sn],WV),coe=re([GV,Sn,mf],pf),foe=re([coe,Sn],YV),hoe=re([KV,Sn,mf],pf),doe=re([hoe,Sn],QV),moe=re([uoe,doe,foe],ay),poe=re([Ln,E5,x5,aoe,ooe,moe,yt,Sn],XV),wm=re([Ln,yt,gf,FS,x_,Sn,poe],ZV),goe=re([wm,Ln,BS],e5),voe=re([Ln,wm,goe,Sn],t5),T5=t=>{var e=Sn(t),n=mf(t),r=!1;return gm(t,e,n,r)},S5=re([Ln,T5],T_),yoe=re([Ln,BS,voe,S5],LS),_oe=re([yt,FS,Ln,Sn],o5),boe=re([yt,FS,Ln,Sn],l5),woe=(t,e,n,r,i,s,l,c)=>{if(e){var{type:f}=e,h=cu(t,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=f==="category"&&r.bandwidth?r.bandwidth()/m:0;return p=c==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ur(i[0]-i[1])*2*p:p,h&&l?l.map((_,b)=>({coordinate:r(_)+p,value:_,index:b,offset:p})):r.domain().map((_,b)=>({coordinate:r(_)+p,value:s?s[_]:_,index:b,offset:p}))}}},Xo=re([yt,Ln,BS,yoe,T5,_oe,boe,Sn],woe),qS=re([u5,c5,Nse],(t,e,n)=>f5(n.shared,t,e)),A5=t=>t.tooltip.settings.trigger,HS=t=>t.tooltip.settings.defaultIndex,Em=re([_m,qS,A5,HS],y5),Kc=re([Em,gf,mm,wm],zS),C5=re([Xo,Kc],d5),I5=re([Em],t=>{if(t)return t.dataKey});re([Em],t=>{if(t)return t.graphicalItemId});var R5=re([_m,qS,A5,HS],b5),Eoe=re([As,Cs,yt,Yn,Xo,HS,R5,ym],_5),xoe=re([Em,Eoe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Toe=re([Em],t=>t.active),Soe=re([R5,Kc,Qo,mm,C5,ym,qS],w5);re([Soe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(n),!0).forEach(function(r){Aoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aoe(t,e,n){return(e=Coe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Coe(t){var e=Ioe(t,"string");return typeof e=="symbol"?e:e+""}function Ioe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Roe=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Noe=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:l}=r;return rc(rc(rc({},r),Br(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,{angle:f}=r;return rc(rc(rc({},r),Br(r.cx,r.cy,c,f)),{},{angle:f,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Ooe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var N5=(t,e,n,r,i)=>{var s,l=-1,c=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(c<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<c;f++){var h=f>0?n[f-1].coordinate:n[c-1].coordinate,m=n[f].coordinate,p=f>=c-1?n[0].coordinate:n[f+1].coordinate,_=void 0;if(Ur(m-h)!==Ur(p-m)){var b=[];if(Ur(p-m)===Ur(i[1]-i[0])){_=p;var E=m+i[1]-i[0];b[0]=Math.min(E,(E+h)/2),b[1]=Math.max(E,(E+h)/2)}else{_=h;var x=p+i[1]-i[0];b[0]=Math.min(m,(x+m)/2),b[1]=Math.max(m,(x+m)/2)}var A=[Math.min(m,(_+m)/2),Math.max(m,(_+m)/2)];if(t>A[0]&&t<=A[1]||t>=b[0]&&t<=b[1]){({index:l}=n[f]);break}}else{var O=Math.min(h,p),z=Math.max(h,p);if(t>(O+m)/2&&t<=(z+m)/2){({index:l}=n[f]);break}}}else if(e){for(var D=0;D<c;D++)if(D===0&&t<=(e[D].coordinate+e[D+1].coordinate)/2||D>0&&D<c-1&&t>(e[D].coordinate+e[D-1].coordinate)/2&&t<=(e[D].coordinate+e[D+1].coordinate)/2||D===c-1&&t>(e[D].coordinate+e[D-1].coordinate)/2){({index:l}=e[D]);break}}return l},$S=(t,e)=>e,O5=(t,e,n)=>n,GS=(t,e,n,r)=>r,Poe=re(Xo,t=>UT(t,e=>e.coordinate)),KS=re([_m,$S,O5,GS],y5),WS=re([KS,gf,mm,wm],zS),P5=re([_m,$S,O5,GS],b5),sy=re([As,Cs,yt,Yn,Xo,GS,P5,ym],_5);re([KS,sy],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e});var koe=re([Xo,WS],d5);re([P5,WS,Qo,mm,koe,ym,$S],w5);re([KS,WS],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e}));var Moe=(t,e,n,r,i,s,l)=>{if(!(!t||!n||!r||!i)&&Ooe(t,l)){var c=Lee(t,e),f=N5(c,s,i,n,r),h=Roe(e,i,f,t);return{activeIndex:String(f),activeCoordinate:h}}},Doe=(t,e,n,r,i,s,l)=>{if(!(!t||!r||!i||!s||!n)){var c=Ane(t,n);if(c){var f=jee(c,e),h=N5(f,l,s,r,i),m=Noe(e,s,h,c);return{activeIndex:String(h),activeCoordinate:m}}}},Loe=(t,e,n,r,i,s,l,c)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?Moe(t,e,r,i,s,l,c):Doe(t,e,n,r,i,s,l)},joe=re(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Voe=re(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Oa)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Nae}});function Tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tk(Object(n),!0).forEach(function(r){Uoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uoe(t,e,n){return(e=zoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zoe(t){var e=Boe(t,"string");return typeof e=="symbol"?e:e+""}function Boe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Foe={},qoe={zIndexMap:Object.values(Oa).reduce((t,e)=>Sk(Sk({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Foe)},Hoe=new Set(Object.values(Oa));function $oe(t){return Hoe.has(t)}var k5=Sr({name:"zIndex",initialState:qoe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Lt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!$oe(n)&&delete t.zIndexMap[n])},prepare:Lt()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Lt()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:Lt()}}}),{registerZIndexPortal:Goe,unregisterZIndexPortal:Koe,registerZIndexPortalId:Woe,unregisterZIndexPortalId:Yoe}=k5.actions,Qoe=k5.reducer;function du(t){var{zIndex:e,children:n}=t,r=vte(),i=r&&e!==void 0&&e!==0,s=mi(),l=Mn();T.useLayoutEffect(()=>i?(l(Goe({zIndex:e})),()=>{l(Koe({zIndex:e}))}):tm,[l,e,i]);var c=ot(h=>joe(h,e,s));if(!i)return n;if(!c)return null;var f=document.getElementById(c);return f?U8.createPortal(n,f):null}var Xoe=T.createContext(null),eE={exports:{}},Ak;function Zoe(){return Ak||(Ak=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,m){this.fn=f,this.context=h,this.once=m||!1}function s(f,h,m,p,_){if(typeof m!="function")throw new TypeError("The listener must be a function");var b=new i(m,p||f,_),E=n?n+h:h;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],b]:f._events[E].push(b):(f._events[E]=b,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],m,p;if(this._eventsCount===0)return h;for(p in m=this._events)e.call(m,p)&&h.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},c.prototype.listeners=function(h){var m=n?n+h:h,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var _=0,b=p.length,E=new Array(b);_<b;_++)E[_]=p[_].fn;return E},c.prototype.listenerCount=function(h){var m=n?n+h:h,p=this._events[m];return p?p.fn?1:p.length:0},c.prototype.emit=function(h,m,p,_,b,E){var x=n?n+h:h;if(!this._events[x])return!1;var A=this._events[x],O=arguments.length,z,D;if(A.fn){switch(A.once&&this.removeListener(h,A.fn,void 0,!0),O){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,m),!0;case 3:return A.fn.call(A.context,m,p),!0;case 4:return A.fn.call(A.context,m,p,_),!0;case 5:return A.fn.call(A.context,m,p,_,b),!0;case 6:return A.fn.call(A.context,m,p,_,b,E),!0}for(D=1,z=new Array(O-1);D<O;D++)z[D-1]=arguments[D];A.fn.apply(A.context,z)}else{var H=A.length,F;for(D=0;D<H;D++)switch(A[D].once&&this.removeListener(h,A[D].fn,void 0,!0),O){case 1:A[D].fn.call(A[D].context);break;case 2:A[D].fn.call(A[D].context,m);break;case 3:A[D].fn.call(A[D].context,m,p);break;case 4:A[D].fn.call(A[D].context,m,p,_);break;default:if(!z)for(F=1,z=new Array(O-1);F<O;F++)z[F-1]=arguments[F];A[D].fn.apply(A[D].context,z)}}return!0},c.prototype.on=function(h,m,p){return s(this,h,m,p,!1)},c.prototype.once=function(h,m,p){return s(this,h,m,p,!0)},c.prototype.removeListener=function(h,m,p,_){var b=n?n+h:h;if(!this._events[b])return this;if(!m)return l(this,b),this;var E=this._events[b];if(E.fn)E.fn===m&&(!_||E.once)&&(!p||E.context===p)&&l(this,b);else{for(var x=0,A=[],O=E.length;x<O;x++)(E[x].fn!==m||_&&!E[x].once||p&&E[x].context!==p)&&A.push(E[x]);A.length?this._events[b]=A.length===1?A[0]:A:l(this,b)}return this},c.prototype.removeAllListeners=function(h){var m;return h?(m=n?n+h:h,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(eE)),eE.exports}var Joe=Zoe();const ele=Es(Joe);var oy=new ele,Ck="recharts.syncEvent.tooltip",Ik="recharts.syncEvent.brush";function tle(t,e){if(e){var n=Number.parseInt(e,10);if(!Sa(n))return t==null?void 0:t[n]}}var nle={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},M5=Sr({name:"options",initialState:nle,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),rle=M5.reducer,{createEventEmitter:ile}=M5.actions,ale={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},D5=Sr({name:"chartData",initialState:ale,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:Rk,setDataStartEndIndexes:sle,setComputedData:fme}=D5.actions,ole=D5.reducer,lle=["x","y"];function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ic(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){ule(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ule(t,e,n){return(e=cle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cle(t){var e=fle(t,"string");return typeof e=="symbol"?e:e+""}function fle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hle(t,e){if(t==null)return{};var n,r,i=dle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function mle(){var t=ot(wV),e=ot(EV),n=Mn(),r=ot(Tae),i=ot(Xo),s=YT(),l=u6(),c=ot(f=>f.rootProps.className);T.useEffect(()=>{if(t==null)return tm;var f=(h,m,p)=>{if(e!==p&&t===h){if(r==="index"){var _;if(l&&m!==null&&m!==void 0&&(_=m.payload)!==null&&_!==void 0&&_.coordinate&&m.payload.sourceViewBox){var b=m.payload.coordinate,{x:E,y:x}=b,A=hle(b,lle),{x:O,y:z,width:D,height:H}=m.payload.sourceViewBox,F=ic(ic({},A),{},{x:l.x+(D?(E-O)/D:0)*l.width,y:l.y+(H?(x-z)/H:0)*l.height});n(ic(ic({},m),{},{payload:ic(ic({},m.payload),{},{coordinate:F})}))}else n(m);return}if(i!=null){var $;if(typeof r=="function"){var P={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},R=r(i,P);$=i[R]}else r==="value"&&($=i.find(Z=>String(Z.value)===m.payload.label));var{coordinate:k}=m.payload;if($==null||m.payload.active===!1||k==null||l==null){n(_k({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:V,y:L}=k,B=Math.min(V,l.x+l.width),U=Math.min(L,l.y+l.height),xe={x:s==="horizontal"?$.coordinate:B,y:s==="horizontal"?U:$.coordinate},Ie=_k({active:m.payload.active,coordinate:xe,dataKey:m.payload.dataKey,index:String($.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});n(Ie)}}};return oy.on(Ck,f),()=>{oy.off(Ck,f)}},[c,n,e,t,r,i,s,l])}function ple(){var t=ot(wV),e=ot(EV),n=Mn();T.useEffect(()=>{if(t==null)return tm;var r=(i,s,l)=>{e!==l&&t===i&&n(sle(s))};return oy.on(Ik,r),()=>{oy.off(Ik,r)}},[n,e,t])}function gle(){var t=Mn();T.useEffect(()=>{t(ile())},[t]),mle(),ple()}var YS=t=>null;YS.displayName="Cell";function vle(t,e,n){return(e=yle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yle(t){var e=_le(t,"string");return typeof e=="symbol"?e:e+""}function _le(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ble{constructor(e){vle(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function Ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wle(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ok(Object(n),!0).forEach(function(r){Ele(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ele(t,e,n){return(e=xle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xle(t){var e=Tle(t,"string");return typeof e=="symbol"?e:e+""}function Tle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sle={cacheSize:2e3,enableCache:!0},L5=wle({},Sle),Pk=new ble(L5.cacheSize),Ale={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kk="recharts_measurement_span";function Cle(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(c)}var Mk=(t,e)=>{try{var n=document.getElementById(kk);n||(n=document.createElement("span"),n.setAttribute("id",kk),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Ale,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Zh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||om.isSsr)return{width:0,height:0};if(!L5.enableCache)return Mk(e,n);var r=Cle(e,n),i=Pk.get(r);if(i)return i;var s=Mk(e,n);return Pk.set(r,s),s},Dk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Lk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ile=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Rle=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,j5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Nle=Object.keys(j5),mc="NaN";function Ole(t,e){return t*j5[e]}class br{static parse(e){var n,[,r,i]=(n=Rle.exec(e))!==null&&n!==void 0?n:[];return new br(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Sa(e)&&(this.unit=""),n!==""&&!Ile.test(n)&&(this.num=NaN,this.unit=""),Nle.includes(n)&&(this.num=Ole(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new br(NaN,""):new br(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new br(NaN,""):new br(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new br(NaN,""):new br(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new br(NaN,""):new br(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Sa(this.num)}}function V5(t){if(t.includes(mc))return mc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=Dk.exec(e))!==null&&n!==void 0?n:[],l=br.parse(r??""),c=br.parse(s??""),f=i==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return mc;e=e.replace(Dk,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,m,p,_]=(h=Lk.exec(e))!==null&&h!==void 0?h:[],b=br.parse(m??""),E=br.parse(_??""),x=p==="+"?b.add(E):b.subtract(E);if(x.isNaN())return mc;e=e.replace(Lk,x.toString())}return e}var jk=/\(([^()]*)\)/;function Ple(t){for(var e=t,n;(n=jk.exec(e))!=null;){var[,r]=n;e=e.replace(jk,V5(r))}return e}function kle(t){var e=t.replace(/\s+/g,"");return e=Ple(e),e=V5(e),e}function Mle(t){try{return kle(t)}catch{return mc}}function tE(t){var e=Mle(t.slice(5,-1));return e===mc?"":e}var Dle=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Lle=["dx","dy","angle","className","breakAll"];function q1(){return q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q1.apply(null,arguments)}function Vk(t,e){if(t==null)return{};var n,r,i=jle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var U5=/[ \f\n\r\t\v\u2028\u2029]+/,z5=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Wn(e)||(n?i=e.toString().split(""):i=e.toString().split(U5));var s=i.map(c=>({word:c,width:Zh(c,r).width})),l=n?0:Zh("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function Vle(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var B5=(t,e,n,r)=>t.reduce((i,s)=>{var{word:l,width:c}=s,f=i[i.length-1];if(f&&c!=null&&(e==null||r||f.width+c+n<Number(e)))f.words.push(l),f.width+=c+n;else{var h={words:[l],width:c};i.push(h)}return i},[]),F5=t=>t.reduce((e,n)=>e.width>n.width?e:n),Ule="",Uk=(t,e,n,r,i,s,l,c)=>{var f=t.slice(0,e),h=z5({breakAll:n,style:r,children:f+Ule});if(!h)return[!1,[]];var m=B5(h.wordsWithComputedWidth,s,l,c),p=m.length>i||F5(m).width>Number(s);return[p,m]},zle=(t,e,n,r,i)=>{var{maxLines:s,children:l,style:c,breakAll:f}=t,h=tt(s),m=String(l),p=B5(e,r,n,i);if(!h||i)return p;var _=p.length>s||F5(p).width>Number(r);if(!_)return p;for(var b=0,E=m.length-1,x=0,A;b<=E&&x<=m.length-1;){var O=Math.floor((b+E)/2),z=O-1,[D,H]=Uk(m,z,f,c,s,r,n,i),[F]=Uk(m,O,f,c,s,r,n,i);if(!D&&!F&&(b=O+1),D&&F&&(E=O-1),!D&&F){A=H;break}x++}return A||p},zk=t=>{var e=Wn(t)?[]:t.toString().split(U5);return[{words:e,width:void 0}]},Ble=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=t;if((e||n)&&!om.isSsr){var c,f,h=z5({breakAll:s,children:r,style:i});if(h){var{wordsWithComputedWidth:m,spaceWidth:p}=h;c=m,f=p}else return zk(r);return zle({breakAll:s,children:r,maxLines:l,style:i},c,f,e,!!n)}return zk(r)},q5="#808080",Fle={angle:0,breakAll:!1,capHeight:"0.71em",fill:q5,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},QS=T.forwardRef((t,e)=>{var n=Na(t,Fle),{x:r,y:i,lineHeight:s,capHeight:l,fill:c,scaleToFit:f,textAnchor:h,verticalAnchor:m}=n,p=Vk(n,Dle),_=T.useMemo(()=>Ble({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:f,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,f,p.style,p.width]),{dx:b,dy:E,angle:x,className:A,breakAll:O}=p,z=Vk(p,Lle);if(!Vc(r)||!Vc(i)||_.length===0)return null;var D=Number(r)+(tt(b)?b:0),H=Number(i)+(tt(E)?E:0);if(!Zt(D)||!Zt(H))return null;var F;switch(m){case"start":F=tE("calc(".concat(l,")"));break;case"middle":F=tE("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:F=tE("calc(".concat(_.length-1," * -").concat(s,")"));break}var $=[];if(f){var P=_[0].width,{width:R}=p;$.push("scale(".concat(tt(R)&&tt(P)?R/P:1,")"))}return x&&$.push("rotate(".concat(x,", ").concat(D,", ").concat(H,")")),$.length&&(z.transform=$.join(" ")),T.createElement("text",q1({},Bi(z),{ref:e,x:D,y:H,className:En("recharts-text",A),textAnchor:h,fill:c.includes("url")?q5:c}),_.map((k,V)=>{var L=k.words.join(O?"":" ");return T.createElement("tspan",{x:D,dy:V===0?F:s,key:"".concat(L,"-").concat(V)},L)}))});QS.displayName="Text";var qle=["labelRef"];function Hle(t,e){if(t==null)return{};var n,r,i=$le(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $le(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bk(Object(n),!0).forEach(function(r){Gle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gle(t,e,n){return(e=Kle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kle(t){var e=Wle(t,"string");return typeof e=="symbol"?e:e+""}function Wle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ja(){return Ja=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ja.apply(null,arguments)}var H5=T.createContext(null),Yle=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l,children:c}=t,f=T.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l}),[e,n,r,i,s,l]);return T.createElement(H5.Provider,{value:f},c)},$5=()=>{var t=T.useContext(H5),e=u6();return t||l6(e)},Qle=T.createContext(null),Xle=()=>{var t=T.useContext(Qle),e=ot(CV);return t||e},Zle=t=>{var{value:e,formatter:n}=t,r=Wn(t.children)?e:t.children;return typeof n=="function"?n(r):r},G5=t=>t!=null&&typeof t=="function",Jle=(t,e)=>{var n=Ur(e-t),r=Math.min(Math.abs(e-t),360);return n*r},eue=(t,e,n,r,i)=>{var{offset:s,className:l}=t,{cx:c,cy:f,innerRadius:h,outerRadius:m,startAngle:p,endAngle:_,clockWise:b}=i,E=(h+m)/2,x=Jle(p,_),A=x>=0?1:-1,O,z;switch(e){case"insideStart":O=p+A*s,z=b;break;case"insideEnd":O=_-A*s,z=!b;break;case"end":O=_+A*s,z=b;break;default:throw new Error("Unsupported position ".concat(e))}z=x<=0?z:!z;var D=Br(c,f,E,O),H=Br(c,f,E,O+(z?1:-1)*359),F="M".concat(D.x,",").concat(D.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(z?0:1,`,
    `).concat(H.x,",").concat(H.y),$=Wn(t.id)?_d("recharts-radial-line-"):t.id;return T.createElement("text",Ja({},r,{dominantBaseline:"central",className:En("recharts-radial-bar-label",l)}),T.createElement("defs",null,T.createElement("path",{id:$,d:F})),T.createElement("textPath",{xlinkHref:"#".concat($)},n))},tue=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:c,endAngle:f}=t,h=(c+f)/2;if(n==="outside"){var{x:m,y:p}=Br(r,i,l+e,h);return{x:m,y:p,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var _=(s+l)/2,{x:b,y:E}=Br(r,i,_,h);return{x:b,y:E,textAnchor:"middle",verticalAnchor:"middle"}},H1=t=>"cx"in t&&tt(t.cx),nue=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!H1(n)&&(s=n);var{x:l,y:c,upperWidth:f,lowerWidth:h,height:m}=e,p=l,_=l+(f-h)/2,b=(p+_)/2,E=(f+h)/2,x=p+f/2,A=m>=0?1:-1,O=A*r,z=A>0?"end":"start",D=A>0?"start":"end",H=f>=0?1:-1,F=H*r,$=H>0?"end":"start",P=H>0?"start":"end";if(i==="top"){var R={x:p+f/2,y:c-O,textAnchor:"middle",verticalAnchor:z};return Yt(Yt({},R),s?{height:Math.max(c-s.y,0),width:f}:{})}if(i==="bottom"){var k={x:_+h/2,y:c+m+O,textAnchor:"middle",verticalAnchor:D};return Yt(Yt({},k),s?{height:Math.max(s.y+s.height-(c+m),0),width:h}:{})}if(i==="left"){var V={x:b-F,y:c+m/2,textAnchor:$,verticalAnchor:"middle"};return Yt(Yt({},V),s?{width:Math.max(V.x-s.x,0),height:m}:{})}if(i==="right"){var L={x:b+E+F,y:c+m/2,textAnchor:P,verticalAnchor:"middle"};return Yt(Yt({},L),s?{width:Math.max(s.x+s.width-L.x,0),height:m}:{})}var B=s?{width:E,height:m}:{};return i==="insideLeft"?Yt({x:b+F,y:c+m/2,textAnchor:P,verticalAnchor:"middle"},B):i==="insideRight"?Yt({x:b+E-F,y:c+m/2,textAnchor:$,verticalAnchor:"middle"},B):i==="insideTop"?Yt({x:p+f/2,y:c+O,textAnchor:"middle",verticalAnchor:D},B):i==="insideBottom"?Yt({x:_+h/2,y:c+m-O,textAnchor:"middle",verticalAnchor:z},B):i==="insideTopLeft"?Yt({x:p+F,y:c+O,textAnchor:P,verticalAnchor:D},B):i==="insideTopRight"?Yt({x:p+f-F,y:c+O,textAnchor:$,verticalAnchor:D},B):i==="insideBottomLeft"?Yt({x:_+F,y:c+m-O,textAnchor:P,verticalAnchor:z},B):i==="insideBottomRight"?Yt({x:_+h-F,y:c+m-O,textAnchor:$,verticalAnchor:z},B):i&&typeof i=="object"&&(tt(i.x)||ps(i.x))&&(tt(i.y)||ps(i.y))?Yt({x:l+Fi(i.x,E),y:c+Fi(i.y,m),textAnchor:"end",verticalAnchor:"end"},B):Yt({x,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},B)},rue={angle:0,offset:5,zIndex:Oa.label,position:"middle",textBreakAll:!1};function po(t){var e=Na(t,rue),{viewBox:n,position:r,value:i,children:s,content:l,className:c="",textBreakAll:f,labelRef:h}=e,m=Xle(),p=$5(),_=r==="center"?p:m??p,b,E,x;if(n==null?b=_:H1(n)?b=n:b=l6(n),!b||Wn(i)&&Wn(s)&&!T.isValidElement(l)&&typeof l!="function")return null;var A=Yt(Yt({},e),{},{viewBox:b});if(T.isValidElement(l)){var{labelRef:O}=A,z=Hle(A,qle);return T.cloneElement(l,z)}if(typeof l=="function"){if(E=T.createElement(l,A),T.isValidElement(E))return E}else E=Zle(e);var D=Bi(e);if(H1(b)){if(r==="insideStart"||r==="insideEnd"||r==="end")return eue(e,r,E,D,b);x=tue(b,e.offset,e.position)}else x=nue(e,b);return T.createElement(du,{zIndex:e.zIndex},T.createElement(QS,Ja({ref:h,className:En("recharts-label",c)},D,x,{textAnchor:Vle(D.textAnchor)?D.textAnchor:x.textAnchor,breakAll:f}),E))}po.displayName="Label";var iue=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?T.createElement(po,Ja({key:"label-implicit"},r)):Vc(t)?T.createElement(po,Ja({key:"label-implicit",value:t},r)):T.isValidElement(t)?t.type===po?T.cloneElement(t,Yt({key:"label-implicit"},r)):T.createElement(po,Ja({key:"label-implicit",content:t},r)):G5(t)?T.createElement(po,Ja({key:"label-implicit",content:t},r)):t&&typeof t=="object"?T.createElement(po,Ja({},t,{key:"label-implicit"},r)):null};function aue(t){var{label:e,labelRef:n}=t,r=$5();return iue(e,r,n)||null}var nE={},rE={},Fk;function sue(){return Fk||(Fk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(rE)),rE}var iE={},qk;function oue(){return qk||(qk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(iE)),iE}var Hk;function lue(){return Hk||(Hk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sue(),n=oue(),r=b3();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(nE)),nE}var aE,$k;function uue(){return $k||($k=1,aE=lue().last),aE}var cue=uue();const fue=Es(cue);var hue=["valueAccessor"],due=["dataKey","clockWise","id","textBreakAll","zIndex"];function ly(){return ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ly.apply(null,arguments)}function Gk(t,e){if(t==null)return{};var n,r,i=mue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pue=t=>Array.isArray(t.value)?fue(t.value):t.value,K5=T.createContext(void 0),gue=K5.Provider,W5=T.createContext(void 0);W5.Provider;function vue(){return T.useContext(K5)}function yue(){return T.useContext(W5)}function Bg(t){var{valueAccessor:e=pue}=t,n=Gk(t,hue),{dataKey:r,clockWise:i,id:s,textBreakAll:l,zIndex:c}=n,f=Gk(n,due),h=vue(),m=yue(),p=h||m;return!p||!p.length?null:T.createElement(du,{zIndex:c??Oa.label},T.createElement(ms,{className:"recharts-label-list"},p.map((_,b)=>{var E,x=Wn(r)?e(_,b):nr(_&&_.payload,r),A=Wn(s)?{}:{id:"".concat(s,"-").concat(b)};return T.createElement(po,ly({key:"label-".concat(b)},Bi(_),f,A,{fill:(E=n.fill)!==null&&E!==void 0?E:_.fill,parentViewBox:_.parentViewBox,value:x,textBreakAll:l,viewBox:_.viewBox,index:b,zIndex:0}))})))}Bg.displayName="LabelList";function _ue(t){var{label:e}=t;return e?e===!0?T.createElement(Bg,{key:"labelList-implicit"}):T.isValidElement(e)||G5(e)?T.createElement(Bg,{key:"labelList-implicit",content:e}):typeof e=="object"?T.createElement(Bg,ly({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var bue={radiusAxis:{},angleAxis:{}},Y5=Sr({name:"polarAxis",initialState:bue,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:hme,removeRadiusAxis:dme,addAngleAxis:mme,removeAngleAxis:pme}=Y5.actions,wue=Y5.reducer,sE={exports:{}},xt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kk;function Eue(){if(Kk)return xt;Kk=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),_=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function E(x){if(typeof x=="object"&&x!==null){var A=x.$$typeof;switch(A){case t:switch(x=x.type,x){case n:case i:case r:case f:case h:case _:return x;default:switch(x=x&&x.$$typeof,x){case l:case c:case p:case m:return x;case s:return x;default:return A}}case e:return A}}}return xt.ContextConsumer=s,xt.ContextProvider=l,xt.Element=t,xt.ForwardRef=c,xt.Fragment=n,xt.Lazy=p,xt.Memo=m,xt.Portal=e,xt.Profiler=i,xt.StrictMode=r,xt.Suspense=f,xt.SuspenseList=h,xt.isContextConsumer=function(x){return E(x)===s},xt.isContextProvider=function(x){return E(x)===l},xt.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},xt.isForwardRef=function(x){return E(x)===c},xt.isFragment=function(x){return E(x)===n},xt.isLazy=function(x){return E(x)===p},xt.isMemo=function(x){return E(x)===m},xt.isPortal=function(x){return E(x)===e},xt.isProfiler=function(x){return E(x)===i},xt.isStrictMode=function(x){return E(x)===r},xt.isSuspense=function(x){return E(x)===f},xt.isSuspenseList=function(x){return E(x)===h},xt.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===i||x===r||x===f||x===h||typeof x=="object"&&x!==null&&(x.$$typeof===p||x.$$typeof===m||x.$$typeof===l||x.$$typeof===s||x.$$typeof===c||x.$$typeof===b||x.getModuleId!==void 0)},xt.typeOf=E,xt}var Wk;function xue(){return Wk||(Wk=1,sE.exports=Eue()),sE.exports}var Tue=xue(),Yk=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",Qk=null,oE=null,Q5=t=>{if(t===Qk&&Array.isArray(oE))return oE;var e=[];return T.Children.forEach(t,n=>{Wn(n)||(Tue.isFragment(n)?e=e.concat(Q5(n.props.children)):e.push(n))}),oE=e,Qk=t,e};function Sue(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>Yk(i)):r=[Yk(e)],Q5(t).forEach(i=>{var s=jc(i,"type.displayName")||jc(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var lE={},Xk;function Aue(){return Xk||(Xk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(lE)),lE}var uE,Zk;function Cue(){return Zk||(Zk=1,uE=Aue().isPlainObject),uE}var Iue=Cue();const Rue=Es(Iue);function Jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(n),!0).forEach(function(r){Nue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nue(t,e,n){return(e=Oue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oue(t){var e=Pue(t,"string");return typeof e=="symbol"?e:e+""}function Pue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uy(){return uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uy.apply(null,arguments)}var tM=(t,e,n,r,i)=>{var s=n-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-s/2,",").concat(e+i),l+="L ".concat(t+n-s/2-r,",").concat(e+i),l+="L ".concat(t,",").concat(e," Z"),l},kue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Mue=t=>{var e=Na(t,kue),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:c}=e,{animationEasing:f,animationDuration:h,animationBegin:m,isUpdateAnimationActive:p}=e,_=T.useRef(null),[b,E]=T.useState(-1),x=T.useRef(i),A=T.useRef(s),O=T.useRef(l),z=T.useRef(n),D=T.useRef(r),H=JT(t,"trapezoid-");if(T.useEffect(()=>{if(_.current&&_.current.getTotalLength)try{var xe=_.current.getTotalLength();xe&&E(xe)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var F=En("recharts-trapezoid",c);if(!p)return T.createElement("g",null,T.createElement("path",uy({},Bi(e),{className:F,d:tM(n,r,i,s,l)})));var $=x.current,P=A.current,R=O.current,k=z.current,V=D.current,L="0px ".concat(b===-1?1:b,"px"),B="".concat(b,"px 0px"),U=v6(["strokeDasharray"],h,f);return T.createElement(ZT,{animationId:H,key:H,canBegin:b>0,duration:h,easing:f,isActive:p,begin:m},xe=>{var Ie=$n($,i,xe),Z=$n(P,s,xe),ue=$n(R,l,xe),ie=$n(k,n,xe),pe=$n(V,r,xe);_.current&&(x.current=Ie,A.current=Z,O.current=ue,z.current=ie,D.current=pe);var me=xe>0?{transition:U,strokeDasharray:B}:{strokeDasharray:L};return T.createElement("path",uy({},Bi(e),{className:F,d:tM(ie,pe,Ie,Z,ue),ref:_,style:eM(eM({},me),e.style)}))})},Due=["option","shapeType","propTransformer","activeClassName"];function Lue(t,e){if(t==null)return{};var n,r,i=jue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nM(Object(n),!0).forEach(function(r){Vue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vue(t,e,n){return(e=Uue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uue(t){var e=zue(t,"string");return typeof e=="symbol"?e:e+""}function zue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bue(t,e){return cy(cy({},e),t)}function Fue(t,e){return t==="symbols"}function rM(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return T.createElement(gne,n);case"trapezoid":return T.createElement(Mue,n);case"sector":return T.createElement(Nne,n);case"symbols":if(Fue(e))return T.createElement(_3,n);break;case"curve":return T.createElement(zte,n);default:return null}}function que(t){return T.isValidElement(t)?t.props:t}function Hue(t){var{option:e,shapeType:n,propTransformer:r=Bue,activeClassName:i="recharts-active-shape"}=t,s=Lue(t,Due),l;if(T.isValidElement(e))l=T.cloneElement(e,cy(cy({},s),que(e)));else if(typeof e=="function")l=e(s,s.index);else if(Rue(e)&&typeof e!="boolean"){var c=r(e,s);l=T.createElement(rM,{shapeType:n,elementProps:c})}else{var f=s;l=T.createElement(rM,{shapeType:n,elementProps:f})}return s.isActive?T.createElement(ms,{className:i},l):l}var X5=(t,e,n)=>{var r=Mn();return(i,s)=>l=>{t==null||t(i,s,l),r(p5({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},Z5=t=>{var e=Mn();return(n,r)=>i=>{t==null||t(n,r,i),e(Dse())}},J5=(t,e,n)=>{var r=Mn();return(i,s)=>l=>{t==null||t(i,s,l),r(Lse({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function $ue(t){var{tooltipEntrySettings:e}=t,n=Mn(),r=mi(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(Pse(e)):i.current!==e&&n(kse({prev:i.current,next:e})),i.current=e)},[e,n,r]),T.useLayoutEffect(()=>()=>{i.current&&(n(Mse(i.current)),i.current=null)},[n]),null}function Gue(t){var{legendPayload:e}=t,n=Mn(),r=mi(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(Nte(e)):i.current!==e&&n(Ote({prev:i.current,next:e})),i.current=e)},[n,r,e]),T.useLayoutEffect(()=>()=>{i.current&&(n(Pte(i.current)),i.current=null)},[n]),null}var cE,Kue=()=>{var[t]=T.useState(()=>_d("uid-"));return t},Wue=(cE=o9.useId)!==null&&cE!==void 0?cE:Kue;function eU(t,e){var n=Wue();return e||(t?"".concat(t,"-").concat(n):n)}var Yue=T.createContext(void 0),Que=t=>{var{id:e,type:n,children:r}=t,i=eU("recharts-".concat(n),e);return T.createElement(Yue.Provider,{value:i},r(i))},Xue={cartesianItems:[],polarItems:[]},tU=Sr({name:"graphicalItems",initialState:Xue,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Lt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Vi(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Lt()},removeCartesianGraphicalItem:{reducer(t,e){var n=Vi(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Lt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Lt()},removePolarGraphicalItem:{reducer(t,e){var n=Vi(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Lt()}}}),{addCartesianGraphicalItem:Zue,replaceCartesianGraphicalItem:Jue,removeCartesianGraphicalItem:ece,addPolarGraphicalItem:gme,removePolarGraphicalItem:vme}=tU.actions,tce=tU.reducer,nce=t=>{var e=Mn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(Zue(t)):n.current!==t&&e(Jue({prev:n.current,next:t})),n.current=t},[e,t]),T.useLayoutEffect(()=>()=>{n.current&&(e(ece(n.current)),n.current=null)},[e]),null},rce=T.memo(nce);function iM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(n),!0).forEach(function(r){ice(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ice(t,e,n){return(e=ace(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ace(t){var e=sce(t,"string");return typeof e=="symbol"?e:e+""}function sce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oce={xAxis:{},yAxis:{},zAxis:{}},nU=Sr({name:"cartesianAxis",initialState:oce,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Lt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Lt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Lt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Lt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Lt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Lt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Lt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Lt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Lt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);t.yAxis[n]=aM(aM({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:lce,replaceXAxis:uce,removeXAxis:cce,addYAxis:yme,replaceYAxis:_me,removeYAxis:bme,addZAxis:wme,replaceZAxis:Eme,removeZAxis:xme,updateYAxisWidth:Tme}=nU.actions,fce=nU.reducer,hce=re([Yn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),dce=re([hce,As,Cs],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),rU=()=>ot(dce),mce="Invariant failed";function pce(t,e){throw new Error(mce)}var gce=["x","y"];function $1(){return $1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$1.apply(null,arguments)}function sM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(n),!0).forEach(function(r){vce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vce(t,e,n){return(e=yce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yce(t){var e=_ce(t,"string");return typeof e=="symbol"?e:e+""}function _ce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bce(t,e){if(t==null)return{};var n,r,i=wce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ece(t,e){var{x:n,y:r}=t,i=bce(t,gce),s="".concat(n),l=parseInt(s,10),c="".concat(r),f=parseInt(c,10),h="".concat(e.height||i.height),m=parseInt(h,10),p="".concat(e.width||i.width),_=parseInt(p,10);return Oh(Oh(Oh(Oh(Oh({},e),i),l?{x:l}:{}),f?{y:f}:{}),{},{height:m,width:_,name:e.name,radius:e.radius})}function fy(t){return T.createElement(Hue,$1({shapeType:"rectangle",propTransformer:Ece,activeClassName:"recharts-active-bar"},t))}var xce=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(tt(e))return e;var s=tt(r)||Wn(r);return s?e(r,i):(s||pce(),n)}},Tce={},iU=Sr({name:"errorBars",initialState:Tce,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Sme,replaceErrorBar:Ame,removeErrorBar:Cme}=iU.actions,Sce=iU.reducer,Ace=["children"];function Cce(t,e){if(t==null)return{};var n,r,i=Ice(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ice(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Rce={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Nce=T.createContext(Rce);function Oce(t){var{children:e}=t,n=Cce(t,Ace);return T.createElement(Nce.Provider,{value:n},e)}function aU(t,e){var n,r,i=ot(h=>Rs(h,t)),s=ot(h=>Ns(h,e)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Rn.allowDataOverflow,c=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:NV.allowDataOverflow,f=l||c;return{needClip:f,needClipX:l,needClipY:c}}function Pce(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=rU(),{needClipX:s,needClipY:l,needClip:c}=aU(e,n);if(!c||!i)return null;var{x:f,y:h,width:m,height:p}=i;return T.createElement("clipPath",{id:"clipPath-".concat(r)},T.createElement("rect",{x:s?f:f-m/2,y:l?h:h-p/2,width:s?m:m*2,height:l?p:p*2}))}function kce(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Zt(t.zIndex)?t.zIndex:e}var fE={exports:{}},hE={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oM;function Mce(){if(oM)return hE;oM=1;var t=Wc();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,c=t.useDebugValue;return hE.useSyncExternalStoreWithSelector=function(f,h,m,p,_){var b=i(null);if(b.current===null){var E={hasValue:!1,value:null};b.current=E}else E=b.current;b=l(function(){function A(F){if(!O){if(O=!0,z=F,F=p(F),_!==void 0&&E.hasValue){var $=E.value;if(_($,F))return D=$}return D=F}if($=D,n(z,F))return $;var P=p(F);return _!==void 0&&_($,P)?(z=F,$):(z=F,D=P)}var O=!1,z,D,H=m===void 0?null:m;return[function(){return A(h())},H===null?void 0:function(){return A(H())}]},[h,m,p,_]);var x=r(f,b[0],b[1]);return s(function(){E.hasValue=!0,E.value=x},[x]),c(x),x},hE}var lM;function Dce(){return lM||(lM=1,fE.exports=Mce()),fE.exports}Dce();function Lce(t){t()}function jce(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Lce(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var uM={notify(){},get:()=>[]};function Vce(t,e){let n,r=uM,i=0,s=!1;function l(x){m();const A=r.subscribe(x);let O=!1;return()=>{O||(O=!0,A(),p())}}function c(){r.notify()}function f(){E.onStateChange&&E.onStateChange()}function h(){return s}function m(){i++,n||(n=t.subscribe(f),r=jce())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=uM)}function _(){s||(s=!0,m())}function b(){s&&(s=!1,p())}const E={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:f,isSubscribed:h,trySubscribe:_,tryUnsubscribe:b,getListeners:()=>r};return E}var Uce=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zce=Uce(),Bce=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Fce=Bce(),qce=()=>zce||Fce?T.useLayoutEffect:T.useEffect,Hce=qce();function cM(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function $ce(t,e){if(cM(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!cM(t[n[i]],e[n[i]]))return!1;return!0}var dE=Symbol.for("react-redux-context"),mE=typeof globalThis<"u"?globalThis:{};function Gce(){if(!T.createContext)return{};const t=mE[dE]??(mE[dE]=new Map);let e=t.get(T.createContext);return e||(e=T.createContext(null),t.set(T.createContext,e)),e}var Kce=Gce();function Wce(t){const{children:e,context:n,serverState:r,store:i}=t,s=T.useMemo(()=>{const f=Vce(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=T.useMemo(()=>i.getState(),[i]);Hce(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,l]);const c=n||Kce;return T.createElement(c.Provider,{value:s},e)}var Yce=Wce,Qce=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Xce(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function XS(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Qce.has(r)){if(t[r]==null&&e[r]==null)continue;if(!$ce(t[r],e[r]))return!1}else if(!Xce(t[r],e[r]))return!1;return!0}var Zce=["onMouseEnter","onMouseLeave","onClick"],Jce=["value","background","tooltipPosition"],efe=["id"],tfe=["onMouseEnter","onClick","onMouseLeave"];function ws(){return ws=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ws.apply(null,arguments)}function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){nfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nfe(t,e,n){return(e=rfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rfe(t){var e=ife(t,"string");return typeof e=="symbol"?e:e+""}function ife(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hy(t,e){if(t==null)return{};var n,r,i=afe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function afe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sfe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:n6(n,e),payload:t}]},ofe=T.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,unit:c,tooltipType:f}=t,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:n6(s,e),hide:l,type:f,color:i,unit:c}};return T.createElement($ue,{tooltipEntrySettings:h})});function lfe(t){var e=ot(Kc),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:c,onClick:f}=s,h=hy(s,Zce),m=X5(l,r),p=Z5(c),_=J5(f,r);if(!i||n==null)return null;var b=Xj(i);return T.createElement(du,{zIndex:kce(i,Oa.barBackground)},n.map((E,x)=>{var{value:A,background:O,tooltipPosition:z}=E,D=hy(E,Jce);if(!O)return null;var H=m(E,x),F=p(E,x),$=_(E,x),P=lr(lr(lr(lr(lr({option:i,isActive:String(x)===e},D),{},{fill:"#eee"},O),b),jT(h,E,x)),{},{onMouseEnter:H,onMouseLeave:F,onClick:$,dataKey:r,index:x,className:"recharts-bar-background-rectangle"});return T.createElement(fy,ws({key:"background-bar-".concat(x)},P))}))}function ufe(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return lr(lr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return T.createElement(gue,{value:e?i:void 0},n)}function cfe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:l}=t,c=ot(Kc),f=ot(I5),h=n&&String(s)===c&&(f==null||l===f),m=h?n:e;return h?T.createElement(du,{zIndex:Oa.activeBar},T.createElement(fy,ws({},r,{name:String(r.name)},i,{isActive:h,option:m,index:s,dataKey:l}))):T.createElement(fy,ws({},r,{name:String(r.name)},i,{isActive:h,option:m,index:s,dataKey:l}))}function ffe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return T.createElement(fy,ws({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function hfe(t){var e,{data:n,props:r}=t,i=(e=Fo(r))!==null&&e!==void 0?e:{},{id:s}=i,l=hy(i,efe),{shape:c,dataKey:f,activeBar:h}=r,{onMouseEnter:m,onClick:p,onMouseLeave:_}=r,b=hy(r,tfe),E=X5(m,f),x=Z5(_),A=J5(p,f);return n?T.createElement(T.Fragment,null,n.map((O,z)=>T.createElement(ms,ws({key:"rectangle-".concat(O==null?void 0:O.x,"-").concat(O==null?void 0:O.y,"-").concat(O==null?void 0:O.value,"-").concat(z),className:"recharts-bar-rectangle"},jT(b,O,z),{onMouseEnter:E(O,z),onMouseLeave:x(O,z),onClick:A(O,z)}),h?T.createElement(cfe,{shape:c,activeBar:h,baseProps:l,entry:O,index:z,dataKey:f}):T.createElement(ffe,{shape:c,baseProps:l,entry:O,index:z,dataKey:f})))):null}function dfe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:f,onAnimationEnd:h,onAnimationStart:m}=e,p=n.current,_=JT(e,"recharts-bar-"),[b,E]=T.useState(!1),x=!b,A=T.useCallback(()=>{typeof h=="function"&&h(),E(!1)},[h]),O=T.useCallback(()=>{typeof m=="function"&&m(),E(!0)},[m]);return T.createElement(ufe,{showLabels:x,rects:r},T.createElement(ZT,{animationId:_,begin:l,duration:c,isActive:s,easing:f,onAnimationEnd:A,onAnimationStart:O,key:_},z=>{var D=z===1?r:r==null?void 0:r.map((H,F)=>{var $=p&&p[F];if($)return lr(lr({},H),{},{x:$n($.x,H.x,z),y:$n($.y,H.y,z),width:$n($.width,H.width,z),height:$n($.height,H.height,z)});if(i==="horizontal"){var P=$n(0,H.height,z),R=$n(H.stackedBarStart,H.y,z);return lr(lr({},H),{},{y:R,height:P})}var k=$n(0,H.width,z),V=$n(H.stackedBarStart,H.x,z);return lr(lr({},H),{},{width:k,x:V})});return z>0&&(n.current=D??null),D==null?null:T.createElement(ms,null,T.createElement(hfe,{props:e,data:D}))}),T.createElement(_ue,{label:e.label}),e.children)}function mfe(t){var e=T.useRef(null);return T.createElement(dfe,{previousRectanglesRef:e,props:t})}var sU=0,pfe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:nr(t,e)}};class gfe extends T.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:l,needClip:c,background:f,id:h}=this.props;if(e||n==null)return null;var m=En("recharts-bar",i),p=h;return T.createElement(ms,{className:m,id:h},c&&T.createElement("defs",null,T.createElement(Pce,{clipPathId:p,xAxisId:s,yAxisId:l})),T.createElement(ms,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(p,")"):void 0},T.createElement(lfe,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),T.createElement(mfe,this.props)))}}var vfe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:sU,xAxisId:0,yAxisId:0,zIndex:Oa.bar};function yfe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:f,animationEasing:h,isAnimationActive:m}=t,{needClip:p}=aU(e,n),_=YT(),b=mi(),E=Sue(t.children,YS),x=ot(z=>Gfe(z,e,n,b,t.id,E));if(_!=="vertical"&&_!=="horizontal")return null;var A,O=x==null?void 0:x[0];return O==null||O.height==null||O.width==null?A=0:A=_==="vertical"?O.height/2:O.width/2,T.createElement(Oce,{xAxisId:e,yAxisId:n,data:x,dataPointFormatter:pfe,errorBarOffset:A},T.createElement(gfe,ws({},t,{layout:_,needClip:p,data:x,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:f,animationEasing:h,isAnimationActive:m})))}function _fe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:l,yAxis:c,xAxisTicks:f,yAxisTicks:h,stackedData:m,displayedData:p,offset:_,cells:b,parentViewBox:E,dataStartIndex:x}=t,A=e==="horizontal"?c:l,O=m?A.scale.domain():null,z=Pee({numericAxis:A}),D=A.scale(z);return p.map((H,F)=>{var $,P,R,k,V,L;m?$=Aee(m[F+x],O):($=nr(H,n),Array.isArray($)||($=[z,$]));var B=xce(r,sU)($[1],F);if(e==="horizontal"){var U,[xe,Ie]=[c.scale($[0]),c.scale($[1])];P=H2({axis:l,ticks:f,bandSize:s,offset:i.offset,entry:H,index:F}),R=(U=Ie??xe)!==null&&U!==void 0?U:void 0,k=i.size;var Z=xe-Ie;if(V=Sa(Z)?0:Z,L={x:P,y:_.top,width:k,height:_.height},Math.abs(B)>0&&Math.abs(V)<Math.abs(B)){var ue=Ur(V||B)*(Math.abs(B)-Math.abs(V));R-=ue,V+=ue}}else{var[ie,pe]=[l.scale($[0]),l.scale($[1])];if(P=ie,R=H2({axis:c,ticks:h,bandSize:s,offset:i.offset,entry:H,index:F}),k=pe-ie,V=i.size,L={x:_.left,y:R,width:_.width,height:V},Math.abs(B)>0&&Math.abs(k)<Math.abs(B)){var me=Ur(k||B)*(Math.abs(B)-Math.abs(k));k+=me}}if(P==null||R==null||k==null||V==null)return null;var j=lr(lr({},H),{},{stackedBarStart:D,x:P,y:R,width:k,height:V,value:m?$:$[1],payload:H,background:L,tooltipPosition:{x:P+k/2,y:R+V/2},parentViewBox:E},b&&b[F]&&b[F].props);return j}).filter(Boolean)}function bfe(t){var e=Na(t,vfe),n=mi();return T.createElement(Que,{id:e.id,type:"bar"},r=>T.createElement(T.Fragment,null,T.createElement(Gue,{legendPayload:sfe(e)}),T.createElement(ofe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),T.createElement(rce,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:Oee(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),T.createElement(du,{zIndex:e.zIndex},T.createElement(yfe,ws({},e,{id:r})))))}var oU=T.memo(bfe,XS);oU.displayName="Bar";function hM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(n),!0).forEach(function(r){wfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wfe(t,e,n){return(e=Efe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Efe(t){var e=xfe(t,"string");return typeof e=="symbol"?e:e+""}function xfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tfe=(t,e)=>e,Sfe=(t,e,n)=>n,Afe=(t,e,n,r)=>r,Cfe=(t,e,n,r,i)=>i,xm=re([OS,Cfe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Ife=re([xm],t=>t==null?void 0:t.maxBarSize),Rfe=(t,e,n,r,i,s)=>s,dM=(t,e,n)=>{var r=n??t;if(!Wn(r))return Fi(r,e,0)},Nfe=re([yt,OS,Tfe,Sfe,Afe],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Ofe=(t,e,n,r)=>{var i=yt(t);return i==="horizontal"?B1(t,"yAxis",n,r):B1(t,"xAxis",e,r)},Pfe=(t,e,n)=>{var r=yt(t);return r==="horizontal"?yk(t,"xAxis",e):yk(t,"yAxis",n)},kfe=(t,e,n)=>{var r={},i=t.filter(C_),s=t.filter(h=>h.stackId==null),l=i.reduce((h,m)=>(h[m.stackId]||(h[m.stackId]=[]),h[m.stackId].push(m),h),r),c=Object.entries(l).map(h=>{var[m,p]=h,_=p.map(E=>E.dataKey),b=dM(e,n,p[0].barSize);return{stackId:m,dataKeys:_,barSize:b}}),f=s.map(h=>{var m=[h.dataKey].filter(_=>_!=null),p=dM(e,n,h.barSize);return{stackId:void 0,dataKeys:m,barSize:p}});return[...c,...f]},Mfe=re([Nfe,xae,Pfe],kfe),Dfe=(t,e,n,r,i)=>{var s,l,c=xm(t,e,n,r,i);if(c!=null){var f=yt(t),h=vV(t),{maxBarSize:m}=c,p=Wn(m)?h:m,_,b;return f==="horizontal"?(_=Gc(t,"xAxis",e,r),b=$c(t,"xAxis",e,r)):(_=Gc(t,"yAxis",n,r),b=$c(t,"yAxis",n,r)),(s=(l=t6(_,b,!0))!==null&&l!==void 0?l:p)!==null&&s!==void 0?s:0}},lU=(t,e,n,r)=>{var i=yt(t),s,l;return i==="horizontal"?(s=Gc(t,"xAxis",e,r),l=$c(t,"xAxis",e,r)):(s=Gc(t,"yAxis",n,r),l=$c(t,"yAxis",n,r)),t6(s,l)};function Lfe(t,e,n,r,i){var s=r.length;if(!(s<1)){var l=Fi(t,n,0,!0),c,f=[];if(Zt(r[0].barSize)){var h=!1,m=n/s,p=r.reduce((O,z)=>O+(z.barSize||0),0);p+=(s-1)*l,p>=n&&(p-=(s-1)*l,l=0),p>=n&&m>0&&(h=!0,m*=.9,p=s*m);var _=(n-p)/2>>0,b={offset:_-l,size:0};c=r.reduce((O,z)=>{var D,H={stackId:z.stackId,dataKeys:z.dataKeys,position:{offset:b.offset+b.size+l,size:h?m:(D=z.barSize)!==null&&D!==void 0?D:0}},F=[...O,H];return b=F[F.length-1].position,F},f)}else{var E=Fi(e,n,0,!0);n-2*E-(s-1)*l<=0&&(l=0);var x=(n-2*E-(s-1)*l)/s;x>1&&(x>>=0);var A=Zt(i)?Math.min(x,i):x;c=r.reduce((O,z,D)=>[...O,{stackId:z.stackId,dataKeys:z.dataKeys,position:{offset:E+(x+l)*D+(x-A)/2,size:A}}],f)}return c}}var jfe=(t,e,n,r,i,s,l)=>{var c=Wn(l)?e:l,f=Lfe(n,r,i!==s?i:s,t,c);return i!==s&&f!=null&&(f=f.map(h=>wg(wg({},h),{},{position:wg(wg({},h.position),{},{offset:h.position.offset-i/2})}))),f},Vfe=re([Mfe,vV,Eae,yV,Dfe,lU,Ife],jfe),Ufe=(t,e,n,r)=>Gc(t,"xAxis",e,r),zfe=(t,e,n,r)=>Gc(t,"yAxis",n,r),Bfe=(t,e,n,r)=>$c(t,"xAxis",e,r),Ffe=(t,e,n,r)=>$c(t,"yAxis",n,r),qfe=re([Vfe,xm],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Hfe=(t,e)=>{var n=RS(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===n)}}}},$fe=re([Ofe,xm],Hfe),Gfe=re([Yn,i6,Ufe,zfe,Bfe,Ffe,qfe,yt,xS,lU,$fe,xm,Rfe],(t,e,n,r,i,s,l,c,f,h,m,p,_)=>{var{chartData:b,dataStartIndex:E,dataEndIndex:x}=f;if(!(p==null||l==null||e==null||c!=="horizontal"&&c!=="vertical"||n==null||r==null||i==null||s==null||h==null)){var{data:A}=p,O;if(A!=null&&A.length>0?O=A:O=b==null?void 0:b.slice(E,x+1),O!=null)return _fe({layout:c,barSettings:p,pos:l,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:m,displayedData:O,offset:t,cells:_,dataStartIndex:E})}}),Kfe=t=>{var{chartData:e}=t,n=Mn(),r=mi();return T.useEffect(()=>r?()=>{}:(n(Rk(e)),()=>{n(Rk(void 0))}),[e,n,r]),null},mM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},uU=Sr({name:"brush",initialState:mM,reducers:{setBrushSettings(t,e){return e.payload==null?mM:e.payload}}}),{setBrushSettings:Ime}=uU.actions,Wfe=uU.reducer;function Yfe(t,e,n){return(e=Qfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qfe(t){var e=Xfe(t,"string");return typeof e=="symbol"?e:e+""}function Xfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ZS{static create(e){return new ZS(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Yfe(ZS,"EPS",1e-4);function Zfe(t){return(t%180+180)%180}var Jfe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Zfe(i),l=s*Math.PI/180,c=Math.atan(r/n),f=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},ehe={dots:[],areas:[],lines:[]},cU=Sr({name:"referenceElements",initialState:ehe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Vi(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Vi(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Vi(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Rme,removeDot:Nme,addArea:Ome,removeArea:Pme,addLine:kme,removeLine:Mme}=cU.actions,the=cU.reducer,nhe=T.createContext(void 0),rhe=t=>{var{children:e}=t,[n]=T.useState("".concat(_d("recharts"),"-clip")),r=rU();if(r==null)return null;var{x:i,y:s,width:l,height:c}=r;return T.createElement(nhe.Provider,{value:n},T.createElement("defs",null,T.createElement("clipPath",{id:n},T.createElement("rect",{x:i,y:s,height:c,width:l}))),e)};function fU(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function ihe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Jfe(r,n)}function ahe(t,e,n){var r=n==="width",{x:i,y:s,width:l,height:c}=t;return e===1?{start:r?i:s,end:r?i+l:s+c}:{start:r?i+l:s+c,end:r?i:s}}function dy(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function she(t,e){return fU(t,e+1)}function ohe(t,e,n,r,i){for(var s=(r||[]).slice(),{start:l,end:c}=e,f=0,h=1,m=l,p=function(){var E=r==null?void 0:r[f];if(E===void 0)return{v:fU(r,h)};var x=f,A,O=()=>(A===void 0&&(A=n(E,x)),A),z=E.coordinate,D=f===0||dy(t,z,O,m,c);D||(f=0,m=l,h+=1),D&&(m=z+t*(O()/2+i),f+=h)},_;h<=s.length;)if(_=p(),_)return _.v;return[]}function pM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(n),!0).forEach(function(r){lhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lhe(t,e,n){return(e=uhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uhe(t){var e=che(t,"string");return typeof e=="symbol"?e:e+""}function che(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fhe(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:c}=e,{end:f}=e,h=function(_){var b=s[_],E,x=()=>(E===void 0&&(E=n(b,_)),E);if(_===l-1){var A=t*(b.coordinate+t*x()/2-f);s[_]=b=Zn(Zn({},b),{},{tickCoord:A>0?b.coordinate-A*t:b.coordinate})}else s[_]=b=Zn(Zn({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var O=dy(t,b.tickCoord,x,c,f);O&&(f=b.tickCoord-t*(x()/2+i),s[_]=Zn(Zn({},b),{},{isShow:!0}))}},m=l-1;m>=0;m--)h(m);return s}function hhe(t,e,n,r,i,s){var l=(r||[]).slice(),c=l.length,{start:f,end:h}=e;if(s){var m=r[c-1],p=n(m,c-1),_=t*(m.coordinate+t*p/2-h);if(l[c-1]=m=Zn(Zn({},m),{},{tickCoord:_>0?m.coordinate-_*t:m.coordinate}),m.tickCoord!=null){var b=dy(t,m.tickCoord,()=>p,f,h);b&&(h=m.tickCoord-t*(p/2+i),l[c-1]=Zn(Zn({},m),{},{isShow:!0}))}}for(var E=s?c-1:c,x=function(z){var D=l[z],H,F=()=>(H===void 0&&(H=n(D,z)),H);if(z===0){var $=t*(D.coordinate-t*F()/2-f);l[z]=D=Zn(Zn({},D),{},{tickCoord:$<0?D.coordinate-$*t:D.coordinate})}else l[z]=D=Zn(Zn({},D),{},{tickCoord:D.coordinate});if(D.tickCoord!=null){var P=dy(t,D.tickCoord,F,f,h);P&&(f=D.tickCoord+t*(F()/2+i),l[z]=Zn(Zn({},D),{},{isShow:!0}))}},A=0;A<E;A++)x(A);return l}function dhe(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:c,interval:f,tickFormatter:h,unit:m,angle:p}=t;if(!i||!i.length||!r)return[];if(tt(f)||om.isSsr){var _;return(_=she(i,tt(f)?f:0))!==null&&_!==void 0?_:[]}var b=[],E=c==="top"||c==="bottom"?"width":"height",x=m&&E==="width"?Zh(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(D,H)=>{var F=typeof h=="function"?h(D.value,H):D.value;return E==="width"?ihe(Zh(F,{fontSize:e,letterSpacing:n}),x,p):Zh(F,{fontSize:e,letterSpacing:n})[E]},O=i.length>=2?Ur(i[1].coordinate-i[0].coordinate):1,z=ahe(s,O,E);return f==="equidistantPreserveStart"?ohe(O,z,A,i,l):(f==="preserveStart"||f==="preserveStartEnd"?b=hhe(O,z,A,i,l,f==="preserveStartEnd"):b=fhe(O,z,A,i,l),b.filter(D=>D.isShow))}var mhe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>l&&(l=p.width)}});var c=n?n.getBoundingClientRect().width:0,f=i+s,h=l+f+c+(n?r:0);return Math.round(h)}return 0},phe=["axisLine","width","height","className","hide","ticks","axisType"];function ghe(t,e){if(t==null)return{};var n,r,i=vhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eu.apply(null,arguments)}function gM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gM(Object(n),!0).forEach(function(r){yhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yhe(t,e,n){return(e=_he(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _he(t){var e=bhe(t,"string");return typeof e=="symbol"?e:e+""}function bhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fg={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Oa.axis};function whe(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:c,otherSvgProps:f}=t;if(!c)return null;var h=cn(cn(cn({},f),Fo(c)),{},{fill:"none"});if(s==="top"||s==="bottom"){var m=+(s==="top"&&!l||s==="bottom"&&l);h=cn(cn({},h),{},{x1:e,y1:n+m*i,x2:e+r,y2:n+m*i})}else{var p=+(s==="left"&&!l||s==="right"&&l);h=cn(cn({},h),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return T.createElement("line",eu({},h,{className:En("recharts-cartesian-axis-line",jc(c,"className"))}))}function Ehe(t,e,n,r,i,s,l,c,f){var h,m,p,_,b,E,x=c?-1:1,A=t.tickSize||l,O=tt(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=m=t.coordinate,_=n+ +!c*i,p=_-x*A,E=p-x*f,b=O;break;case"left":p=_=t.coordinate,m=e+ +!c*r,h=m-x*A,b=h-x*f,E=O;break;case"right":p=_=t.coordinate,m=e+ +c*r,h=m+x*A,b=h+x*f,E=O;break;default:h=m=t.coordinate,_=n+ +c*i,p=_+x*A,E=p+x*f,b=O;break}return{line:{x1:h,y1:p,x2:m,y2:_},tick:{x:b,y:E}}}function xhe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function The(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function She(t){var{option:e,tickProps:n,value:r}=t,i,s=En(n.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(e))i=T.cloneElement(e,cn(cn({},n),{},{className:s}));else if(typeof e=="function")i=e(cn(cn({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=En(l,e==null?void 0:e.className)),i=T.createElement(QS,eu({},n,{className:l}),r)}return i}var Ahe=T.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:l,unit:c,padding:f,tickTextProps:h,orientation:m,mirror:p,x:_,y:b,width:E,height:x,tickSize:A,tickMargin:O,fontSize:z,letterSpacing:D,getTicksConfig:H,events:F,axisType:$}=t,P=dhe(cn(cn({},H),{},{ticks:n}),z,D),R=xhe(m,p),k=The(m,p),V=Fo(H),L=Xj(r),B={};typeof i=="object"&&(B=i);var U=cn(cn({},V),{},{fill:"none"},B),xe=P.map(ue=>cn({entry:ue},Ehe(ue,_,b,E,x,m,A,p,O))),Ie=xe.map(ue=>{var{entry:ie,line:pe}=ue;return T.createElement(ms,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ie.value,"-").concat(ie.coordinate,"-").concat(ie.tickCoord)},i&&T.createElement("line",eu({},U,pe,{className:En("recharts-cartesian-axis-tick-line",jc(i,"className"))})))}),Z=xe.map((ue,ie)=>{var{entry:pe,tick:me}=ue,j=cn(cn(cn(cn({textAnchor:R,verticalAnchor:k},V),{},{stroke:"none",fill:s},L),me),{},{index:ie,payload:pe,visibleTicksCount:P.length,tickFormatter:l,padding:f},h);return T.createElement(ms,eu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(pe.value,"-").concat(pe.coordinate,"-").concat(pe.tickCoord)},jT(F,pe,ie)),r&&T.createElement(She,{option:r,tickProps:j,value:"".concat(typeof l=="function"?l(pe.value,ie):pe.value).concat(c||"")}))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat($,"-ticks")},Z.length>0&&T.createElement(du,{zIndex:Oa.label},T.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat($,"-tick-labels"),ref:e},Z)),Ie.length>0&&T.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat($,"-tick-lines")},Ie))}),Che=T.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:c,axisType:f}=t,h=ghe(t,phe),[m,p]=T.useState(""),[_,b]=T.useState(""),E=T.useRef(null);T.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var A;return mhe({ticks:E.current,label:(A=t.labelRef)===null||A===void 0?void 0:A.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var x=T.useCallback(A=>{if(A){var O=A.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=O;var z=O[0];if(z){var D=window.getComputedStyle(z),H=D.fontSize,F=D.letterSpacing;(H!==m||F!==_)&&(p(H),b(F))}}},[m,_]);return l||r!=null&&r<=0||i!=null&&i<=0?null:T.createElement(du,{zIndex:t.zIndex},T.createElement(ms,{className:En("recharts-cartesian-axis",s)},T.createElement(whe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Fo(t)}),T.createElement(Ahe,{ref:x,axisType:f,events:h,fontSize:m,getTicksConfig:t,height:t.height,letterSpacing:_,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:c,unit:t.unit,width:t.width,x:t.x,y:t.y}),T.createElement(Yle,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},T.createElement(aue,{label:t.label,labelRef:t.labelRef}),t.children)))}),hU=T.forwardRef((t,e)=>{var n=Na(t,Fg);return T.createElement(Che,eu({},n,{ref:e}))});hU.displayName="CartesianAxis";var Ihe=["domain","range"],Rhe=["domain","range"];function vM(t,e){if(t==null)return{};var n,r,i=Nhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yM(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function Ohe(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=vM(t,Ihe),{domain:s,range:l}=e,c=vM(e,Rhe);return!yM(n,s)||!yM(r,l)?!1:XS(i,c)}var Phe=["dangerouslySetInnerHTML","ticks"],khe=["id"];function G1(){return G1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G1.apply(null,arguments)}function _M(t,e){if(t==null)return{};var n,r,i=Mhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Dhe(t){var e=Mn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(lce(t)):n.current!==t&&e(uce({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(cce(n.current)),n.current=null)},[e]),null}var Lhe=t=>{var{xAxisId:e,className:n}=t,r=ot(i6),i=mi(),s="xAxis",l=ot(A=>vm(A,s,e,i)),c=ot(A=>Ase(A,s,e,i)),f=ot(A=>s5(A,e)),h=ot(A=>Ese(A,e)),m=ot(A=>RV(A,e));if(f==null||h==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:_}=t,b=_M(t,Phe),{id:E}=m,x=_M(m,khe);return T.createElement(hU,G1({},b,x,{scale:l,x:h.x,y:h.y,width:f.width,height:f.height,className:En("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:c,axisType:s}))},jhe={allowDataOverflow:Rn.allowDataOverflow,allowDecimals:Rn.allowDecimals,allowDuplicatedCategory:Rn.allowDuplicatedCategory,angle:Rn.angle,axisLine:Fg.axisLine,height:Rn.height,hide:!1,includeHidden:Rn.includeHidden,interval:Rn.interval,minTickGap:Rn.minTickGap,mirror:Rn.mirror,orientation:Rn.orientation,padding:Rn.padding,reversed:Rn.reversed,scale:Rn.scale,tick:Rn.tick,tickCount:Rn.tickCount,tickLine:Fg.tickLine,tickSize:Fg.tickSize,type:Rn.type,xAxisId:0},Vhe=t=>{var e=Na(t,jhe);return T.createElement(T.Fragment,null,T.createElement(Dhe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),T.createElement(Lhe,e))},dU=T.memo(Vhe,Ohe);dU.displayName="XAxis";var Uhe=(t,e)=>e,JS=re([Uhe,yt,CV,Sn,S5,Xo,Poe,Yn],Loe),eA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},mU=fi("mouseClick"),pU=im();pU.startListening({actionCreator:mU,effect:(t,e)=>{var n=t.payload,r=JS(e.getState(),eA(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(jse({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var K1=fi("mouseMove"),gU=im(),Eg=null;gU.startListening({actionCreator:K1,effect:(t,e)=>{var n=t.payload;Eg!==null&&cancelAnimationFrame(Eg);var r=eA(n);Eg=requestAnimationFrame(()=>{var i=e.getState(),s=h5(i,i.tooltip.settings.shared);if(s==="axis"){var l=JS(i,r);(l==null?void 0:l.activeIndex)!=null?e.dispatch(v5({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(g5())}Eg=null})}});var bM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},vU=Sr({name:"rootProps",initialState:bM,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:bM.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),zhe=vU.reducer,{updateOptions:Bhe}=vU.actions,yU=Sr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Dme}=yU.actions,Fhe=yU.reducer,_U=fi("keyDown"),bU=fi("focus"),tA=im();tA.startListening({actionCreator:_U,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=zS(i,gf(n),mm(n),wm(n)),c=l==null?-1:Number(l);if(!(!Number.isFinite(c)||c<0)){var f=Xo(n);if(s==="Enter"){var h=sy(n,"axis","hover",String(i.index));e.dispatch(F1({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:h}));return}var m=Rse(n),p=m==="left-to-right"?1:-1,_=s==="ArrowRight"?1:-1,b=c+_*p;if(!(f==null||b>=f.length||b<0)){var E=sy(n,"axis","hover",String(b));e.dispatch(F1({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:E}))}}}}}});tA.startListening({actionCreator:bU,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=sy(n,"axis","hover",String(s));e.dispatch(F1({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var ai=fi("externalEvent"),wU=im(),pE=new Map;wU.startListening({actionCreator:ai,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=pE.get(i);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var c=e.getState(),f={activeCoordinate:xoe(c),activeDataKey:I5(c),activeIndex:Kc(c),activeLabel:C5(c),activeTooltipIndex:Kc(c),isTooltipActive:Toe(c)};n(f,r)}finally{pE.delete(i)}});pE.set(i,l)}}});var qhe=re([_m],t=>t.tooltipItemPayloads),Hhe=re([qhe,ym,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=e(s,n);return l}}}),EU=fi("touchMove"),xU=im();xU.startListening({actionCreator:EU,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=h5(r,r.tooltip.settings.shared);if(i==="axis"){var s=JS(r,eA({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(v5({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var l,c=n.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(c.clientX,c.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(Uee),m=(l=f.getAttribute(zee))!==null&&l!==void 0?l:void 0,p=Hhe(e.getState(),h,m);e.dispatch(p5({activeDataKey:m,activeIndex:h,activeCoordinate:p}))}}}});var $he=A3({brush:Wfe,cartesianAxis:fce,chartData:ole,errorBars:Sce,graphicalItems:tce,layout:bee,legend:kte,options:rle,polarAxis:wue,polarOptions:Fhe,referenceElements:the,rootProps:zhe,tooltip:Vse,zIndex:Qoe}),Ghe=function(e){return $J({reducer:$he,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([pU.middleware,gU.middleware,tA.middleware,wU.middleware,xU.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(B3({type:"raf"}))},devTools:om.devToolsEnabled})};function Khe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=mi(),s=T.useRef(null);if(i)return n;s.current==null&&(s.current=Ghe(e));var l=VT;return T.createElement(Yce,{context:l,store:s.current},n)}function Whe(t){var{layout:e,margin:n}=t,r=Mn(),i=mi();return T.useEffect(()=>{i||(r(vee(e)),r(gee(n)))},[r,i,e,n]),null}var Yhe=T.memo(Whe,XS);function Qhe(t){var e=Mn();return T.useEffect(()=>{e(Bhe(t))},[e,t]),null}function wM(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=eU("".concat(r).concat(e)),s=Mn();return T.useLayoutEffect(()=>(s(Woe({zIndex:e,elementId:i,isPanorama:n})),()=>{s(Yoe({zIndex:e,isPanorama:n}))}),[s,e,i,n]),T.createElement("g",{tabIndex:-1,id:i})}function EM(t){var{children:e,isPanorama:n}=t,r=ot(Voe);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),s=r.filter(l=>l>0);return T.createElement(T.Fragment,null,i.map(l=>T.createElement(wM,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>T.createElement(wM,{key:l,zIndex:l,isPanorama:n})))}var Xhe=["children"];function Zhe(t,e){if(t==null)return{};var n,r,i=Jhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function my(){return my=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},my.apply(null,arguments)}var ede={width:"100%",height:"100%",display:"block"},tde=T.forwardRef((t,e)=>{var n=pte(),r=gte(),i=Mte();if(!qo(n)||!qo(r))return null;var{children:s,otherAttributes:l,title:c,desc:f}=t,h,m;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?m=l.role:m=i?"application":void 0),T.createElement(Zj,my({},l,{title:c,desc:f,role:m,tabIndex:h,width:n,height:r,style:ede,ref:e}),s)}),nde=t=>{var{children:e}=t,n=ot(h_);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return T.createElement(Zj,{width:r,height:i,x:l,y:s},e)},xM=T.forwardRef((t,e)=>{var{children:n}=t,r=Zhe(t,Xhe),i=mi();return i?T.createElement(nde,null,T.createElement(EM,{isPanorama:!0},n)):T.createElement(tde,my({ref:e},r),T.createElement(EM,{isPanorama:!1},n))});function rde(){var t=Mn(),[e,n]=T.useState(null),r=ot(Vee);return T.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Zt(s)&&s!==r&&t(_ee(s))}},[e,t,r]),n}function TM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ide(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TM(Object(n),!0).forEach(function(r){ade(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ade(t,e,n){return(e=sde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sde(t){var e=ode(t,"string");return typeof e=="symbol"?e:e+""}function ode(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tu(){return tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tu.apply(null,arguments)}var lde=()=>(gle(),null);function py(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var ude=T.forwardRef((t,e)=>{var n,r,i=T.useRef(null),[s,l]=T.useState({containerWidth:py((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:py((r=t.style)===null||r===void 0?void 0:r.height)}),c=T.useCallback((h,m)=>{l(p=>{var _=Math.round(h),b=Math.round(m);return p.containerWidth===_&&p.containerHeight===b?p:{containerWidth:_,containerHeight:b}})},[]),f=T.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:m,height:p}=h.getBoundingClientRect();c(m,p);var _=E=>{var{width:x,height:A}=E[0].contentRect;c(x,A)},b=new ResizeObserver(_);b.observe(h),i.current=b}},[e,c]);return T.useEffect(()=>()=>{var h=i.current;h!=null&&h.disconnect()},[c]),T.createElement(T.Fragment,null,T.createElement(d_,{width:s.containerWidth,height:s.containerHeight}),T.createElement("div",tu({ref:f},t)))}),cde=T.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=T.useState({containerWidth:py(n),containerHeight:py(r)}),l=T.useCallback((f,h)=>{s(m=>{var p=Math.round(f),_=Math.round(h);return m.containerWidth===p&&m.containerHeight===_?m:{containerWidth:p,containerHeight:_}})},[]),c=T.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:h,height:m}=f.getBoundingClientRect();l(h,m)}},[e,l]);return T.createElement(T.Fragment,null,T.createElement(d_,{width:i.containerWidth,height:i.containerHeight}),T.createElement("div",tu({ref:c},t)))}),fde=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return T.createElement(T.Fragment,null,T.createElement(d_,{width:n,height:r}),T.createElement("div",tu({ref:e},t)))}),hde=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return ps(n)||ps(r)?T.createElement(cde,tu({},t,{ref:e})):T.createElement(fde,tu({},t,{ref:e}))});function dde(t){return t===!0?ude:hde}var mde=T.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:c,onMouseDown:f,onMouseEnter:h,onMouseLeave:m,onMouseMove:p,onMouseUp:_,onTouchEnd:b,onTouchMove:E,onTouchStart:x,style:A,width:O,responsive:z,dispatchTouchEvents:D=!0}=t,H=T.useRef(null),F=Mn(),[$,P]=T.useState(null),[R,k]=T.useState(null),V=rde(),L=WT(),B=(L==null?void 0:L.width)>0?L.width:O,U=(L==null?void 0:L.height)>0?L.height:i,xe=T.useCallback(ae=>{V(ae),typeof e=="function"&&e(ae),P(ae),k(ae),ae!=null&&(H.current=ae)},[V,e,P,k]),Ie=T.useCallback(ae=>{F(mU(ae)),F(ai({handler:s,reactEvent:ae}))},[F,s]),Z=T.useCallback(ae=>{F(K1(ae)),F(ai({handler:h,reactEvent:ae}))},[F,h]),ue=T.useCallback(ae=>{F(g5()),F(ai({handler:m,reactEvent:ae}))},[F,m]),ie=T.useCallback(ae=>{F(K1(ae)),F(ai({handler:p,reactEvent:ae}))},[F,p]),pe=T.useCallback(()=>{F(bU())},[F]),me=T.useCallback(ae=>{F(_U(ae.key))},[F]),j=T.useCallback(ae=>{F(ai({handler:l,reactEvent:ae}))},[F,l]),K=T.useCallback(ae=>{F(ai({handler:c,reactEvent:ae}))},[F,c]),ee=T.useCallback(ae=>{F(ai({handler:f,reactEvent:ae}))},[F,f]),he=T.useCallback(ae=>{F(ai({handler:_,reactEvent:ae}))},[F,_]),_e=T.useCallback(ae=>{F(ai({handler:x,reactEvent:ae}))},[F,x]),Te=T.useCallback(ae=>{D&&F(EU(ae)),F(ai({handler:E,reactEvent:ae}))},[F,D,E]),Re=T.useCallback(ae=>{F(ai({handler:b,reactEvent:ae}))},[F,b]),rt=dde(z);return T.createElement(Xoe.Provider,{value:$},T.createElement(UX.Provider,{value:R},T.createElement(rt,{width:B??(A==null?void 0:A.width),height:U??(A==null?void 0:A.height),className:En("recharts-wrapper",r),style:ide({position:"relative",cursor:"default",width:B,height:U},A),onClick:Ie,onContextMenu:j,onDoubleClick:K,onFocus:pe,onKeyDown:me,onMouseDown:ee,onMouseEnter:Z,onMouseLeave:ue,onMouseMove:ie,onMouseUp:he,onTouchEnd:Re,onTouchMove:Te,onTouchStart:_e,ref:xe},T.createElement(lde,null),n)))}),pde=["width","height","responsive","children","className","style","compact","title","desc"];function gde(t,e){if(t==null)return{};var n,r,i=vde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var yde=T.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:l,style:c,compact:f,title:h,desc:m}=t,p=gde(t,pde),_=Fo(p);return f?T.createElement(T.Fragment,null,T.createElement(d_,{width:n,height:r}),T.createElement(xM,{otherAttributes:_,title:h,desc:m},s)):T.createElement(mde,{className:l,style:c,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},T.createElement(xM,{otherAttributes:_,title:h,desc:m,ref:e},T.createElement(rhe,null,s)))});function W1(){return W1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W1.apply(null,arguments)}var _de={top:5,right:5,bottom:5,left:5},bde={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:_de,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},wde=T.forwardRef(function(e,n){var r,i=Na(e.categoricalChartProps,bde),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,m={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:f,eventEmitter:void 0};return T.createElement(Khe,{preloadedState:{options:m},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},T.createElement(Kfe,{chartData:h.data}),T.createElement(Yhe,{layout:i.layout,margin:i.margin}),T.createElement(Qhe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),T.createElement(yde,W1({},i,{ref:n})))}),Ede=["axis","item"],xde=T.forwardRef((t,e)=>T.createElement(wde,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ede,tooltipPayloadSearcher:tle,categoricalChartProps:t,ref:e}));const Tde=["#ef4444","#3b82f6","#eab308","#22c55e"],Sde=({question:t,answers:e,onNext:n,isLast:r})=>{const i=t.type==="SHORT_ANSWER"||t.type==="FILL_IN_THE_BLANK",s=()=>{const c=[0,0,0,0];Object.values(e).forEach(h=>{const m=h;if(m&&typeof m.index=="number"){const p=m.index;p>=0&&p<4&&c[p]++}});const f=t.options.map((h,m)=>({name:m,count:c[m],correct:m===t.correctIndex}));return C.jsx("div",{className:"w-full md:w-3/4 h-96 bg-black/20 rounded-xl p-8",children:C.jsx(mte,{width:"100%",height:"100%",children:C.jsxs(xde,{data:f,children:[C.jsx(dU,{dataKey:"name",tick:!1,axisLine:!1}),C.jsx(oU,{dataKey:"count",radius:[8,8,0,0],children:f.map((h,m)=>C.jsx(YS,{fill:Tde[m],opacity:m===t.correctIndex?1:.3},m))})]})})})},l=()=>{const c=t.options[0].toLowerCase().trim();let f=0;return Object.values(e).forEach(h=>{const m=h;m.text&&m.text.toLowerCase().trim()===c&&f++}),C.jsxs("div",{className:"w-full md:w-3/4 h-96 bg-black/20 rounded-xl p-8 flex items-center justify-center flex-col gap-4",children:[C.jsx("div",{className:"text-6xl font-black",children:f}),C.jsx("div",{className:"text-xl font-bold opacity-80 uppercase",children:"Correct Answers"})]})};return C.jsxs("div",{className:"flex flex-col h-full w-full max-w-7xl mx-auto p-8 pb-20",children:[C.jsxs("div",{className:"flex-1 flex flex-col md:flex-row gap-12 items-end mb-4",children:[i?l():s(),C.jsx("div",{className:"w-full md:w-1/4",children:C.jsxs("div",{className:"bg-white text-gray-900 p-6 rounded-xl shadow-2xl",children:[C.jsx("div",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Correct Answer"}),C.jsxs("div",{className:"flex items-start gap-3",children:[C.jsx(n1,{className:"w-8 h-8 text-green-600 shrink-0"}),C.jsx("span",{className:"text-2xl font-bold leading-tight",children:i?t.options[0]:t.options[t.correctIndex]})]})]})})]}),C.jsx("div",{className:"flex justify-end",children:C.jsx("button",{onClick:n,className:"bg-white text-[#46178f] px-12 py-4 rounded-full font-black text-2xl shadow-lg hover:scale-105 transition",children:r?"Podium":"Next"})})]})},Ade=({players:t,onNext:e,final:n=!1})=>{const i=[...t].sort((s,l)=>l.score-s.score).slice(0,5);if(n){const[s,l,c]=i;return C.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full max-w-6xl mx-auto p-6 pt-16 pb-24 animate-in fade-in duration-700 relative z-10",children:[C.jsx("h1",{className:"text-3xl md:text-5xl font-black mb-12 drop-shadow-xl text-white tracking-tight uppercase",children:"The Podium"}),C.jsxs("div",{className:"flex items-end justify-center w-full gap-4 md:gap-8 mb-8",children:[C.jsx("div",{className:"flex flex-col items-center w-1/3 md:w-1/4 animate-in slide-in-from-bottom duration-1000 delay-300 order-1",children:l&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"mb-4 text-center animate-in fade-in delay-700",children:[C.jsx("div",{className:"text-2xl md:text-3xl font-bold truncate max-w-[150px] text-shadow",children:l.name}),C.jsxs("div",{className:"text-xl opacity-80 font-mono",children:[l.score," pts"]})]}),C.jsxs("div",{className:"w-full h-40 md:h-52 bg-gradient-to-t from-gray-400 to-gray-300 rounded-t-xl shadow-2xl flex flex-col items-center justify-start pt-4 border-t-4 border-white/30 relative",children:[C.jsx("div",{className:"bg-black/20 p-3 rounded-full mb-2",children:C.jsx(Av,{className:"w-8 h-8 md:w-12 md:h-12 text-white"})}),C.jsx("span",{className:"text-6xl font-black text-black/10 absolute bottom-4",children:"2"})]})]})}),C.jsx("div",{className:"flex flex-col items-center w-1/3 md:w-1/4 z-10 animate-in slide-in-from-bottom duration-1000 order-2",children:s&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"mb-4 text-center animate-in fade-in delay-500",children:[C.jsx(jQ,{className:"w-12 h-12 text-yellow-300 mx-auto mb-2 animate-bounce drop-shadow-lg"}),C.jsx("div",{className:"text-3xl md:text-4xl font-black truncate max-w-[200px] text-shadow",children:s.name}),C.jsxs("div",{className:"text-2xl font-bold text-yellow-300 font-mono",children:[s.score," pts"]})]}),C.jsxs("div",{className:"w-full h-52 md:h-64 bg-gradient-to-t from-yellow-500 to-yellow-400 rounded-t-xl shadow-[0_0_50px_rgba(250,204,21,0.4)] flex flex-col items-center justify-start pt-6 border-t-4 border-white/30 relative",children:[C.jsx("div",{className:"bg-black/20 p-4 rounded-full mb-2",children:C.jsx(Xh,{className:"w-10 h-10 md:w-16 md:h-16 text-white"})}),C.jsx("span",{className:"text-7xl font-black text-black/10 absolute bottom-4",children:"1"})]})]})}),C.jsx("div",{className:"flex flex-col items-center w-1/3 md:w-1/4 animate-in slide-in-from-bottom duration-1000 delay-500 order-3",children:c&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"mb-4 text-center animate-in fade-in delay-1000",children:[C.jsx("div",{className:"text-2xl md:text-3xl font-bold truncate max-w-[150px] text-shadow",children:c.name}),C.jsxs("div",{className:"text-xl opacity-80 font-mono",children:[c.score," pts"]})]}),C.jsxs("div",{className:"w-full h-28 md:h-40 bg-gradient-to-t from-orange-600 to-orange-500 rounded-t-xl shadow-2xl flex flex-col items-center justify-start pt-4 border-t-4 border-white/30 relative",children:[C.jsx("div",{className:"bg-black/20 p-3 rounded-full mb-2",children:C.jsx(Av,{className:"w-8 h-8 md:w-12 md:h-12 text-white"})}),C.jsx("span",{className:"text-6xl font-black text-black/10 absolute bottom-4",children:"3"})]})]})})]}),e&&C.jsx("button",{onClick:e,className:"bg-white text-[#46178f] px-12 py-5 rounded-full font-black text-2xl shadow-2xl hover:scale-105 transition-transform border-4 border-transparent hover:border-purple-300",children:"Back to Menu"})]})}return C.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full max-w-4xl mx-auto p-4 pb-20 relative z-10",children:[C.jsx("div",{className:"bg-black/20 backdrop-blur-md px-12 py-4 rounded-2xl mb-12 shadow-xl border border-white/10",children:C.jsx("h1",{className:"text-5xl font-black drop-shadow-md uppercase tracking-wide",children:"Top 5"})}),C.jsx("div",{className:"w-full space-y-3 mb-12",children:i.map((s,l)=>C.jsxs("div",{className:"flex items-center bg-white text-gray-900 p-5 rounded-xl shadow-lg transform transition-all hover:scale-[1.02] animate-in slide-in-from-bottom duration-500 border-b-4 border-gray-200",style:{animationDelay:`${l*100}ms`},children:[C.jsxs("div",{className:"w-16 font-semibold text-3xl text-[#46178f]",children:["#",l+1]}),C.jsx("div",{className:"flex-1 font-bold text-2xl text-[#46178f]",children:s.name}),C.jsxs("div",{className:"font-black text-2xl text-gray-800",children:[s.score,s.lastAnswerCorrect&&C.jsxs("span",{className:"text-sm font-bold bg-green-100 text-green-600 px-2 py-1 rounded ml-3 align-middle",children:[" +",s.streak]})]})]},s.id))}),e&&C.jsx("button",{onClick:e,className:"bg-white hover:bg-gray-100 text-[#46178f] px-10 py-4 rounded-full font-black text-xl shadow-xl transition-all hover:-translate-y-1",children:"Next Question"})]})},Cde=async(t,e)=>{const n=`quiz_${Date.now()}`,r=bT(Zd,"users",t,"quizzes",n);return await uQ(r,{...e,createdAt:vt.now(),updatedAt:vt.now()}),n},Ide=async t=>{const e=_T(Zd,"users",t,"quizzes"),n=Lj(e,jj("createdAt","desc"));return(await zj(n)).docs.map(i=>{var s,l;return{id:i.id,...i.data(),createdAt:(s=i.data().createdAt)==null?void 0:s.toDate(),updatedAt:(l=i.data().updatedAt)==null?void 0:l.toDate()}})},Rde=async(t,e)=>{const n=bT(Zd,"users",t,"quizzes",e);await cQ(n)},Nde=["","","",""],Ode=["True","False"],Pde=({onSave:t,onCancel:e})=>{const{user:n}=Jd(),[r,i]=T.useState(""),[s,l]=T.useState([]),[c,f]=T.useState(!1),[h,m]=T.useState(null),[p,_]=T.useState(""),[b,E]=T.useState("MULTIPLE_CHOICE"),[x,A]=T.useState(20),[O,z]=T.useState([...Nde]),[D,H]=T.useState(null),[F,$]=T.useState(""),P=()=>{_(""),E("MULTIPLE_CHOICE"),A(20),z(["","","",""]),H(null),$("")},R=ie=>{E(ie),ie==="TRUE_FALSE"?(z([...Ode]),H(null),$("")):ie==="MULTIPLE_CHOICE"?(z(["","","",""]),H(null),$("")):(z([]),H(-1),$(""))},k=(ie,pe)=>{const me=[...O];me[ie]=pe,z(me)},V=b==="SHORT_ANSWER"||b==="FILL_IN_THE_BLANK",L=p.trim().length===0?!1:V?F.trim().length>0:D!==null&&O.every(ie=>ie.trim().length>0),B=()=>{let ie=[...O];return V&&(ie=[F.trim()]),{id:`q-${Date.now()}-${Math.random()}`,type:b,text:p,options:ie,correctIndex:V?-1:D,timeLimit:x}},U=()=>{L&&(l([...s,B()]),P())},xe=ie=>{l(s.filter(pe=>pe.id!==ie))},Ie=()=>{if(!r.trim()){alert("Please add a Quiz Title");return}let ie=[...s];if(L&&ie.push(B()),ie.length===0){alert("Please add at least one question");return}t({title:r,topic:"Custom",questions:ie})},Z=async()=>{if(!n){m({type:"error",text:"You must be logged in to save quizzes"});return}if(!r.trim()){m({type:"error",text:"Please add a Quiz Title"});return}let ie=[...s];if(L&&(ie.push(B()),P()),ie.length===0){m({type:"error",text:"Please add at least one question"});return}f(!0),m(null);try{await Cde(n.uid,{title:r,topic:"Custom",questions:ie}),m({type:"success",text:"Quiz saved successfully!"}),l(ie),setTimeout(()=>{m(null)},3e3)}catch(pe){console.error("Error saving quiz:",pe),m({type:"error",text:"Failed to save quiz. Please try again."})}finally{f(!1)}},ue=r.trim().length>0&&(s.length>0||L);return C.jsxs("div",{className:"flex flex-col h-screen text-white relative z-10",children:[C.jsxs("div",{className:"bg-black/20 backdrop-blur-md border-b border-white/10 p-4 flex justify-between items-center sticky top-0 z-20",children:[C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-full transition",children:C.jsx(Sv,{className:"w-6 h-6"})}),C.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[C.jsx(YO,{className:"w-5 h-5 text-purple-300"})," Quiz Creator"]})]}),C.jsxs("div",{className:"flex items-center gap-3",children:[h&&C.jsx("div",{className:`px-4 py-2 rounded-lg text-sm font-semibold ${h.type==="success"?"bg-green-500/20 text-green-300 border border-green-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"}`,children:h.text}),C.jsxs("button",{onClick:Z,disabled:!ue||c,className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-full font-bold hover:scale-105 transition-transform disabled:opacity-50 disabled:scale-100 flex items-center gap-2 shadow-lg",children:[C.jsx(UQ,{className:"w-4 h-4"})," ",c?"Saving...":"Save to Library"]}),C.jsxs("button",{onClick:Ie,disabled:!ue,className:"bg-white text-[#46178f] px-6 py-2 rounded-full font-bold hover:scale-105 transition-transform disabled:opacity-50 disabled:scale-100 flex items-center gap-2 shadow-lg",children:[C.jsx(lX,{className:"w-4 h-4"})," Save & Host"]})]})]}),C.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[C.jsxs("div",{className:"w-72 bg-black/20 backdrop-blur-sm border-r border-white/10 overflow-y-auto hidden md:flex flex-col",children:[C.jsxs("div",{className:"p-6 border-b border-white/10",children:[C.jsx("label",{className:"block text-xs font-bold text-purple-200 uppercase tracking-wider mb-2",children:"Quiz Title"}),C.jsx("input",{value:r,onChange:ie=>i(ie.target.value),placeholder:"My Awesome Quiz",className:"w-full bg-black/20 border border-white/20 rounded-lg p-3 text-white placeholder-white/30 font-bold focus:border-purple-400 focus:outline-none transition-colors"})]}),C.jsxs("div",{className:"flex-1 p-4 space-y-3 overflow-y-auto",children:[s.map((ie,pe)=>C.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-xl group relative hover:bg-white/10 transition-colors",children:[C.jsxs("div",{className:"flex justify-between items-start mb-1",children:[C.jsxs("span",{className:"text-xs font-black text-purple-300 uppercase",children:["Question ",pe+1]}),C.jsx("button",{onClick:me=>{me.stopPropagation(),xe(ie.id)},className:"text-white/30 hover:text-red-400 transition",children:C.jsx($j,{className:"w-4 h-4"})})]}),C.jsx("div",{className:"text-sm font-medium truncate opacity-80",children:ie.text}),C.jsxs("div",{className:"mt-2 flex gap-2",children:[C.jsx("span",{className:"text-[10px] bg-black/30 px-2 py-1 rounded text-white/60",children:ie.type.replace(/_/g," ")}),C.jsxs("span",{className:"text-[10px] bg-black/30 px-2 py-1 rounded text-white/60",children:[ie.timeLimit,"s"]})]})]},ie.id)),s.length===0&&C.jsx("div",{className:"text-center py-12 text-white/30 text-sm border-2 border-dashed border-white/10 rounded-xl m-2",children:"No questions yet"})]}),C.jsx("div",{className:"p-4 border-t border-white/10",children:C.jsxs("button",{onClick:U,disabled:!L,className:"w-full bg-purple-600/50 hover:bg-purple-600 text-white p-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[C.jsx(sX,{className:"w-5 h-5"})," Add Question"]})})]}),C.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 relative",children:[C.jsx("div",{className:"md:hidden mb-6",children:C.jsx("input",{value:r,onChange:ie=>i(ie.target.value),placeholder:"Enter Quiz Title...",className:"w-full bg-transparent border-b border-white/20 py-2 text-2xl font-black text-white placeholder-white/30 focus:border-purple-400 focus:outline-none"})}),C.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 pb-20",children:[C.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-white/10",children:C.jsx("textarea",{value:p,onChange:ie=>_(ie.target.value),placeholder:b==="FILL_IN_THE_BLANK"?"The capital of France is ___":"Start typing your question...",className:"w-full bg-transparent text-2xl md:text-4xl font-semibold text-center text-white placeholder-white/50 outline-none resize-none h-32"})}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[C.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:[C.jsx("label",{className:"text-xs font-bold text-purple-200 uppercase tracking-wider mb-3 block",children:"Question Type"}),C.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{id:"MULTIPLE_CHOICE",label:"Quiz",icon:YO},{id:"TRUE_FALSE",label:"True/False",icon:vX},{id:"SHORT_ANSWER",label:"Short Answer",icon:EX},{id:"FILL_IN_THE_BLANK",label:"Fill Blank",icon:BQ}].map(ie=>C.jsxs("button",{onClick:()=>R(ie.id),className:`flex items-center justify-center gap-2 p-3 rounded-lg text-sm font-bold transition-all ${b===ie.id?"bg-white text-[#46178f] shadow-lg scale-105":"bg-black/20 text-white/60 hover:bg-black/30 hover:text-white"}`,children:[C.jsx(ie.icon,{className:"w-4 h-4"})," ",ie.label]},ie.id))})]}),C.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:[C.jsx("label",{className:"text-xs font-bold text-purple-200 uppercase tracking-wider mb-3 block",children:"Time Limit"}),C.jsx("div",{className:"grid grid-cols-4 gap-2",children:[10,20,30,60].map(ie=>C.jsxs("button",{onClick:()=>A(ie),className:`p-3 rounded-lg text-sm font-bold transition-all ${x===ie?"bg-white text-[#46178f] shadow-lg":"bg-black/20 text-white/60 hover:bg-black/30 hover:text-white"}`,children:[ie,"s"]},ie))})]})]}),C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"text-center",children:[C.jsx("h3",{className:"text-xl font-bold flex items-center justify-center gap-2",children:V?"Set Correct Answer":"Set Options"}),C.jsx("p",{className:"text-white/80 text-sm font-semibold",children:V?"Players must type this exactly":"Click the circle to mark correct answer"})]}),V?C.jsxs("div",{className:"bg-white/10 backdrop-blur-md p-8 rounded-3xl border border-white/20 shadow-2xl",children:[C.jsx("input",{value:F,onChange:ie=>$(ie.target.value),placeholder:"Type the correct answer here...",className:"w-full bg-black/20 border-2 border-white/10 rounded-xl p-6 text-center text-3xl font-semibold text-white placeholder-white/50 focus:border-green-400 focus:bg-black/40 outline-none transition-all"}),C.jsx("div",{className:"mt-4 flex justify-center",children:C.jsx("span",{className:"bg-green-500/20 text-green-300 px-4 py-1 rounded-full text-xs font-bold uppercase tracking-wider border border-green-500/30",children:"Case Insensitive Match"})})]}):C.jsx("div",{className:`grid gap-4 ${b==="TRUE_FALSE"?"grid-cols-2":"grid-cols-1 md:grid-cols-2"}`,children:O.map((ie,pe)=>{const me=D===pe,K=b==="TRUE_FALSE"?pe===0?"bg-blue-600":"bg-red-600":["bg-red-500","bg-blue-500","bg-yellow-500","bg-green-500"][pe];return C.jsx("div",{className:`relative group transition-transform duration-200 ${me?"scale-[1.02]":""}`,children:C.jsxs("div",{className:`flex items-center rounded-2xl overflow-hidden shadow-lg border-2 ${me?"border-white":"border-transparent"}`,children:[C.jsx("div",{className:`w-14 h-full flex items-center justify-center ${K} min-h-[80px]`,children:C.jsx("span",{className:"text-2xl font-bold text-white/90",children:b==="TRUE_FALSE"?pe===0?"T":"F":["","","",""][pe]})}),C.jsxs("div",{className:"flex-1 bg-white relative",children:[C.jsx("input",{value:ie,onChange:ee=>k(pe,ee.target.value),readOnly:b==="TRUE_FALSE",placeholder:`Option ${pe+1}`,className:`w-full h-full p-4 text-gray-900 font-semibold text-lg outline-none placeholder-gray-400 ${b==="TRUE_FALSE"?"cursor-default":""}`}),C.jsx("button",{onClick:()=>H(pe),className:`absolute right-2 top-1/2 -translate-y-1/2 p-2 rounded-full transition-all ${me?"text-green-500 scale-110":"text-gray-300 hover:text-gray-400"}`,children:me?C.jsx(PQ,{className:"w-8 h-8 fill-current"}):C.jsx(OT,{className:"w-8 h-8"})})]})]})},pe)})})]})]})]})]})]})},SM=async(t,e,n,r,i,s)=>{const l=[...r].sort((m,p)=>p.score-m.score),c={userId:t,quizTitle:e.title,quizId:s,gamePin:n,startedAt:new Date(i),endedAt:new Date,totalPlayers:r.length,players:l.map((m,p)=>({id:m.id,name:m.name,avatar:m.avatar,score:m.score,rank:p+1,correctAnswers:m.streak||0,totalAnswers:e.questions.length})),questions:e.questions.map(m=>({text:m.text,type:m.type,correctAnswers:0,totalAnswers:r.length}))},f=_T(Zd,"users",t,"gameHistory");return(await fQ(f,{...c,startedAt:vt.fromDate(c.startedAt),endedAt:vt.fromDate(c.endedAt)})).id},kde=async(t,e)=>{const n=_T(Zd,"users",t,"gameHistory"),r=Lj(n,aQ("quizId","==",e),jj("endedAt","desc"));return(await zj(r)).docs.map(s=>{var l,c;return{id:s.id,...s.data(),startedAt:(l=s.data().startedAt)==null?void 0:l.toDate(),endedAt:(c=s.data().endedAt)==null?void 0:c.toDate()}})},Mde=t=>{const e=[...t];for(let n=e.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[e[n],e[r]]=[e[r],e[n]]}return e},AM=t=>({...t,questions:Mde(t.questions)}),Dde=(t,e)=>{const n=e-t,r=Math.floor(n/6e4),i=Math.floor(n%6e4/1e3);return`${r}m ${i}s`},Lde=({onLoadQuiz:t,onBack:e})=>{const{user:n}=Jd(),[r,i]=T.useState([]),[s,l]=T.useState(!0),[c,f]=T.useState(""),[h,m]=T.useState(null),[p,_]=T.useState(null),[b,E]=T.useState([]),[x,A]=T.useState(!1),[O,z]=T.useState(null);T.useEffect(()=>{D()},[n]);const D=async()=>{if(n){l(!0);try{const R=await Ide(n.uid);i(R)}catch(R){console.error("Error loading quizzes:",R)}finally{l(!1)}}},H=async R=>{if(n)try{await Rde(n.uid,R),i(r.filter(k=>k.id!==R)),m(null)}catch(k){console.error("Error deleting quiz:",k)}},F=async R=>{if(n){_(R),A(!0);try{const k=await kde(n.uid,R);E(k)}catch(k){console.error("Error loading quiz history:",k)}finally{A(!1)}}},$=R=>{z(O===R?null:R)},P=r.filter(R=>R.title.toLowerCase().includes(c.toLowerCase())||R.topic.toLowerCase().includes(c.toLowerCase()));if(s)return C.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-white",children:C.jsx("div",{className:"text-2xl",children:"Loading your quizzes..."})});if(p){const R=r.find(k=>k.id===p);return C.jsx("div",{className:"flex flex-col min-h-screen p-4 text-white relative z-10",children:C.jsx("div",{className:"max-w-6xl w-full mx-auto",children:C.jsxs("div",{className:"bg-white/10 backdrop-blur-xl p-8 rounded-3xl shadow-2xl border border-white/20",children:[C.jsxs("div",{className:"flex items-center justify-between mb-8",children:[C.jsxs("button",{onClick:()=>_(null),className:"flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-all duration-200",children:[C.jsx(Sv,{className:"w-5 h-5"}),C.jsx("span",{children:"Back to Quizzes"})]}),C.jsxs("div",{className:"text-center",children:[C.jsx("h1",{className:"text-3xl font-bold",children:R==null?void 0:R.title}),C.jsx("p",{className:"text-white/70",children:"Game History"})]}),C.jsx("div",{className:"w-32"})]}),x?C.jsx("div",{className:"text-center py-16",children:C.jsx("div",{className:"text-xl",children:"Loading history..."})}):b.length===0?C.jsxs("div",{className:"text-center py-16",children:[C.jsx("p",{className:"text-xl text-white/70 mb-4",children:"No games played yet."}),C.jsx("p",{className:"text-white/50",children:"Host this quiz to see game reports here!"})]}):C.jsx("div",{className:"space-y-4",children:b.map(k=>C.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl overflow-hidden hover:bg-white/10 transition-all duration-200",children:[C.jsxs("div",{className:"p-6 cursor-pointer",onClick:()=>$(k.id),children:[C.jsxs("div",{className:"flex items-start justify-between mb-4",children:[C.jsx("div",{children:C.jsxs("div",{className:"flex items-center gap-4 text-sm text-white/70",children:[C.jsxs("span",{className:"flex items-center gap-1",children:[C.jsx(SQ,{className:"w-4 h-4"}),k.endedAt.toLocaleDateString()," at ",k.endedAt.toLocaleTimeString()]}),C.jsxs("span",{className:"flex items-center gap-1",children:[C.jsx(DQ,{className:"w-4 h-4"}),Dde(k.startedAt.getTime(),k.endedAt.getTime())]})]})}),C.jsxs("div",{className:"text-right",children:[C.jsxs("div",{className:"flex items-center gap-2 text-white/70 mb-1",children:[C.jsx(Kj,{className:"w-4 h-4"}),C.jsxs("span",{children:[k.totalPlayers," Players"]})]}),C.jsxs("div",{className:"text-xs text-white/50",children:["PIN: ",k.gamePin]})]})]}),C.jsx("div",{className:"flex items-center gap-3 mb-4",children:k.players.slice(0,3).map((V,L)=>C.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${L===0?"bg-yellow-500/20":L===1?"bg-gray-400/20":"bg-orange-600/20"}`,children:[V.avatar.startsWith("data:")?C.jsx("img",{src:V.avatar,alt:V.name,className:"w-6 h-6 rounded-full"}):C.jsx("span",{className:"text-xl",children:V.avatar}),C.jsx("span",{className:"font-semibold",children:V.name}),C.jsx("span",{className:"text-sm text-white/70",children:V.score})]},V.id))}),C.jsx("div",{className:"flex items-center justify-center text-white/50",children:O===k.id?C.jsx(NQ,{className:"w-5 h-5"}):C.jsx(IQ,{className:"w-5 h-5"})})]}),O===k.id&&C.jsxs("div",{className:"border-t border-white/10 p-6 bg-black/20",children:[C.jsxs("h4",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[C.jsx(Xh,{className:"w-5 h-5 text-yellow-400"}),"Final Rankings"]}),C.jsx("div",{className:"space-y-2",children:k.players.map(V=>C.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${V.rank===1?"bg-yellow-500 text-black":V.rank===2?"bg-gray-400 text-black":V.rank===3?"bg-orange-600 text-white":"bg-white/10 text-white"}`,children:V.rank}),V.avatar.startsWith("data:")?C.jsx("img",{src:V.avatar,alt:V.name,className:"w-10 h-10 rounded-full"}):C.jsx("span",{className:"text-2xl",children:V.avatar}),C.jsxs("div",{children:[C.jsx("div",{className:"font-bold",children:V.name}),C.jsxs("div",{className:"text-sm text-white/50",children:[V.correctAnswers,"/",V.totalAnswers," correct"]})]})]}),C.jsx("div",{className:"text-2xl font-bold",children:V.score})]},V.id))})]})]},k.id))})]})})})}return C.jsx("div",{className:"flex flex-col min-h-screen p-4 text-white relative z-10",children:C.jsx("div",{className:"max-w-6xl w-full mx-auto",children:C.jsxs("div",{className:"bg-white/10 backdrop-blur-xl p-8 rounded-3xl shadow-2xl border border-white/20",children:[C.jsxs("div",{className:"flex items-center justify-between mb-8",children:[C.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-all duration-200",children:[C.jsx(Sv,{className:"w-5 h-5"}),C.jsx("span",{children:"Back"})]}),C.jsx("h1",{className:"text-4xl font-bold",children:"My Quizzes"}),C.jsx("div",{className:"w-24"})]}),C.jsx("div",{className:"mb-6",children:C.jsxs("div",{className:"relative",children:[C.jsx(cX,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/50"}),C.jsx("input",{type:"text",placeholder:"Search quizzes...",value:c,onChange:R=>f(R.target.value),className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/50 focus:outline-none focus:border-white/40"})]})}),P.length===0?C.jsxs("div",{className:"text-center py-16",children:[C.jsx("p",{className:"text-xl text-white/70 mb-4",children:c?"No quizzes found matching your search.":"No saved quizzes yet."}),C.jsx("p",{className:"text-white/50",children:!c&&"Create your first quiz to get started!"})]}):C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(R=>C.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-6 hover:bg-white/10 transition-all duration-200",children:[C.jsx("h3",{className:"text-xl font-bold mb-2 truncate",children:R.title}),C.jsxs("p",{className:"text-white/70 text-sm mb-1",children:["Topic: ",R.topic]}),C.jsxs("p",{className:"text-white/70 text-sm mb-4",children:[R.questions.length," question",R.questions.length!==1?"s":""]}),C.jsxs("p",{className:"text-white/50 text-xs mb-4",children:["Created: ",R.createdAt.toLocaleDateString()]}),C.jsxs("div",{className:"flex gap-2",children:[C.jsxs("button",{onClick:()=>t(R),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg transition-all duration-200",children:[C.jsx(PT,{className:"w-4 h-4"}),C.jsx("span",{children:"Load"})]}),C.jsx("button",{onClick:()=>F(R.id),className:"px-3 py-2 bg-purple-600/80 hover:bg-purple-600 rounded-lg transition-all duration-200",title:"View game history",children:C.jsx(GQ,{className:"w-4 h-4"})}),h===R.id?C.jsxs("div",{className:"flex gap-2",children:[C.jsx("button",{onClick:()=>H(R.id),className:"px-3 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm",children:"Confirm"}),C.jsx("button",{onClick:()=>m(null),className:"px-3 py-2 bg-white/10 hover:bg-white/20 rounded-lg text-sm",children:"Cancel"})]}):C.jsx("button",{onClick:()=>m(R.id),className:"px-3 py-2 bg-red-600/80 hover:bg-red-600 rounded-lg transition-all duration-200",children:C.jsx($j,{className:"w-4 h-4"})})]})]},R.id))})]})})})},jde=({pin:t,players:e,onStart:n,onBack:r,onExit:i})=>{const[s,l]=T.useState(!1),c=()=>{i&&i()};return C.jsxs("div",{className:"flex flex-col h-screen w-full p-8 relative z-10",children:[C.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r&&C.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-6 py-3 bg-white/10 hover:bg-white/20 rounded-xl transition-all duration-200 border border-white/20 text-white font-bold",children:[C.jsx(Sv,{className:"w-5 h-5"}),C.jsx("span",{children:"Back to Dashboard"})]}),C.jsx("div",{className:"flex-1"}),i&&(s?C.jsxs("div",{className:"flex items-center gap-3 bg-red-500/20 backdrop-blur-md px-4 py-3 rounded-xl border border-red-500/30",children:[C.jsx("span",{className:"text-white font-semibold",children:"Exit quiz?"}),C.jsx("button",{onClick:c,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-white font-bold transition-all",children:"Yes, Exit"}),C.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg text-white font-bold transition-all",children:"Cancel"})]}):C.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-6 py-3 bg-red-600/80 hover:bg-red-600 rounded-xl transition-all duration-200 border border-red-500/30 text-white font-bold",children:[C.jsx(r1,{className:"w-5 h-5"}),C.jsx("span",{children:"Exit Quiz"})]}))]}),C.jsxs("div",{className:"flex justify-center items-center mb-12 relative",children:[C.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 p-8 rounded-3xl text-center shadow-2xl animate-in slide-in-from-top",children:[C.jsx("p",{className:"text-xl font-semibold opacity-80 mb-2 uppercase tracking-widest",children:"Game PIN"}),C.jsx("div",{className:"bg-white text-[#46178f] px-8 py-2 rounded-xl inline-block transform -rotate-2 hover:rotate-0 transition-transform duration-300",children:C.jsx("p",{className:"text-7xl font-black tracking-widest drop-shadow-sm",children:t})})]}),C.jsxs("div",{className:"absolute right-0 bg-black/20 backdrop-blur-md px-8 py-4 rounded-2xl flex items-center gap-4 border border-white/10 animate-in slide-in-from-right",children:[C.jsx(Kj,{className:"w-8 h-8 opacity-80"}),C.jsx("span",{className:"text-4xl font-black",children:e.length})]})]}),C.jsx("div",{className:"flex-1 w-full relative overflow-hidden",children:C.jsxs("div",{className:"flex flex-wrap gap-4 content-start h-full p-4 overflow-y-auto",children:[e.map((f,h)=>{var x;const m=["rotate-1","-rotate-2","rotate-3","-rotate-1"],p=["bg-red-500","bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500","bg-pink-500"],_=m[h%m.length],b=p[h%p.length],E=(x=f.avatar)==null?void 0:x.startsWith("data:image");return C.jsxs("div",{className:`${b} text-white font-black px-6 py-4 rounded-xl shadow-lg transform ${_} hover:scale-110 hover:z-10 hover:rotate-0 transition-all duration-300 animate-in zoom-in flex items-center gap-3 border-2 border-white/20`,style:{animationDelay:`${h*100}ms`},children:[f.avatar&&(E?C.jsx("img",{src:f.avatar,alt:f.name,className:"w-10 h-10 rounded-full object-cover border-2 border-white/50"}):C.jsx("span",{className:"text-3xl",children:f.avatar})),C.jsx("span",{className:"text-xl text-shadow",children:f.name}),C.jsx("div",{className:"bg-black/20 px-2 py-1 rounded text-sm font-bold",children:f.score})]},f.id)}),e.length===0&&C.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center opacity-40 animate-pulse",children:[C.jsx("div",{className:"w-24 h-24 bg-white/20 rounded-full flex items-center justify-center mb-4",children:C.jsx(tX,{className:"w-10 h-10"})}),C.jsx("p",{className:"text-3xl font-black",children:"Waiting for players..."})]})]})}),C.jsxs("div",{className:"w-full flex justify-between items-center mt-6",children:[C.jsx("div",{className:"text-sm font-bold opacity-50",children:"Waiting for host to start..."}),C.jsxs("button",{onClick:n,disabled:e.length===0,className:`px-12 py-5 rounded-full text-2xl font-black shadow-2xl flex items-center gap-3 transition-all transform hover:-translate-y-1 active:translate-y-0 ${e.length>0?"bg-white text-[#46178f] hover:shadow-white/20 cursor-pointer":"bg-black/20 text-white/20 cursor-not-allowed"}`,children:["Start Game ",C.jsx(PT,{className:"w-6 h-6 fill-current"})]})]})]})},Vde=async t=>{const e=Ia(Ra,`games/${t}`);await $d(e,{pin:t,createdAt:Date.now(),players:{},hostState:null})},Ude=async(t,e)=>{const n=Ia(Ra,`games/${t}/players/${e.id}`);await $d(n,e)},CM=async(t,e)=>{const n=Ia(Ra,`games/${t}/hostState`);await $d(n,e)},zde=(t,e)=>{const n=Ia(Ra,`games/${t}/hostState`);return Kx(n,r=>{e(r.val())})},Bde=(t,e)=>{const n=Ia(Ra,`games/${t}/players`);return Kx(n,r=>{const i=r.val(),s=i?Object.values(i):[];e(s)})},IM=async(t,e,n)=>{const r=Ia(Ra,`games/${t}/answers/${e}`);await $d(r,n)},Fde=(t,e)=>{const n=Ia(Ra,`games/${t}/answers`);return Kx(n,r=>{e(r.val()||{})})},qde=async t=>{const e=Ia(Ra,`games/${t}/answers`);await s4(e)},Hde=async t=>{const e=Ia(Ra,`games/${t}`);await s4(e)},qg=async t=>{const e=Ia(Ra,`games/${t}`);return(await LG(e)).exists()},Cl="quiz_host_session",$de=()=>{const{user:t,logout:e}=Jd(),n=kd(),[r,i]=T.useState(Fe.MENU),[s,l]=T.useState("SELECTION"),[c,f]=T.useState(0),[h,m]=T.useState(void 0),[p,_]=T.useState(""),[b,E]=T.useState(null),[x,A]=T.useState([]),[O,z]=T.useState(0),[D,H]=T.useState({}),[F,$]=T.useState(0),[P,R]=T.useState(!0);T.useEffect(()=>{const me=async()=>{try{const K=localStorage.getItem(Cl);if(K){const ee=JSON.parse(K);await qg(ee.pin)?(_(ee.pin),E(ee.quiz),i(ee.gameState),z(ee.currentQuestionIndex),A(ee.players),f(ee.gameStartTime||0),m(ee.currentQuizId),console.log("Host session restored successfully")):(localStorage.removeItem(Cl),console.log("Game no longer exists, session cleared"))}}catch(K){console.error("Error restoring host session:",K),localStorage.removeItem(Cl)}finally{R(!1)}},j=setTimeout(()=>{console.log("Session restoration timeout"),R(!1)},5e3);return me().then(()=>clearTimeout(j)),()=>clearTimeout(j)},[]),T.useEffect(()=>{if(r!==Fe.MENU&&p&&b){const me={pin:p,quiz:b,gameState:r,currentQuestionIndex:O,players:x,gameStartTime:c,currentQuizId:h};localStorage.setItem(Cl,JSON.stringify(me))}},[r,p,b,O,x,c,h]),T.useEffect(()=>{if(r===Fe.FINISH){(async()=>{if(t&&b&&c&&x.length>0)try{await SM(t.uid,b,p,x,c,h),console.log("Game history saved successfully on finish")}catch(K){console.error("Error saving game history on finish:",K)}})();const j=setTimeout(()=>{localStorage.removeItem(Cl),console.log("Host session cleared after game end")},5e3);return()=>clearTimeout(j)}},[r,t,b,c,x,p,h]),T.useEffect(()=>{if(p&&r===Fe.LOBBY){const me=Bde(p,j=>{A(j)});return()=>{me()}}},[p,r]),T.useEffect(()=>{if(p&&r===Fe.QUESTION){const me=Fde(p,j=>{const K={};Object.entries(j).forEach(([ee,he])=>{K[ee]={index:he.answerIndex,text:he.answerText,timeRemaining:he.timeRemaining}}),H(K)});return()=>{me()}}},[p,r]);const k=T.useCallback(async me=>{if(!p)return;const j=b==null?void 0:b.questions[O],K=r===Fe.REVEAL&&j?{correctIndex:j.correctIndex,correctText:j.correctIndex===-1?j.options[0]:null}:null,ee={pin:p,gameState:(me==null?void 0:me.gameState)||r,players:x.map(he=>{const{lastAnswerCorrect:_e,...Te}=he;return Te}),...me};F!=null&&(ee.timeLeft=F),j&&(ee.currentQuestion=j),K&&(ee.resultInfo=K),console.log("Broadcasting state:",ee),await CM(p,ee)},[p,r,b,O,F,x]);T.useEffect(()=>{r!==Fe.MENU&&k()},[r,x,F,O,k]);const V=me=>{const j=AM(me);E(j),m(void 0),B()},L=me=>{const j=AM(me);E(j),m(me.id),l("SELECTION"),B()},B=async()=>{const me=Math.floor(1e5+Math.random()*9e5).toString();_(me),await Vde(me),i(Fe.LOBBY),setTimeout(()=>{CM(me,{pin:me,gameState:Fe.LOBBY,players:[]})},100)},U=()=>{f(Date.now()),i(Fe.QUESTION),z(0)},xe=()=>{i(Fe.REVEAL);const me=b.questions[O],j=me.timeLimit;A(K=>K.map(ee=>{const he=D[ee.id];let _e=!1,Te=0;if(he){if(me.correctIndex!==-1)_e=he.index===me.correctIndex;else{const rt=me.options[0].toLowerCase().trim(),ae=(he.text||"").toLowerCase().trim();_e=rt===ae}Te=he.timeRemaining||0}let Re=0;if(_e){const ae=Math.round(Te/j*500),Me=ee.streak*100;Re=500+ae+Me}return{...ee,score:ee.score+Re,streak:_e?ee.streak+1:0,lastAnswerCorrect:_e}}))},Ie=async()=>{if(p&&await qde(p),H({}),r===Fe.REVEAL)i(Fe.LEADERBOARD);else if(r===Fe.LEADERBOARD)if(O<b.questions.length-1){const me=O+1;z(me),i(Fe.QUESTION)}else i(Fe.FINISH)},Z=async()=>{if(t&&b&&c&&x.length>0&&r===Fe.LOBBY)try{await SM(t.uid,b,p,x,c,h),console.log("Game history saved successfully on exit")}catch(me){console.error("Error saving game history:",me)}if(p)try{await Hde(p),console.log("Game deleted from Firebase")}catch(me){console.error("Error deleting game:",me)}localStorage.removeItem(Cl),i(Fe.MENU),l("SELECTION"),A([]),E(null),_(""),H({}),z(0),f(0),m(void 0)},ue=async()=>{await e(),n("/login")},ie=()=>{};if(P)return C.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-white relative z-10",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:[C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"animate-spin text-white/50 mb-4 inline-block",children:C.jsxs("svg",{className:"w-12 h-12",viewBox:"0 0 24 24",children:[C.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),C.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),C.jsx("p",{className:"text-xl font-bold",children:"Restoring session..."})]}),C.jsx(or,{})]});if(r===Fe.MENU)return s==="MANUAL_SETUP"?C.jsx(Pde,{onSave:V,onCancel:()=>l("SELECTION")}):s==="QUIZ_LIBRARY"?C.jsx(Lde,{onLoadQuiz:L,onBack:()=>l("SELECTION")}):C.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-white relative z-10",children:[s==="SELECTION"&&C.jsxs("div",{className:"bg-white/10 backdrop-blur-xl p-10 rounded-3xl shadow-2xl max-w-2xl w-full border border-white/20 animate-in zoom-in duration-300",children:[C.jsxs("div",{className:"flex justify-between items-center mb-8",children:[C.jsxs("div",{className:"text-sm opacity-70",children:["Logged in as: ",C.jsx("span",{className:"font-semibold",children:t==null?void 0:t.email})]}),C.jsxs("button",{onClick:ue,className:"flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-all duration-200 border border-white/20",children:[C.jsx(QQ,{className:"w-4 h-4"}),C.jsx("span",{children:"Logout"})]})]}),C.jsxs("div",{className:"text-center mb-12",children:[C.jsx("h1",{className:"text-5xl font-semibold mb-4 tracking-tight",children:"Host Dashboard"}),C.jsx("p",{className:"text-white/70 text-xl font-medium",children:"Ready to challenge your players?"})]}),C.jsxs("div",{className:"flex flex-col gap-4",children:[(()=>{var j;const me=localStorage.getItem(Cl);if(me)try{const K=JSON.parse(me);return C.jsx("button",{onClick:()=>{window.location.reload()},className:"group w-full bg-gradient-to-br from-green-600/80 to-emerald-600/80 hover:from-green-600 hover:to-emerald-600 text-left p-8 rounded-2xl border border-white/10 hover:border-white/50 transition-all duration-300 shadow-xl hover:shadow-green-500/50 hover:-translate-y-1 animate-pulse",children:C.jsxs("div",{className:"flex items-center gap-6",children:[C.jsx("div",{className:"bg-white w-20 h-20 rounded-2xl flex items-center justify-center shadow-inner group-hover:scale-110 transition-transform shrink-0",children:C.jsx(PT,{className:"w-10 h-10 text-green-600"})}),C.jsxs("div",{children:[C.jsx("h3",{className:"text-3xl font-semibold mb-2",children:"Resume Game"}),C.jsxs("p",{className:"text-green-100 group-hover:text-white text-lg leading-tight",children:["Continue your active game: ",((j=K.quiz)==null?void 0:j.title)||"Quiz"," (PIN: ",K.pin,")"]})]})]})})}catch{return null}return null})(),C.jsx("button",{onClick:()=>l("MANUAL_SETUP"),className:"group w-full bg-gradient-to-br from-blue-600/80 to-purple-600/80 hover:from-blue-600 hover:to-purple-600 text-left p-8 rounded-2xl border border-white/10 hover:border-white/50 transition-all duration-300 shadow-xl hover:shadow-purple-500/50 hover:-translate-y-1",children:C.jsxs("div",{className:"flex items-center gap-6",children:[C.jsx("div",{className:"bg-white w-20 h-20 rounded-2xl flex items-center justify-center shadow-inner group-hover:scale-110 transition-transform shrink-0",children:C.jsx(rX,{className:"w-10 h-10 text-blue-600"})}),C.jsxs("div",{children:[C.jsx("h3",{className:"text-3xl font-semibold mb-2",children:"Create New Quiz"}),C.jsx("p",{className:"text-blue-100 group-hover:text-white text-lg leading-tight",children:"Design custom questions, set timers, and host your game."})]})]})}),C.jsx("button",{onClick:()=>l("QUIZ_LIBRARY"),className:"group w-full bg-gradient-to-br from-green-600/80 to-teal-600/80 hover:from-green-600 hover:to-teal-600 text-left p-8 rounded-2xl border border-white/10 hover:border-white/50 transition-all duration-300 shadow-xl hover:shadow-green-500/50 hover:-translate-y-1",children:C.jsxs("div",{className:"flex items-center gap-6",children:[C.jsx("div",{className:"bg-white w-20 h-20 rounded-2xl flex items-center justify-center shadow-inner group-hover:scale-110 transition-transform shrink-0",children:C.jsx(xQ,{className:"w-10 h-10 text-green-600"})}),C.jsxs("div",{children:[C.jsx("h3",{className:"text-3xl font-semibold mb-2",children:"My Quiz Library"}),C.jsx("p",{className:"text-green-100 group-hover:text-white text-lg leading-tight",children:"Load and host your saved quizzes."})]})]})})]})]}),C.jsx(or,{})]});if(r===Fe.LOBBY)return C.jsx(jde,{pin:p,players:x,onStart:U,onAddFakePlayer:ie,onBack:()=>{R(!0),setTimeout(()=>{i(Fe.MENU),l("SELECTION"),R(!1)},100)},onExit:()=>{Z()}});const pe=Object.keys(D).length;return C.jsxs("div",{className:"h-screen flex flex-col relative z-10 pb-16",children:[C.jsxs("header",{className:"px-6 py-4 flex justify-between items-center bg-black/10 backdrop-blur-sm border-b border-white/5",children:[C.jsx("span",{className:"font-bold text-lg opacity-80",children:b==null?void 0:b.title}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"text-sm font-bold opacity-60 uppercase",children:"Game PIN:"}),C.jsx("span",{className:"font-black text-xl bg-white text-[#46178f] px-3 py-1 rounded shadow",children:p})]})]}),C.jsxs("main",{className:"flex-1 relative overflow-hidden flex flex-col",children:[r===Fe.QUESTION&&b&&C.jsx(RX,{question:b.questions[O],currentQuestionIndex:O,totalQuestions:b.questions.length,answersCount:pe,onTimerEnd:xe,onTimerTick:me=>$(me)}),r===Fe.REVEAL&&b&&C.jsx(Sde,{question:b.questions[O],answers:D,onNext:Ie,isLast:O===b.questions.length-1}),(r===Fe.LEADERBOARD||r===Fe.FINISH)&&C.jsx(Ade,{players:x,onNext:r===Fe.FINISH?Z:Ie,final:r===Fe.FINISH})]}),C.jsx(or,{})]})},Gde=[{color:"bg-red-500",icon:Gj,shadow:"shadow-red-900"},{color:"bg-blue-500",icon:qj,shadow:"shadow-blue-900"},{color:"bg-yellow-500",icon:OT,shadow:"shadow-yellow-900"},{color:"bg-green-500",icon:Hj,shadow:"shadow-green-900"}],RM=[{emoji:"",color:"bg-gradient-to-br from-blue-400 to-blue-600",name:"Penguin"},{emoji:"",color:"bg-gradient-to-br from-orange-400 to-orange-600",name:"Fox"},{emoji:"",color:"bg-gradient-to-br from-amber-600 to-amber-800",name:"Bear"},{emoji:"",color:"bg-gradient-to-br from-gray-300 to-gray-600",name:"Panda"},{emoji:"",color:"bg-gradient-to-br from-yellow-500 to-orange-600",name:"Lion"},{emoji:"",color:"bg-gradient-to-br from-green-400 to-green-600",name:"Frog"},{emoji:"",color:"bg-gradient-to-br from-pink-400 to-purple-600",name:"Unicorn"},{emoji:"",color:"bg-gradient-to-br from-purple-400 to-purple-700",name:"Octopus"},{emoji:"",color:"bg-gradient-to-br from-green-500 to-green-700",name:"Dino"},{emoji:"",color:"bg-gradient-to-br from-orange-300 to-orange-500",name:"Cat"},{emoji:"",color:"bg-gradient-to-br from-amber-400 to-amber-600",name:"Dog"},{emoji:"",color:"bg-gradient-to-br from-pink-300 to-pink-500",name:"Bunny"}],ho="quiz_player_session",Kde=()=>{var me;const[t,e]=T.useState(!1),[n,r]=T.useState(""),[i,s]=T.useState(""),[l,c]=T.useState(0),[f,h]=T.useState(null),[m,p]=T.useState(!1),[_,b]=T.useState(()=>{const j=localStorage.getItem(ho);return j?JSON.parse(j).playerId:`player-${Math.random().toString(36).substr(2,9)}`}),[E,x]=T.useState(!0),[A,O]=T.useState(null),[z,D]=T.useState(!1),[H,F]=T.useState(null),[$,P]=T.useState(!1),[R,k]=T.useState(""),[V,L]=T.useState(null),B=Vl.useRef(null),U=Vl.useRef(null);T.useEffect(()=>{const j=async()=>{try{const ee=localStorage.getItem(ho);if(ee){const he=JSON.parse(ee);await qg(he.gamePin)?(b(he.playerId),r(he.playerName),s(he.gamePin),c(he.selectedAvatar),h(he.customPhoto),e(!0),console.log("Session restored successfully with playerId:",he.playerId)):(localStorage.removeItem(ho),console.log("Game no longer exists, session cleared"))}}catch(ee){console.error("Error restoring session:",ee),localStorage.removeItem(ho)}finally{x(!1)}},K=setTimeout(()=>{console.log("Player session restoration timeout"),x(!1)},3e3);return j().then(()=>clearTimeout(K)),()=>clearTimeout(K)},[]),T.useEffect(()=>{if(t&&i&&n){const j={playerId:_,playerName:n,gamePin:i,selectedAvatar:l,customPhoto:f,hasJoined:!0};localStorage.setItem(ho,JSON.stringify(j))}},[t,i,n,_,l,f]),T.useEffect(()=>{if((A==null?void 0:A.gameState)===Fe.FINISH){const j=setTimeout(()=>{localStorage.removeItem(ho),console.log("Session cleared after game end")},5e3);return()=>clearTimeout(j)}},[A==null?void 0:A.gameState]),T.useEffect(()=>{if(t&&i){console.log("Player listening to hostState for PIN:",i);const j=zde(i,K=>{if(console.log("Received hostState:",K),K===null){P(!0),localStorage.removeItem(ho);return}O(ee=>((ee==null?void 0:ee.gameState)!==Fe.QUESTION&&(K==null?void 0:K.gameState)===Fe.QUESTION&&(D(!1),F(null),k(""),L(null)),K))});return()=>{j()}}},[t,i]),T.useEffect(()=>{if((A==null?void 0:A.gameState)===Fe.REVEAL&&A.resultInfo){if(A.resultInfo.correctIndex!==-1&&V!==null)V===A.resultInfo.correctIndex?F("correct"):F("wrong");else if(A.resultInfo.correctText&&z){const j=A.resultInfo.correctText.toLowerCase().trim(),K=R.toLowerCase().trim();F(K===j?"correct":"wrong")}}},[A==null?void 0:A.gameState,A==null?void 0:A.resultInfo,z,V,R]);const xe=async()=>{try{const j=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}});B.current&&(B.current.srcObject=j,p(!0))}catch(j){console.error("Error accessing camera:",j),alert("Could not access camera. Please check permissions.")}},Ie=()=>{if(B.current&&U.current){const j=B.current,K=U.current;K.width=j.videoWidth,K.height=j.videoHeight;const ee=K.getContext("2d");if(ee){ee.drawImage(j,0,0);const he=K.toDataURL("image/jpeg",.8);h(he),Z()}}},Z=()=>{B.current&&B.current.srcObject&&(B.current.srcObject.getTracks().forEach(K=>K.stop()),B.current.srcObject=null,p(!1))},ue=async j=>{if(j.preventDefault(),!n||!i)return;if(!await qg(i)){alert("Game not found! Please check the PIN.");return}const ee=f||RM[l].emoji;await Ude(i,{id:_,name:n,score:0,streak:0,avatar:ee}),e(!0)},ie=async j=>{if(!i||!A||z)return;const K=A.timeLeft||0;await IM(i,_,{answerIndex:j,timeRemaining:K}),L(j),D(!0)},pe=async j=>{if(j.preventDefault(),!i||!A||z||!R.trim())return;const K=A.timeLeft||0;await IM(i,_,{answerText:R.trim(),timeRemaining:K}),D(!0)};if($)return C.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 pb-32 relative z-10 bg-gradient-to-br from-red-600 to-orange-600",children:[C.jsxs("div",{className:"bg-white rounded-3xl p-10 w-full max-w-md shadow-2xl text-center",children:[C.jsx("div",{className:"bg-red-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:C.jsx(r1,{className:"w-10 h-10 text-red-600"})}),C.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Quiz Ended"}),C.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"The host has exited the quiz. Thank you for playing!"}),C.jsx("button",{onClick:()=>{P(!1),e(!1),s(""),r(""),O(null)},className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white font-bold py-4 rounded-xl hover:from-purple-500 hover:to-blue-500 transition-all transform active:scale-95 shadow-lg",children:"Join Another Game"})]}),C.jsx(or,{})]});if(E)return C.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 pb-32 relative z-10",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:[C.jsxs("div",{className:"text-white text-center",children:[C.jsx(aw,{className:"w-12 h-12 animate-spin mx-auto mb-4"}),C.jsx("p",{className:"text-xl font-bold",children:"Restoring session..."})]}),C.jsx(or,{})]});if(!t)return C.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 pb-32 relative z-10",children:[C.jsxs("div",{className:"bg-white rounded-3xl p-10 w-full max-w-md shadow-[0_20px_60px_rgba(0,0,0,0.5)] border-2 border-white/20",children:[C.jsxs("div",{className:"text-center mb-8",children:[C.jsx("h1",{className:"text-4xl font-semibold text-[#46178f] mb-2",children:"Quiz"}),C.jsx("p",{className:"text-gray-500 font-semibold text-sm uppercase tracking-wider",children:"Enter Game Details"})]}),C.jsxs("form",{onSubmit:ue,className:"space-y-5",children:[C.jsx("input",{placeholder:"Game PIN",value:i,onChange:j=>s(j.target.value),className:"w-full p-4 bg-gray-100 text-gray-900 rounded-lg font-bold text-center text-xl border-2 border-transparent focus:border-[#46178f] focus:bg-white outline-none transition-colors placeholder:text-gray-400",type:"number",inputMode:"numeric"}),C.jsx("input",{placeholder:"Nickname",value:n,onChange:j=>r(j.target.value),className:"w-full p-4 bg-gray-100 text-gray-900 rounded-lg font-bold text-center text-xl border-2 border-transparent focus:border-[#46178f] focus:bg-white outline-none transition-colors placeholder:text-gray-400"}),C.jsxs("div",{children:[C.jsx("p",{className:"text-gray-700 font-bold text-sm mb-3 text-center uppercase tracking-wider",children:"Choose Your Character"}),f?C.jsxs("div",{className:"mb-3 flex items-center gap-3 bg-gray-100 p-3 rounded-xl",children:[C.jsx("img",{src:f,alt:"Your photo",className:"w-16 h-16 rounded-full object-cover border-4 border-[#46178f]"}),C.jsxs("div",{className:"flex-1",children:[C.jsx("p",{className:"text-sm font-bold text-gray-700",children:"Your Photo"}),C.jsx("button",{type:"button",onClick:()=>h(null),className:"text-xs text-red-500 font-semibold hover:underline",children:"Remove"})]})]}):m?C.jsxs("div",{className:"mb-3 bg-black rounded-xl overflow-hidden relative",children:[C.jsx("video",{ref:B,autoPlay:!0,playsInline:!0,className:"w-full"}),C.jsx("canvas",{ref:U,className:"hidden"}),C.jsxs("div",{className:"absolute bottom-3 left-0 right-0 flex justify-center gap-3",children:[C.jsx("button",{type:"button",onClick:Ie,className:"bg-white text-[#46178f] px-6 py-2 rounded-full font-bold shadow-lg hover:scale-105 transition-transform",children:"Capture"}),C.jsx("button",{type:"button",onClick:Z,className:"bg-red-500 text-white px-6 py-2 rounded-full font-bold shadow-lg hover:scale-105 transition-transform",children:"Cancel"})]})]}):C.jsxs("button",{type:"button",onClick:xe,className:"w-full mb-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white p-4 rounded-xl font-bold flex items-center justify-center gap-2 hover:from-blue-600 hover:to-purple-600 transition-all",children:[C.jsx(TX,{className:"w-5 h-5"})," Take Your Photo"]}),C.jsx("div",{className:"grid grid-cols-4 gap-2 max-h-48 overflow-y-auto p-1",children:RM.map((j,K)=>{const ee=!f&&l===K;return C.jsxs("button",{type:"button",onClick:()=>{h(null),c(K)},className:`${j.color} p-3 rounded-2xl flex flex-col items-center justify-center transition-all transform hover:scale-105 shadow-lg relative ${ee?"ring-4 ring-[#46178f] scale-105 shadow-2xl":"opacity-70 hover:opacity-100"}`,children:[C.jsx("span",{className:"text-4xl mb-1",children:j.emoji}),ee&&C.jsx("div",{className:"absolute -top-1 -right-1 bg-[#46178f] rounded-full w-6 h-6 flex items-center justify-center",children:C.jsx(n1,{className:"w-4 h-4 text-white",strokeWidth:3})})]},K)})})]}),C.jsx("button",{disabled:!n||!i,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white font-black py-5 rounded-xl hover:from-purple-500 hover:to-blue-500 transition-all transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg text-lg",children:"Enter Game"})]})]}),C.jsx(or,{})]});if(T.useEffect(()=>{if(t&&!A&&i){const j=setTimeout(async()=>{await qg(i)||(console.log("Game no longer exists, returning to join screen"),localStorage.removeItem(ho),e(!1),s(""),r(""),O(null))},2e3);return()=>clearTimeout(j)}},[t,A,i]),(A==null?void 0:A.gameState)===Fe.LOBBY||t&&!A)return console.log("Showing lobby screen. hostState:",A),C.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"32px 32px 80px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",textAlign:"center"},children:[C.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",padding:"32px",borderRadius:"24px",marginBottom:"32px",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[C.jsx("h1",{style:{fontSize:"36px",fontWeight:"900",marginBottom:"8px"},children:"You're in!"}),C.jsx("p",{style:{fontSize:"20px",fontWeight:"700",opacity:.8},children:"See your name on screen?"})]}),C.jsx("div",{style:{animation:"spin 1s linear infinite",color:"rgba(255,255,255,0.5)"},children:C.jsx(aw,{style:{width:"48px",height:"48px"}})}),C.jsx(or,{})]});if((A==null?void 0:A.gameState)===Fe.LEADERBOARD||(A==null?void 0:A.gameState)===Fe.MENU)return C.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-8 pb-20 text-white text-center",children:[C.jsx("div",{className:"bg-[#46178f] p-6 rounded-full shadow-lg mb-6 animate-bounce",children:C.jsx(Xh,{className:"w-12 h-12 text-yellow-300"})}),C.jsx("h1",{className:"text-3xl font-black mb-2",children:"Scoreboard"}),C.jsx("p",{className:"opacity-80 font-medium",children:"Check the host screen..."}),C.jsx(or,{})]});if((A==null?void 0:A.gameState)===Fe.FINISH){const K=[...A.players||[]].sort((rt,ae)=>ae.score-rt.score),ee=K.findIndex(rt=>rt.id===_)+1,he=((me=K.find(rt=>rt.id===_))==null?void 0:me.score)||0;let _e="bg-[#46178f]",Te="Great Game!",Re=Xh;return ee===1?(_e="bg-yellow-500",Te="WINNER!",Re=Xh):ee===2?(_e="bg-gray-400",Te="2nd Place!",Re=Av):ee===3?(_e="bg-orange-600",Te="3rd Place!",Re=Av):(Te=`You placed ${ee}th`,Re=qQ),C.jsxs("div",{className:`min-h-screen ${_e} flex flex-col items-center justify-center p-8 pb-20 text-white text-center animate-in zoom-in duration-500 z-50 fixed inset-0`,children:[C.jsx("div",{className:"bg-black/20 p-8 rounded-full mb-6 shadow-xl",children:C.jsx(Re,{className:"w-24 h-24"})}),C.jsx("h1",{className:"text-6xl font-black mb-4 drop-shadow-md",children:Te}),C.jsxs("div",{className:"bg-black/20 px-10 py-6 rounded-2xl backdrop-blur-sm border border-white/10",children:[C.jsx("p",{className:"text-xl font-bold opacity-80 mb-1 uppercase tracking-wider",children:"Final Score"}),C.jsx("p",{className:"text-5xl font-black",children:he})]}),C.jsx(or,{})]})}if((A==null?void 0:A.gameState)===Fe.REVEAL){const j=H==="correct";return C.jsxs("div",{className:`min-h-screen flex flex-col items-center justify-center p-8 pb-20 text-white text-center fixed inset-0 z-50 ${j?"bg-green-600":"bg-red-600"} animate-in fade-in`,children:[C.jsx("div",{className:"bg-white/20 p-10 rounded-full mb-8 shadow-2xl animate-in zoom-in delay-200 duration-500",children:j?C.jsx(n1,{className:"w-20 h-20"}):C.jsx(r1,{className:"w-20 h-20"})}),C.jsx("h1",{className:"text-5xl font-black mb-4 drop-shadow-md",children:j?"Correct!":"Incorrect"}),C.jsx("div",{className:"bg-black/20 px-8 py-3 rounded-full font-bold text-xl inline-block",children:j?"+ Points":"Stay focused!"}),C.jsx(or,{})]})}if((A==null?void 0:A.gameState)===Fe.QUESTION){const j=A.timeLeft||0,K=j<=5;if(z)return C.jsxs("div",{className:"min-h-screen bg-[#46178f] flex flex-col items-center justify-center p-8 pb-20 text-white text-center",children:[C.jsx("div",{className:"mb-8",children:C.jsx("div",{className:`w-24 h-24 rounded-full border-4 ${K?"border-red-500 bg-red-500 animate-pulse":"border-white bg-white/20"} flex items-center justify-center shadow-xl transition-all mx-auto`,children:C.jsx("span",{className:"text-4xl font-black text-white",children:j})})}),C.jsxs("div",{className:"bg-white/10 backdrop-blur-md p-12 rounded-3xl border border-white/20 shadow-2xl animate-in zoom-in",children:[C.jsx("h1",{className:"text-4xl font-black mb-4",children:"Answer Sent!"}),C.jsx("div",{className:"animate-pulse opacity-70 font-bold",children:"Waiting for results..."})]}),C.jsx(or,{})]});const ee=A.currentQuestion;if((ee==null?void 0:ee.type)==="SHORT_ANSWER"||(ee==null?void 0:ee.type)==="FILL_IN_THE_BLANK")return C.jsxs("div",{className:"min-h-screen bg-white p-6 pb-20 flex flex-col items-center justify-center fixed inset-0 z-50",children:[C.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2",children:C.jsx("div",{className:`w-20 h-20 rounded-full border-4 ${K?"border-red-500 bg-red-500 animate-pulse":"border-[#46178f] bg-[#46178f]"} flex items-center justify-center shadow-xl transition-all`,children:C.jsx("span",{className:"text-3xl font-black text-white",children:j})})}),C.jsxs("div",{className:"w-full max-w-md",children:[C.jsx("h2",{className:"text-[#46178f] font-black text-2xl mb-8 text-center uppercase tracking-wide",children:(ee==null?void 0:ee.type)==="FILL_IN_THE_BLANK"?"Fill in the blank":"Type your answer"}),C.jsxs("form",{onSubmit:pe,className:"space-y-6",children:[C.jsx("input",{value:R,onChange:Te=>k(Te.target.value),placeholder:"Type here...",className:"w-full border-b-4 border-gray-200 text-4xl font-black text-center py-4 focus:outline-none focus:border-[#46178f] text-gray-800 transition-colors placeholder:text-gray-300",autoFocus:!0}),C.jsxs("button",{className:"w-full bg-[#46178f] text-white py-6 rounded-2xl font-black text-2xl shadow-xl active:scale-95 transition-all flex items-center justify-center gap-3 hover:bg-[#35126f]",children:["Submit Answer ",C.jsx(hX,{className:"w-6 h-6"})]})]})]}),C.jsx(or,{})]});const _e=(ee==null?void 0:ee.type)==="TRUE_FALSE";return C.jsxs("div",{className:"min-h-screen bg-gray-100 p-4 pb-20 flex flex-col relative z-50",children:[C.jsx("div",{className:"flex justify-center mb-4",children:C.jsx("div",{className:`w-20 h-20 rounded-full border-4 ${K?"border-red-500 bg-red-500 animate-pulse":"border-[#46178f] bg-[#46178f]"} flex items-center justify-center shadow-xl transition-all`,children:C.jsx("span",{className:"text-3xl font-black text-white",children:j})})}),C.jsx("div",{className:"flex-1 grid grid-cols-2 gap-4 relative z-50",children:Gde.slice(0,_e?2:4).map((Te,Re)=>{const rt=Te.icon;return C.jsxs("button",{onClick:()=>{console.log("Button clicked:",Re),ie(Re)},className:`${Te.color} ${Te.shadow} rounded-xl flex flex-col items-center justify-center shadow-[0_8px_0_rgba(0,0,0,0.2)] active:shadow-none active:translate-y-[8px] transition-all cursor-pointer touch-manipulation`,children:[C.jsx("div",{className:"bg-black/20 p-4 rounded-xl mb-4",children:C.jsx(rt,{className:"w-12 h-12 md:w-20 md:h-20 text-white fill-current"})}),_e&&C.jsx("span",{className:"text-white font-black text-3xl uppercase tracking-wider text-shadow",children:Re===0?"True":"False"})]},Re)})}),C.jsx(or,{})]})}return console.log("Fallback render. hostState:",A,"joined:",t),C.jsxs("div",{className:"min-h-screen bg-[#46178f] flex flex-col items-center justify-center text-white p-8 pb-20",children:[C.jsx(aw,{className:"w-10 h-10 animate-spin mb-4"}),C.jsxs("p",{className:"text-sm opacity-70",children:["State: ",(A==null?void 0:A.gameState)||"null"]}),C.jsxs("p",{className:"text-xs opacity-50 mt-2",children:["Joined: ",t?"Yes":"No"]}),C.jsx(or,{})]})},Wde=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[i,s]=T.useState(""),[l,c]=T.useState(!1),{login:f}=Jd(),h=kd(),m=async p=>{p.preventDefault(),s(""),c(!0);try{await f(t,n),h("/host")}catch(_){s(_.message||"Failed to login")}finally{c(!1)}};return C.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"20px"},children:C.jsxs("div",{style:{background:"white",borderRadius:"20px",padding:"40px",maxWidth:"400px",width:"100%",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[C.jsx("h1",{style:{fontSize:"32px",fontWeight:"bold",marginBottom:"10px",textAlign:"center",color:"#333"},children:"Host Login"}),C.jsx("p",{style:{textAlign:"center",color:"#666",marginBottom:"30px"},children:"Sign in to manage your quizzes"}),C.jsxs("form",{onSubmit:m,children:[C.jsxs("div",{style:{marginBottom:"20px"},children:[C.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#333"},children:"Email"}),C.jsx("input",{type:"email",value:t,onChange:p=>e(p.target.value),required:!0,style:{width:"100%",padding:"12px",border:"2px solid #e0e0e0",borderRadius:"10px",fontSize:"16px",transition:"border-color 0.3s",outline:"none",color:"#333",backgroundColor:"#fff"},onFocus:p=>p.target.style.borderColor="#667eea",onBlur:p=>p.target.style.borderColor="#e0e0e0"})]}),C.jsxs("div",{style:{marginBottom:"20px"},children:[C.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#333"},children:"Password"}),C.jsx("input",{type:"password",value:n,onChange:p=>r(p.target.value),required:!0,style:{width:"100%",padding:"12px",border:"2px solid #e0e0e0",borderRadius:"10px",fontSize:"16px",transition:"border-color 0.3s",outline:"none",color:"#333",backgroundColor:"#fff"},onFocus:p=>p.target.style.borderColor="#667eea",onBlur:p=>p.target.style.borderColor="#e0e0e0"})]}),i&&C.jsx("div",{style:{padding:"12px",background:"#fee",border:"1px solid #fcc",borderRadius:"8px",color:"#c33",marginBottom:"20px",fontSize:"14px"},children:i}),C.jsx("button",{type:"submit",disabled:l,style:{width:"100%",padding:"14px",background:l?"#ccc":"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"10px",fontSize:"18px",fontWeight:"bold",cursor:l?"not-allowed":"pointer",transition:"transform 0.2s"},onMouseEnter:p=>!l&&(p.currentTarget.style.transform="scale(1.02)"),onMouseLeave:p=>p.currentTarget.style.transform="scale(1)",children:l?"Signing in...":"Sign In"})]}),C.jsx("div",{style:{marginTop:"20px",textAlign:"center",color:"#666",fontSize:"14px"},children:C.jsx("button",{onClick:()=>h("/"),style:{background:"none",border:"none",color:"#667eea",cursor:"pointer",textDecoration:"underline",fontSize:"14px"},children:"Back to Home"})})]})})},Yde=({children:t})=>{const{user:e,loading:n}=Jd();return n?C.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:C.jsx("div",{style:{color:"white",fontSize:"24px"},children:"Loading..."})}):e?t:C.jsx(zM,{to:"/login",replace:!0})},Qde=()=>C.jsxs(s8,{children:[C.jsx(ac,{path:"/",element:C.jsx(CX,{})}),C.jsx(ac,{path:"/login",element:C.jsx(Wde,{})}),C.jsx(ac,{path:"/host",element:C.jsx(Yde,{children:C.jsx($de,{})})}),C.jsx(ac,{path:"/join",element:C.jsx(Kde,{})}),C.jsx(ac,{path:"*",element:C.jsx(zM,{to:"/",replace:!0})})]}),Xde=()=>C.jsx(R8,{basename:"/quiz",children:C.jsx(pQ,{children:C.jsx(Qde,{})})}),TU=document.getElementById("root");if(!TU)throw new Error("Could not find root element to mount to");const Zde=m9.createRoot(TU);Zde.render(C.jsx(Vl.StrictMode,{children:C.jsx(Xde,{})}));
